webpackJsonp([0],{113:function(t,e,r){"use strict";var n=function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(r(234)),o="function"==typeof Promise?Promise:n;t.exports=o},114:function(t,e,r){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function o(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer||"undefined"!=typeof Blob&&t instanceof Blob}function u(t){if("function"==typeof t.slice)return t.slice(0);var e=new ArrayBuffer(t.byteLength),r=new Uint8Array(e),n=new Uint8Array(t);return r.set(n),e}function c(t){if(t instanceof ArrayBuffer)return u(t);var e=t.size,r=t.type;return"function"==typeof t.slice?t.slice(0,e,r):t.webkitSlice(0,e,r)}function i(t){var e=Object.getPrototypeOf(t);if(null===e)return!0;var r=e.constructor;return"function"==typeof r&&r instanceof r&&K.call(r)==X}function a(t){var e,r,n;if(!t||"object"!=typeof t)return t;if(Array.isArray(t)){for(e=[],r=0,n=t.length;r<n;r++)e[r]=a(t[r]);return e}if(t instanceof Date)return t.toISOString();if(o(t))return c(t);if(!i(t))return t;e={};for(r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var u=a(t[r]);void 0!==u&&(e[r]=u)}return e}function s(t){var e=!1;return V(function(r){if(e)throw new Error("once called more than once");e=!0,t.apply(this,r)})}function f(t){return V(function(e){e=a(e);var r=this,n="function"==typeof e[e.length-1]&&e.pop(),o=new U(function(n,o){var u;try{var c=s(function(t,e){t?o(t):n(e)});e.push(c),u=t.apply(r,e),u&&"function"==typeof u.then&&n(u)}catch(t){o(t)}});return n&&o.then(function(t){n(null,t)},n),o})}function l(t,e,r){if(t.constructor.listeners("debug").length){for(var n=["api",t.name,e],o=0;o<r.length-1;o++)n.push(r[o]);t.constructor.emit("debug",n);var u=r[r.length-1];r[r.length-1]=function(r,n){var o=["api",t.name,e];o=o.concat(r?["error",r]:["success",n]),t.constructor.emit("debug",o),u(r,n)}}}function _(t,e){return f(V(function(r){if(this._closed)return U.reject(new Error("database is closed"));if(this._destroyed)return U.reject(new Error("database is destroyed"));var n=this;return l(n,t,r),this.taskqueue.isReady?e.apply(this,r):new U(function(e,o){n.taskqueue.addTask(function(u){u?o(u):e(n[t].apply(n,r))})})}))}function d(t,e){for(var r={},n=0,o=e.length;n<o;n++){var u=e[n];u in t&&(r[u]=t[u])}return r}function p(t){return t}function h(t){return[{ok:t}]}function v(t,e,r){function n(){var t=[];_.forEach(function(e){e.docs.forEach(function(r){t.push({id:e.id,docs:[r]})})}),r(null,{results:t})}function o(){++l===f&&n()}function u(t,e,r){_[t]={id:e,docs:r},o()}function c(){if(!(g>=v.length)){var t=Math.min(g+Q,v.length),e=v.slice(g,t);i(e,g),g+=e.length}}function i(r,n){r.forEach(function(r,o){var i=n+o,a=s.get(r),f=d(a[0],["atts_since","attachments"]);f.open_revs=a.map(function(t){return t.rev}),f.open_revs=f.open_revs.filter(p);var l=p;0===f.open_revs.length&&(delete f.open_revs,l=h),["revs","attachments","binary","ajax","latest"].forEach(function(t){t in e&&(f[t]=e[t])}),t.get(r,f,function(t,e){var n;n=t?[{error:t}]:l(e),u(i,r,n),c()})})}var a=e.docs,s=new J.Map;a.forEach(function(t){s.has(t.id)?s.get(t.id).push(t):s.set(t.id,[t])});var f=s.size,l=0,_=new Array(f),v=[];s.forEach(function(t,e){v.push(e)});var g=0;c()}function g(){return"undefined"!=typeof chrome&&void 0!==chrome.storage&&void 0!==chrome.storage.local}function m(){return $}function y(t){g()?chrome.storage.onChanged.addListener(function(e){null!=e.db_name&&t.emit(e.dbName.newValue)}):m()&&("undefined"!=typeof addEventListener?addEventListener("storage",function(e){t.emit(e.key)}):window.attachEvent("storage",function(e){t.emit(e.key)}))}function b(){H.EventEmitter.call(this),this._listeners={},y(this)}function w(t){if("undefined"!==console&&t in console){var e=Array.prototype.slice.call(arguments,1);console[t].apply(console,e)}}function T(t,e){return t=parseInt(t,10)||0,e=parseInt(e,10),e!==e||e<=t?e=(t||1)<<1:e+=1,e>6e5&&(t=3e5,e=6e5),~~((e-t)*Math.random()+t)}function k(t){var e=0;return t||(e=2e3),T(t,e)}function S(t,e){w("info","The above "+t+" is totally normal. "+e)}function E(t,e,r){try{return!t(e,r)}catch(t){var n="Filter function threw: "+t.toString();return G.createError(G.BAD_REQUEST,n)}}function x(t){var e={},r=t.filter&&"function"==typeof t.filter;return e.query=t.query_params,function(n){n.doc||(n.doc={});var o=r&&E(t.filter,n.doc,e);if("object"==typeof o)return o;if(o)return!1;if(t.include_docs){if(!t.attachments)for(var u in n.doc._attachments)n.doc._attachments.hasOwnProperty(u)&&(n.doc._attachments[u].stub=!0)}else delete n.doc;return!0}}function A(t){for(var e=[],r=0,n=t.length;r<n;r++)e=e.concat(t[r]);return e}function O(){}function q(t){var e;if(t?"string"!=typeof t?e=G.createError(G.INVALID_ID):/^_/.test(t)&&!/^_(design|local)/.test(t)&&(e=G.createError(G.RESERVED_ID)):e=G.createError(G.MISSING_ID),e)throw e}function I(){return"undefined"!=typeof cordova||"undefined"!=typeof PhoneGap||"undefined"!=typeof phonegap}function N(t){return"boolean"==typeof t._remote?t._remote:"function"==typeof t.type&&(w("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===t.type())}function C(t,e){return"listenerCount"in t?t.listenerCount(e):H.EventEmitter.listenerCount(t,e)}function j(t){if(!t)return null;var e=t.split("/");return 2===e.length?e:1===e.length?[t,t]:null}function M(t){var e=j(t);return e?e.join("/"):null}function D(t){for(var e=ct.exec(t),r={},n=14;n--;){var o=nt[n],u=e[n]||"",c=-1!==["user","password"].indexOf(o);r[o]=c?decodeURIComponent(u):u}return r[ot]={},r[nt[12]].replace(ut,function(t,e,n){e&&(r[ot][e]=n)}),r}function B(t,e){var r=[],n=[];for(var o in e)e.hasOwnProperty(o)&&(r.push(o),n.push(e[o]));return r.push(t),Function.apply(null,r).apply(null,n)}function R(t,e,r){return new U(function(n,o){t.get(e,function(u,c){if(u){if(404!==u.status)return o(u);c={}}var i=c._rev,a=r(c);if(!a)return n({updated:!1,rev:i});a._id=e,a._rev=i,n(P(t,a,r))})})}function P(t,e,r){return t.put(e).then(function(t){return{updated:!0,rev:t.rev}},function(n){if(409!==n.status)throw n;return R(t,e._id,r)})}function L(t){return 0|Math.random()*t}function F(t,e){e=e||it.length;var r="",n=-1;if(t){for(;++n<t;)r+=it[L(e)];return r}for(;++n<36;)switch(n){case 8:case 13:case 18:case 23:r+="-";break;case 19:r+=it[3&L(16)|8];break;default:r+=it[L(16)]}return r}Object.defineProperty(e,"__esModule",{value:!0});var $,U=n(r(113)),V=n(r(131)),J=r(165),H=r(86),z=n(r(5)),W=n(r(163)),G=r(570),K=Function.prototype.toString,X=K.call(Object),Q=6;if(g())$=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),$=!!localStorage.getItem("_pouch_check_localstorage")}catch(t){$=!1}z(b,H.EventEmitter),b.prototype.addListener=function(t,e,r,n){function o(){function t(){c=!1}if(u._listeners[e]){if(c)return void(c="waiting");c=!0;var i=d(n,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);r.changes(i).on("change",function(t){t.seq>n.since&&!n.cancelled&&(n.since=t.seq,n.onChange(t))}).on("complete",function(){"waiting"===c&&W(o),c=!1}).on("error",t)}}if(!this._listeners[e]){var u=this,c=!1;this._listeners[e]=o,this.on(t,o)}},b.prototype.removeListener=function(t,e){e in this._listeners&&(H.EventEmitter.prototype.removeListener.call(this,t,this._listeners[e]),delete this._listeners[e])},b.prototype.notifyLocalWindows=function(t){g()?chrome.storage.local.set({dbName:t}):m()&&(localStorage[t]="a"===localStorage[t]?"b":"a")},b.prototype.notify=function(t){this.emit(t),this.notifyLocalWindows(t)};var Y;Y="function"==typeof Object.assign?Object.assign:function(t){for(var e=Object(t),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var Z,tt=Y,et=O.name;Z=et?function(t){return t.name}:function(t){return t.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]};var rt=Z,nt=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],ot="queryKey",ut=/(?:^|&)([^&=]*)=?([^&]*)/g,ct=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,it="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");e.adapterFun=_,e.bulkGetShim=v,e.changesHandler=b,e.clone=a,e.defaultBackOff=k,e.explainError=S,e.assign=tt,e.filterChange=x,e.flatten=A,e.functionName=rt,e.guardedConsole=w,e.hasLocalStorage=m,e.invalidIdError=q,e.isChromeApp=g,e.isCordova=I,e.isRemote=N,e.listenerCount=C,e.nextTick=W,e.normalizeDdocFunctionName=M,e.once=s,e.parseDdocFunctionName=j,e.parseUri=D,e.pick=d,e.scopeEval=B,e.toPromise=f,e.upsert=R,e.uuid=F},131:function(t,e,r){"use strict";function n(t){return function(){var e=arguments.length;if(e){for(var r=[],n=-1;++n<e;)r[n]=arguments[n];return t.call(this,r)}return t.call(this,[])}}t.exports=n},163:function(t,e,r){"use strict";(function(e){function r(){f=!0;for(var t,e,r=l.length;r;){for(e=l,l=[],t=-1;++t<r;)e[t]();r=l.length}f=!1}function n(t){1!==l.push(t)||f||o()}var o,u=e.MutationObserver||e.WebKitMutationObserver;if(u){var c=0,i=new u(r),a=e.document.createTextNode("");i.observe(a,{characterData:!0}),o=function(){a.data=c=++c%2}}else if(e.setImmediate||void 0===e.MessageChannel)o="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){r(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(r,0)};else{var s=new e.MessageChannel;s.port1.onmessage=r,o=function(){s.port2.postMessage(0)}}var f,l=[];t.exports=n}).call(e,r(31))},164:function(t,e,r){"use strict";function n(t,e,r){for(var n="",o=r-t.length;n.length<o;)n+=e;return n}function o(t,e,r){return n(t,e,r)+t}function u(t,e){if(t===e)return 0;t=c(t),e=c(e);var r=h(t),n=h(e);if(r-n!=0)return r-n;switch(typeof t){case"number":return t-e;case"boolean":return t<e?-1:1;case"string":return d(t,e)}return Array.isArray(t)?_(t,e):p(t,e)}function c(t){switch(typeof t){case"undefined":return null;case"number":return t===1/0||t===-1/0||isNaN(t)?null:t;case"object":var e=t;if(Array.isArray(t)){var r=t.length;t=new Array(r);for(var n=0;n<r;n++)t[n]=c(e[n])}else{if(t instanceof Date)return t.toJSON();if(null!==t){t={};for(var o in e)if(e.hasOwnProperty(o)){var u=e[o];void 0!==u&&(t[o]=c(u))}}}}return t}function i(t){if(null!==t)switch(typeof t){case"boolean":return t?1:0;case"number":return v(t);case"string":return t.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var e=Array.isArray(t),r=e?t:Object.keys(t),n=-1,o=r.length,u="";if(e)for(;++n<o;)u+=a(r[n]);else for(;++n<o;){var c=r[n];u+=a(c)+a(t[c])}return u}return""}function a(t){return t=c(t),h(t)+y+i(t)+"\0"}function s(t,e){var r,n=e;if("1"===t[e])r=0,e++;else{var o="0"===t[e];e++;var u="",c=t.substring(e,e+m),i=parseInt(c,10)+g;for(o&&(i=-i),e+=m;;){var a=t[e];if("\0"===a)break;u+=a,e++}u=u.split("."),r=1===u.length?parseInt(u,10):parseFloat(u[0]+"."+u[1]),o&&(r-=10),0!==i&&(r=parseFloat(r+"e"+i))}return{num:r,length:e-n}}function f(t,e){var r=t.pop();if(e.length){var n=e[e.length-1];r===n.element&&(e.pop(),n=e[e.length-1]);var o=n.element,u=n.index;if(Array.isArray(o))o.push(r);else if(u===t.length-2){var c=t.pop();o[c]=r}else t.push(r)}}function l(t){for(var e=[],r=[],n=0;;){var o=t[n++];if("\0"!==o)switch(o){case"1":e.push(null);break;case"2":e.push("1"===t[n]),n++;break;case"3":var u=s(t,n);e.push(u.num),n+=u.length;break;case"4":for(var c="";;){var i=t[n];if("\0"===i)break;c+=i,n++}c=c.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),e.push(c);break;case"5":var a={element:[],index:e.length};e.push(a.element),r.push(a);break;case"6":var l={element:{},index:e.length};e.push(l.element),r.push(l);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+o)}else{if(1===e.length)return e.pop();f(e,r)}}}function _(t,e){for(var r=Math.min(t.length,e.length),n=0;n<r;n++){var o=u(t[n],e[n]);if(0!==o)return o}return t.length===e.length?0:t.length>e.length?1:-1}function d(t,e){return t===e?0:t>e?1:-1}function p(t,e){for(var r=Object.keys(t),n=Object.keys(e),o=Math.min(r.length,n.length),c=0;c<o;c++){var i=u(r[c],n[c]);if(0!==i)return i;if(0!==(i=u(t[r[c]],e[n[c]])))return i}return r.length===n.length?0:r.length>n.length?1:-1}function h(t){var e=["boolean","number","string","object"],r=e.indexOf(typeof t);return~r?null===t?1:Array.isArray(t)?5:r<3?r+2:r+3:Array.isArray(t)?5:void 0}function v(t){if(0===t)return"1";var e=t.toExponential().split(/e\+?/),r=parseInt(e[1],10),n=t<0,u=n?"0":"2",c=(n?-r:r)-g,i=o(c.toString(),"0",m);u+=y+i;var a=Math.abs(parseFloat(e[0]));n&&(a=10-a);var s=a.toFixed(20);return s=s.replace(/\.?0+$/,""),u+=y+s}Object.defineProperty(e,"__esModule",{value:!0});var g=-324,m=3,y="";e.collate=u,e.normalizeKey=c,e.toIndexableString=a,e.parseIndexableString=l},165:function(t,e,r){"use strict";function n(t){return"$"+t}function o(t){return t.substring(1)}function u(){this._store={}}function c(t){if(this._store=new u,t&&Array.isArray(t))for(var e=0,r=t.length;e<r;e++)this.add(t[e])}Object.defineProperty(e,"__esModule",{value:!0}),u.prototype.get=function(t){var e=n(t);return this._store[e]},u.prototype.set=function(t,e){var r=n(t);return this._store[r]=e,!0},u.prototype.has=function(t){return n(t)in this._store},u.prototype.delete=function(t){var e=n(t),r=e in this._store;return delete this._store[e],r},u.prototype.forEach=function(t){for(var e=Object.keys(this._store),r=0,n=e.length;r<n;r++){var u=e[r],c=this._store[u];u=o(u),t(c,u)}},Object.defineProperty(u.prototype,"size",{get:function(){return Object.keys(this._store).length}}),c.prototype.add=function(t){return this._store.set(t,!0)},c.prototype.has=function(t){return this._store.has(t)},c.prototype.forEach=function(t){this._store.forEach(function(e,r){t(r)})},Object.defineProperty(c.prototype,"size",{get:function(){return this._store.size}}),!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var t=Object.getOwnPropertyDescriptor(Map,Symbol.species);return t&&"get"in t&&Map[Symbol.species]===Map}()?(e.Set=c,e.Map=u):(e.Set=Set,e.Map=Map)},234:function(t,e,r){"use strict";function n(){}function o(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,t!==n&&a(this,t)}function u(t,e,r){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function c(t,e,r){p(function(){var n;try{n=e(r)}catch(e){return h.reject(t,e)}n===t?h.reject(t,new TypeError("Cannot resolve promise with itself")):h.resolve(t,n)})}function i(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function a(t,e){function r(e){u||(u=!0,h.reject(t,e))}function n(e){u||(u=!0,h.resolve(t,e))}function o(){e(n,r)}var u=!1,c=s(o);"error"===c.status&&r(c.value)}function s(t,e){var r={};try{r.value=t(e),r.status="success"}catch(t){r.status="error",r.value=t}return r}function f(t){return t instanceof this?t:h.resolve(new this(n),t)}function l(t){var e=new this(n);return h.reject(e,t)}function _(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,o=!1;if(!r)return this.resolve([]);for(var u=new Array(r),c=0,i=-1,a=new this(n);++i<r;)!function(t,n){function i(t){u[n]=t,++c!==r||o||(o=!0,h.resolve(a,u))}e.resolve(t).then(i,function(t){o||(o=!0,h.reject(a,t))})}(t[i],i);return a}function d(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,o=!1;if(!r)return this.resolve([]);for(var u=-1,c=new this(n);++u<r;)!function(t){e.resolve(t).then(function(t){o||(o=!0,h.resolve(c,t))},function(t){o||(o=!0,h.reject(c,t))})}(t[u]);return c}var p=r(163),h={},v=["REJECTED"],g=["FULFILLED"],m=["PENDING"];t.exports=o,o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){if("function"!=typeof t&&this.state===g||"function"!=typeof e&&this.state===v)return this;var r=new this.constructor(n);if(this.state!==m){c(r,this.state===g?t:e,this.outcome)}else this.queue.push(new u(r,t,e));return r},u.prototype.callFulfilled=function(t){h.resolve(this.promise,t)},u.prototype.otherCallFulfilled=function(t){c(this.promise,this.onFulfilled,t)},u.prototype.callRejected=function(t){h.reject(this.promise,t)},u.prototype.otherCallRejected=function(t){c(this.promise,this.onRejected,t)},h.resolve=function(t,e){var r=s(i,e);if("error"===r.status)return h.reject(t,r.value);var n=r.value;if(n)a(t,n);else{t.state=g,t.outcome=e;for(var o=-1,u=t.queue.length;++o<u;)t.queue[o].callFulfilled(e)}return t},h.reject=function(t,e){t.state=v,t.outcome=e;for(var r=-1,n=t.queue.length;++r<n;)t.queue[r].callRejected(e);return t},o.resolve=f,o.reject=l,o.all=_,o.race=d},238:function(t,e,r){"use strict";function n(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(u){if("TypeError"!==u.name)throw u;for(var r="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,n=new r,o=0;o<t.length;o+=1)n.append(t[o]);return n.getBlob(e.type)}}function o(t){for(var e=t.length,r=new ArrayBuffer(e),n=new Uint8Array(r),o=0;o<e;o++)n[o]=t.charCodeAt(o);return r}function u(t,e){return n([o(t)],{type:e})}function c(t,e){return u(d(t),e)}function i(t){for(var e="",r=new Uint8Array(t),n=r.byteLength,o=0;o<n;o++)e+=String.fromCharCode(r[o]);return e}function a(t,e){if("undefined"==typeof FileReader)return e(i((new FileReaderSync).readAsArrayBuffer(t)));var r=new FileReader,n="function"==typeof r.readAsBinaryString;r.onloadend=function(t){var r=t.target.result||"";if(n)return e(r);e(i(r))},n?r.readAsBinaryString(t):r.readAsArrayBuffer(t)}function s(t,e){a(t,function(t){e(t)})}function f(t,e){s(t,function(t){e(p(t))})}function l(t,e){if("undefined"==typeof FileReader)return e((new FileReaderSync).readAsArrayBuffer(t));var r=new FileReader;r.onloadend=function(t){var r=t.target.result||new ArrayBuffer(0);e(r)},r.readAsArrayBuffer(t)}function _(){}Object.defineProperty(e,"__esModule",{value:!0});var d=function(t){return atob(t)},p=function(t){return btoa(t)};e.atob=d,e.btoa=p,e.base64StringToBlobOrBuffer=c,e.binaryStringToArrayBuffer=o,e.binaryStringToBlobOrBuffer=u,e.blob=n,e.blobOrBufferToBase64=f,e.blobOrBufferToBinaryString=s,e.readAsArrayBuffer=l,e.readAsBinaryString=a,e.typedBuffer=_},239:function(t,e,r){"use strict";(function(t){function n(t){return s.btoa(t)}function o(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.slice(e,r)}function u(t,e,r,n,u){(r>0||n<e.size)&&(e=o(e,r,n)),s.readAsArrayBuffer(e,function(e){t.append(e),u()})}function c(t,e,r,n,o){(r>0||n<e.length)&&(e=e.substring(r,n)),t.appendBinary(e),o()}function i(t,e){function r(){l(i)}function o(){var t=v.end(!0),r=n(t);e(r),v.destroy()}function i(){var e=h*d,n=e+d;h++,h<p?g(v,t,e,n,r):g(v,t,e,n,o)}var a="string"==typeof t,s=a?t.length:t.size,d=Math.min(_,s),p=Math.ceil(s/d),h=0,v=a?new f:new f.ArrayBuffer,g=a?c:u;i()}function a(t){return f.hash(t)}Object.defineProperty(e,"__esModule",{value:!0});var s=r(238),f=function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(r(305)),l=t.setImmediate||t.setTimeout,_=32768;e.binaryMd5=i,e.stringMd5=a}).call(e,r(31))},305:function(t,e,r){!function(e){t.exports=e()}(function(t){"use strict";function e(t,e){var r=t[0],n=t[1],o=t[2],u=t[3];r+=(n&o|~n&u)+e[0]-680876936|0,r=(r<<7|r>>>25)+n|0,u+=(r&n|~r&o)+e[1]-389564586|0,u=(u<<12|u>>>20)+r|0,o+=(u&r|~u&n)+e[2]+606105819|0,o=(o<<17|o>>>15)+u|0,n+=(o&u|~o&r)+e[3]-1044525330|0,n=(n<<22|n>>>10)+o|0,r+=(n&o|~n&u)+e[4]-176418897|0,r=(r<<7|r>>>25)+n|0,u+=(r&n|~r&o)+e[5]+1200080426|0,u=(u<<12|u>>>20)+r|0,o+=(u&r|~u&n)+e[6]-1473231341|0,o=(o<<17|o>>>15)+u|0,n+=(o&u|~o&r)+e[7]-45705983|0,n=(n<<22|n>>>10)+o|0,r+=(n&o|~n&u)+e[8]+1770035416|0,r=(r<<7|r>>>25)+n|0,u+=(r&n|~r&o)+e[9]-1958414417|0,u=(u<<12|u>>>20)+r|0,o+=(u&r|~u&n)+e[10]-42063|0,o=(o<<17|o>>>15)+u|0,n+=(o&u|~o&r)+e[11]-1990404162|0,n=(n<<22|n>>>10)+o|0,r+=(n&o|~n&u)+e[12]+1804603682|0,r=(r<<7|r>>>25)+n|0,u+=(r&n|~r&o)+e[13]-40341101|0,u=(u<<12|u>>>20)+r|0,o+=(u&r|~u&n)+e[14]-1502002290|0,o=(o<<17|o>>>15)+u|0,n+=(o&u|~o&r)+e[15]+1236535329|0,n=(n<<22|n>>>10)+o|0,r+=(n&u|o&~u)+e[1]-165796510|0,r=(r<<5|r>>>27)+n|0,u+=(r&o|n&~o)+e[6]-1069501632|0,u=(u<<9|u>>>23)+r|0,o+=(u&n|r&~n)+e[11]+643717713|0,o=(o<<14|o>>>18)+u|0,n+=(o&r|u&~r)+e[0]-373897302|0,n=(n<<20|n>>>12)+o|0,r+=(n&u|o&~u)+e[5]-701558691|0,r=(r<<5|r>>>27)+n|0,u+=(r&o|n&~o)+e[10]+38016083|0,u=(u<<9|u>>>23)+r|0,o+=(u&n|r&~n)+e[15]-660478335|0,o=(o<<14|o>>>18)+u|0,n+=(o&r|u&~r)+e[4]-405537848|0,n=(n<<20|n>>>12)+o|0,r+=(n&u|o&~u)+e[9]+568446438|0,r=(r<<5|r>>>27)+n|0,u+=(r&o|n&~o)+e[14]-1019803690|0,u=(u<<9|u>>>23)+r|0,o+=(u&n|r&~n)+e[3]-187363961|0,o=(o<<14|o>>>18)+u|0,n+=(o&r|u&~r)+e[8]+1163531501|0,n=(n<<20|n>>>12)+o|0,r+=(n&u|o&~u)+e[13]-1444681467|0,r=(r<<5|r>>>27)+n|0,u+=(r&o|n&~o)+e[2]-51403784|0,u=(u<<9|u>>>23)+r|0,o+=(u&n|r&~n)+e[7]+1735328473|0,o=(o<<14|o>>>18)+u|0,n+=(o&r|u&~r)+e[12]-1926607734|0,n=(n<<20|n>>>12)+o|0,r+=(n^o^u)+e[5]-378558|0,r=(r<<4|r>>>28)+n|0,u+=(r^n^o)+e[8]-2022574463|0,u=(u<<11|u>>>21)+r|0,o+=(u^r^n)+e[11]+1839030562|0,o=(o<<16|o>>>16)+u|0,n+=(o^u^r)+e[14]-35309556|0,n=(n<<23|n>>>9)+o|0,r+=(n^o^u)+e[1]-1530992060|0,r=(r<<4|r>>>28)+n|0,u+=(r^n^o)+e[4]+1272893353|0,u=(u<<11|u>>>21)+r|0,o+=(u^r^n)+e[7]-155497632|0,o=(o<<16|o>>>16)+u|0,n+=(o^u^r)+e[10]-1094730640|0,n=(n<<23|n>>>9)+o|0,r+=(n^o^u)+e[13]+681279174|0,r=(r<<4|r>>>28)+n|0,u+=(r^n^o)+e[0]-358537222|0,u=(u<<11|u>>>21)+r|0,o+=(u^r^n)+e[3]-722521979|0,o=(o<<16|o>>>16)+u|0,n+=(o^u^r)+e[6]+76029189|0,n=(n<<23|n>>>9)+o|0,r+=(n^o^u)+e[9]-640364487|0,r=(r<<4|r>>>28)+n|0,u+=(r^n^o)+e[12]-421815835|0,u=(u<<11|u>>>21)+r|0,o+=(u^r^n)+e[15]+530742520|0,o=(o<<16|o>>>16)+u|0,n+=(o^u^r)+e[2]-995338651|0,n=(n<<23|n>>>9)+o|0,r+=(o^(n|~u))+e[0]-198630844|0,r=(r<<6|r>>>26)+n|0,u+=(n^(r|~o))+e[7]+1126891415|0,u=(u<<10|u>>>22)+r|0,o+=(r^(u|~n))+e[14]-1416354905|0,o=(o<<15|o>>>17)+u|0,n+=(u^(o|~r))+e[5]-57434055|0,n=(n<<21|n>>>11)+o|0,r+=(o^(n|~u))+e[12]+1700485571|0,r=(r<<6|r>>>26)+n|0,u+=(n^(r|~o))+e[3]-1894986606|0,u=(u<<10|u>>>22)+r|0,o+=(r^(u|~n))+e[10]-1051523|0,o=(o<<15|o>>>17)+u|0,n+=(u^(o|~r))+e[1]-2054922799|0,n=(n<<21|n>>>11)+o|0,r+=(o^(n|~u))+e[8]+1873313359|0,r=(r<<6|r>>>26)+n|0,u+=(n^(r|~o))+e[15]-30611744|0,u=(u<<10|u>>>22)+r|0,o+=(r^(u|~n))+e[6]-1560198380|0,o=(o<<15|o>>>17)+u|0,n+=(u^(o|~r))+e[13]+1309151649|0,n=(n<<21|n>>>11)+o|0,r+=(o^(n|~u))+e[4]-145523070|0,r=(r<<6|r>>>26)+n|0,u+=(n^(r|~o))+e[11]-1120210379|0,u=(u<<10|u>>>22)+r|0,o+=(r^(u|~n))+e[2]+718787259|0,o=(o<<15|o>>>17)+u|0,n+=(u^(o|~r))+e[9]-343485551|0,n=(n<<21|n>>>11)+o|0,t[0]=r+t[0]|0,t[1]=n+t[1]|0,t[2]=o+t[2]|0,t[3]=u+t[3]|0}function r(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}function n(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return r}function o(t){var n,o,u,c,i,a,s=t.length,f=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=s;n+=64)e(f,r(t.substring(n-64,n)));for(t=t.substring(n-64),o=t.length,u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<o;n+=1)u[n>>2]|=t.charCodeAt(n)<<(n%4<<3);if(u[n>>2]|=128<<(n%4<<3),n>55)for(e(f,u),n=0;n<16;n+=1)u[n]=0;return c=8*s,c=c.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(c[2],16),a=parseInt(c[1],16)||0,u[14]=i,u[15]=a,e(f,u),f}function u(t){var r,o,u,c,i,a,s=t.length,f=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=s;r+=64)e(f,n(t.subarray(r-64,r)));for(t=r-64<s?t.subarray(r-64):new Uint8Array(0),o=t.length,u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0;r<o;r+=1)u[r>>2]|=t[r]<<(r%4<<3);if(u[r>>2]|=128<<(r%4<<3),r>55)for(e(f,u),r=0;r<16;r+=1)u[r]=0;return c=8*s,c=c.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(c[2],16),a=parseInt(c[1],16)||0,u[14]=i,u[15]=a,e(f,u),f}function c(t){var e,r="";for(e=0;e<4;e+=1)r+=p[t>>8*e+4&15]+p[t>>8*e&15];return r}function i(t){var e;for(e=0;e<t.length;e+=1)t[e]=c(t[e]);return t.join("")}function a(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function s(t,e){var r,n=t.length,o=new ArrayBuffer(n),u=new Uint8Array(o);for(r=0;r<n;r+=1)u[r]=t.charCodeAt(r);return e?u:o}function f(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function l(t,e,r){var n=new Uint8Array(t.byteLength+e.byteLength);return n.set(new Uint8Array(t)),n.set(new Uint8Array(e),t.byteLength),r?n:n.buffer}function _(t){var e,r=[],n=t.length;for(e=0;e<n-1;e+=2)r.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,r)}function d(){this.reset()}var p=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return"5d41402abc4b2a76b9719d911017c592"!==i(o("hello"))&&function(t,e){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r},"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(t,e){return t=0|t||0,t<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(r,n){var o,u,c,i,a=this.byteLength,s=e(r,a),f=a;return n!==t&&(f=e(n,a)),s>f?new ArrayBuffer(0):(o=f-s,u=new ArrayBuffer(o),c=new Uint8Array(u),i=new Uint8Array(this,s,o),c.set(i),u)}}(),d.prototype.append=function(t){return this.appendBinary(a(t)),this},d.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var n,o=this._buff.length;for(n=64;n<=o;n+=64)e(this._hash,r(this._buff.substring(n-64,n)));return this._buff=this._buff.substring(n-64),this},d.prototype.end=function(t){var e,r,n=this._buff,o=n.length,u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<o;e+=1)u[e>>2]|=n.charCodeAt(e)<<(e%4<<3);return this._finish(u,o),r=i(this._hash),t&&(r=_(r)),this.reset(),r},d.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},d.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},d.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},d.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},d.prototype._finish=function(t,r){var n,o,u,c=r;if(t[c>>2]|=128<<(c%4<<3),c>55)for(e(this._hash,t),c=0;c<16;c+=1)t[c]=0;n=8*this._length,n=n.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(n[2],16),u=parseInt(n[1],16)||0,t[14]=o,t[15]=u,e(this._hash,t)},d.hash=function(t,e){return d.hashBinary(a(t),e)},d.hashBinary=function(t,e){var r=o(t),n=i(r);return e?_(n):n},d.ArrayBuffer=function(){this.reset()},d.ArrayBuffer.prototype.append=function(t){var r,o=l(this._buff.buffer,t,!0),u=o.length;for(this._length+=t.byteLength,r=64;r<=u;r+=64)e(this._hash,n(o.subarray(r-64,r)));return this._buff=r-64<u?new Uint8Array(o.buffer.slice(r-64)):new Uint8Array(0),this},d.ArrayBuffer.prototype.end=function(t){var e,r,n=this._buff,o=n.length,u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<o;e+=1)u[e>>2]|=n[e]<<(e%4<<3);return this._finish(u,o),r=i(this._hash),t&&(r=_(r)),this.reset(),r},d.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},d.ArrayBuffer.prototype.getState=function(){var t=d.prototype.getState.call(this);return t.buff=f(t.buff),t},d.ArrayBuffer.prototype.setState=function(t){return t.buff=s(t.buff,!0),d.prototype.setState.call(this,t)},d.ArrayBuffer.prototype.destroy=d.prototype.destroy,d.ArrayBuffer.prototype._finish=d.prototype._finish,d.ArrayBuffer.hash=function(t,e){var r=u(new Uint8Array(t)),n=i(r);return e?_(n):n},d})},307:function(t,e,r){var n,o,u;/*!
	Autosize 3.0.21
	license: MIT
	http://www.jacklmoore.com/autosize
*/
!function(r,c){o=[e,t],n=c,void 0!==(u="function"==typeof n?n.apply(e,o):n)&&(t.exports=u)}(0,function(t,e){"use strict";function r(t){function e(e){var r=t.style.width;t.style.width="0px",t.offsetWidth,t.style.width=r,t.style.overflowY=e}function r(t){for(var e=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&e.push({node:t.parentNode,scrollTop:t.parentNode.scrollTop}),t=t.parentNode;return e}function n(){var e=t.style.height,n=r(t),o=document.documentElement&&document.documentElement.scrollTop;t.style.height="auto";var u=t.scrollHeight+i;if(0===t.scrollHeight)return void(t.style.height=e);t.style.height=u+"px",a=t.clientWidth,n.forEach(function(t){t.node.scrollTop=t.scrollTop}),o&&(document.documentElement.scrollTop=o)}function o(){n();var r=Math.round(parseFloat(t.style.height)),o=window.getComputedStyle(t,null),u="content-box"===o.boxSizing?Math.round(parseFloat(o.height)):t.offsetHeight;if(u!==r?"hidden"===o.overflowY&&(e("scroll"),n(),u="content-box"===o.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight):"hidden"!==o.overflowY&&(e("hidden"),n(),u="content-box"===o.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight),s!==u){s=u;var i=c("autosize:resized");try{t.dispatchEvent(i)}catch(t){}}}if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!u.has(t)){var i=null,a=t.clientWidth,s=null,f=function(){t.clientWidth!==a&&o()},l=function(e){window.removeEventListener("resize",f,!1),t.removeEventListener("input",o,!1),t.removeEventListener("keyup",o,!1),t.removeEventListener("autosize:destroy",l,!1),t.removeEventListener("autosize:update",o,!1),Object.keys(e).forEach(function(r){t.style[r]=e[r]}),u.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",l,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",o,!1),window.addEventListener("resize",f,!1),t.addEventListener("input",o,!1),t.addEventListener("autosize:update",o,!1),t.style.overflowX="hidden",t.style.wordWrap="break-word",u.set(t,{destroy:l,update:o}),function(){var e=window.getComputedStyle(t,null);"vertical"===e.resize?t.style.resize="none":"both"===e.resize&&(t.style.resize="horizontal"),i="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(i)&&(i=0),o()}()}}function n(t){var e=u.get(t);e&&e.destroy()}function o(t){var e=u.get(t);e&&e.update()}var u="function"==typeof Map?new Map:function(){var t=[],e=[];return{has:function(e){return t.indexOf(e)>-1},get:function(r){return e[t.indexOf(r)]},set:function(r,n){-1===t.indexOf(r)&&(t.push(r),e.push(n))},delete:function(r){var n=t.indexOf(r);n>-1&&(t.splice(n,1),e.splice(n,1))}}}(),c=function(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch(t){c=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}var i=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(i=function(t){return t},i.destroy=function(t){return t},i.update=function(t){return t}):(i=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],function(t){return r(t)}),t},i.destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],n),t},i.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],o),t}),e.exports=i})},308:function(t,e,r){"use strict";function n(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){function n(o,u){try{var c=e[o](u),i=c.value}catch(t){return void r(t)}if(!c.done)return Promise.resolve(i).then(function(t){n("next",t)},function(t){n("throw",t)});t(i)}return n("next")})}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){var r=[],n=!0,o=!1,u=void 0;try{for(var c,i=t[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!e||r.length!==e);n=!0);}catch(t){o=!0,u=t}finally{try{!n&&i.return&&i.return()}finally{if(o)throw u}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=r(67),c=r(186),i={apiKey:"AIzaSyDgqOiOMuTvK3PdzJ0Oz6ctEg-devcgZYc",authDomain:"simple-gtd-prod.firebaseapp.com",databaseURL:"https://simple-gtd-prod.firebaseio.com",projectId:"simple-gtd-prod",storageBucket:"simple-gtd-prod.appspot.com",messagingSenderId:"1061254169900"},a=i,s=e.setup=function(t,e){function r(t,e){var r="pouch-fire-sync."+e.name+".out.lastSeq",n=localStorage.getItem(r),o=parseInt(n,10)||0,i=e.changes({include_docs:!0,live:!0,since:o}),a=function(n){console.log("sending pouchdb change to firebase: ",n.id);var o=u.compose(u.omit("_rev"),u.merge(n.doc))({firebaseServerPersistedAt:firebase.database.ServerValue.TIMESTAMP});return s.database().ref("/users/"+t+"/"+e.name+"/"+n.id).set(o).then(function(){return localStorage.setItem(r,n.seq),n.seq})},f=c.fromEvents(i,"error"),l=c.fromEvents(i,"change");return c.merge([l,f]).map(a).flatMap(c.fromPromise).onValue(function(t){return console.log("fireSyncSuccess: ",t)}).onError(function(t){return console.error("fireSyncError: ",t)}),i}function i(e,r){function n(t){localStorage.setItem(i,Math.min(t.firebaseServerPersistedAt,Date.now()))}var o=r.name,i="pouch-fire-sync."+o+".in.lastPersistedAt",a=function(e){t.ports.onFirebaseChange.send([o,e]),n(e)},f=localStorage.getItem(i),l=parseInt(f,10)||0,_=s.database().ref("/users/"+e+"/"+o).orderByChild("firebaseServerPersistedAt").startAt(l+1);c.merge([c.fromEvents(_,"child_changed"),c.fromEvents(_,"child_added")]).map(u.invoker(0,"val")).map(function(t){return r.getClean(t._id).then(u.omit(["_rev"])).then(u.equals(u.omit(["firebaseServerPersistedAt"],t))).then(function(e){return e?(n(t),"firebase changes: docs same ignoring update"):(a(t),"firebase changes: docs not same, sending to elm")}).catch(function(e){if(console.error("fal: ",e),404===e.status)return a(t),"firebase changes: docs not found locally, sending to elm"})}).flatMap(c.fromPromise).onValue(function(t){return console.log("scc: ",t)}).onError(function(t){console.error("fal: ",t)})}var s=firebase.initializeApp(a),f=[];t.ports.signIn.subscribe(function(){var t=new firebase.auth.GoogleAuthProvider;t.setCustomParameters({prompt:"select_account"}),document.getElementById("firebase-auth").signInWithPopup(t).catch(console.error)}),t.ports.fireDataWrite.subscribe(function(t){var e=o(t,2),r=e[0],n=e[1];s.database().ref(r).set(n).catch(console.error)}),t.ports.fireStartSync.subscribe(function(){var t=n(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u.map(function(t){return t.cancel()})(f),f=u.map(function(t){return i(n,t),r(n,t)})(e);case 2:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()),t.ports.fireDataPush.subscribe(function(t){var e=o(t,2),r=e[0],n=e[1];console.log("firebaseApp.database().ref(path).push(value)",{path:r,value:n}),s.database().ref(r).push(n)}),t.ports.signOut.subscribe(function(){document.getElementById("firebase-auth").signOut().catch(console.error)})};e.default={setup:s}},310:function(t,e,r){"use strict";function n(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){function n(o,u){try{var c=e[o](u),i=c.value}catch(t){return void r(t)}if(!c.done)return Promise.resolve(i).then(function(t){n("next",t)},function(t){n("throw",t)});t(i)}return n("next")})}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){var t=n(regeneratorRuntime.mark(function t(e){var r,n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(console.info("Setting up notification ports and sw registration"),!(!1 in navigator)){t.next=4;break}return console.warn("serviceWorker not found in navigator"),t.abrupt("return");case 4:return r="service-worker.js",navigator.serviceWorker.addEventListener("message",function(t){var r=t.data;console.log("MJS: serviceWorker.onMessage",t.data,t),r["firebase-messaging-msg-type"]?console.info("FBJS: ignoring message event received",r,t):e.ports.notificationClicked.send(r)}),console.info("navigator.serviceWorker.register: ",r),t.next=9,navigator.serviceWorker.register(r);case 9:n=t.sent,o=setInterval(function(){var t=document.getElementById("fb-messaging");if(!t)return void console.warn('document.getElementById("fb-messaging")',t);console.debug("messaging.activate(reg)"),t.activate(n),clearTimeout(o)},100),e.ports.showNotification.subscribe(a(n)),e.ports.closeNotification.subscribe(i(n));case 13:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),u=r(67),c=function(t){return t&&t.__esModule?t:{default:t}}(u);e.default={setup:o};var i=function(t){return function(){var e=n(regeneratorRuntime.mark(function e(r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c.default,e.t1=c.default.propEq("tag",r),e.next=4,t.getNotifications();case 4:e.t2=e.sent,n=e.t0.find.call(e.t0,e.t1,e.t2),n&&n.close();case 7:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()},a=function(t){return function(){var e=n(regeneratorRuntime.mark(function e(r){var n,o=r.tag,u=r.title,c=r.data;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Notification.requestPermission();case 2:if("granted"===(n=e.sent)){e.next=5;break}return e.abrupt("return");case 5:t.showNotification("",{tag:o,requiresInteraction:!0,sticky:!0,renotify:!0,vibrate:[500,110,500,110,450,110,200,110,170,40,450,110,200,110,170,40,500],sound:"/alarm.ogg",icon:"/logo.png",actions:[{title:"Mark Done",action:"mark-done"},{title:"Snooze",action:"snooze"}],body:u,data:c});case 6:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()}},311:function(t,e,r){"use strict";function n(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){function n(o,u){try{var c=e[o](u),i=c.value}catch(t){return void r(t)}if(!c.done)return Promise.resolve(i).then(function(t){n("next",t)},function(t){n("throw",t)});t(i)}return n("next")})}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(569),u=r(67);o.debug.disable(),o.plugin(r(571)),o.plugin(r(574));var c=function t(e){return u.when(u.is(Object),u.compose(u.map(t),u.reject(u.isNil)))(e)};e.default=function(){var t=n(regeneratorRuntime.mark(function t(e){var r,i,a,s,f,l,_,d,p,h=function(){var t=n(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=u,t.t1=u.prop("ddoc"),t.next=4,r.getIndexes();case 4:return t.t2=t.sent.indexes,e=t.t0.filter.call(t.t0,t.t1,t.t2),t.next=8,Promise.all(u.map(u.bind(r.deleteIndex,r),e));case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),v=function(){var t=n(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(t){return r.put(u.merge(t,{_deleted:!0}))},t.t0=Promise,t.t1=u,t.t2=e,t.next=6,d();case 6:return t.t3=t.sent,t.t4=t.t1.map.call(t.t1,t.t2,t.t3),t.abrupt("return",t.t0.all.call(t.t0,t.t4));case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return p=function(t){return r.changes({since:"now",live:!0,include_docs:!0}).on("change",function(e){t(e.doc)}).on("complete",function(t){}).on("error",function(t){console.log(t)})},d=function(){r.allDocs()},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http://localhost:12321",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,u=""+n+o;console.log("starting sync for "+u);var c=t+"/"+u;i&&i.cancel();var a=r.sync(c,{live:!0,retry:!0},function(t,e){t?console.error("PLDB: sync err "+o,t):console.info("PLDB: sync complete = ",e)});return i=a,a},f=function(t,e){return r.upsert(t,function(t){var r=function(t,e){var r=u.merge(u.__,{_rev:e._rev}),n=u.propSatisfies(u.isEmpty,"_rev");return u.compose(u.when(n,r),c)(t)}(e,t),n=c(t);if(!u.equals(r,n))return r}).then(u.tap(function(t){return console.log("upsert results: ",t)}))},s=function(t){return r.bulkDocs(t)},a=function(t){return r.createIndex(t)},r=new o(e),i=null,_=function(){var t=n(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.find(e);case 2:return t.abrupt("return",t.sent.docs);case 3:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}(),t.next=11,Promise.all(u.map(a,g));case 11:return t.abrupt("return",{find:_,deleteAllDocs:v,bulkDocs:s,_db:r,upsert:f,deleteIndices:h,allDocs:d,startRemoteSync:l,findAll:function(){return _({selector:{_id:{$ne:null}}})},onChange:p,changes:u.bind(r.changes,r),name:e,getClean:function(t){return r.get(t).then(c)}});case 12:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()},312:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(558),o=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=function(){var t=o.default.Howl,e=new t({src:["alarm.ogg"]}),r=null,n=function(){u(),r=e.play(),e.fade(1,0,2e3,r)},u=function(){r&&e.stop()};return{start:n,stop:u}}()},314:function(t,e){(function(){"use strict";function e(t){function e(e){return function(r){return t(e,r)}}return e.arity=2,e.func=t,e}function r(t){function e(e){return function(r){return function(n){return t(e,r,n)}}}return e.arity=3,e.func=t,e}function n(t){function e(e){return function(r){return function(n){return function(o){return t(e,r,n,o)}}}}return e.arity=4,e.func=t,e}function o(t){function e(e){return function(r){return function(n){return function(o){return function(u){return t(e,r,n,o,u)}}}}}return e.arity=5,e.func=t,e}function u(t){function e(e){return function(r){return function(n){return function(o){return function(u){return function(c){return t(e,r,n,o,u,c)}}}}}}return e.arity=6,e.func=t,e}function c(t){function e(e){return function(r){return function(n){return function(o){return function(u){return function(c){return function(i){return t(e,r,n,o,u,c,i)}}}}}}}return e.arity=7,e.func=t,e}function i(t){function e(e){return function(r){return function(n){return function(o){return function(u){return function(c){return function(i){return function(a){return t(e,r,n,o,u,c,i,a)}}}}}}}}return e.arity=8,e.func=t,e}function a(t){function e(e){return function(r){return function(n){return function(o){return function(u){return function(c){return function(i){return function(a){return function(s){return t(e,r,n,o,u,c,i,a,s)}}}}}}}}}return e.arity=9,e.func=t,e}function s(t,e,r){return 2===t.arity?t.func(e,r):t(e)(r)}function f(t,e,r,n){return 3===t.arity?t.func(e,r,n):t(e)(r)(n)}function l(t,e,r,n,o){return 4===t.arity?t.func(e,r,n,o):t(e)(r)(n)(o)}function _(t,e,r,n,o,u){return 5===t.arity?t.func(e,r,n,o,u):t(e)(r)(n)(o)(u)}function d(t,e,r,n,o,u,c){return 6===t.arity?t.func(e,r,n,o,u,c):t(e)(r)(n)(o)(u)(c)}function p(t,e,r,n,o,u,c,i){return 7===t.arity?t.func(e,r,n,o,u,c,i):t(e)(r)(n)(o)(u)(c)(i)}var h=function(){function t(t,e){return t/e|0}function n(t,e){return t%e}function o(t,e){if(0===e)throw new Error("Cannot perform mod 0. Division by zero error.");var r=t%e,n=0===t?0:e>0?t>=0?r:r+e:-o(-t,-e);return n===e?0:n}function u(t,e){return Math.log(e)/Math.log(t)}function c(t){return-t}function i(t){return t<0?-t:t}function a(t,e){return v.cmp(t,e)<0?t:e}function s(t,e){return v.cmp(t,e)>0?t:e}function f(t,e,r){return v.cmp(r,t)<0?t:v.cmp(r,e)>0?e:r}function l(t,e){return{ctor:w[v.cmp(t,e)+1]}}function _(t,e){return t!==e}function d(t){return!t}function p(t){return t===1/0||t===-1/0}function h(t){return 0|t}function g(t){return t*Math.PI/180}function m(t){return 2*Math.PI*t}function y(t){var e=t._0,r=t._1;return v.Tuple2(e*Math.cos(r),e*Math.sin(r))}function b(t){var e=t._0,r=t._1;return v.Tuple2(Math.sqrt(e*e+r*r),Math.atan2(r,e))}var w=["LT","EQ","GT"];return{div:e(t),rem:e(n),mod:e(o),pi:Math.PI,e:Math.E,cos:Math.cos,sin:Math.sin,tan:Math.tan,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:e(Math.atan2),degrees:g,turns:m,fromPolar:y,toPolar:b,sqrt:Math.sqrt,logBase:e(u),negate:c,abs:i,min:e(a),max:e(s),clamp:r(f),compare:e(l),xor:e(_),not:d,truncate:h,ceiling:Math.ceil,floor:Math.floor,round:Math.round,toFloat:function(t){return t},isNaN:isNaN,isInfinite:p}}(),v=function(){function t(t,e){for(var n,o=[],u=r(t,e,0,o);u&&(n=o.pop());)u=r(n.x,n.y,0,o);return u}function r(t,e,n,o){if(n>100)return o.push({x:t,y:e}),!0;if(t===e)return!0;if("object"!=typeof t){if("function"==typeof t)throw new Error('Trying to use `(==)` on functions. There is no way to know if functions are "the same" in the Elm sense. Read more about this at http://package.elm-lang.org/packages/elm-lang/core/latest/Basics#== which describes why it is this way and what the better version will look like.');return!1}if(null===t||null===e)return!1;if(t instanceof Date)return t.getTime()===e.getTime();if(!("ctor"in t)){for(var u in t)if(!r(t[u],e[u],n+1,o))return!1;return!0}if("RBNode_elm_builtin"!==t.ctor&&"RBEmpty_elm_builtin"!==t.ctor||(t=Ke(t),e=Ke(e)),"Set_elm_builtin"===t.ctor&&(t=Hc(t),e=Hc(e)),"::"===t.ctor){for(var c=t,i=e;"::"===c.ctor&&"::"===i.ctor;){if(!r(c._0,i._0,n+1,o))return!1;c=c._1,i=i._1}return c.ctor===i.ctor}if("_Array"===t.ctor){var a=Fe.toJSArray(t),s=Fe.toJSArray(e);if(a.length!==s.length)return!1;for(var f=0;f<a.length;f++)if(!r(a[f],s[f],n+1,o))return!1;return!0}if(!r(t.ctor,e.ctor,n+1,o))return!1;for(var u in t)if(!r(t[u],e[u],n+1,o))return!1;return!0}function n(t,e){if("object"!=typeof t)return t===e?v:t<e?h:g;if(t instanceof String){var r=t.valueOf(),o=e.valueOf();return r===o?v:r<o?h:g}if("::"===t.ctor||"[]"===t.ctor){for(;"::"===t.ctor&&"::"===e.ctor;){var u=n(t._0,e._0);if(u!==v)return u;t=t._1,e=e._1}return t.ctor===e.ctor?v:"[]"===t.ctor?h:g}if("_Tuple"===t.ctor.slice(0,6)){var u,c=t.ctor.slice(6)-0;if(0===c)return v;if(c>=1){if((u=n(t._0,e._0))!==v)return u;if(c>=2){if((u=n(t._1,e._1))!==v)return u;if(c>=3){if((u=n(t._2,e._2))!==v)return u;if(c>=4){if((u=n(t._3,e._3))!==v)return u;if(c>=5){if((u=n(t._4,e._4))!==v)return u;if(c>=6){if((u=n(t._5,e._5))!==v)return u;if(c>=7)throw new Error("Comparison error: cannot compare tuples with more than 6 elements.")}}}}}}return v}throw new Error("Comparison error: comparison is only defined on ints, floats, times, chars, strings, lists of comparable values, and tuples of comparable values.")}function o(t,e){return{ctor:"_Tuple2",_0:t,_1:e}}function u(t){return new String(t)}function c(t){return y++}function i(t,e){var r={};for(var n in t)r[n]=t[n];for(var n in e)r[n]=e[n];return r}function a(t,e){return{ctor:"::",_0:t,_1:e}}function s(t,e){if("string"==typeof t)return t+e;if("[]"===t.ctor)return e;var r=a(t._0,b),n=r;for(t=t._1;"[]"!==t.ctor;)n._1=a(t._0,b),t=t._1,n=n._1;return n._1=e,r}function f(t,e){return function(r){throw new Error("Ran into a `Debug.crash` in module `"+t+"` "+_(e)+"\nThe message provided by the code author is:\n\n    "+r)}}function l(t,e,r){return function(n){throw new Error("Ran into a `Debug.crash` in module `"+t+"`\n\nThis was caused by the `case` expression "+_(e)+".\nOne of the branches ended with a crash and the following value got through:\n\n    "+d(r)+"\n\nThe message provided by the code author is:\n\n    "+n)}}function _(t){return t.start.line==t.end.line?"on line "+t.start.line:"between lines "+t.start.line+" and "+t.end.line}function d(t){var e=typeof t;if("function"===e)return"<function>";if("boolean"===e)return t?"True":"False";if("number"===e)return t+"";if(t instanceof String)return"'"+p(t,!0)+"'";if("string"===e)return'"'+p(t,!1)+'"';if(null===t)return"null";if("object"===e&&"ctor"in t){var r=t.ctor.substring(0,5);if("_Tupl"===r){var n=[];for(var o in t)"ctor"!==o&&n.push(d(t[o]));return"("+n.join(",")+")"}if("_Task"===r)return"<task>";if("_Array"===t.ctor){return"Array.fromList "+d(Je(t))}if("<decoder>"===t.ctor)return"<decoder>";if("_Process"===t.ctor)return"<process:"+t.id+">";if("::"===t.ctor){var n="["+d(t._0);for(t=t._1;"::"===t.ctor;)n+=","+d(t._0),t=t._1;return n+"]"}if("[]"===t.ctor)return"[]";if("Set_elm_builtin"===t.ctor)return"Set.fromList "+d(Hc(t));if("RBNode_elm_builtin"===t.ctor||"RBEmpty_elm_builtin"===t.ctor)return"Dict.fromList "+d(Ke(t));var n="";for(var u in t)if("ctor"!==u){var c=d(t[u]),i=c[0],a="{"===i||"("===i||"<"===i||'"'===i||c.indexOf(" ")<0;n+=" "+(a?c:"("+c+")")}return t.ctor+n}if("object"===e){if(t instanceof Date)return"<"+t.toString()+">";if(t.elm_web_socket)return"<websocket>";var n=[];for(var o in t)n.push(o+" = "+d(t[o]));return 0===n.length?"{}":"{ "+n.join(", ")+" }"}return"<internal structure>"}function p(t,e){var r=t.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return e?r.replace(/\'/g,"\\'"):r.replace(/\"/g,'\\"')}var h=-1,v=0,g=1,m={ctor:"_Tuple0"},y=0,b={ctor:"[]"};return{eq:t,cmp:n,Tuple0:m,Tuple2:o,chr:u,update:i,guid:c,append:e(s),crash:f,crashCase:l,toString:d}}(),g=function(t){for(;;){t=t._0}},m=e(function(t,e){var r=e;return s(t,r._0,r._1)}),y=r(function(t,e,r){return t({ctor:"_Tuple2",_0:e,_1:r})}),b=r(function(t,e,r){return s(t,r,e)}),w=e(function(t,e){return t}),T=function(t){return t},k=k||{};k["<|"]=e(function(t,e){return t(e)});var k=k||{};k["|>"]=e(function(t,e){return e(t)});var k=k||{};k[">>"]=r(function(t,e,r){return e(t(r))});var k=k||{};k["<<"]=r(function(t,e,r){return t(e(r))});var k=k||{};k["++"]=v.append;var S=v.toString,E=(h.isInfinite,h.isNaN),x=h.toFloat,A=h.ceiling,O=h.floor,q=h.truncate,I=h.round,k=(h.not,h.xor,k||{});k["||"]=h.or;var k=k||{};k["&&"]=h.and;var N=h.max,C=h.min,j=h.compare,k=k||{};k[">="]=h.ge;var k=k||{};k["<="]=h.le;var k=k||{};k[">"]=h.gt;var k=k||{};k["<"]=h.lt;var k=k||{};k["/="]=h.neq;var k=k||{};k["=="]=h.eq;var M=(h.e,h.pi,h.clamp),D=(h.logBase,h.abs),B=h.negate,k=(h.sqrt,h.atan2,h.atan,h.asin,h.acos,h.tan,h.sin,h.cos,k||{});k["^"]=h.exp;var k=k||{};k["%"]=h.mod;var R=h.rem,k=k||{};k["//"]=h.div;var k=k||{};k["/"]=h.floatDiv;var k=k||{};k["*"]=h.mul;var k=k||{};k["-"]=h.sub;var k=k||{};k["+"]=h.add;var P=(h.toPolar,h.fromPolar,h.turns,h.degrees,{ctor:"LT"}),L=function(){function t(t,e){var r=t+": "+v.toString(e),n=n||{};return n.stdout?n.stdout.write(r):console.log(r),e}function r(t){throw new Error(t)}return{crash:r,log:e(t)}}(),F=(L.crash,L.log),$=e(function(t,e){var r=e;return"Just"===r.ctor?r._0:t}),U={ctor:"Nothing"},V=e(function(t,e){var r=e;return"Just"===r.ctor?t(r._0):U}),J=function(t){return{ctor:"Just",_0:t}},H=e(function(t,e){var r=e;return"Just"===r.ctor?J(t(r._0)):U}),z=r(function(t,e,r){var n={ctor:"_Tuple2",_0:e,_1:r};return"_Tuple2"===n.ctor&&"Just"===n._0.ctor&&"Just"===n._1.ctor?J(s(t,n._0._0,n._1._0)):U}),W=(n(function(t,e,r,n){var o={ctor:"_Tuple3",_0:e,_1:r,_2:n};return"_Tuple3"===o.ctor&&"Just"===o._0.ctor&&"Just"===o._1.ctor&&"Just"===o._2.ctor?J(f(t,o._0._0,o._1._0,o._2._0)):U}),o(function(t,e,r,n,o){var u={ctor:"_Tuple4",_0:e,_1:r,_2:n,_3:o};return"_Tuple4"===u.ctor&&"Just"===u._0.ctor&&"Just"===u._1.ctor&&"Just"===u._2.ctor&&"Just"===u._3.ctor?J(l(t,u._0._0,u._1._0,u._2._0,u._3._0)):U}),u(function(t,e,r,n,o,u){var c={ctor:"_Tuple5",_0:e,_1:r,_2:n,_3:o,_4:u};return"_Tuple5"===c.ctor&&"Just"===c._0.ctor&&"Just"===c._1.ctor&&"Just"===c._2.ctor&&"Just"===c._3.ctor&&"Just"===c._4.ctor?J(_(t,c._0._0,c._1._0,c._2._0,c._3._0,c._4._0)):U}),function(){function t(t,e){return{ctor:"::",_0:t,_1:e}}function c(e){for(var r=b,n=e.length;n--;)r=t(e[n],r);return r}function i(t){for(var e=[];"[]"!==t.ctor;)e.push(t._0),t=t._1;return e}function a(t,e,r){for(var n=i(r),o=e,u=n.length;u--;)o=s(t,n[u],o);return o}function d(t,e,r){for(var n=[];"[]"!==e.ctor&&"[]"!==r.ctor;)n.push(s(t,e._0,r._0)),e=e._1,r=r._1;return c(n)}function p(t,e,r,n){for(var o=[];"[]"!==e.ctor&&"[]"!==r.ctor&&"[]"!==n.ctor;)o.push(f(t,e._0,r._0,n._0)),e=e._1,r=r._1,n=n._1;return c(o)}function h(t,e,r,n,o){for(var u=[];"[]"!==e.ctor&&"[]"!==r.ctor&&"[]"!==n.ctor&&"[]"!==o.ctor;)u.push(l(t,e._0,r._0,n._0,o._0)),e=e._1,r=r._1,n=n._1,o=o._1;return c(u)}function g(t,e,r,n,o,u){for(var i=[];"[]"!==e.ctor&&"[]"!==r.ctor&&"[]"!==n.ctor&&"[]"!==o.ctor&&"[]"!==u.ctor;)i.push(_(t,e._0,r._0,n._0,o._0,u._0)),e=e._1,r=r._1,n=n._1,o=o._1,u=u._1;return c(i)}function m(t,e){return c(i(e).sort(function(e,r){return v.cmp(t(e),t(r))}))}function y(t,e){return c(i(e).sort(function(e,r){var n=t(e)(r).ctor;return"EQ"===n?0:"LT"===n?-1:1}))}var b={ctor:"[]"};return{Nil:b,Cons:t,cons:e(t),toArray:i,fromArray:c,foldr:r(a),map2:r(d),map3:n(p),map4:o(h),map5:u(g),sortBy:e(m),sortWith:e(y)}}()),G=W.sortWith,K=W.sortBy,X=function(t){return{ctor:"::",_0:t,_1:{ctor:"[]"}}},Q=e(function(t,e){for(;;){if(v.cmp(t,0)<1)return e;var r=e;if("[]"===r.ctor)return e;var n=t-1,o=r._1;t=n,e=o}}),Y=W.map5,Z=W.map4,tt=W.map3,et=W.map2,rt=e(function(t,e){for(;;){var r=e;if("[]"===r.ctor)return!1;if(t(r._0))return!0;var n=t,o=r._1;t=n,e=o}}),nt=e(function(t,e){return!s(rt,function(e){return!t(e)},e)}),ot=W.foldr,ut=r(function(t,e,r){for(;;){var n=r;if("[]"===n.ctor)return e;var o=t,u=s(t,n._0,e),c=n._1;t=o,e=u,r=c}}),ct=function(t){return f(ut,e(function(t,e){return e+1}),0,t)},it=function(t){return f(ut,e(function(t,e){return t+e}),0,t)},at=e(function(t,e){return s(rt,function(e){return v.eq(e,t)},e)}),st=function(t){return"[]"===t.ctor},ft=function(t){var e=t;return"::"===e.ctor?J(e._1):U},lt=function(t){var e=t;return"::"===e.ctor?J(e._0):U},_t=_t||{};_t["::"]=W.cons;var dt=e(function(t,r){return f(ot,e(function(e,r){return{ctor:"::",_0:t(e),_1:r}}),{ctor:"[]"},r)}),pt=e(function(t,r){var n=e(function(e,r){return t(e)?{ctor:"::",_0:e,_1:r}:r});return f(ot,n,{ctor:"[]"},r)}),ht=r(function(t,e,r){var n=t(e);return"Just"===n.ctor?{ctor:"::",_0:n._0,_1:r}:r}),vt=e(function(t,e){return f(ot,ht(t),{ctor:"[]"},e)}),gt=function(t){return f(ut,e(function(t,e){return{ctor:"::",_0:t,_1:e}}),{ctor:"[]"},t)},mt=r(function(t,r,n){var o=e(function(e,r){var n=r;return"::"===n.ctor?{ctor:"::",_0:s(t,e,n._0),_1:r}:{ctor:"[]"}});return gt(f(ut,o,{ctor:"::",_0:r,_1:{ctor:"[]"}},n))}),yt=e(function(t,r){return"[]"===r.ctor?t:f(ot,e(function(t,e){return{ctor:"::",_0:t,_1:e}}),r,t)}),bt=function(t){return f(ot,yt,{ctor:"[]"},t)},wt=e(function(t,e){return bt(s(dt,t,e))}),Tt=(e(function(t,r){var n=e(function(e,r){var n=r,o=n._0,u=n._1;return t(e)?{ctor:"_Tuple2",_0:{ctor:"::",_0:e,_1:o},_1:u}:{ctor:"_Tuple2",_0:o,_1:{ctor:"::",_0:e,_1:u}}});return f(ot,n,{ctor:"_Tuple2",_0:{ctor:"[]"},_1:{ctor:"[]"}},r)}),e(function(t,r){var n=r;if("[]"===n.ctor)return{ctor:"[]"};var o=e(function(e,r){return{ctor:"::",_0:t,_1:{ctor:"::",_0:e,_1:r}}}),u=f(ot,o,{ctor:"[]"},n._1);return{ctor:"::",_0:n._0,_1:u}}),r(function(t,e,r){for(;;){if(v.cmp(t,0)<1)return r;var n=e;if("[]"===n.ctor)return r;var o=t-1,u=n._1,c={ctor:"::",_0:n._0,_1:r};t=o,e=u,r=c}})),kt=e(function(t,e){return gt(f(Tt,t,e,{ctor:"[]"}))}),St=r(function(t,e,r){if(v.cmp(e,0)<1)return{ctor:"[]"};var n={ctor:"_Tuple2",_0:e,_1:r};t:do{e:do{if("_Tuple2"!==n.ctor)break t;if("[]"===n._1.ctor)return r;if("::"!==n._1._1.ctor){if(1===n._0)break e;break t}switch(n._0){case 1:break e;case 2:return{ctor:"::",_0:n._1._0,_1:{ctor:"::",_0:n._1._1._0,_1:{ctor:"[]"}}};case 3:if("::"===n._1._1._1.ctor)return{ctor:"::",_0:n._1._0,_1:{ctor:"::",_0:n._1._1._0,_1:{ctor:"::",_0:n._1._1._1._0,_1:{ctor:"[]"}}}};break t;default:if("::"===n._1._1._1.ctor&&"::"===n._1._1._1._1.ctor){var o=n._1._1._1._0,u=n._1._1._0,c=n._1._0,i=n._1._1._1._1._0,a=n._1._1._1._1._1;return v.cmp(t,1e3)>0?{ctor:"::",_0:c,_1:{ctor:"::",_0:u,_1:{ctor:"::",_0:o,_1:{ctor:"::",_0:i,_1:s(kt,e-4,a)}}}}:{ctor:"::",_0:c,_1:{ctor:"::",_0:u,_1:{ctor:"::",_0:o,_1:{ctor:"::",_0:i,_1:f(St,t+1,e-4,a)}}}}}break t}}while(!1);return{ctor:"::",_0:n._1._0,_1:{ctor:"[]"}}}while(!1);return r}),Et=e(function(t,e){return f(St,0,t,e)}),xt=r(function(t,e,r){for(;;){if(v.cmp(e,0)<1)return t;var n={ctor:"::",_0:r,_1:t},o=e-1,u=r;t=n,e=o,r=u}}),At=(e(function(t,e){return f(xt,{ctor:"[]"},t,e)}),r(function(t,e,r){for(;;){if(!(v.cmp(t,e)<1))return r;var n=t,o=e-1,u={ctor:"::",_0:e,_1:r};t=n,e=o,r=u}})),Ot=e(function(t,e){return f(At,t,e,{ctor:"[]"})}),qt=e(function(t,e){return f(et,t,s(Ot,0,ct(e)-1),e)}),It=function(t){var e=t;return"Ok"===e.ctor?J(e._0):U},Nt=e(function(t,e){var r=e;return"Ok"===r.ctor?r._0:t}),Ct=function(t){return{ctor:"Err",_0:t}},jt=e(function(t,e){var r=e;return"Ok"===r.ctor?t(r._0):Ct(r._0)}),Mt=function(t){return{ctor:"Ok",_0:t}},Dt=e(function(t,e){var r=e;return"Ok"===r.ctor?Mt(t(r._0)):Ct(r._0)}),Bt=r(function(t,e,r){var n={ctor:"_Tuple2",_0:e,_1:r};return"Ok"===n._0.ctor?"Ok"===n._1.ctor?Mt(s(t,n._0._0,n._1._0)):Ct(n._1._0):Ct(n._0._0)}),Rt=(n(function(t,e,r,n){var o={ctor:"_Tuple3",_0:e,_1:r,_2:n};return"Ok"===o._0.ctor?"Ok"===o._1.ctor?"Ok"===o._2.ctor?Mt(f(t,o._0._0,o._1._0,o._2._0)):Ct(o._2._0):Ct(o._1._0):Ct(o._0._0)}),o(function(t,e,r,n,o){var u={ctor:"_Tuple4",_0:e,_1:r,_2:n,_3:o};return"Ok"===u._0.ctor?"Ok"===u._1.ctor?"Ok"===u._2.ctor?"Ok"===u._3.ctor?Mt(l(t,u._0._0,u._1._0,u._2._0,u._3._0)):Ct(u._3._0):Ct(u._2._0):Ct(u._1._0):Ct(u._0._0)}),u(function(t,e,r,n,o,u){var c={ctor:"_Tuple5",_0:e,_1:r,_2:n,_3:o,_4:u};return"Ok"===c._0.ctor?"Ok"===c._1.ctor?"Ok"===c._2.ctor?"Ok"===c._3.ctor?"Ok"===c._4.ctor?Mt(_(t,c._0._0,c._1._0,c._2._0,c._3._0,c._4._0)):Ct(c._4._0):Ct(c._3._0):Ct(c._2._0):Ct(c._1._0):Ct(c._0._0)}),e(function(t,e){var r=e;return"Ok"===r.ctor?Mt(r._0):Ct(t(r._0))})),Pt=(e(function(t,e){var r=e;return"Just"===r.ctor?Mt(r._0):Ct(t)}),function(){function t(t){return 0===t.length}function n(t,e){return t+e}function o(t){var e=t[0];return e?J(v.Tuple2(v.chr(e),t.slice(1))):U}function u(t,e){return t+e}function c(t){return W.toArray(t).join("")}function i(t){return t.length}function a(t,e){for(var r=e.split(""),n=r.length;n--;)r[n]=t(v.chr(r[n]));return r.join("")}function f(t,e){return e.split("").map(v.chr).filter(t).join("")}function l(t){return t.split("").reverse().join("")}function _(t,e,r){for(var n=r.length,o=0;o<n;++o)e=s(t,v.chr(r[o]),e);return e}function d(t,e,r){for(var n=r.length;n--;)e=s(t,v.chr(r[n]),e);return e}function p(t,e){return W.fromArray(e.split(t))}function h(t,e){return W.toArray(e).join(t)}function g(t,e){for(var r="";t>0;)1&t&&(r+=e),t>>=1,e+=e;return r}function m(t,e,r){return r.slice(t,e)}function y(t,e){return t<1?"":e.slice(0,t)}function b(t,e){return t<1?"":e.slice(-t)}function w(t,e){return t<1?e:e.slice(t)}function T(t,e){return t<1?e:e.slice(0,-t)}function k(t,e,r){var n=(t-r.length)/2;return g(Math.ceil(n),e)+r+g(0|n,e)}function S(t,e,r){return r+g(t-r.length,e)}function E(t,e,r){return g(t-r.length,e)+r}function x(t){return t.trim()}function A(t){return t.replace(/^\s+/,"")}function O(t){return t.replace(/\s+$/,"")}function q(t){return W.fromArray(t.trim().split(/\s+/g))}function I(t){return W.fromArray(t.split(/\r\n|\r|\n/g))}function N(t){return t.toUpperCase()}function C(t){return t.toLowerCase()}function j(t,e){for(var r=e.length;r--;)if(t(v.chr(e[r])))return!0;return!1}function M(t,e){for(var r=e.length;r--;)if(!t(v.chr(e[r])))return!1;return!0}function D(t,e){return e.indexOf(t)>-1}function B(t,e){return 0===e.indexOf(t)}function R(t,e){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}function P(t,e){var r=t.length;if(r<1)return W.Nil;for(var n=0,o=[];(n=e.indexOf(t,n))>-1;)o.push(n),n+=r;return W.fromArray(o)}function L(t){var e=t.length;if(0===e)return F(t);var r=t[0];if("0"===r&&"x"===t[1]){for(var n=2;n<e;++n){var r=t[n];if(!("0"<=r&&r<="9"||"A"<=r&&r<="F"||"a"<=r&&r<="f"))return F(t)}return Mt(parseInt(t,16))}if(r>"9"||r<"0"&&"-"!==r&&"+"!==r)return F(t);for(var n=1;n<e;++n){var r=t[n];if(r<"0"||"9"<r)return F(t)}return Mt(parseInt(t,10))}function F(t){return Ct("could not convert string '"+t+"' to an Int")}function $(t){if(0===t.length||/[\sxbo]/.test(t))return V(t);var e=+t;return e===e?Mt(e):V(t)}function V(t){return Ct("could not convert string '"+t+"' to a Float")}function H(t){return W.fromArray(t.split("").map(v.chr))}function z(t){return W.toArray(t).join("")}return{isEmpty:t,cons:e(n),uncons:o,append:e(u),concat:c,length:i,map:e(a),filter:e(f),reverse:l,foldl:r(_),foldr:r(d),split:e(p),join:e(h),repeat:e(g),slice:r(m),left:e(y),right:e(b),dropLeft:e(w),dropRight:e(T),pad:r(k),padLeft:r(E),padRight:r(S),trim:x,trimLeft:A,trimRight:O,words:q,lines:I,toUpper:N,toLower:C,any:e(j),all:e(M),contains:e(D),startsWith:e(B),endsWith:e(R),indexes:e(P),toInt:L,toFloat:$,toList:H,fromList:z}}()),Lt=function(){return{fromCode:function(t){return v.chr(String.fromCharCode(t))},toCode:function(t){return t.charCodeAt(0)},toUpper:function(t){return v.chr(t.toUpperCase())},toLower:function(t){return v.chr(t.toLowerCase())},toLocaleUpper:function(t){return v.chr(t.toLocaleUpperCase())},toLocaleLower:function(t){return v.chr(t.toLocaleLowerCase())}}}(),Ft=Lt.fromCode,$t=Lt.toCode,Ut=(Lt.toLocaleLower,Lt.toLocaleUpper,Lt.toLower,Lt.toUpper,r(function(t,e,r){var n=$t(r);return v.cmp(n,$t(t))>-1&&v.cmp(n,$t(e))<1})),Vt=(s(Ut,v.chr("A"),v.chr("Z")),s(Ut,v.chr("a"),v.chr("z")),s(Ut,v.chr("0"),v.chr("9")),s(Ut,v.chr("0"),v.chr("7")),Pt.fromList),Jt=(Pt.toList,Pt.toFloat),Ht=Pt.toInt,zt=(Pt.indexes,Pt.indexes),Wt=Pt.endsWith,Gt=Pt.startsWith,Kt=(Pt.contains,Pt.all,Pt.any,Pt.toLower),Xt=Pt.toUpper,Qt=Pt.lines,Yt=(Pt.words,Pt.trimRight,Pt.trimLeft,Pt.trim),Zt=Pt.padRight,te=Pt.padLeft,ee=(Pt.pad,Pt.dropRight),re=Pt.dropLeft,ne=Pt.right,oe=Pt.left,ue=Pt.slice,ce=(Pt.repeat,Pt.join),ie=Pt.split,ae=(Pt.foldr,Pt.foldl,Pt.reverse,Pt.filter,Pt.map,Pt.length),se=Pt.concat,fe=Pt.append,le=Pt.uncons,_e=Pt.cons,de=Pt.isEmpty,pe=e(function(t,e){var r=e;return{ctor:"_Tuple2",_0:r._0,_1:t(r._1)}}),he=e(function(t,e){var r=e;return{ctor:"_Tuple2",_0:t(r._0),_1:r._1}}),ve=function(t){return t._1},ge=function(t){return t._0},me=function(){function t(t){return function(e){return function(e,r){e.worker=function(e){if(void 0!==e)throw new Error("The `"+r+"` module does not need flags.\nCall "+r+".worker() with no arguments and you should be all set!");return c(t.init,t.update,t.subscriptions,o)}}}}function n(t){return function(e){return function(r,n){r.worker=function(r){if(void 0===e)throw new Error("Are you trying to sneak a Never value into Elm? Trickster!\nIt looks like "+n+".main is defined with `programWithFlags` but has type `Program Never`.\nUse `program` instead if you do not want flags.");var u=s($r.run,e,r);if("Err"===u.ctor)throw new Error(n+".worker(...) was called with an unexpected argument.\nI tried to convert it to an Elm value, but ran into this problem:\n\n"+u._0);return c(t.init(u._0),t.update,t.subscriptions,o)}}}}function o(t,e){return function(t){}}function u(t){var r=g(W.Nil),n=v.Tuple2(v.Tuple0,r);return yi({init:n,view:function(t){return main},update:e(function(t,e){return n}),subscriptions:function(t){return r}})}function c(t,e,r,n){function o(t,n){return ye.nativeBinding(function(o){var u=s(e,t,n);n=u._0,c(n);var i=u._1,f=r(n);y(a,i,f),o(ye.succeed(n))})}function u(t){ye.rawSend(l,t)}var c,a={},f=ye.nativeBinding(function(e){var o=t._0;c=n(u,o);var i=t._1,s=r(o);y(a,i,s),e(ye.succeed(o))}),l=p(f,o),_=i(a,u);return _?{ports:_}:{}}function i(t,e){var r;for(var n in O){var o=O[n];o.isForeign&&(r=r||{},r[n]="cmd"===o.tag?E(n):A(n,e)),t[n]=a(o,e)}return r}function a(t,e){function r(t,e){if("self"===t.ctor)return f(c,n,t._0,e);var r=t._0;switch(o){case"cmd":return f(u,n,r.cmds,e);case"sub":return f(u,n,r.subs,e);case"fx":return l(u,n,r.cmds,r.subs,e)}}var n={main:e,self:void 0},o=t.tag,u=t.onEffects,c=t.onSelfMsg,i=p(t.init,r);return n.self=i,i}function _(t,e){return ye.nativeBinding(function(r){t.main(e),r(ye.succeed(v.Tuple0))})}function d(t,e){return s(ye.send,t.self,{ctor:"self",_0:e})}function p(t,e){function r(t){var o=ye.receive(function(r){return e(r,t)});return s(n,r,o)}var n=ye.andThen,o=s(n,r,t);return ye.rawSpawn(o)}function h(t){return function(e){return{type:"leaf",home:t,value:e}}}function g(t){return{type:"node",branches:t}}function m(t,e){return{type:"map",tagger:t,tree:e}}function y(t,e,r){var n={};b(!0,e,n,null),b(!1,r,n,null);for(var o in t){var u=o in n?n[o]:{cmds:W.Nil,subs:W.Nil};ye.rawSend(t[o],{ctor:"fx",_0:u})}}function b(t,e,r,n){switch(e.type){case"leaf":var o=e.home,u=w(t,o,n,e.value);return void(r[o]=T(t,u,r[o]));case"node":for(var c=e.branches;"[]"!==c.ctor;)b(t,c._0,r,n),c=c._1;return;case"map":return void b(t,e.tree,r,{tagger:e.tagger,rest:n})}}function w(t,e,r,n){function o(t){for(var e=r;e;)t=e.tagger(t),e=e.rest;return t}return s(t?O[e].cmdMap:O[e].subMap,o,n)}function T(t,e,r){return r=r||{cmds:W.Nil,subs:W.Nil},t?(r.cmds=W.Cons(e,r.cmds),r):(r.subs=W.Cons(e,r.subs),r)}function k(t){if(t in O)throw new Error("There can only be one port named `"+t+"`, but your program has multiple.")}function S(t,e){return k(t),O[t]={tag:"cmd",cmdMap:q,converter:e,isForeign:!0},h(t)}function E(t){function e(t,e,r){for(;"[]"!==e.ctor;){for(var n=u,o=c(e._0),a=0;a<n.length;a++)n[a](o);e=e._1}return i}function n(t){u.push(t)}function o(t){u=u.slice();var e=u.indexOf(t);e>=0&&u.splice(e,1)}var u=[],c=O[t].converter,i=ye.succeed(null);return O[t].init=i,O[t].onEffects=r(e),{subscribe:n,unsubscribe:o}}function x(t,e){return k(t),O[t]={tag:"sub",subMap:I,converter:e,isForeign:!0},h(t)}function A(t,e){function n(t,e,r){for(var n=o(t,e,r),u=0;u<f.length;u++)i(f[u]);return f=null,p=i,d=o,n}function o(t,e,r){return l=e,h}function u(t,e,r){return d(t,e,r)}function c(t){f.push(t)}function i(t){for(var r=l;"[]"!==r.ctor;)e(r._0(t)),r=r._1}function a(e){var r=s(Zr,_,e);if("Err"===r.ctor)throw new Error("Trying to send an unexpected type of value through port `"+t+"`:\n"+r._0);p(r._0)}var f=[],l=W.Nil,_=O[t].converter,d=n,p=c,h=ye.succeed(null);return O[t].init=h,O[t].onEffects=r(u),{send:a}}var O={},q=e(function(t,e){return e}),I=e(function(t,e){return function(r){return t(e(r))}});return{sendToApp:e(_),sendToSelf:e(d),effectManagers:O,outgoingPort:S,incomingPort:x,htmlToProgram:u,program:t,programWithFlags:n,initialize:c,leaf:h,batch:g,map:e(m)}}(),ye=function(){function t(t){return{ctor:"_Task_succeed",value:t}}function r(t){return{ctor:"_Task_fail",value:t}}function n(t){return{ctor:"_Task_nativeBinding",callback:t,cancel:null}}function o(t,e){return{ctor:"_Task_andThen",callback:t,task:e}}function u(t,e){return{ctor:"_Task_onError",callback:t,task:e}}function c(t){return{ctor:"_Task_receive",callback:t}}function i(t){var e={ctor:"_Process",id:v.guid(),root:t,stack:null,mailbox:[]};return p(e),e}function a(e){return n(function(r){r(t(i(e)))})}function s(t,e){t.mailbox.push(e),p(t)}function f(e,r){return n(function(n){s(e,r),n(t(v.Tuple0))})}function l(e){return n(function(r){var n=e.root;"_Task_nativeBinding"===n.ctor&&n.cancel&&n.cancel(),e.root=null,r(t(v.Tuple0))})}function _(e){return n(function(r){var n=setTimeout(function(){r(t(v.Tuple0))},e);return function(){clearTimeout(n)}})}function d(t,e){for(;t<g;){var r=e.root.ctor;if("_Task_succeed"!==r)if("_Task_fail"!==r)if("_Task_andThen"!==r)if("_Task_onError"!==r){if("_Task_nativeBinding"===r){e.root.cancel=e.root.callback(function(t){e.root=t,p(e)});break}if("_Task_receive"!==r)throw new Error(r);var n=e.mailbox;if(0===n.length)break;e.root=e.root.callback(n.shift()),++t}else e.stack={ctor:"_Task_onError",callback:e.root.callback,rest:e.stack},e.root=e.root.task,++t;else e.stack={ctor:"_Task_andThen",callback:e.root.callback,rest:e.stack},e.root=e.root.task,++t;else{for(;e.stack&&"_Task_andThen"===e.stack.ctor;)e.stack=e.stack.rest;if(null===e.stack)break;e.root=e.stack.callback(e.root.value),e.stack=e.stack.rest,++t}else{for(;e.stack&&"_Task_onError"===e.stack.ctor;)e.stack=e.stack.rest;if(null===e.stack)break;e.root=e.stack.callback(e.root.value),e.stack=e.stack.rest,++t}}return t<g?t+1:(p(e),t)}function p(t){y.push(t),m||(setTimeout(h,0),m=!0)}function h(){for(var t,e=0;e<g&&(t=y.shift());)t.root&&(e=d(e,t));if(!t)return void(m=!1);setTimeout(h,0)}var g=1e4,m=!1,y=[];return{succeed:t,fail:r,nativeBinding:n,andThen:e(o),onError:e(u),receive:c,spawn:a,kill:l,sleep:_,send:e(f),rawSpawn:i,rawSend:s}}(),be=me.batch,we=be({ctor:"[]"}),Te=Te||{};Te["!"]=e(function(t,e){return{ctor:"_Tuple2",_0:t,_1:be(e)}});var ke=me.map,Se=me.batch,Ee=Se({ctor:"[]"}),xe=me.map,Ae=(ye.succeed,me.sendToSelf),Oe=me.sendToApp,qe=(me.programWithFlags,me.program,e(function(t,e){return function(r){return e(t(r))}}),w(we),e(function(t,e){return be(s(dt,function(t){return t(e)},t))}),r(function(t,e,r){return be({ctor:"::",_0:t(r),_1:{ctor:"::",_0:e(r),_1:{ctor:"[]"}}})}),function(){var t=e(function(t,e){var r=t,n=e;return s(Te["!"],{ctor:"::",_0:r._0,_1:n._0},{ctor:"::",_0:r._1,_1:{ctor:"::",_0:n._1,_1:{ctor:"[]"}}})});s(ot,t,{ctor:"_Tuple2",_0:{ctor:"[]"},_1:we})}(),e(function(t,e){var r=e;return{ctor:"_Tuple2",_0:r._0,_1:s(ke,t,r._1)}}),e(function(t,e){var r=e,n=r._0;return s(Te["!"],n,{ctor:"::",_0:r._1,_1:{ctor:"::",_0:t(n),_1:{ctor:"[]"}}})})),Ie=e(function(t,e){var r=e;return s(Te["!"],r._0,{ctor:"::",_0:t,_1:{ctor:"::",_0:r._1,_1:{ctor:"[]"}}})}),Ne=(y(T),e(function(t,e){var r=e,n=t(r._0),o=n._0,u=n._1;return s(Te["!"],o,{ctor:"::",_0:r._1,_1:{ctor:"::",_0:u,_1:{ctor:"[]"}}})})),Ce=Ce||{};Ce["<<<"]=r(function(t,e,r){return s(Ne,t,e(r))});var Ce=Ce||{};Ce[">>>"]=b(e(function(t,e){return s(Ce["<<<"],t,e)}));var je=(Ne(T),s(b,e(function(t,e){return{ctor:"_Tuple2",_0:t,_1:e}}),we)),Me=(u(function(t,e,r,n,o,u){var c=e,i=r,a=n,f=o,l=u;return s(Te["!"],_(t,c._0,i._0,a._0,f._0,l._0),{ctor:"::",_0:c._1,_1:{ctor:"::",_0:i._1,_1:{ctor:"::",_0:a._1,_1:{ctor:"::",_0:f._1,_1:{ctor:"::",_0:l._1,_1:{ctor:"[]"}}}}}})}),o(function(t,e,r,n,o){var u=e,c=r,i=n,a=o;return s(Te["!"],l(t,u._0,c._0,i._0,a._0),{ctor:"::",_0:u._1,_1:{ctor:"::",_0:c._1,_1:{ctor:"::",_0:i._1,_1:{ctor:"::",_0:a._1,_1:{ctor:"[]"}}}}})}),n(function(t,e,r,n){var o=e,u=r,c=n;return s(Te["!"],f(t,o._0,u._0,c._0),{ctor:"::",_0:o._1,_1:{ctor:"::",_0:u._1,_1:{ctor:"::",_0:c._1,_1:{ctor:"[]"}}}})}),r(function(t,e,r){var n=e,o=r;return s(Te["!"],s(t,n._0,o._0),{ctor:"::",_0:n._1,_1:{ctor:"::",_0:o._1,_1:{ctor:"[]"}}})}),r(function(t,e,r){var n=r;return{ctor:"_Tuple2",_0:e(n._0),_1:s(ke,t,n._1)}}),e(function(t,e){var r=t,n=e;return s(Te["!"],n._0(r._0),{ctor:"::",_0:n._1,_1:{ctor:"::",_0:r._1,_1:{ctor:"[]"}}})})),De=(y(b(Me)),e(function(t,e){var r=e;return{ctor:"_Tuple2",_0:t(r._0),_1:r._1}})),Be=T,Re=(s(ut,e(function(t,e){return function(r){return e(t(r))}}),Be),s(ot,e(function(t,e){return function(r){return t(e(r))}}),Be),e(function(t,e){var r=e,n=r._1,o=r._0;return"GT"===s(t,o,n).ctor?{ctor:"_Tuple2",_0:n,_1:o}:{ctor:"_Tuple2",_0:o,_1:n}}),e(function(t,e){var r=e,n=r._1,o=r._0;return v.cmp(t(o),t(n))>0?{ctor:"_Tuple2",_0:n,_1:o}:{ctor:"_Tuple2",_0:o,_1:n}}),e(function(t,e){var r=e;return{ctor:"_Tuple2",_0:t(r._0),_1:t(r._1)}})),Pe=(r(function(t,e,r){var n=r;return{ctor:"_Tuple2",_0:t(n._0),_1:e(n._1)}}),e(function(t,e){var r=e;return{ctor:"_Tuple2",_0:r._0,_1:t(r._1)}})),Le=(e(function(t,e){var r=e;return{ctor:"_Tuple2",_0:t(r._0),_1:r._1}}),Le||{});Le["=>"]=e(function(t,e){return{ctor:"_Tuple2",_0:t,_1:e}});var Fe=function(){function t(t,e){if(t<0||t>=B(e))throw new Error("Index "+t+" is out of range. Check the length of your array first or use getMaybe or getWithDefault.");return n(t,e)}function n(t,e){for(var r=e.height;r>0;r--){for(var n=t>>5*r;e.lengths[n]<=t;)n++;n>0&&(t-=e.lengths[n-1]),e=e.table[n]}return e.table[t]}function o(t,e,r){return t<0||B(r)<=t?r:u(t,e,r)}function u(t,e,r){if(r=D(r),0===r.height)r.table[t]=e;else{var n=R(t,r);n>0&&(t-=r.lengths[n-1]),r.table[n]=u(t,e,r.table[n])}return r}function c(t,e){return t<=0?G:i(e,Math.floor(Math.log(t)/Math.log(H)),0,t)}function i(t,e,r,n){if(0===e){for(var o=new Array((n-r)%(H+1)),u=0;u<o.length;u++)o[u]=t(r+u);return{ctor:"_Array",height:0,table:o}}for(var c=Math.pow(H,e),o=new Array(Math.ceil((n-r)/c)),a=new Array(o.length),u=0;u<o.length;u++)o[u]=i(t,e-1,r+u*c,Math.min(r+(u+1)*c,n)),a[u]=B(o[u])+(u>0?a[u-1]:0);return{ctor:"_Array",height:e,table:o,lengths:a}}function a(t){if("[]"===t.ctor)return G;for(var e=new Array(H),r=[],n=0;"[]"!==t.ctor;)if(e[n]=t._0,t=t._1,++n===H){var o={ctor:"_Array",height:0,table:e};f(o,r),e=new Array(H),n=0}if(n>0){var o={ctor:"_Array",height:0,table:e.splice(0,n)};f(o,r)}for(var u=0;u<r.length-1;u++)r[u].table.length>0&&f(r[u],r);var c=r[r.length-1];return c.height>0&&1===c.table.length?c.table[0]:c}function f(t,e){var r=t.height;if(e.length===r){var n={ctor:"_Array",height:r+1,table:[],lengths:[]};e.push(n)}e[r].table.push(t);var o=B(t);e[r].lengths.length>0&&(o+=e[r].lengths[e[r].lengths.length-1]),e[r].lengths.push(o),e[r].table.length===H&&(f(e[r],e),e[r]={ctor:"_Array",height:r+1,table:[],lengths:[]})}function l(t,e){var r=_(t,e);return null!==r?r:F(e,P(t,e.height))}function _(t,e){if(0===e.height){if(e.table.length<H){var r={ctor:"_Array",height:0,table:e.table.slice()};return r.table.push(t),r}return null}var n=_(t,j(e));if(null!==n){var r=D(e);return r.table[r.table.length-1]=n,r.lengths[r.lengths.length-1]++,r}if(e.table.length<H){var o=P(t,e.height-1),r=D(e);return r.table.push(o),r.lengths.push(r.lengths[r.lengths.length-1]+B(o)),r}return null}function d(t){return p(W.Nil,t)}function p(t,e){for(var r=e.table.length-1;r>=0;r--)t=0===e.height?W.Cons(e.table[r],t):p(t,e.table[r]);return t}function h(t,e){var r={ctor:"_Array",height:e.height,table:new Array(e.table.length)};e.height>0&&(r.lengths=e.lengths);for(var n=0;n<e.table.length;n++)r.table[n]=0===e.height?t(e.table[n]):h(t,e.table[n]);return r}function v(t,e){return g(t,e,0)}function g(t,e,r){var n={ctor:"_Array",height:e.height,table:new Array(e.table.length)};e.height>0&&(n.lengths=e.lengths);for(var o=0;o<e.table.length;o++)n.table[o]=0===e.height?s(t,r+o,e.table[o]):g(t,e.table[o],0==o?r:r+e.lengths[o-1]);return n}function m(t,e,r){if(0===r.height)for(var n=0;n<r.table.length;n++)e=s(t,r.table[n],e);else for(var n=0;n<r.table.length;n++)e=m(t,e,r.table[n]);return e}function y(t,e,r){if(0===r.height)for(var n=r.table.length;n--;)e=s(t,r.table[n],e);else for(var n=r.table.length;n--;)e=y(t,e,r.table[n]);return e}function b(t,e,r){return t<0&&(t+=B(r)),e<0&&(e+=B(r)),T(t,w(e,r))}function w(t,e){if(t===B(e))return e;if(0===e.height){var r={ctor:"_Array",height:0};return r.table=e.table.slice(0,t),r}var n=R(t,e),o=w(t-(n>0?e.lengths[n-1]:0),e.table[n]);if(0===n)return o;var r={ctor:"_Array",height:e.height,table:e.table.slice(0,n),lengths:e.lengths.slice(0,n)};return o.table.length>0&&(r.table[n]=o,r.lengths[n]=B(o)+(n>0?r.lengths[n-1]:0)),r}function T(t,e){if(0===t)return e;if(0===e.height){var r={ctor:"_Array",height:0};return r.table=e.table.slice(t,e.table.length+1),r}var n=R(t,e),o=T(t-(n>0?e.lengths[n-1]:0),e.table[n]);if(n===e.table.length-1)return o;var r={ctor:"_Array",height:e.height,table:e.table.slice(n,e.table.length+1),lengths:new Array(e.table.length-n)};r.table[0]=o;for(var u=0,c=0;c<r.table.length;c++)u+=B(r.table[c]),r.lengths[c]=u;return r}function k(t,e){if(0===t.table.length)return e;if(0===e.table.length)return t;var r=S(t,e);if(r[0].table.length+r[1].table.length<=H){if(0===r[0].table.length)return r[1];if(0===r[1].table.length)return r[0];if(r[0].table=r[0].table.concat(r[1].table),r[0].height>0){for(var n=B(r[0]),o=0;o<r[1].lengths.length;o++)r[1].lengths[o]+=n;r[0].lengths=r[0].lengths.concat(r[1].lengths)}return r[0]}if(r[0].height>0){var u=A(t,e);u>z&&(r=C(r[0],r[1],u))}return F(r[0],r[1])}function S(t,e){if(0===t.height&&0===e.height)return[t,e];if(1!==t.height||1!==e.height)if(t.height===e.height){t=D(t),e=D(e);var r=S(j(t),M(e));E(t,r[1]),x(e,r[0])}else if(t.height>e.height){t=D(t);var r=S(j(t),e);E(t,r[0]),e=L(r[1],r[1].height+1)}else{e=D(e);var r=S(t,M(e)),n=0===r[0].table.length?0:1,o=0===n?1:0;x(e,r[n]),t=L(r[o],r[o].height+1)}if(0===t.table.length||0===e.table.length)return[t,e];var u=A(t,e);return u<=z?[t,e]:C(t,e,u)}function E(t,e){var r=t.table.length-1;t.table[r]=e,t.lengths[r]=B(e),t.lengths[r]+=r>0?t.lengths[r-1]:0}function x(t,e){if(e.table.length>0){t.table[0]=e,t.lengths[0]=B(e);for(var r=B(t.table[0]),n=1;n<t.lengths.length;n++)r+=B(t.table[n]),t.lengths[n]=r}else{t.table.shift();for(var n=1;n<t.lengths.length;n++)t.lengths[n]=t.lengths[n]-t.lengths[0];t.lengths.shift()}}function A(t,e){for(var r=0,n=0;n<t.table.length;n++)r+=t.table[n].table.length;for(var n=0;n<e.table.length;n++)r+=e.table[n].table.length;return t.table.length+e.table.length-(Math.floor((r-1)/H)+1)}function O(t,e,r){return r<t.length?t[r]:e[r-t.length]}function q(t,e,r,n){r<t.length?t[r]=n:e[r-t.length]=n}function I(t,e,r,n){q(t.table,e.table,r,n);var o=0===r||r===t.lengths.length?0:O(t.lengths,t.lengths,r-1);q(t.lengths,e.lengths,r,o+B(n))}function N(t,e){e<0&&(e=0);var r={ctor:"_Array",height:t,table:new Array(e)};return t>0&&(r.lengths=new Array(e)),r}function C(t,e,r){for(var n=N(t.height,Math.min(H,t.table.length+e.table.length-r)),o=N(t.height,n.table.length-(t.table.length+e.table.length-r)),u=0;O(t.table,e.table,u).table.length%H==0;)q(n.table,o.table,u,O(t.table,e.table,u)),q(n.lengths,o.lengths,u,O(t.lengths,e.lengths,u)),u++;for(var c=u,i=new N(t.height-1,0),a=0;u-c-(i.table.length>0?1:0)<r;){var s=O(t.table,e.table,u),f=Math.min(H-i.table.length,s.table.length);if(i.table=i.table.concat(s.table.slice(a,f)),i.height>0)for(var l=i.lengths.length,_=l;_<l+f-a;_++)i.lengths[_]=B(i.table[_]),i.lengths[_]+=_>0?i.lengths[_-1]:0;a+=f,s.table.length<=f&&(u++,a=0),i.table.length===H&&(I(n,o,c,i),i=N(t.height-1,0),c++)}for(i.table.length>0&&(I(n,o,c,i),c++);u<t.table.length+e.table.length;)I(n,o,c,O(t.table,e.table,u)),u++,c++;return[n,o]}function j(t){return t.table[t.table.length-1]}function M(t){return t.table[0]}function D(t){var e={ctor:"_Array",height:t.height,table:t.table.slice()};return t.height>0&&(e.lengths=t.lengths.slice()),e}function B(t){return 0===t.height?t.table.length:t.lengths[t.lengths.length-1]}function R(t,e){for(var r=t>>5*e.height;e.lengths[r]<=t;)r++;return r}function P(t,e){return 0===e?{ctor:"_Array",height:0,table:[t]}:{ctor:"_Array",height:e,table:[P(t,e-1)],lengths:[1]}}function L(t,e){return e===t.height?t:{ctor:"_Array",height:e,table:[L(t,e-1)],lengths:[B(t)]}}function F(t,e){return{ctor:"_Array",height:t.height+1,table:[t,e],lengths:[B(t),B(t)+B(e)]}}function $(t){var e=new Array(B(t));return U(e,0,t),e}function U(t,e,r){for(var n=0;n<r.table.length;n++)if(0===r.height)t[e+n]=r.table[n];else{var o=0===n?0:r.lengths[n-1];U(t,e+o,r.table[n])}}function V(t){return 0===t.length?G:J(t,Math.floor(Math.log(t.length)/Math.log(H)),0,t.length)}function J(t,e,r,n){if(0===e)return{ctor:"_Array",height:0,table:t.slice(r,n)};for(var o=Math.pow(H,e),u=new Array(Math.ceil((n-r)/o)),c=new Array(u.length),i=0;i<u.length;i++)u[i]=J(t,e-1,r+i*o,Math.min(r+(i+1)*o,n)),c[i]=B(u[i])+(i>0?c[i-1]:0);return{ctor:"_Array",height:e,table:u,lengths:c}}var H=32,z=2,G={ctor:"_Array",height:0,table:[]};return{empty:G,fromList:a,toList:d,initialize:e(c),append:e(k),push:e(l),slice:r(b),get:e(t),set:r(o),map:e(h),indexedMap:e(v),foldl:r(m),foldr:r(y),length:B,toJSArray:$,fromJSArray:V}}(),$e=(Fe.append,Fe.length,Fe.slice,Fe.set,e(function(t,e){return v.cmp(0,t)<1&&v.cmp(t,Fe.length(e))<0?J(s(Fe.get,t,e)):U}),Fe.push),Ue=Fe.empty,Ve=(e(function(t,r){var n=e(function(e,r){return t(e)?s(Fe.push,e,r):r});return f(Fe.foldl,n,Fe.empty,r)}),Fe.foldr,Fe.foldl),Je=(Fe.indexedMap,Fe.map,Fe.toList),He=(Fe.fromList,Fe.initialize),ze=(e(function(t,e){return s(He,t,w(e))}),r(function(t,e,r){for(;;){var n=r;if("RBEmpty_elm_builtin"===n.ctor)return e;var o=t,u=f(t,n._1,n._2,f(ze,t,e,n._4)),c=n._3;t=o,e=u,r=c}})),We=function(t){return f(ze,r(function(t,e,r){return{ctor:"::",_0:t,_1:r}}),{ctor:"[]"},t)},Ge=function(t){return f(ze,r(function(t,e,r){return{ctor:"::",_0:e,_1:r}}),{ctor:"[]"},t)},Ke=function(t){return f(ze,r(function(t,e,r){return{ctor:"::",_0:{ctor:"_Tuple2",_0:t,_1:e},_1:r}}),{ctor:"[]"},t)},Xe=r(function(t,e,r){for(;;){var n=r;if("RBEmpty_elm_builtin"===n.ctor)return e;var o=t,u=f(t,n._1,n._2,f(Xe,t,e,n._3)),c=n._4;t=o,e=u,r=c}}),Qe=u(function(t,n,o,u,c,i){var a=r(function(e,r,u){for(;;){var c=u,i=c._1,a=c._0,s=a;if("[]"===s.ctor)return{ctor:"_Tuple2",_0:a,_1:f(o,e,r,i)};var _=s._1,d=s._0._1,p=s._0._0;if(!(v.cmp(p,e)<0))return v.cmp(p,e)>0?{ctor:"_Tuple2",_0:a,_1:f(o,e,r,i)}:{ctor:"_Tuple2",_0:_,_1:l(n,p,d,r,i)};var h=e,g=r,m={ctor:"_Tuple2",_0:_,_1:f(t,p,d,i)};e=h,r=g,u=m}}),s=f(Xe,a,{ctor:"_Tuple2",_0:Ke(u),_1:i},c),_=s._0,d=s._1;return f(ut,e(function(e,r){var n=e;return f(t,n._0,n._1,r)}),d,_)}),Ye=n(function(t,e,r,n){return L.crash(se({ctor:"::",_0:"Internal red-black tree invariant violated, expected ",_1:{ctor:"::",_0:t,_1:{ctor:"::",_0:" and got ",_1:{ctor:"::",_0:S(e),_1:{ctor:"::",_0:"/",_1:{ctor:"::",_0:r,_1:{ctor:"::",_0:"/",_1:{ctor:"::",_0:n,_1:{ctor:"::",_0:"\nPlease report this bug to <https://github.com/elm-lang/core/issues>",_1:{ctor:"[]"}}}}}}}}}}))}),Ze=function(t){var e=t;t:do{if("RBNode_elm_builtin"===e.ctor){if("BBlack"===e._0.ctor)return!0;break t}if("LBBlack"===e._0.ctor)return!0;break t}while(!1);return!1},tr=e(function(t,e){for(;;){var r=e;if("RBEmpty_elm_builtin"===r.ctor)return t;var n=s(tr,t+1,r._4),o=r._3;t=n,e=o}}),er=e(function(t,e){t:for(;;){var r=e;if("RBEmpty_elm_builtin"===r.ctor)return U;var n=s(j,t,r._1);switch(n.ctor){case"LT":var o=t,u=r._3;t=o,e=u;continue t;case"EQ":return J(r._2);default:var c=t,i=r._4;t=c,e=i;continue t}}}),rr=e(function(t,e){return"Just"===s(er,t,e).ctor}),nr=r(function(t,e,r){for(;;){var n=r;if("RBEmpty_elm_builtin"===n.ctor)return{ctor:"_Tuple2",_0:t,_1:e};var o=n._1,u=n._2,c=n._4;t=o,e=u,r=c}}),or={ctor:"NBlack"},ur={ctor:"BBlack"},cr={ctor:"Black"},ir=function(t){var e=t;if("RBNode_elm_builtin"===e.ctor){var r=e._0;return v.eq(r,cr)||v.eq(r,ur)}return!0},ar={ctor:"Red"},sr=function(t){switch(t.ctor){case"Black":return ur;case"Red":return cr;case"NBlack":return ar;default:return L.crash("Can't make a double black node more black!")}},fr=function(t){switch(t.ctor){case"BBlack":return cr;case"Black":return ar;case"Red":return or;default:return L.crash("Can't make a negative black node less black!")}},lr={ctor:"LBBlack"},_r={ctor:"LBlack"},dr=function(t){return{ctor:"RBEmpty_elm_builtin",_0:t}},pr=dr(_r),hr=function(t){return v.eq(t,pr)},vr=o(function(t,e,r,n,o){return{ctor:"RBNode_elm_builtin",_0:t,_1:e,_2:r,_3:n,_4:o}}),gr=function(t){var e=t;return"RBNode_elm_builtin"===e.ctor&&"Red"===e._0.ctor?_(vr,cr,e._1,e._2,e._3,e._4):t},mr=function(t){var e=t;return"RBNode_elm_builtin"===e.ctor?_(vr,fr(e._0),e._1,e._2,e._3,e._4):dr(_r)},yr=function(t){return function(e){return function(r){return function(n){return function(o){return function(u){return function(c){return function(i){return function(a){return function(s){return function(f){return _(vr,fr(t),n,o,_(vr,cr,e,r,i,a),_(vr,cr,u,c,s,f))}}}}}}}}}}},br=function(t){var e=t;return"RBEmpty_elm_builtin"===e.ctor?dr(_r):_(vr,cr,e._1,e._2,e._3,e._4)},wr=function(t){var e=t;return"RBEmpty_elm_builtin"===e.ctor?L.crash("can't make a Leaf red"):_(vr,ar,e._1,e._2,e._3,e._4)},Tr=function(t){var e=t;t:do{e:do{r:do{n:do{o:do{u:do{c:do{if("RBNode_elm_builtin"!==e.ctor)break t;if("RBNode_elm_builtin"===e._3.ctor)if("RBNode_elm_builtin"===e._4.ctor)switch(e._3._0.ctor){case"Red":switch(e._4._0.ctor){case"Red":if("RBNode_elm_builtin"===e._3._3.ctor&&"Red"===e._3._3._0.ctor)break c;if("RBNode_elm_builtin"===e._3._4.ctor&&"Red"===e._3._4._0.ctor)break u;if("RBNode_elm_builtin"===e._4._3.ctor&&"Red"===e._4._3._0.ctor)break o;if("RBNode_elm_builtin"===e._4._4.ctor&&"Red"===e._4._4._0.ctor)break n;break t;case"NBlack":if("RBNode_elm_builtin"===e._3._3.ctor&&"Red"===e._3._3._0.ctor)break c;if("RBNode_elm_builtin"===e._3._4.ctor&&"Red"===e._3._4._0.ctor)break u;if("BBlack"===e._0.ctor&&"RBNode_elm_builtin"===e._4._3.ctor&&"Black"===e._4._3._0.ctor&&"RBNode_elm_builtin"===e._4._4.ctor&&"Black"===e._4._4._0.ctor)break r;break t;default:if("RBNode_elm_builtin"===e._3._3.ctor&&"Red"===e._3._3._0.ctor)break c;if("RBNode_elm_builtin"===e._3._4.ctor&&"Red"===e._3._4._0.ctor)break u;break t}case"NBlack":switch(e._4._0.ctor){case"Red":if("RBNode_elm_builtin"===e._4._3.ctor&&"Red"===e._4._3._0.ctor)break o;if("RBNode_elm_builtin"===e._4._4.ctor&&"Red"===e._4._4._0.ctor)break n;if("BBlack"===e._0.ctor&&"RBNode_elm_builtin"===e._3._3.ctor&&"Black"===e._3._3._0.ctor&&"RBNode_elm_builtin"===e._3._4.ctor&&"Black"===e._3._4._0.ctor)break e;break t;case"NBlack":if("BBlack"===e._0.ctor){if("RBNode_elm_builtin"===e._4._3.ctor&&"Black"===e._4._3._0.ctor&&"RBNode_elm_builtin"===e._4._4.ctor&&"Black"===e._4._4._0.ctor)break r;if("RBNode_elm_builtin"===e._3._3.ctor&&"Black"===e._3._3._0.ctor&&"RBNode_elm_builtin"===e._3._4.ctor&&"Black"===e._3._4._0.ctor)break e;break t}break t;default:if("BBlack"===e._0.ctor&&"RBNode_elm_builtin"===e._3._3.ctor&&"Black"===e._3._3._0.ctor&&"RBNode_elm_builtin"===e._3._4.ctor&&"Black"===e._3._4._0.ctor)break e;break t}default:switch(e._4._0.ctor){case"Red":if("RBNode_elm_builtin"===e._4._3.ctor&&"Red"===e._4._3._0.ctor)break o;if("RBNode_elm_builtin"===e._4._4.ctor&&"Red"===e._4._4._0.ctor)break n;break t;case"NBlack":if("BBlack"===e._0.ctor&&"RBNode_elm_builtin"===e._4._3.ctor&&"Black"===e._4._3._0.ctor&&"RBNode_elm_builtin"===e._4._4.ctor&&"Black"===e._4._4._0.ctor)break r;break t;default:break t}}else switch(e._3._0.ctor){case"Red":if("RBNode_elm_builtin"===e._3._3.ctor&&"Red"===e._3._3._0.ctor)break c;if("RBNode_elm_builtin"===e._3._4.ctor&&"Red"===e._3._4._0.ctor)break u;break t;case"NBlack":if("BBlack"===e._0.ctor&&"RBNode_elm_builtin"===e._3._3.ctor&&"Black"===e._3._3._0.ctor&&"RBNode_elm_builtin"===e._3._4.ctor&&"Black"===e._3._4._0.ctor)break e;break t;default:break t}else{if("RBNode_elm_builtin"!==e._4.ctor)break t;switch(e._4._0.ctor){case"Red":if("RBNode_elm_builtin"===e._4._3.ctor&&"Red"===e._4._3._0.ctor)break o;if("RBNode_elm_builtin"===e._4._4.ctor&&"Red"===e._4._4._0.ctor)break n;break t;case"NBlack":if("BBlack"===e._0.ctor&&"RBNode_elm_builtin"===e._4._3.ctor&&"Black"===e._4._3._0.ctor&&"RBNode_elm_builtin"===e._4._4.ctor&&"Black"===e._4._4._0.ctor)break r;break t;default:break t}}}while(!1);return yr(e._0)(e._3._3._1)(e._3._3._2)(e._3._1)(e._3._2)(e._1)(e._2)(e._3._3._3)(e._3._3._4)(e._3._4)(e._4)}while(!1);return yr(e._0)(e._3._1)(e._3._2)(e._3._4._1)(e._3._4._2)(e._1)(e._2)(e._3._3)(e._3._4._3)(e._3._4._4)(e._4)}while(!1);return yr(e._0)(e._1)(e._2)(e._4._3._1)(e._4._3._2)(e._4._1)(e._4._2)(e._3)(e._4._3._3)(e._4._3._4)(e._4._4)}while(!1);return yr(e._0)(e._1)(e._2)(e._4._1)(e._4._2)(e._4._4._1)(e._4._4._2)(e._3)(e._4._3)(e._4._4._3)(e._4._4._4)}while(!1);return _(vr,cr,e._4._3._1,e._4._3._2,_(vr,cr,e._1,e._2,e._3,e._4._3._3),_(kr,cr,e._4._1,e._4._2,e._4._3._4,wr(e._4._4)))}while(!1);return _(vr,cr,e._3._4._1,e._3._4._2,_(kr,cr,e._3._1,e._3._2,wr(e._3._3),e._3._4._3),_(vr,cr,e._1,e._2,e._3._4._4,e._4))}while(!1);return t},kr=o(function(t,e,r,n,o){var u=_(vr,t,e,r,n,o);return ir(u)?Tr(u):u}),Sr=o(function(t,e,r,n,o){return Ze(n)||Ze(o)?_(kr,sr(t),e,r,mr(n),mr(o)):_(vr,t,e,r,n,o)}),Er=o(function(t,e,r,n,o){var u=o;return"RBEmpty_elm_builtin"===u.ctor?f(xr,t,n,o):_(Sr,t,e,r,n,_(Er,u._0,u._1,u._2,u._3,u._4))}),xr=r(function(t,e,r){var n={ctor:"_Tuple2",_0:e,_1:r};if("RBEmpty_elm_builtin"!==n._0.ctor){if("RBEmpty_elm_builtin"===n._1.ctor){var o=n._1._0,u=n._0._0,c={ctor:"_Tuple3",_0:t,_1:u,_2:o};return"_Tuple3"===c.ctor&&"Black"===c._0.ctor&&"Red"===c._1.ctor&&"LBlack"===c._2.ctor?_(vr,cr,n._0._1,n._0._2,n._0._3,n._0._4):l(Ye,"Black/Red/LBlack",t,S(u),S(o))}var i=n._0._2,a=n._0._4,s=n._0._1,d=_(Er,n._0._0,s,i,n._0._3,a),p=f(nr,s,i,a),h=p._0,v=p._1;return _(Sr,t,h,v,d,r)}if("RBEmpty_elm_builtin"!==n._1.ctor){var g=n._1._0,m=n._0._0,y={ctor:"_Tuple3",_0:t,_1:m,_2:g};return"_Tuple3"===y.ctor&&"Black"===y._0.ctor&&"LBlack"===y._1.ctor&&"Red"===y._2.ctor?_(vr,cr,n._1._1,n._1._2,n._1._3,n._1._4):l(Ye,"Black/LBlack/Red",t,S(m),S(g))}switch(t.ctor){case"Red":return dr(_r);case"Black":return dr(lr);default:return L.crash("cannot have bblack or nblack nodes at this point")}}),Ar=e(function(t,e){var r=e;if("RBEmpty_elm_builtin"===r.ctor)return dr(_r);var n=r._1;return _(vr,r._0,n,s(t,n,r._2),s(Ar,t,r._3),s(Ar,t,r._4))}),Or={ctor:"Same"},qr={ctor:"Remove"},Ir={ctor:"Insert"},Nr=r(function(t,e,r){var n=function(r){var o=r;if("RBEmpty_elm_builtin"===o.ctor){var u=e(U);return"Nothing"===u.ctor?{ctor:"_Tuple2",_0:Or,_1:pr}:{ctor:"_Tuple2",_0:Ir,_1:_(vr,ar,t,u._0,pr,pr)}}var c=o._2,i=o._4,a=o._3,l=o._1,d=o._0;switch(s(j,t,l).ctor){case"EQ":var p=e(J(c));return"Nothing"===p.ctor?{ctor:"_Tuple2",_0:qr,_1:f(xr,d,a,i)}:{ctor:"_Tuple2",_0:Or,_1:_(vr,d,l,p._0,a,i)};case"LT":var h=n(a),v=h._0,g=h._1;switch(v.ctor){case"Same":return{ctor:"_Tuple2",_0:Or,_1:_(vr,d,l,c,g,i)};case"Insert":return{ctor:"_Tuple2",_0:Ir,_1:_(kr,d,l,c,g,i)};default:return{ctor:"_Tuple2",_0:qr,_1:_(Sr,d,l,c,g,i)}}default:var m=n(i),v=m._0,y=m._1;switch(v.ctor){case"Same":return{ctor:"_Tuple2",_0:Or,_1:_(vr,d,l,c,a,y)};case"Insert":return{ctor:"_Tuple2",_0:Ir,_1:_(kr,d,l,c,a,y)};default:return{ctor:"_Tuple2",_0:qr,_1:_(Sr,d,l,c,a,y)}}}},o=n(r),u=o._0,c=o._1;switch(u.ctor){case"Same":return c;case"Insert":return gr(c);default:return br(c)}}),Cr=r(function(t,e,r){return f(Nr,t,w(J(e)),r)}),jr=e(function(t,e){return f(Cr,t,e,pr)}),Mr=e(function(t,e){return f(Xe,Cr,e,t)}),Dr=e(function(t,e){var n=r(function(e,r,n){return s(t,e,r)?f(Cr,e,r,n):n});return f(Xe,n,pr,e)}),Br=e(function(t,r){return s(Dr,e(function(t,e){return s(rr,t,r)}),t)}),Rr=e(function(t,e){var n=r(function(e,r,n){var o=n,u=o._1,c=o._0;return s(t,e,r)?{ctor:"_Tuple2",_0:f(Cr,e,r,c),_1:u}:{ctor:"_Tuple2",_0:c,_1:f(Cr,e,r,u)}});return f(Xe,n,{ctor:"_Tuple2",_0:pr,_1:pr},e)}),Pr=function(t){return f(ut,e(function(t,e){var r=t;return f(Cr,r._0,r._1,e)}),pr,t)},Lr=e(function(t,e){return f(Nr,t,w(U),e)}),Fr=e(function(t,e){return f(Xe,r(function(t,e,r){return s(Lr,t,r)}),t,e)}),$r=function(){function t(t){return{ctor:"<decoder>",tag:"succeed",msg:t}}function s(t){return{ctor:"<decoder>",tag:"fail",msg:t}}function f(t){return{ctor:"<decoder>",tag:t}}function l(t,e){return{ctor:"<decoder>",tag:t,decoder:e}}function _(t){return{ctor:"<decoder>",tag:"null",value:t}}function d(t,e){return{ctor:"<decoder>",tag:"field",field:t,decoder:e}}function p(t,e){return{ctor:"<decoder>",tag:"index",index:t,decoder:e}}function h(t){return{ctor:"<decoder>",tag:"key-value",decoder:t}}function g(t,e){return{ctor:"<decoder>",tag:"map-many",func:t,decoders:e}}function m(t,e){return{ctor:"<decoder>",tag:"andThen",decoder:e,callback:t}}function y(t){return{ctor:"<decoder>",tag:"oneOf",decoders:t}}function b(t,e){return g(t,[e])}function w(t,e,r){return g(t,[e,r])}function T(t,e,r,n){return g(t,[e,r,n])}function k(t,e,r,n,o){return g(t,[e,r,n,o])}function S(t,e,r,n,o,u){return g(t,[e,r,n,o,u])}function E(t,e,r,n,o,u,c){return g(t,[e,r,n,o,u,c])}function x(t,e,r,n,o,u,c,i){return g(t,[e,r,n,o,u,c,i])}function A(t,e,r,n,o,u,c,i,a){return g(t,[e,r,n,o,u,c,i,a])}function O(t){return{tag:"ok",value:t}}function q(t,e){return{tag:"primitive",type:t,value:e}}function I(t,e){return{tag:"index",index:t,rest:e}}function N(t,e){return{tag:"field",field:t,rest:e}}function I(t,e){return{tag:"index",index:t,rest:e}}function C(t){return{tag:"oneOf",problems:t}}function j(t){return{tag:"fail",msg:t}}function M(t){for(var e="_";t;)switch(t.tag){case"primitive":return"Expecting "+t.type+("_"===e?"":" at "+e)+" but instead got: "+D(t.value);case"index":e+="["+t.index+"]",t=t.rest;break;case"field":e+="."+t.field,t=t.rest;break;case"oneOf":for(var r=t.problems,n=0;n<r.length;n++)r[n]=M(r[n]);return"I ran into the following problems"+("_"===e?"":" at "+e)+":\n\n"+r.join("\n");case"fail":return"I ran into a `fail` decoder"+("_"===e?"":" at "+e)+": "+t.msg}}function D(t){return void 0===t?"undefined":JSON.stringify(t)}function B(t,e){var r;try{r=JSON.parse(e)}catch(t){return Ct("Given an invalid JSON: "+t.message)}return R(t,r)}function R(t,e){var r=P(t,e);return"ok"===r.tag?Mt(r.value):Ct(M(r))}function P(t,e){switch(t.tag){case"bool":return"boolean"==typeof e?O(e):q("a Bool",e);case"int":return"number"!=typeof e?q("an Int",e):-2147483647<e&&e<2147483647&&(0|e)===e?O(e):!isFinite(e)||e%1?q("an Int",e):O(e);case"float":return"number"==typeof e?O(e):q("a Float",e);case"string":return"string"==typeof e?O(e):e instanceof String?O(e+""):q("a String",e);case"null":return null===e?O(t.value):q("null",e);case"value":return O(e);case"list":if(!(e instanceof Array))return q("a List",e);for(var r=W.Nil,n=e.length;n--;){var o=P(t.decoder,e[n]);if("ok"!==o.tag)return I(n,o);r=W.Cons(o.value,r)}return O(r);case"array":if(!(e instanceof Array))return q("an Array",e);for(var u=e.length,c=new Array(u),n=u;n--;){var o=P(t.decoder,e[n]);if("ok"!==o.tag)return I(n,o);c[n]=o.value}return O(Fe.fromJSArray(c));case"maybe":var o=P(t.decoder,e);return O("ok"===o.tag?J(o.value):U);case"field":var i=t.field;if("object"!=typeof e||null===e||!(i in e))return q("an object with a field named `"+i+"`",e);var o=P(t.decoder,e[i]);return"ok"===o.tag?o:N(i,o);case"index":var a=t.index;if(!(e instanceof Array))return q("an array",e);if(a>=e.length)return q("a longer array. Need index "+a+" but there are only "+e.length+" entries",e);var o=P(t.decoder,e[a]);return"ok"===o.tag?o:I(a,o);case"key-value":if("object"!=typeof e||null===e||e instanceof Array)return q("an object",e);var s=W.Nil;for(var f in e){var o=P(t.decoder,e[f]);if("ok"!==o.tag)return N(f,o);var l=v.Tuple2(f,o.value);s=W.Cons(l,s)}return O(s);case"map-many":for(var _=t.func,d=t.decoders,n=0;n<d.length;n++){var o=P(d[n],e);if("ok"!==o.tag)return o;_=_(o.value)}return O(_);case"andThen":var o=P(t.decoder,e);return"ok"!==o.tag?o:P(t.callback(o.value),e);case"oneOf":for(var p=[],h=t.decoders;"[]"!==h.ctor;){var o=P(h._0,e);if("ok"===o.tag)return o;p.push(o),h=h._1}return C(p);case"fail":return j(t.msg);case"succeed":return O(t.msg)}}function L(t,e){if(t===e)return!0;if(t.tag!==e.tag)return!1;switch(t.tag){case"succeed":case"fail":return t.msg===e.msg;case"bool":case"int":case"float":case"string":case"value":return!0;case"null":return t.value===e.value;case"list":case"array":case"maybe":case"key-value":return L(t.decoder,e.decoder);case"field":return t.field===e.field&&L(t.decoder,e.decoder);case"index":return t.index===e.index&&L(t.decoder,e.decoder);case"map-many":return t.func===e.func&&F(t.decoders,e.decoders);case"andThen":return t.callback===e.callback&&L(t.decoder,e.decoder);case"oneOf":return F(t.decoders,e.decoders)}}function F(t,e){var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++)if(!L(t[n],e[n]))return!1;return!0}function $(t,e){return JSON.stringify(e,null,t)}function V(t){return t}function H(t){for(var e={};"[]"!==t.ctor;){var r=t._0;e[r._0]=r._1,t=t._1}return e}return{encode:e($),runOnString:e(B),run:e(R),decodeNull:_,decodePrimitive:f,decodeContainer:e(l),decodeField:e(d),decodeIndex:e(p),map1:e(b),map2:r(w),map3:n(T),map4:o(k),map5:u(S),map6:c(E),map7:i(x),map8:a(A),decodeKeyValuePairs:h,andThen:e(m),fail:s,succeed:t,oneOf:y,identity:V,encodeNull:null,encodeArray:Fe.toJSArray,encodeList:W.toArray,encodeObject:H,equality:L}}(),Ur=($r.encodeList,$r.encodeArray,$r.encodeObject),Vr=$r.encodeNull,Jr=$r.identity,Hr=$r.identity,zr=$r.identity,Wr=$r.identity,Gr=($r.encode,$r.decodeNull),Kr=$r.decodePrimitive("value"),Xr=$r.andThen,Qr=$r.fail,Yr=$r.succeed,Zr=$r.run,tn=$r.runOnString,en=($r.map8,$r.map7,$r.map6,$r.map5,$r.map4),rn=$r.map3,nn=$r.map2,on=$r.map1,un=$r.oneOf,cn=function(t){return s($r.decodeContainer,"maybe",t)},an=$r.decodeIndex,sn=$r.decodeField,fn=e(function(t,e){return f(ot,sn,e,t)}),ln=($r.decodeKeyValuePairs,function(t){return s($r.decodeContainer,"list",t)}),_n=$r.decodePrimitive("float"),dn=$r.decodePrimitive("int"),pn=$r.decodePrimitive("bool"),hn=$r.decodePrimitive("string"),vn=Yr,gn=(Xr(T),nn(e(function(t,e){return e(t)}))),mn=r(function(t,e,r){var n=function(t){return un({ctor:"::",_0:t,_1:{ctor:"::",_0:Gr(r),_1:{ctor:"[]"}}})};return s(Xr,function(o){var u=s(Zr,t,o);if("Ok"===u.ctor){var c=s(Zr,n(e),u._0);return"Ok"===c.ctor?Yr(c._0):Qr(c._0)}return Yr(r)},Kr)}),yn=(n(function(t,e,r,n){return s(gn,f(mn,s(fn,t,Kr),e,r),n)}),n(function(t,e,r,n){return s(gn,f(mn,s(sn,t,Kr),e,r),n)})),bn=(r(function(t,e,r){return s(gn,s(fn,t,e),r)}),r(function(t,e,r){return s(gn,s(sn,t,e),r)})),wn=(e(function(t,e){return{locale:t,includeSeconds:e}}),function(t){return{ctor:"AlmostXYears",_0:t}}),Tn=function(t){return{ctor:"OverXYears",_0:t}},kn=function(t){return{ctor:"AboutXYears",_0:t}},Sn=function(t){return{ctor:"XMonths",_0:t}},En=function(t){return{ctor:"AboutXMonths",_0:t}},xn=function(t){return{ctor:"XDays",_0:t}},An=function(t){return{ctor:"AboutXHours",_0:t}},On=function(t){return{ctor:"XMinutes",_0:t}},qn=function(t){return{ctor:"LessThanXMinutes",_0:t}},In={ctor:"HalfAMinute"},Nn=function(t){return{ctor:"LessThanXSeconds",_0:t}},Cn=function(){function t(t){var e=new Date(t);return isNaN(e.getTime())?Ct("Unable to parse '"+t+"' as a date. Dates must be in the ISO 8601 format."):Mt(e)}var e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return{fromString:t,year:function(t){return t.getFullYear()},month:function(t){return{ctor:r[t.getMonth()]}},day:function(t){return t.getDate()},hour:function(t){return t.getHours()},minute:function(t){return t.getMinutes()},second:function(t){return t.getSeconds()},millisecond:function(t){return t.getMilliseconds()},toTime:function(t){return t.getTime()},fromTime:function(t){return new Date(t)},dayOfWeek:function(t){return{ctor:e[t.getDay()]}}}}(),jn=ye.onError,Mn=ye.andThen,Dn=e(function(t,e){var r=e;return ye.spawn(s(Mn,Oe(t),r._0))}),Bn=ye.fail,Rn=(e(function(t,e){return s(jn,function(e){return Bn(t(e))},e)}),ye.succeed),Pn=e(function(t,e){return s(Mn,function(e){return Rn(t(e))},e)}),Ln=r(function(t,e,r){return s(Mn,function(e){return s(Mn,function(r){return Rn(s(t,e,r))},r)},e)}),Fn=(n(function(t,e,r,n){return s(Mn,function(e){return s(Mn,function(r){return s(Mn,function(n){return Rn(f(t,e,r,n))},n)},r)},e)}),o(function(t,e,r,n,o){return s(Mn,function(e){return s(Mn,function(r){return s(Mn,function(n){return s(Mn,function(o){return Rn(l(t,e,r,n,o))},o)},n)},r)},e)}),u(function(t,e,r,n,o,u){return s(Mn,function(e){return s(Mn,function(r){return s(Mn,function(n){return s(Mn,function(o){return s(Mn,function(u){return Rn(_(t,e,r,n,o,u))},u)},o)},n)},r)},e)}),function(t){var r=t;return"[]"===r.ctor?Rn({ctor:"[]"}):f(Ln,e(function(t,e){return{ctor:"::",_0:t,_1:e}}),r._0,Fn(r._1))}),$n=r(function(t,e,r){return s(Pn,function(t){return{ctor:"_Tuple0"}},Fn(s(dt,Dn(t),e)))}),Un=Rn({ctor:"_Tuple0"}),Vn=r(function(t,e,r){return Rn({ctor:"_Tuple0"})}),Jn=me.leaf("Task"),Hn=function(t){return{ctor:"Perform",_0:t}},zn=e(function(t,e){return Jn(Hn(s(Pn,t,e)))}),Wn=e(function(t,e){return Jn(Hn(s(jn,function(e){return Rn(t(Ct(e)))},s(Mn,function(e){return Rn(t(Mt(e)))},e))))}),Gn=e(function(t,e){return Hn(s(Pn,t,e._0))});me.effectManagers.Task={pkg:"elm-lang/core",init:Un,onEffects:$n,onSelfMsg:Vn,tag:"cmd",cmdMap:Gn};var Kn=function(){function t(t,e){return ye.nativeBinding(function(r){var n=setInterval(function(){ye.rawSpawn(e)},t);return function(){clearInterval(n)}})}return{now:ye.nativeBinding(function(t){t(ye.succeed(Date.now()))}),setInterval_:e(t)}}(),Xn=Kn.setInterval_,Qn=r(function(t,e,r){var n=e;if("[]"===n.ctor)return Rn(r);var o=n._0,u=function(e){return f(Qn,t,n._1,f(Cr,o,e,r))},c=ye.spawn(s(Xn,o,s(Ae,t,o)));return s(Mn,u,c)}),Yn=e(function(t,e){var r=t,n=r._1,o=r._0,u=s(er,o,e);return"Nothing"===u.ctor?f(Cr,o,{ctor:"::",_0:n,_1:{ctor:"[]"}},e):f(Cr,o,{ctor:"::",_0:n,_1:u._0},e)}),Zn=Kn.now,to=r(function(t,e,r){var n=s(er,e,r.taggers);if("Nothing"===n.ctor)return Rn(r);var o=function(e){return Fn(s(dt,function(r){return s(Oe,t,r(e))},n._0))};return s(Mn,function(t){return Rn(r)},s(Mn,o,Zn))}),eo=me.leaf("Time"),ro=e(function(t,e){return{taggers:t,processes:e}}),no=Rn(s(ro,pr,pr)),oo=r(function(t,e,o){var u=o,c=r(function(t,e,r){var n=r;return{ctor:"_Tuple3",_0:n._0,_1:n._1,_2:s(Mn,function(t){return n._2},ye.kill(e))}}),i=n(function(t,e,r,n){var o=n;return{ctor:"_Tuple3",_0:o._0,_1:f(Cr,t,r,o._1),_2:o._2}}),a=r(function(t,e,r){var n=r;return{ctor:"_Tuple3",_0:{ctor:"::",_0:t,_1:n._0},_1:n._1,_2:n._2}}),l=f(ut,Yn,pr,e),_=d(Qe,a,i,c,l,u.processes,{ctor:"_Tuple3",_0:{ctor:"[]"},_1:pr,_2:Rn({ctor:"_Tuple0"})}),p=_._0,h=_._1,v=_._2;return s(Mn,function(t){return Rn(s(ro,l,t))},s(Mn,function(e){return f(Qn,t,p,h)},v))}),uo=e(function(t,e){return{ctor:"Every",_0:t,_1:e}}),co=e(function(t,e){return eo(s(uo,t,e))}),io=e(function(t,e){var r=e;return s(uo,r._0,function(e){return t(r._1(e))})});me.effectManagers.Time={pkg:"elm-lang/core",init:no,onEffects:oo,onSelfMsg:to,tag:"sub",subMap:io};var ao=Cn.millisecond,so=Cn.second,fo=Cn.minute,lo=Cn.hour,_o=Cn.dayOfWeek,po=Cn.day,ho=Cn.month,vo=Cn.year,go=Cn.fromTime,mo=Cn.toTime,yo=Cn.fromString,bo=(s(Pn,go,Zn),{ctor:"Sun"}),wo={ctor:"Sat"},To={ctor:"Fri"},ko={ctor:"Thu"},So={ctor:"Wed"},Eo={ctor:"Tue"},xo={ctor:"Mon"},Ao={ctor:"Dec"},Oo={ctor:"Nov"},qo={ctor:"Oct"},Io={ctor:"Sep"},No={ctor:"Aug"},Co={ctor:"Jul"},jo={ctor:"Jun"},Mo={ctor:"May"},Do={ctor:"Apr"},Bo={ctor:"Mar"},Ro={ctor:"Feb"},Po={ctor:"Jan"},Lo=function(t){switch(t.ctor){case"Mon":return 1;case"Tue":return 2;case"Wed":return 3;case"Thu":return 4;case"Fri":return 5;case"Sat":return 6;default:return 7}},Fo=function(t){switch(t){case 1:return Po;case 2:return Ro;case 3:return Bo;case 4:return Do;case 5:return Mo;case 6:return jo;case 7:return Co;case 8:return No;case 9:return Io;case 10:return qo;case 11:return Oo;default:return Ao}},$o=function(t){switch(t.ctor){case"Jan":return 1;case"Feb":return 2;case"Mar":return 3;case"Apr":return 4;case"May":return 5;case"Jun":return 6;case"Jul":return 7;case"Aug":return 8;case"Sep":return 9;case"Oct":return 10;case"Nov":return 11;default:return 12}},Uo=function(t){return v.eq(s(k["%"],t,4),0)&&!v.eq(s(k["%"],t,100),0)||v.eq(s(k["%"],t,400),0)},Vo=e(function(t,e){switch(e.ctor){case"Jan":return 31;case"Feb":return Uo(t)?29:28;case"Mar":return 31;case"Apr":return 30;case"May":return 31;case"Jun":return 30;case"Jul":case"Aug":return 31;case"Sep":return 30;case"Oct":return 31;case"Nov":return 30;default:return 31}}),Jo=e(function(t,e){switch(e.ctor){case"Jan":return 0;case"Feb":return 31;case"Mar":return Uo(t)?60:59;case"Apr":return Uo(t)?91:90;case"May":return Uo(t)?121:120;case"Jun":return Uo(t)?152:151;case"Jul":return Uo(t)?182:181;case"Aug":return Uo(t)?213:212;case"Sep":return Uo(t)?244:243;case"Oct":return Uo(t)?274:273;case"Nov":return Uo(t)?305:304;default:return Uo(t)?335:334}}),Ho=function(t){return 864e5*(t-719163)},zo=function(t){var e=s(k["%"],t,7);return 0===e?7:e},Wo=function(t){return(t/4|0)-(t/100|0)+(t/400|0)},Go=function(t){return 365*(t-1)+Wo(t-1)},Ko=e(function(t,e){return Go(t)+e}),Xo=function(t){var e=s(Ko,t,4);return e-zo(e)+1},Qo=r(function(t,e,r){return Xo(t)-1+7*(e-1)+r}),Yo=r(function(t,e,r){var n=s(Jo,t,e);return Go(t)+n+r}),Zo=e(function(t,e){return{ctor:"_Tuple2",_0:t/e|0,_1:s(R,t,e)}}),tu=function(t){var e=s(Zo,t,146097),r=e._0,n=e._1,o=s(Zo,n,36524),u=o._0,c=o._1,i=s(Zo,c,1461),a=i._0,f=i._1,l=s(Zo,f,365),_=l._0,d=l._1;return 400*r+100*u+4*a+_+(v.eq(d,0)?0:1)},eu=function(t){var e=4-zo(t);return tu(t+e)},ru=function(t){return 1+((t-Xo(eu(t)))/7|0)},nu=(e(function(t,e){for(;;){var r=e;if("[]"===r.ctor)return U;var n=r._0;if(t(n))return J(n);var o=t,u=r._1;t=o,e=u}}),r(function(t,e,r){return ru(f(Yo,t,e,r))})),ou=r(function(t,e,r){return eu(f(Yo,t,e,r))}),uu=e(function(t,e){return Ho(s(Ko,t,e))}),cu=r(function(t,e,r){return Ho(f(Qo,t,e,r))}),iu=r(function(t,e,r){return Ho(f(Yo,t,e,r))}),au=n(function(t,e,r,n){return n+1e3*r+6e4*e+36e5*t}),su=c(function(t,e,r,n,o,u,c){return Ho(f(Yo,t,e,r))+l(au,n,o,u,c)}),fu=function(t){var e=mo(t),r=x(p(su,vo(t),ho(t),po(t),lo(t),fo(t),so(t),ao(t)));return O(r-e)},lu=function(t){return fu(t)/6e4|0},_u=function(t){return f(ou,vo(t),ho(t),po(t))},du=function(t){return f(nu,vo(t),ho(t),po(t))},pu=function(t){return Lo(_o(t))},hu=function(t){var e=l(au,lo(t),fo(t),so(t),ao(t));return x(e)/x(864e5)},vu=function(t){return s(Jo,vo(t),ho(t))+po(t)},gu=function(t){return $o(ho(t))},mu=function(t){return A(function(t){return t/3}(x(gu(t))))},yu=function(){function t(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function o(t){return new RegExp(t.source,"gi")}function u(t){return new RegExp(t,"g")}function c(t,e){return null!==e.match(t)}function i(t,e,r){t="All"===t.ctor?1/0:t._0;for(var n,o=[],u=0,c=r,i=e.lastIndex,a=-1;u++<t&&(n=e.exec(c))&&a!==e.lastIndex;){for(var s=n.length-1,f=new Array(s);s>0;){var l=n[s];f[--s]=void 0===l?U:J(l)}o.push({match:n[0],submatches:W.fromArray(f),index:n.index,number:u}),a=e.lastIndex}return e.lastIndex=i,W.fromArray(o)}function a(t,e,r,n){function o(e){if(u++>=t)return e;for(var n=arguments.length-3,o=new Array(n);n>0;){var c=arguments[n];o[--n]=void 0===c?U:J(c)}return r({match:e,submatches:W.fromArray(o),index:arguments[arguments.length-2],number:u})}t="All"===t.ctor?1/0:t._0;var u=0;return n.replace(e,o)}function s(t,e,r){if((t="All"===t.ctor?1/0:t._0)===1/0)return W.fromArray(r.split(e));for(var n,o=r,u=[],c=e.lastIndex,i=e.lastIndex;t--&&(n=e.exec(o));)u.push(o.slice(c,n.index)),c=e.lastIndex;return u.push(o.slice(c)),e.lastIndex=i,W.fromArray(u)}return{regex:u,caseInsensitive:o,escape:t,contains:e(c),find:r(i),replace:n(a),split:r(s)}}(),bu=(yu.split,yu.replace),wu=yu.find,Tu=yu.contains,ku=(yu.caseInsensitive,yu.regex),Su=yu.escape,Eu=(n(function(t,e,r,n){return{match:t,submatches:e,index:r,number:n}}),function(t){return{ctor:"AtMost",_0:t}}),xu={ctor:"All"},Au=function(t){return go(mo(t)-x(6e4*lu(t)))},Ou=function(t){switch(t){case 1:case 2:case 3:return"abbreviated";case 4:return"full";case 5:return"narrow";case 6:return"short";default:return"invalid"}},qu=ku("([yYQMwdDEeabhHmsSXx])\\1*|'(?:[^']|'')*?'(?!')"),Iu=r(function(t,e,r){var n=f(te,2,v.chr("0"),S(s(k["%"],D(r),60))),o=f(te,2,v.chr("0"),S(D(r)/60|0)),u=v.cmp(r,0)>-1?"+":"-";return e&&v.eq(n,"00")?s(k["++"],u,o):s(k["++"],u,s(k["++"],o,s(k["++"],t,n)))}),Nu=function(t){var e=s(k["%"],t,100);switch(s(C,v.cmp(e,20)<0?e:s(k["%"],e,10),4)){case 0:return"th";case 1:return"st";case 2:return"nd";case 3:return"rd";case 4:return"th";default:return""}},Cu=function(t){return s(k["++"],S(t),Nu(t))},ju=function(t){var e=s(k["%"],lo(t),12);return 0===e?12:e},Mu=function(t){switch(t.ctor){case"Mon":return"Monday";case"Tue":return"Tuesday";case"Wed":return"Wednesday";case"Thu":return"Thursday";case"Fri":return"Friday";case"Sat":return"Saturday";default:return"Sunday"}},Du=function(t){switch(t.ctor){case"Jan":return"January";case"Feb":return"February";case"Mar":return"March";case"Apr":return"April";case"May":return"May";case"Jun":return"June";case"Jul":return"July";case"Aug":return"August";case"Sep":return"September";case"Oct":return"October";case"Nov":return"November";default:return"December"}},Bu={ctor:"PM"},Ru={ctor:"Noon"},Pu={ctor:"AM"},Lu={ctor:"Midnight"},Fu=function(t){var e=v.eq(fo(t),0)&&v.eq(so(t),0)&&v.eq(ao(t),0),r=lo(t);return v.eq(r,0)&&e?Lu:v.cmp(r,12)<0?Pu:v.eq(r,12)&&e?Ru:Bu},$u=r(function(t,r,n){t:for(;;){var o=ae(n),u=s(oe,1,n),c=u;switch(c){case"y":var i=o;return 2===i?s(ne,2,f(te,o,v.chr("0"),S(vo(r)))):f(te,o,v.chr("0"),S(vo(r)));case"Y":var a=o;return 2===a?s(ne,2,f(te,o,v.chr("0"),S(_u(r)))):f(te,o,v.chr("0"),S(_u(r)));case"Q":var _=o;switch(_){case 1:case 2:return S(mu(r));case 3:return s(e(function(t,e){return s(k["++"],t,e)}),"Q",S(mu(r)));case 4:return Cu(mu(r));case 5:return S(mu(r));default:return""}case"M":var d=o;switch(d){case 1:return S(gu(r));case 2:return f(te,2,v.chr("0"),S(gu(r)));case 3:return s(oe,3,Du(ho(r)));case 4:return Du(ho(r));case 5:return s(oe,1,Du(ho(r)));default:return""}case"w":var p=o;switch(p){case 1:return S(du(r));case 2:return f(te,2,v.chr("0"),S(du(r)));default:return""}case"d":var h=o;switch(h){case 1:return S(po(r));case 2:return f(te,2,v.chr("0"),S(po(r)));case 3:return Cu(po(r));default:return""}case"D":var g=o;switch(g){case 1:return S(vu(r));case 2:return f(te,2,v.chr("0"),S(vu(r)));case 3:return f(te,3,v.chr("0"),S(vu(r)));default:return""}case"E":var m=Ou(o);switch(m){case"abbreviated":return s(oe,3,Mu(_o(r)));case"full":return Mu(_o(r));case"narrow":return s(oe,1,Mu(_o(r)));case"short":return s(oe,2,Mu(_o(r)));default:return""}case"e":var y=o;switch(y){case 1:case 2:return S(pu(r));default:var b=t,w=r,T=Xt(n);t=b,r=w,n=T;continue t}case"a":var E=Fu(r),x=v.eq(E,Lu)||v.eq(E,Pu)?"A":"P",A=Ou(o);switch(A){case"abbreviated":return s(k["++"],x,"M");case"full":return s(k["++"],x,".M.");case"narrow":return x;default:return""}case"b":var O=Ou(o);switch(O){case"abbreviated":var q=Fu(r);switch(q.ctor){case"Midnight":return"mid.";case"AM":return"am";case"Noon":return"noon";default:return"pm"}case"full":var I=Fu(r);switch(I.ctor){case"Midnight":return"midnight";case"AM":return"a.m.";case"Noon":return"noon";default:return"p.m."}case"narrow":var N=Fu(r);switch(N.ctor){case"Midnight":return"md";case"AM":return"a";case"Noon":return"nn";default:return"p"}default:return""}case"h":var C=o;switch(C){case 1:return S(ju(r));case 2:return f(te,2,v.chr("0"),S(ju(r)));default:return""}case"H":var j=o;switch(j){case 1:return S(lo(r));case 2:return f(te,2,v.chr("0"),S(lo(r)));default:return""}case"m":var M=o;switch(M){case 1:return S(fo(r));case 2:return f(te,2,v.chr("0"),S(fo(r)));default:return""}case"s":var D=o;switch(D){case 1:return S(so(r));case 2:return f(te,2,v.chr("0"),S(so(r)));default:return""}case"S":return f(Zt,o,v.chr("0"),s(oe,o,f(te,3,v.chr("0"),S(ao(r)))));case"X":if(v.cmp(o,4)<0&&(t||v.eq(lu(r),0)))return"Z";var B=t,R=r,P=Kt(n);t=B,r=R,n=P;continue t;case"x":var L=t?0:lu(r),F=o;switch(F){case 1:return f(Iu,"",!0,L);case 2:return f(Iu,"",!1,L);case 3:return f(Iu,":",!1,L);default:return""}case"'":return v.eq(n,"''")?"'":l(bu,xu,ku("''"),function(t){return"'"},f(ue,1,-1,n));default:return""}}}),Uu=r(function(t,e,r){var n=t?Au(r):r;return l(bu,xu,qu,function(e){return f($u,t,n,function(t){return t.match}(e))},e)}),Vu=(function(){ku(s(k["++"],"^",s(k["++"],"(\\d{4})",s(k["++"],"(?:",s(k["++"],"(\\-)?(\\d{2})(?:\\2(\\d{2}))?",s(k["++"],"|",s(k["++"],"(\\-)?W(\\d{2})(?:\\5(\\d))?",s(k["++"],"|",s(k["++"],"\\-?(\\d{3})",s(k["++"],")?",s(k["++"],"(?:",s(k["++"],"T(\\d{2})(?:(\\:)?(\\d{2})(?:\\10(\\d{2}))?)?(\\.\\d+)?(?:(Z)|(?:([+\\-])(\\d{2})(?:\\:?(\\d{2}))?))?",")?$"))))))))))))}(),function(t){return It(Jt(t))}),Ju=(n(function(t,e,r,n){var o=s($,0,s(V,Vu,n)),u=function(){var n=s(dt,V(Vu),{ctor:"::",_0:t,_1:{ctor:"::",_0:e,_1:{ctor:"::",_0:r,_1:{ctor:"[]"}}}});t:do{if("::"===n.ctor&&"Just"===n._0.ctor&&"::"===n._1.ctor){if("Just"===n._1._0.ctor){if("::"===n._1._1.ctor){if("Just"===n._1._1._0.ctor){if("[]"===n._1._1._1.ctor)return{ctor:"_Tuple3",_0:n._0._0,_1:n._1._0._0,_2:n._1._1._0._0+o};break t}if("[]"===n._1._1._1.ctor)return{ctor:"_Tuple3",_0:n._0._0,_1:n._1._0._0+o,_2:0};break t}break t}if("::"===n._1._1.ctor&&"Nothing"===n._1._1._0.ctor&&"[]"===n._1._1._1.ctor)return{ctor:"_Tuple3",_0:n._0._0+o,_1:0,_2:0};break t}break t}while(!1);return{ctor:"_Tuple3",_0:0,_1:0,_2:0}}(),c=u._0,i=u._1,a=u._2;return I(c*x(36e5)+i*x(6e4)+a*x(1e3))}),function(t){return It(Ht(t))}),Hu=(u(function(t,e,r,n,o,u){var c=s($,1,Ju(t)),i={ctor:"_Tuple2",_0:e,_1:n};t:do{if("_Tuple2"===i.ctor){if("Just"===i._0.ctor){if("Nothing"===i._1.ctor)return f(iu,c,Fo(s($,1,s(V,Ju,e))),s($,1,s(V,Ju,r)));break t}if("Just"===i._1.ctor)return f(cu,c,s($,1,s(V,Ju,n)),s($,1,s(V,Ju,o)));break t}break t}while(!1);return s(uu,c,s($,1,s(V,Ju,u)))}),n(function(t,e,r,n){var o={ctor:"_Tuple2",_0:t,_1:e};t:do{if("_Tuple2"===o.ctor){if("Just"===o._0.ctor){if("Z"===o._0._0&&"Nothing"===o._1.ctor)return J(0);break t}if("Just"===o._1.ctor){var u=s($,0,s(V,Ju,n)),c=s($,0,s(V,Ju,r));return J((v.eq(o._1._0,"+")?1:-1)*(60*c+u))}break t}break t}while(!1);return U}),function(t){return{ctor:"_Tuple7",_0:vo(t),_1:ho(t),_2:po(t),_3:lo(t),_4:fo(t),_5:so(t),_6:ao(t)}}),zu=function(t){switch(t){case 1:return Po;case 2:return Do;case 3:return Co;default:return qo}},Wu=(r(function(t,e,r){return v.cmp(mo(r),mo(t))<0?t:v.cmp(mo(r),mo(e))>0?e:r}),r(function(t,e,r){return v.cmp(t,r)<1&&v.cmp(r,e)<1||v.cmp(e,r)<1&&v.cmp(r,t)<1})),Gu=(r(function(t,e,r){return f(Wu,mo(t),mo(e),mo(r))}),e(function(t,e){return s(j,mo(t),mo(e))})),Ku=(e(function(t,e){return v.eq(mo(t),mo(e))}),lu),Xu=_u,Qu=du,Yu=pu,Zu=e(function(t,e){return B(s(k["%"],Yu(e)-Lo(t)+7,7))}),tc=hu,ec=mu,rc=gu,nc=function(t){return 12*vo(t)+rc(t)},oc=e(function(t,e){var r=function(t){return(x(po(t)-1)+tc(t))/31},n=function(t){return x(nc(t))+r(t)};return q(n(e)-n(t))}),uc=Uu(!0),cc=(uc("yyyy-MM-dd'T'HH:mm:ss.SSSXXX"),Uu(!1)),ic=(cc("yyyy-MM-dd'T'HH:mm:ss.SSSxxx"),function(t){return go(x(t))}),ac=function(t){var e=t,r=e._1,n=e._0;if("Just"===n.ctor)return ic(r-6e4*n._0);var o=Ku(ic(r)),u=ic(r-6e4*o),c=Ku(u);if(v.eq(o,c))return u;var i=ic(r-6e4*c),a=Ku(i);return v.eq(c,a)?i:u},sc=c(function(t,e,r,n,o,u,c){return ac({ctor:"_Tuple2",_0:U,_1:p(su,t,e,r,n,o,u,c)})}),fc=e(function(t,e){var r=nc(e)+t+-1,n=r/12|0,o=Fo(s(k["%"],r,12)+1),u=Hu(e),c=(u._0,u._1,u._2),i=u._3,a=u._4,f=u._5,l=u._6,_=s(C,c,s(Vo,n,o));return p(sc,n,o,_,i,a,f,l)}),lc=r(function(t,e,r){var n=Hu(r),o=n._0,u=n._1,c=n._2,i=n._3,a=n._4,f=n._5,l=n._6;switch(t.ctor){case"Millisecond":return go(mo(r)+x(e));case"Second":return go(mo(r)+x(1e3*e));case"Minute":return go(mo(r)+x(6e4*e));case"Hour":return go(mo(r)+x(36e5*e));case"Day":return p(sc,o,u,c+e,i,a,f,l);case"Month":return s(fc,e,r);case"Year":return s(fc,12*e,r);case"Quarter":return s(fc,3*e,r);case"Week":default:return p(sc,o,u,c+7*e,i,a,f,l)}}),_c=o(function(t,e,r,n,o){for(;;){if(v.cmp(mo(o),mo(n))<0)return t;var u={ctor:"::",_0:o,_1:t},c=e,i=r,a=n,s=f(lc,e,r,o);t=u,e=c,r=i,n=a,o=s}}),dc=r(function(t,e,r){return ac({ctor:"_Tuple2",_0:U,_1:f(iu,t,e,r)})}),pc=e(function(t,e){var r=Hu(e),n=r._0,o=r._1,u=r._2,c=r._3,i=r._4,a=r._5;switch(t.ctor){case"Millisecond":return e;case"Second":return p(sc,n,o,u,c,i,a,0);case"Minute":return p(sc,n,o,u,c,i,0,0);case"Hour":return p(sc,n,o,u,c,0,0,0);case"Day":return f(dc,n,o,u);case"Month":return f(dc,n,o,1);case"Year":return f(dc,n,Po,1);case"Quarter":return f(dc,n,zu(ec(e)),1);case"Week":case"Monday":return f(dc,n,o,u+s(Zu,xo,e));case"Tuesday":return f(dc,n,o,u+s(Zu,Eo,e));case"Wednesday":return f(dc,n,o,u+s(Zu,So,e));case"Thursday":return f(dc,n,o,u+s(Zu,ko,e));case"Friday":return f(dc,n,o,u+s(Zu,To,e));case"Saturday":return f(dc,n,o,u+s(Zu,wo,e));default:return f(dc,n,o,u+s(Zu,bo,e))}}),hc=e(function(t,e){var r=s(pc,t,e);return v.eq(mo(e),mo(r))?e:f(lc,t,1,r)}),vc=(n(function(t,e,r,n){var o=B(s(N,1,e));return _(_c,{ctor:"[]"},t,o,r,s(hc,t,f(lc,t,o,n)))}),r(function(t,e,r){var n=t,o=e,u=r;return ac({ctor:"_Tuple2",_0:n._0,_1:u._0+o._0})}),function(t){return{ctor:"Offset",_0:t}}),gc=(vc(J(0)),vc(U),function(t){return{ctor:"TimeMS",_0:t}}),mc=(gc(0),n(function(t,e,r,n){return gc(l(au,t,e,r,n))}),function(t){return{ctor:"DateMS",_0:t}}),yc=(r(function(t,e,r){return mc(f(iu,t,e,r))}),e(function(t,e){return mc(s(uu,t,e))}),r(function(t,e,r){return mc(f(cu,t,e,r))}),{ctor:"Year"}),bc={ctor:"Month"},wc={ctor:"Day"},Tc=r(function(t,e,r){var n=O(mo(r)-mo(e)),o=t;switch(o.ctor){case"Millisecond":return n;case"Second":return n/1e3|0;case"Minute":return n/6e4|0;case"Hour":return n/36e5|0;case"Day":return n/864e5|0;case"Month":return s(oc,e,r);case"Year":return s(oc,e,r)/12|0;case"Quarter":return s(oc,e,r)/3|0;case"Week":return f(Tc,wc,e,r)/7|0;default:var u=o;return f(Tc,wc,s(pc,u,e),s(pc,u,r))/7|0}}),kc={ctor:"Hour"},Sc={ctor:"Minute"},Ec=r(function(t,e,r){t:for(;;){var n=t;switch(n.ctor){case"Millisecond":return v.eq(mo(e),mo(r));case"Second":return v.eq(so(e),so(r))&&f(Ec,Sc,e,r);case"Minute":return v.eq(fo(e),fo(r))&&f(Ec,kc,e,r);case"Hour":return v.eq(lo(e),lo(r))&&f(Ec,wc,e,r);case"Day":return v.eq(po(e),po(r))&&f(Ec,bc,e,r);case"Month":return v.eq(ho(e),ho(r))&&f(Ec,yc,e,r);case"Year":return v.eq(vo(e),vo(r));case"Quarter":return v.eq(ec(e),ec(r))&&f(Ec,yc,e,r);case"Week":return v.eq(Qu(e),Qu(r))&&v.eq(Xu(e),Xu(r));default:var o=n,u=wc,c=s(pc,o,e),i=s(pc,o,r);t=u,e=c,r=i;continue t}}}),xc={ctor:"Second"},Ac=function(t){return Kt(S(t))},Oc=function(t){return"Minute"===t.ctor?s(k["++"],"a ",Ac(t)):s(k["++"],"1 ",Ac(t))},qc=r(function(t,e,r){return 1===r?s(k["++"],t,s(k["++"]," ",Oc(e))):s(k["++"],t,s(k["++"]," ",s(k["++"],S(r),s(k["++"]," ",s(k["++"],Ac(e),"s")))))}),Ic=e(function(t,e){return 1===e?s(k["++"],"1 ",Ac(t)):s(k["++"],S(e),s(k["++"]," ",s(k["++"],Ac(t),"s")))}),Nc=function(t){var e=t;switch(e.ctor){case"LessThanXSeconds":return f(qc,"less than",xc,e._0);case"HalfAMinute":return"half a minute";case"LessThanXMinutes":return f(qc,"less than",Sc,e._0);case"XMinutes":return s(Ic,Sc,e._0);case"AboutXHours":return f(qc,"about",kc,e._0);case"XDays":return s(Ic,wc,e._0);case"AboutXMonths":return f(qc,"about",bc,e._0);case"XMonths":return s(Ic,bc,e._0);case"AboutXYears":return f(qc,"about",yc,e._0);case"OverXYears":return f(qc,"over",yc,e._0);default:return f(qc,"almost",yc,e._0)}},Cc=r(function(t,e,r){var n=t,o=Nc(r);return n.addSuffix?v.eq(e,P)?s(k["++"],"in ",o):s(k["++"],o," ago"):o}),jc=function(t){var e=I(x(t)/60);return An(e)},Mc=function(t){return v.cmp(t,5)<0?Nn(5):v.cmp(t,10)<0?Nn(10):v.cmp(t,20)<0?Nn(20):v.cmp(t,40)<0?In:v.cmp(t,60)<0?qn(1):On(1)},Dc={locale:Cc({addSuffix:!1}),includeSeconds:!1},Bc=function(t){var e=I(x(t)/43200);return En(e)},Rc=function(t){var e=I(x(t)/43200);return Sn(e)},Pc=r(function(t,e,r){var n=f(Tc,bc,e,r);if(v.cmp(n,12)<0)return Rc(t);var o=O(x(n)/12),u=s(k["%"],n,12);return v.cmp(u,3)<0?kn(o):v.cmp(u,9)<0?Tn(o):wn(o+1)}),Lc=function(t){var e=I(x(t)/1440);return xn(e)},Fc=r(function(t,e,r){var n=Ku(e)-Ku(r),o=f(Tc,xc,e,r),u=I(x(o)/60)-n;return t&&v.cmp(u,2)<0?Mc(o):v.eq(u,0)?qn(1):v.cmp(u,2)<0?On(u):v.cmp(u,45)<0?On(u):v.cmp(u,90)<0?An(1):v.cmp(u,1440)<0?jc(u):v.cmp(u,2520)<0?xn(1):v.cmp(u,43200)<0?Lc(u):v.cmp(u,86400)<0?Bc(u):f(Pc,u,e,r)}),$c=r(function(t,e,r){var n=t,o=s(Gu,e,r),u=v.eq(o,P)?{ctor:"_Tuple2",_0:e,_1:r}:{ctor:"_Tuple2",_0:r,_1:e},c=u._0,i=u._1,a=f(Fc,n.includeSeconds,c,i);return n.locale(o)(a)}),Uc=($c(Dc),e(function(t,e){var r=e;return{ctor:"_Tuple2",_0:r._0,_1:s(ke,t,r._1)}}),e(function(t,e){var r=e;return{ctor:"_Tuple2",_0:r._0,_1:be({ctor:"::",_0:r._1,_1:{ctor:"::",_0:t,_1:{ctor:"[]"}}})}}),e(function(t,e){var r=e;return{ctor:"_Tuple2",_0:t(r._0),_1:r._1}}),e(function(t,e){return t?e:T}),r(function(t,e,r){var n=r,o=s(t,e,n._0),u=o._0,c=o._1;return{ctor:"_Tuple2",_0:u,_1:be({ctor:"::",_0:n._1,_1:{ctor:"::",_0:c,_1:{ctor:"[]"}}})}})),Vc=r(function(t,e,r){var n=Uc(t);return f(ut,n,r,e)}),Jc=(r(function(t,e,n){var o=n;return f(ze,r(function(e,r,n){return s(t,e,n)}),e,o._0)}),r(function(t,e,n){var o=n;return f(Xe,r(function(e,r,n){return s(t,e,n)}),e,o._0)})),Hc=function(t){return We(t._0)},zc=e(function(t,e){return s(rr,t,e._0)}),Wc=function(t){return{ctor:"Set_elm_builtin",_0:t}},Gc=Wc(pr),Kc=function(t){return Wc(s(jr,t,{ctor:"_Tuple0"}))},Xc=e(function(t,e){return Wc(f(Cr,t,{ctor:"_Tuple0"},e._0))}),Qc=function(t){return f(ut,Xc,Gc,t)},Yc=(e(function(t,e){return Qc(s(dt,t,Hc(e)))}),e(function(t,e){return Wc(s(Lr,t,e._0))})),Zc=(e(function(t,e){var r=t,n=e;return Wc(s(Mr,r._0,n._0))}),e(function(t,e){var r=t,n=e;return Wc(s(Br,r._0,n._0))}),e(function(t,e){var r=t,n=e;return Wc(s(Fr,r._0,n._0))}),e(function(t,r){var n=r;return Wc(s(Dr,e(function(e,r){return t(e)}),n._0))}),e(function(t,r){var n=r,o=s(Rr,e(function(e,r){return t(e)}),n._0),u=o._0,c=o._1;return{ctor:"_Tuple2",_0:Wc(u),_1:Wc(c)}}),e(function(t,r){var n=function(t){var e=t,r=lt(e._1);return"Just"===r.ctor?{ctor:"::",_0:r._0(e._0),_1:{ctor:"[]"}}:{ctor:"[]"}};return s(e(function(t,r){for(;;){var o=t,u=o._0,c=o._1;if("Just"!==c.ctor)return r;var i=c._0,a={ctor:"_Tuple2",_0:u,_1:ft(i)},f=s(e(function(t,e){return s(k["++"],t,e)}),r,n({ctor:"_Tuple2",_0:u,_1:i}));t=a,r=f}}),{ctor:"_Tuple2",_0:r,_1:J(t)},{ctor:"[]"})})),ti=(e(function(t,e){var r=t;return{ctor:"_Tuple4",_0:r._0(e),_1:r._1(e),_2:r._2(e),_3:r._3(e)}}),e(function(t,e){var r=t;return{ctor:"_Tuple3",_0:r._0(e),_1:r._1(e),_2:r._2(e)}})),ei=e(function(t,e){var r=t;return{ctor:"_Tuple2",_0:r._0(e),_1:r._1(e)}}),ri=(e(function(t,e){var r=e;return l(t,r._0,r._1,r._2,r._3)}),e(function(t,e){var r=e;return f(t,r._0,r._1,r._2)})),ni=(o(function(t,e,r,n,o){return t({ctor:"_Tuple4",_0:e,_1:r,_2:n,_3:o})}),n(function(t,e,r,n){return t({ctor:"_Tuple3",_0:e,_1:r,_2:n})}),e(function(t,e){var r=e;return{ctor:"_Tuple4",_0:t(r._0),_1:t(r._1),_2:t(r._2),_3:t(r._3)}}),e(function(t,e){var r=e;return{ctor:"_Tuple3",_0:t(r._0),_1:t(r._1),_2:t(r._2)}}),e(function(t,e){var r=e;return{ctor:"_Tuple2",_0:t(r._0),_1:t(r._1)}}),e(function(t,e){return v.cmp(t,0)<0?U:lt(s(Q,t,e))}),e(function(t,r){var n=s(Et,1,r);return"::"===n.ctor?"Ok"===n._0.ctor&&"[]"===n._1.ctor?s(Dt,e(function(t,e){return{ctor:"::",_0:t,_1:e}})(n._0._0),s(ni,t,s(Q,1,r))):Ct(t):Mt({ctor:"[]"})})),oi=(e(function(t,e){var r=e;return"_Tuple4"===r.ctor&&"Ok"===r._0.ctor&&"Ok"===r._1.ctor&&"Ok"===r._2.ctor&&"Ok"===r._3.ctor?Mt({ctor:"_Tuple4",_0:r._0._0,_1:r._1._0,_2:r._2._0,_3:r._3._0}):Ct(t)}),e(function(t,e){var r=e;return"_Tuple3"===r.ctor&&"Ok"===r._0.ctor&&"Ok"===r._1.ctor&&"Ok"===r._2.ctor?Mt({ctor:"_Tuple3",_0:r._0._0,_1:r._1._0,_2:r._2._0}):Ct(t)}),e(function(t,e){var r=e;return"_Tuple2"===r.ctor&&"Ok"===r._0.ctor&&"Ok"===r._1.ctor?Mt({ctor:"_Tuple2",_0:r._0._0,_1:r._1._0}):Ct(t)}),function(t){var e=t;return"_Tuple2"===e.ctor&&"Just"===e._0.ctor&&"Just"===e._1.ctor?J({ctor:"_Tuple2",_0:e._0._0,_1:e._1._0}):U}),ui=(e(function(t,e){var r=t(e);return"Ok"===r.ctor?r._0:e}),e(function(t,e){var r=t;return v.cmp(e,r._0)>0&&v.cmp(e,r._1)<0}),e(function(t,e){var r=t;return v.cmp(e,r._0)>-1&&v.cmp(e,r._1)<1}),e(function(t,e){return s(at,e,t)}),e(function(t,r){var n=x(s(e(function(t,e){return Math.pow(t,e)}),10,t));return f(b,e(function(t,e){return t/e}),n,x(I(s(e(function(t,e){return t*e}),n,r))))}),ui||{});ui["!+>"]=e(function(t,e){return s(jt,e,t)});var ui=ui||{};ui["?+>"]=e(function(t,e){return s(V,e,t)});var ui=ui||{};ui["!|>"]=e(function(t,e){return s(Dt,e,t)});var ui=ui||{};ui["?|>"]=e(function(t,e){return s(H,e,t)});var ui=ui||{};ui["!="]=e(function(t,e){return s(Nt,e,t)});var ui=ui||{};ui["?="]=e(function(t,e){return s($,e,t)});var ui=ui||{};ui["@@|>"]=e(function(t,e){return s(m,e,t)});var ui=ui||{};ui["..|>"]=e(function(t,e){var r=t;return{ctor:"_Tuple2",_0:e(r._0),_1:e(r._1)}});var ui=ui||{};ui[":|>"]=e(function(t,e){return e({ctor:"::",_0:t,_1:{ctor:"[]"}})});var ui=ui||{};ui[".|>"]=e(function(t,e){return s(dt,e,t)});var ui=ui||{};ui["||>"]=e(function(t,e){return e(t)});var ui=ui||{};ui["#"]=e(function(t,e){return s(b,t,e)});var ui=ui||{};ui[":|::"]=e(function(t,e){return{ctor:"::",_0:t,_1:{ctor:"::",_0:e,_1:{ctor:"[]"}}}});var ui=ui||{};ui[":|++"]=e(function(t,e){return{ctor:"::",_0:t,_1:e}});var ui=ui||{};ui["|::"]=e(function(t,e){return s(k["++"],t,{ctor:"::",_0:e,_1:{ctor:"[]"}})});var ui=ui||{};ui["|++"]=e(function(t,e){return s(k["++"],t,e)});var ci,ii=(s(fn,{ctor:"::",_0:"className",_1:{ctor:"[]"}},hn),s(sn,"scrollTop",_n)),ai=s(sn,"scrollLeft",_n),si=s(sn,"offsetTop",_n),fi=s(sn,"offsetLeft",_n),li=s(sn,"offsetHeight",_n),_i=s(sn,"offsetWidth",_n),di=function(t){return s(sn,"parentElement",t)},pi=e(function(t,e){return un({ctor:"::",_0:s(sn,"offsetParent",Gr(t)),_1:{ctor:"::",_0:s(sn,"offsetParent",e),_1:{ctor:"[]"}}})}),hi=e(function(t,e){return s(Xr,function(t){var e=t,r=e._1,n=e._0;return s(pi,{ctor:"_Tuple2",_0:n,_1:r},s(hi,n,r))},_(en,n(function(r,n,o,u){return{ctor:"_Tuple2",_0:t+o-r,_1:e+u-n}}),ai,ii,fi,si))}),vi=(l(rn,r(function(t,e,r){var n=t;return{top:n._1,left:n._0,width:e,height:r}}),s(hi,0,0),_i,li),function(t){return s(sn,"target",t)}),gi=(n(function(t,e,r,n){return{top:t,left:e,width:r,height:n}}),function(){function t(t){return{type:"text",text:t}}function o(t){return e(function(e,r){return u(t,e,r)})}function u(t,e,r){for(var n=h(e),o=n.namespace,u=n.facts,c=[],i=0;"[]"!==r.ctor;){var a=r._0;i+=a.descendantsCount||0,c.push(a),r=r._1}return i+=c.length,{type:"node",tag:t,facts:u,children:c,namespace:o,descendantsCount:i}}function c(t,e,r){for(var n=h(e),o=n.namespace,u=n.facts,c=[],i=0;"[]"!==r.ctor;){var a=r._0;i+=a._1.descendantsCount||0,c.push(a),r=r._1}return i+=c.length,{type:"keyed-node",tag:t,facts:u,children:c,namespace:o,descendantsCount:i}}function i(t,e,r){return{type:"custom",facts:h(t).facts,model:e,impl:r}}function a(t,e){return{type:"tagger",tagger:t,node:e,descendantsCount:1+(e.descendantsCount||0)}}function l(t,e,r){return{type:"thunk",func:t,args:e,thunk:r,node:void 0}}function _(t,e){return l(t,[e],function(){return t(e)})}function d(t,e,r){return l(t,[e,r],function(){return s(t,e,r)})}function p(t,e,r,n){return l(t,[e,r,n],function(){return f(t,e,r,n)})}function h(t){for(var e,r={};"[]"!==t.ctor;){var n=t._0,o=n.key;if(o===dt||o===pt||o===_t){var u=r[o]||{};u[n.realKey]=n.value,r[o]=u}else if(o===lt){for(var c=r[o]||{},i=n.value;"[]"!==i.ctor;){var a=i._0;c[a._0]=a._1,i=i._1}r[o]=c}else if("namespace"===o)e=n.value;else if("className"===o){var s=r[o];r[o]=void 0===s?n.value:s+" "+n.value}else r[o]=n.value;t=t._1}return{facts:r,namespace:e}}function g(t){return{key:lt,value:t}}function m(t,e){return{key:t,value:e}}function y(t,e){return{key:dt,realKey:t,value:e}}function b(t,e,r){return{key:pt,realKey:e,value:{value:r,namespace:t}}}function w(t,e,r){return{key:_t,realKey:t,value:{options:e,decoder:r}}}function T(t,e){return(t.options===e.options||t.options.stopPropagation===e.options.stopPropagation&&t.options.preventDefault===e.options.preventDefault)&&$r.equality(t.decoder,e.decoder)}function k(t,e){return e.key!==_t?e:w(e.realKey,e.value.options,s(on,t,e.value.decoder))}function S(t,e){switch(t.type){case"thunk":return t.node||(t.node=t.thunk()),S(t.node,e);case"tagger":for(var r=t.node,n=t.tagger;"tagger"===r.type;)"object"!=typeof n?n=[n,r.tagger]:n.push(r.tagger),r=r.node;var o={tagger:n,parent:e},u=S(r,o);return u.elm_event_node_ref=o,u;case"text":return ht.createTextNode(t.text);case"node":var u=t.namespace?ht.createElementNS(t.namespace,t.tag):ht.createElement(t.tag);E(u,e,t.facts);for(var c=t.children,i=0;i<c.length;i++)u.appendChild(S(c[i],e));return u;case"keyed-node":var u=t.namespace?ht.createElementNS(t.namespace,t.tag):ht.createElement(t.tag);E(u,e,t.facts);for(var c=t.children,i=0;i<c.length;i++)u.appendChild(S(c[i]._1,e));return u;case"custom":var u=t.impl.render(t.model);return E(u,e,t.facts),u}}function E(t,e,r){for(var n in r){var o=r[n];switch(n){case lt:x(t,o);break;case _t:A(t,e,o);break;case dt:q(t,o);break;case pt:I(t,o);break;case"value":t[n]!==o&&(t[n]=o);break;default:t[n]=o}}}function x(t,e){var r=t.style;for(var n in e)r[n]=e[n]}function A(t,e,r){var n=t.elm_handlers||{};for(var o in r){var u=n[o],c=r[o];if(void 0===c)t.removeEventListener(o,u),n[o]=void 0;else if(void 0===u){var u=O(e,c);t.addEventListener(o,u),n[o]=u}else u.info=c}t.elm_handlers=n}function O(t,e){function r(e){var n=r.info,o=s($r.run,n.decoder,e);if("Ok"===o.ctor){var u=n.options;u.stopPropagation&&e.stopPropagation(),u.preventDefault&&e.preventDefault();for(var c=o._0,i=t;i;){var a=i.tagger;if("function"==typeof a)c=a(c);else for(var f=a.length;f--;)c=a[f](c);i=i.parent}}}return r.info=e,r}function q(t,e){for(var r in e){var n=e[r];void 0===n?t.removeAttribute(r):t.setAttribute(r,n)}}function I(t,e){for(var r in e){var n=e[r],o=n.namespace,u=n.value;void 0===u?t.removeAttributeNS(o,r):t.setAttributeNS(o,r,u)}}function N(t,e){var r=[];return j(t,e,r,0),r}function C(t,e,r){return{index:e,type:t,data:r,domNode:void 0,eventNode:void 0}}function j(t,e,r,n){if(t!==e){var o=t.type,u=e.type;if(o!==u)return void r.push(C("p-redraw",n,e));switch(u){case"thunk":for(var c=t.args,i=e.args,a=c.length,s=t.func===e.func&&a===i.length;s&&a--;)s=c[a]===i[a];if(s)return void(e.node=t.node);e.node=e.thunk();var f=[];return j(t.node,e.node,f,0),void(f.length>0&&r.push(C("p-thunk",n,f)));case"tagger":for(var l=t.tagger,_=e.tagger,d=!1,p=t.node;"tagger"===p.type;)d=!0,"object"!=typeof l?l=[l,p.tagger]:l.push(p.tagger),p=p.node;for(var h=e.node;"tagger"===h.type;)d=!0,"object"!=typeof _?_=[_,h.tagger]:_.push(h.tagger),h=h.node;return d&&l.length!==_.length?void r.push(C("p-redraw",n,e)):((d?M(l,_):l===_)||r.push(C("p-tagger",n,_)),void j(p,h,r,n+1));case"text":if(t.text!==e.text)return void r.push(C("p-text",n,e.text));return;case"node":if(t.tag!==e.tag||t.namespace!==e.namespace)return void r.push(C("p-redraw",n,e));var v=D(t.facts,e.facts);return void 0!==v&&r.push(C("p-facts",n,v)),void B(t,e,r,n);case"keyed-node":if(t.tag!==e.tag||t.namespace!==e.namespace)return void r.push(C("p-redraw",n,e));var v=D(t.facts,e.facts);return void 0!==v&&r.push(C("p-facts",n,v)),void R(t,e,r,n);case"custom":if(t.impl!==e.impl)return void r.push(C("p-redraw",n,e));var v=D(t.facts,e.facts);void 0!==v&&r.push(C("p-facts",n,v));var g=e.impl.diff(t,e);if(g)return void r.push(C("p-custom",n,g));return}}}function M(t,e){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function D(t,e,r){var n;for(var o in t)if(o!==lt&&o!==_t&&o!==dt&&o!==pt)if(o in e){var u=t[o],c=e[o];u===c&&"value"!==o||r===_t&&T(u,c)||(n=n||{},n[o]=c)}else n=n||{},n[o]=void 0===r?"string"==typeof t[o]?"":null:r===lt?"":r===_t||r===dt?void 0:{namespace:t[o].namespace,value:void 0};else{var i=D(t[o],e[o]||{},o);i&&(n=n||{},n[o]=i)}for(var a in e)a in t||(n=n||{},n[a]=e[a]);return n}function B(t,e,r,n){var o=t.children,u=e.children,c=o.length,i=u.length;c>i?r.push(C("p-remove-last",n,c-i)):c<i&&r.push(C("p-append",n,u.slice(c)));for(var a=n,s=c<i?c:i,f=0;f<s;f++){a++;var l=o[f];j(l,u[f],r,a),a+=l.descendantsCount||0}}function R(t,e,r,n){for(var o=[],u={},c=[],i=t.children,a=e.children,s=i.length,f=a.length,l=0,_=0,d=n;l<s&&_<f;){var p=i[l],h=a[_],v=p._0,g=h._0,m=p._1,y=h._1;if(v!==g){var b=l+1<s,w=_+1<f;if(b)var T=i[l+1],k=T._0,S=T._1,E=g===k;if(w)var x=a[_+1],A=x._0,O=x._1,q=v===A;if(b&&w&&q&&E)d++,j(m,O,o,d),P(u,o,v,y,_,c),d+=m.descendantsCount||0,d++,L(u,o,v,S,d),d+=S.descendantsCount||0,l+=2,_+=2;else if(w&&q)d++,P(u,o,g,y,_,c),j(m,O,o,d),d+=m.descendantsCount||0,l+=1,_+=2;else if(b&&E)d++,L(u,o,v,m,d),d+=m.descendantsCount||0,d++,j(S,y,o,d),d+=S.descendantsCount||0,l+=2,_+=1;else{if(!b||!w||k!==A)break;d++,L(u,o,v,m,d),P(u,o,g,y,_,c),d+=m.descendantsCount||0,d++,j(S,O,o,d),d+=S.descendantsCount||0,l+=2,_+=2}}else d++,j(m,y,o,d),d+=m.descendantsCount||0,l++,_++}for(;l<s;){d++;var p=i[l],m=p._1;L(u,o,p._0,m,d),d+=m.descendantsCount||0,l++}for(var I;_<f;){I=I||[];var h=a[_];P(u,o,h._0,h._1,void 0,I),_++}(o.length>0||c.length>0||void 0!==I)&&r.push(C("p-reorder",n,{patches:o,inserts:c,endInserts:I}))}function P(t,e,r,n,o,u){var c=t[r];if(void 0===c)return c={tag:"insert",vnode:n,index:o,data:void 0},u.push({index:o,entry:c}),void(t[r]=c);if("remove"===c.tag){u.push({index:o,entry:c}),c.tag="move";var i=[];return j(c.vnode,n,i,c.index),c.index=o,void(c.data.data={patches:i,entry:c})}P(t,e,r+vt,n,o,u)}function L(t,e,r,n,o){var u=t[r];if(void 0===u){var c=C("p-remove",o,void 0);return e.push(c),void(t[r]={tag:"remove",vnode:n,index:o,data:c})}if("insert"===u.tag){u.tag="move";var i=[];j(n,u.vnode,i,o);var c=C("p-remove",o,{patches:i,entry:u});return void e.push(c)}L(t,e,r+vt,n,o)}function F(t,e,r,n){$(t,e,r,0,0,e.descendantsCount,n)}function $(t,e,r,n,o,u,c){for(var i=r[n],a=i.index;a===o;){var s=i.type;if("p-thunk"===s)F(t,e.node,i.data,c);else if("p-reorder"===s){i.domNode=t,i.eventNode=c;var f=i.data.patches;f.length>0&&$(t,e,f,0,o,u,c)}else if("p-remove"===s){i.domNode=t,i.eventNode=c;var l=i.data;if(void 0!==l){l.entry.data=t;var f=l.patches;f.length>0&&$(t,e,f,0,o,u,c)}}else i.domNode=t,i.eventNode=c;if(n++,!(i=r[n])||(a=i.index)>u)return n}switch(e.type){case"tagger":for(var _=e.node;"tagger"===_.type;)_=_.node;return $(t,_,r,n,o+1,u,t.elm_event_node_ref);case"node":for(var d=e.children,p=t.childNodes,h=0;h<d.length;h++){o++;var v=d[h],g=o+(v.descendantsCount||0);if(o<=a&&a<=g&&(n=$(p[h],v,r,n,o,g,c),!(i=r[n])||(a=i.index)>u))return n;o=g}return n;case"keyed-node":for(var d=e.children,p=t.childNodes,h=0;h<d.length;h++){o++;var v=d[h]._1,g=o+(v.descendantsCount||0);if(o<=a&&a<=g&&(n=$(p[h],v,r,n,o,g,c),!(i=r[n])||(a=i.index)>u))return n;o=g}return n;case"text":case"thunk":throw new Error("should never traverse `text` or `thunk` nodes like this")}}function U(t,e,r,n){return 0===r.length?t:(F(t,e,r,n),V(t,r))}function V(t,e){for(var r=0;r<e.length;r++){var n=e[r],o=n.domNode,u=J(o,n);o===t&&(t=u)}return t}function J(t,e){switch(e.type){case"p-redraw":return H(t,e.data,e.eventNode);case"p-facts":return E(t,e.eventNode,e.data),t;case"p-text":return t.replaceData(0,t.length,e.data),t;case"p-thunk":return V(t,e.data);case"p-tagger":return void 0!==t.elm_event_node_ref?t.elm_event_node_ref.tagger=e.data:t.elm_event_node_ref={tagger:e.data,parent:e.eventNode},t;case"p-remove-last":for(var r=e.data;r--;)t.removeChild(t.lastChild);return t;case"p-append":for(var n=e.data,r=0;r<n.length;r++)t.appendChild(S(n[r],e.eventNode));return t;case"p-remove":var o=e.data;if(void 0===o)return t.parentNode.removeChild(t),t;var u=o.entry;return void 0!==u.index&&t.parentNode.removeChild(t),u.data=V(t,o.patches),t;case"p-reorder":return z(t,e);case"p-custom":var c=e.data;return c.applyPatch(t,c.data);default:throw new Error("Ran into an unknown patch!")}}function H(t,e,r){var n=t.parentNode,o=S(e,r);return void 0===o.elm_event_node_ref&&(o.elm_event_node_ref=t.elm_event_node_ref),n&&o!==t&&n.replaceChild(o,t),o}function z(t,e){var r=e.data,n=W(r.endInserts,e);t=V(t,r.patches);for(var o=r.inserts,u=0;u<o.length;u++){var c=o[u],i=c.entry,a="move"===i.tag?i.data:S(i.vnode,e.eventNode);t.insertBefore(a,t.childNodes[c.index])}return void 0!==n&&t.appendChild(n),t}function W(t,e){if(void 0!==t){for(var r=ht.createDocumentFragment(),n=0;n<t.length;n++){var o=t[n],u=o.entry;r.appendChild("move"===u.tag?u.data:S(u.vnode,e.eventNode))}return r}}function G(t){return e(function(e,r){return function(n){return function(o,u,c){var i=t(n,u);void 0===c?Z(r,o,u,i):rt(s(e,c,r),o,u,i)}}})}function K(t){var r=v.Tuple2(v.Tuple0,we);return s(gt,ci,{init:r,view:function(){return t},update:e(function(){return r}),subscriptions:function(){return Ee}})()}function X(t,e){return function(t,r,n){if(void 0===r)return t;Y("The `"+e+"` module does not need flags.\nInitialize it with no arguments and you should be all set!",n)}}function Q(t,e){return function(r,n,o){if(void 0===t){var u="Are you trying to sneak a Never value into Elm? Trickster!\nIt looks like "+e+".main is defined with `programWithFlags` but has type `Program Never`.\nUse `program` instead if you do not want flags.";Y(u,o)}var c=s($r.run,t,n);if("Ok"===c.ctor)return r(c._0);var u="Trying to initialize the `"+e+"` module with an unexpected flag.\nI tried to convert it to an Elm value, but ran into this problem:\n\n"+c._0;Y(u,o)}}function Y(t,e){throw e&&(e.innerHTML='<div style="padding-left:1em;"><h2 style="font-weight:normal;"><b>Oops!</b> Something went wrong when starting your Elm program.</h2><pre style="padding-left:1em;">'+t+"</pre></div>"),new Error(t)}function Z(t,e,r,n){e.embed=function(e,r){for(;e.lastChild;)e.removeChild(e.lastChild);return me.initialize(n(t.init,r,e),t.update,t.subscriptions,tt(e,t.view))},e.fullscreen=function(e){return me.initialize(n(t.init,e,document.body),t.update,t.subscriptions,tt(document.body,t.view))}}function tt(t,e){return function(r,n){var o={tagger:r,parent:void 0},u=e(n),c=S(u,o);return t.appendChild(c),et(c,e,u,o)}}function et(t,e,r,n){function o(){switch(c){case"NO_REQUEST":throw new Error("Unexpected draw callback.\nPlease report this to <https://github.com/elm-lang/virtual-dom/issues>.");case"PENDING_REQUEST":yt(o),c="EXTRA_REQUEST";var r=e(u),a=N(i,r);return t=U(t,i,a,n),void(i=r);case"EXTRA_REQUEST":return void(c="NO_REQUEST")}}var u,c="NO_REQUEST",i=r;return function(t){"NO_REQUEST"===c&&yt(o),c="PENDING_REQUEST",u=t}}function rt(t,e,r,n){e.fullscreen=function(e){var o={doc:void 0};return me.initialize(n(t.init,e,document.body),t.update(nt(o)),t.subscriptions,ot(r,document.body,o,t.view,t.viewIn,t.viewOut))},e.embed=function(e,o){var u={doc:void 0};return me.initialize(n(t.init,o,e),t.update(nt(u)),t.subscriptions,ot(r,e,u,t.view,t.viewIn,t.viewOut))}}function nt(t){return ye.nativeBinding(function(e){var r=t.doc;if(r){var n=r.getElementsByClassName("debugger-sidebar-messages")[0];n&&(n.scrollTop=n.scrollHeight)}e(ye.succeed(v.Tuple0))})}function ot(t,e,r,n,o,u){return function(c,i){var a={tagger:c,parent:void 0},s={tagger:c,parent:void 0},f=n(i),l=S(f,a);e.appendChild(l);var _=et(l,n,f,a),d=o(i)._1,p=S(d,s);e.appendChild(p);var h=it(a,p,o),v=et(p,h,d,s),g=ut(i,u,s,e,t,r);return function(t){_(t),v(t),g(t)}}}function ut(t,e,r,n,o,u){var c,i;return function(t){if(t.isDebuggerOpen){if(!u.doc)return c=e(t),void(i=ct(o,u,c,r));ht=u.doc;var n=e(t),a=N(c,n);i=U(i,c,a,r),c=n,ht=document}}}function ct(t,e,r,n){function o(){e.doc=void 0,i.close()}var u=screen.width-900,c=screen.height-360,i=window.open("","","width=900,height=360,left="+u+",top="+c);ht=i.document,e.doc=ht,ht.title="Debugger - "+t,ht.body.style.margin="0",ht.body.style.padding="0";var a=S(r,n);return ht.body.appendChild(a),ht.addEventListener("keydown",function(t){t.metaKey&&82===t.which&&window.location.reload(),38===t.which&&(n.tagger({ctor:"Up"}),t.preventDefault()),40===t.which&&(n.tagger({ctor:"Down"}),t.preventDefault())}),window.addEventListener("unload",o),i.addEventListener("unload",function(){e.doc=void 0,window.removeEventListener("unload",o),n.tagger({ctor:"Close"})}),ht=document,a}function it(t,e,r){var n,o=ft(e),u="Normal",c=t.tagger,i=function(){};return function(e){var a=r(e),s=a._0.ctor;return t.tagger="Normal"===s?c:i,u!==s&&(at("removeEventListener",o,u),at("addEventListener",o,s),"Normal"===u&&(n=document.body.style.overflow,document.body.style.overflow="hidden"),"Normal"===s&&(document.body.style.overflow=n),u=s),a._1}}function at(t,e,r){switch(r){case"Normal":return;case"Pause":return st(t,e,bt);case"Message":return st(t,e,wt)}}function st(t,e,r){for(var n=0;n<r.length;n++)document.body[t](r[n],e,!0)}function ft(t){return function(e){if("keydown"!==e.type||!e.metaKey||82!==e.which){for(var r="scroll"===e.type||"wheel"===e.type,n=e.target;null!==n;){if("elm-overlay-message-details"===n.className&&r)return;if(n===t&&!r)return;n=n.parentNode}e.stopPropagation(),e.preventDefault()}}}var lt="STYLE",_t="EVENT",dt="ATTR",pt="ATTR_NS",ht="undefined"!=typeof document?document:{},vt="_elmW6BL",gt=G(X),mt=G(Q),yt="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:function(t){setTimeout(t,1e3/60)},bt=["click","dblclick","mousemove","mouseup","mousedown","mouseenter","mouseleave","touchstart","touchend","touchcancel","touchmove","pointerdown","pointerup","pointerover","pointerout","pointerenter","pointerleave","pointermove","pointercancel","dragstart","drag","dragend","dragenter","dragover","dragleave","drop","keyup","keydown","keypress","input","change","focus","blur"],wt=bt.concat("wheel","scroll");return{node:o,text:t,custom:i,map:e(a),on:r(w),style:g,property:e(m),attribute:e(y),attributeNS:r(b),mapProperty:e(k),lazy:e(_),lazy2:r(d),lazy3:n(p),keyedNode:r(c),program:gt,programWithFlags:mt,staticProgram:K}}()),mi=function(t){return s(gi.programWithFlags,void 0,t)},yi=function(t){return s(gi.program,ci,t)},bi=gi.keyedNode,wi=(gi.lazy3,gi.lazy2,gi.lazy,{stopPropagation:!1,preventDefault:!1}),Ti=gi.on,ki=e(function(t,e){return f(Ti,t,wi,e)}),Si=gi.style,Ei=gi.mapProperty,xi=(gi.attributeNS,gi.attribute),Ai=gi.property,Oi=gi.map,qi=gi.text,Ii=gi.node,Ni=(e(function(t,e){return{stopPropagation:t,preventDefault:e}}),mi),Ci=yi,ji=Oi,Mi=qi,Di=Ii,Bi=(Di("body"),Di("section"),Di("nav"),Di("article"),Di("aside"),Di("h1"),Di("h2")),Ri=(Di("h3"),Di("h4")),Pi=(Di("h5"),Di("h6"),Di("header"),Di("footer"),Di("address"),Di("main"),Di("p"),Di("hr"),Di("pre"),Di("blockquote"),Di("ol"),Di("ul"),Di("li"),Di("dl"),Di("dt"),Di("dd"),Di("figure"),Di("figcaption"),Di("div")),Li=(Di("a"),Di("em"),Di("strong"),Di("small"),Di("s"),Di("cite"),Di("q"),Di("dfn"),Di("abbr"),Di("time"),Di("code"),Di("var"),Di("samp"),Di("kbd"),Di("sub"),Di("sup"),Di("i"),Di("b"),Di("u"),Di("mark"),Di("ruby"),Di("rt"),Di("rp"),Di("bdi"),Di("bdo"),Di("span")),Fi=(Di("br"),Di("wbr"),Di("ins"),Di("del"),Di("img"),Di("iframe"),Di("embed"),Di("object"),Di("param"),Di("video"),Di("audio"),Di("source"),Di("track"),Di("canvas"),Di("math"),Di("table"),Di("caption"),Di("colgroup"),Di("col"),Di("tbody"),Di("thead"),Di("tfoot"),Di("tr"),Di("td"),Di("th"),Di("form"),Di("fieldset"),Di("legend"),Di("label")),$i=(Di("input"),Di("button"),Di("select"),Di("datalist"),Di("optgroup"),Di("option"),Di("textarea")),Ui=(Di("keygen"),Di("output"),Di("progress"),Di("meter"),Di("details"),Di("summary"),Di("menuitem"),Di("menu"),function(t){return Di(s(k["++"],"app-",t))}),Vi=Ui("drawer"),Ji=Ui("drawer-layout"),Hi=Ui("header"),zi=Ui("header-layout"),Wi=(Ui("route"),Ui("toolbar")),Gi=Ei,Ki=xi,Xi=function(t){return s(Ki,"tabIndex",S(t))},Qi=Ai,Yi=e(function(t,e){return s(Qi,t,Wr(e))}),Zi=function(t){return s(Yi,"className",t)},ta=function(t){return s(Yi,"id",t)},ea=function(t){return s(Yi,"type",t)},ra=function(t){return s(Yi,"value",t)},na=function(t){return s(Yi,"defaultValue",t)},oa=e(function(t,e){return s(Qi,t,Jr(e))}),ua=function(t){return s(oa,"checked",t)},ca=function(t){return Zi(s(ce," ",s(dt,ge,s(pt,ve,t))))},ia=Si,aa=e(function(t,e){return s(Qi,t,Wr(e))}),sa=(aa("selected"),aa("path"),aa("label"),aa("icon")),fa=e(function(t,e){return s(Qi,t,Jr(e))}),la=(aa("attrForSelected"),s(sn,"keyCode",dn),s(fn,{ctor:"::",_0:"target",_1:{ctor:"::",_0:"checked",_1:{ctor:"[]"}}},pn),s(fn,{ctor:"::",_0:"target",_1:{ctor:"::",_0:"value",_1:{ctor:"[]"}}},hn)),_a=wi,da=Ti,pa=ki,ha=function(t){return s(pa,"focus",Yr(t))},va=function(t){return s(pa,"blur",Yr(t))},ga=(v.update(_a,{preventDefault:!0}),function(t){return s(pa,"input",s(on,t,la))}),ma=function(t){return s(pa,"click",Yr(t))},ya=(e(function(t,e){return{stopPropagation:t,preventDefault:e}}),s(fn,{ctor:"::",_0:"detail",_1:{ctor:"::",_0:"value",_1:{ctor:"[]"}}},hn)),ba=e(function(t,e){return s(pa,s(k["++"],t,"-changed"),s(on,e,ya))}),wa=(ba("value"),ba("selected"),function(t){Di(s(k["++"],"firebase-",t))}("app"),function(t){return Di(s(k["++"],"paper-",t))}),Ta=(wa("badge"),wa("behaviors"),wa("button")),ka=(wa("card"),wa("checkbox"),wa("dialog")),Sa=(wa("dialog-behavior"),wa("dialog-scrollable"),wa("drawer-panel"),wa("dropdown-menu"),wa("fab")),Ea=(wa("header-panel"),wa("icon-button")),xa=wa("input"),Aa=wa("item"),Oa=(wa("icon-item"),wa("item-body")),qa=wa("listbox"),Ia=wa("material"),Na=(wa("menu"),wa("menu-button")),Ca=(wa("progress"),wa("radio-button"),wa("radio-group"),wa("ripple"),wa("scroll-header-panel"),wa("slider"),wa("spinner"),wa("styles"),wa("tabs"),wa("tab"),wa("toast"),wa("toggle-button")),ja=(wa("toolbar"),wa("tooltip")),Ma=(e(function(t,e){return f(Xe,r(function(e,r,n){return"Just"===n.ctor?n:s(t,e,r)?J({ctor:"_Tuple2",_0:e,_1:r}):U}),U,e)}),e(function(t,e){return f(Xe,r(function(e,r,n){var o=s(t,e,r);return"Just"===o.ctor?f(Cr,e,o._0,n):n}),pr,e)}),e(function(t,e){return f(Xe,r(function(e,r,n){return f(Cr,t(e),r,n)}),pr,e)}),e(function(t,r){return f(Jc,e(function(t,e){return s($,e,s(H,function(r){return f(Cr,t,r,e)},s(er,t,r)))}),pr,t)})),Da=(e(function(t,e){return f(Jc,Lr,e,t)}),e(function(t,r){return s(Dr,e(function(e,r){return!s(t,e,r)}),r)}),e(function(t,r){return f(ut,e(function(e,r){return f(Cr,t(e),e,r)}),pr,r)}),e(function(t,r){return f(ot,e(function(r,n){return f(Nr,t(r),function(t){return J(s($,{ctor:"::",_0:r,_1:{ctor:"[]"}},s(H,e(function(t,e){return{ctor:"::",_0:t,_1:e}})(r),t)))},n)}),pr,r)})),Ba=e(function(t,e){return s(Qi,t,zr(e))}),Ra=e(function(t,e){return s(Qi,t,Hr(e))}),Pa=(Ra("volume"),e(function(t,e){return s(Qi,t,Jr(e))})),La=e(function(t,e){return s(Qi,t,Wr(e))}),Fa=(La("low"),La("high"),La("optimum"),La("innerHTML"),Gi(g),function(t){return f(da,"click",v.update(_a,{stopPropagation:!0}),Yr(t))}),$a=(s(fn,{ctor:"::",_0:"target",_1:{ctor:"::",_0:"selectedIndex",_1:{ctor:"[]"}}},s(on,function(t){return v.eq(t,-1)?U:J(t)},dn)),s(fn,{ctor:"::",_0:"target",_1:{ctor:"::",_0:"valueAsNumber",_1:{ctor:"[]"}}},dn),e(function(t,e){return s(Xr,function(t){var e=t;return"Ok"===e.ctor?Yr(e._0):Qr(e._0)},s(on,e,t))})),Ua=s($a,s(fn,{ctor:"::",_0:"target",_1:{ctor:"::",_0:"valueAsNumber",_1:{ctor:"[]"}}},_n),function(t){return E(t)?Ct("Not a number"):Mt(t)}),Va=s($a,la,function(t){return Mt(v.eq(t,"")?U:J(t))}),Ja=(s(Xr,function(t){return"Nothing"===t.ctor?Yr(U):s(on,J,Ua)},Va),function(){var t=e(function(t,e){var r=e;return"Nothing"===r.ctor?Mt(U):s(Dt,J,t(r._0))});s($a,Va,t(Ht))}(),s($a,la,Jt),s($a,la,Ht),function(){var t=e(function(t,e){var r=e;return"Nothing"===r.ctor?Mt(U):s(Dt,J,t(r._0))});s($a,Va,t(Jt))}(),function(){var t=e(function(t,e){var r=e;return"Nothing"===r.ctor?Mt(U):s(Dt,J,t(r._0))});s($a,Va,t(Ht))}(),s(on,function(t){return s(H,ge,le(t))},s(sn,"charCode",hn)),e(function(t,e){var r=e;return"Nothing"===r.ctor?Vr:t(r._0)})),Ha=r(function(t,e,r){var n=v.cmp(ct(r),0)>0,o=v.cmp(t,0)>0&&v.cmp(e,0)>0,u=s(Q,e,r),c=s(Et,t,r);return o&&n?{ctor:"::",_0:c,_1:f(Ha,t,e,u)}:{ctor:"[]"}}),za=(e(function(t,e){return f(Ha,t,t,e)}),r(function(t,e,r){var n=v.cmp(t,0)>0&&v.cmp(e,0)>0,o=s(Q,e,r),u=s(Et,t,r),c=v.eq(t,ct(u));return n&&c?{ctor:"::",_0:u,_1:f(za,t,e,o)}:{ctor:"[]"}})),Wa=(e(function(t,e){return f(za,t,t,e)}),Y(o(function(t,e,r,n,o){return{ctor:"_Tuple5",_0:t,_1:e,_2:r,_3:n,_4:o}})),Z(n(function(t,e,r,n){return{ctor:"_Tuple4",_0:t,_1:e,_2:r,_3:n}})),tt(r(function(t,e,r){return{ctor:"_Tuple3",_0:t,_1:e,_2:r}})),et(e(function(t,e){return{ctor:"_Tuple2",_0:t,_1:e}})),e(function(t,e){var r={ctor:"_Tuple2",_0:t,_1:e};return"[]"===r._0.ctor||"[]"!==r._1.ctor&&(v.eq(r._0._0,r._1._0)&&s(Wa,r._0._1,r._1._1))})),Ga=(e(function(t,e){return s(Wa,gt(t),gt(e))}),function(t){var e=t;if("[]"===e.ctor)return{ctor:"[]"};var r=e._1,n=e._0;return{ctor:"::",_0:{ctor:"_Tuple2",_0:n,_1:r},_1:s(dt,function(t){var e=t;return{ctor:"_Tuple2",_0:e._0,_1:{ctor:"::",_0:n,_1:e._1}}},Ga(r))}}),Ka=e(function(t,e){var r=e;if("::"===r.ctor){var n=r._0;return{ctor:"::",_0:{ctor:"::",_0:t,_1:n},_1:{ctor:"::",_0:n,_1:r._1}}}return{ctor:"[]"}}),Xa=s(ot,Ka,{ctor:"::",_0:{ctor:"[]"},_1:{ctor:"[]"}}),Qa=(e(function(t,e){return s(rt,Wa(t),Xa(e))}),s(ot,e(function(t,r){return{ctor:"::",_0:{ctor:"[]"},_1:s(dt,e(function(t,e){return{ctor:"::",_0:t,_1:e}})(t),r)}}),{ctor:"::",_0:{ctor:"[]"},_1:{ctor:"[]"}}),e(function(t,e){var r=e;if("[]"===r.ctor)return{ctor:"[]"};if("[]"===r._1.ctor)return{ctor:"::",_0:{ctor:"::",_0:r._0,_1:{ctor:"[]"}},_1:{ctor:"[]"}};var n=r._0,o=s(Qa,t,r._1);return"::"===o.ctor?s(t,n,r._1._0)?{ctor:"::",_0:{ctor:"::",_0:n,_1:o._0},_1:o._1}:{ctor:"::",_0:{ctor:"::",_0:n,_1:{ctor:"[]"}},_1:o}:{ctor:"[]"}})),Ya=(e(function(t,r){var n=e(function(t,e){var r=e;return"Nothing"===r.ctor?U:"[]"===r._0.ctor?U:v.eq(t,r._0._0)?J(r._0._1):U});return f(ut,n,J(r),t)}),e(function(t,e){return{ctor:"_Tuple2",_0:s(Et,t,e),_1:s(Q,t,e)}})),Za=r(function(t,e,r){for(;;){var n={ctor:"_Tuple2",_0:t,_1:e};{if("_Tuple2"!==n.ctor||"::"!==n._0.ctor||"::"!==n._1.ctor)return gt(r);var o=s(Ya,n._0._0,e),u=o._0,c=o._1,i=n._0._1,a=c,f={ctor:"::",_0:u,_1:r};t=i,e=a,r=f}}}),ts=(e(function(t,e){return f(Za,t,e,{ctor:"[]"})}),e(function(t,e){var r=t(e);return"Nothing"===r.ctor?{ctor:"[]"}:{ctor:"::",_0:r._0._0,_1:s(ts,t,r._0._1)}})),es=e(function(t,e){var r=e;if("[]"===r.ctor)return{ctor:"[]"};if("[]"===r._1.ctor)return{ctor:"::",_0:r._0,_1:{ctor:"[]"}};var n=s(es,t,r._1);return"::"===n.ctor?{ctor:"::",_0:s(t,r._0,n._0),_1:n}:{ctor:"[]"}}),rs=r(function(t,e,r){var n=r;if("[]"===n.ctor)return{ctor:"::",_0:e,_1:{ctor:"[]"}};var o=f(rs,t,e,n._1);return"::"===o.ctor?{ctor:"::",_0:s(t,n._0,o._0),_1:o}:{ctor:"[]"}}),ns=(e(function(t,e){var r=e;return"[]"===r.ctor?{ctor:"[]"}:f(mt,t,r._0,r._1)}),r(function(t,r,n){var o=e(function(e,r){var n=r,o=n._0;return{ctor:"_Tuple2",_0:o-1,_1:f(t,o,e,n._1)}});return ve(f(ot,o,{ctor:"_Tuple2",_0:ct(n)-1,_1:r},n))}),r(function(t,r,n){var o=e(function(e,r){var n=r,o=n._0;return{ctor:"_Tuple2",_0:o+1,_1:f(t,o,e,n._1)}});return ve(f(ut,o,{ctor:"_Tuple2",_0:0,_1:r},n))}),e(function(t,r){var n=e(function(e,r){return J(function(){var n=r;return"Nothing"===n.ctor?e:s(t,e,n._0)}())});return f(ot,n,U,r)}),e(function(t,r){var n=e(function(e,r){return J(function(){var n=r;return"Nothing"===n.ctor?e:s(t,n._0,e)}())});return f(ut,n,U,r)})),os=r(function(t,e,r){t:for(;;){var n={ctor:"_Tuple2",_0:t,_1:e};e:do{if("::"===n._0.ctor){if("::"===n._1.ctor){var o=n._0._1,u=n._1._1,c=s(k["++"],r,{ctor:"::",_0:n._0._0,_1:{ctor:"::",_0:n._1._0,_1:{ctor:"[]"}}});t=o,e=u,r=c;continue t}break e}if("[]"===n._1.ctor)break e;return s(k["++"],r,n._1)}while(!1);return s(k["++"],r,n._0)}}),us=(e(function(t,e){return f(os,t,e,{ctor:"[]"})}),function(t){var r=t;return"[]"===r.ctor?{ctor:"::",_0:{ctor:"[]"},_1:{ctor:"[]"}}:s(wt,function(t){var r=t;return s(dt,e(function(t,e){return{ctor:"::",_0:t,_1:e}})(r._0),us(r._1))},Ga(r))}),cs=(e(function(t,e){return s(at,t,us(e))}),function(t){var r=t;if("[]"===r.ctor)return{ctor:"[]"};var n=r._0,o=e(function(t,e){return{ctor:"::",_0:t,_1:{ctor:"::",_0:{ctor:"::",_0:n,_1:t},_1:e}}});return{ctor:"::",_0:{ctor:"::",_0:n,_1:{ctor:"[]"}},_1:f(ot,o,{ctor:"[]"},cs(r._1))}}),is=function(t){return{ctor:"::",_0:{ctor:"[]"},_1:cs(t)}},as=(e(function(t,e){return s(at,t,is(e))}),e(function(t,e){return s(pt,function(e){return!t(e)},e)}),e(function(t,e){if(v.cmp(t,0)<0)return e;var r=ft(s(Q,t,e)),n=s(Et,t,e),o=r;return"Nothing"===o.ctor?e:s(yt,n,o._0)}),e(function(t,r){var n=e(function(e,r){var n=e,o=r,u=s(t,n._0,o._0);return"EQ"===u.ctor?s(j,n._1,o._1):u}),o=s(qt,e(function(t,e){return{ctor:"_Tuple2",_0:e,_1:t}}),r);return s(dt,ge,s(G,n,o))}),r(function(t,e,r){if(v.cmp(t,0)<0)return U;var n=ft(s(Q,t,r)),o=s(Et,t,r),u=n;return"Nothing"===u.ctor?U:J(s(yt,o,{ctor:"::",_0:e,_1:u._0}))}),e(function(t,e){var r=e;if("[]"===r.ctor)return{ctor:"[]"};var n=r._1,o=r._0;return v.eq(t,o)?n:{ctor:"::",_0:o,_1:s(as,t,n)}})),ss=r(function(t,r,n){return s(qt,e(function(e,n){return t(e)?r(n):n}),n)}),fs=(r(function(t,r,n){return v.cmp(t,0)<0||v.cmp(t,ct(n))>-1?U:J(f(ss,e(function(t,e){return v.eq(t,e)})(t),r,n))}),r(function(t,e,r){return s(dt,function(r){return t(r)?e(r):r},r)})),ls=r(function(t,e,r){return f(fs,t,w(e),r)}),_s=function(t){return function(r){return s(dt,ge,s(pt,function(e){return t(e._1)},s(qt,e(function(t,e){return{ctor:"_Tuple2",_0:t,_1:e}}),r)))}},ds=function(t){return function(e){return lt(s(_s,t,e))}},ps=(e(function(t,e){return s(H,function(t){return s(Ya,t,e)},s(ds,t,e))}),e(function(t,e){for(;;){var r=e;if("[]"===r.ctor)return U;var n=r._0;if(t(n))return J(n);var o=t,u=r._1;t=o,e=u}})),hs=function(t){return function(e){return!s(at,t,e)}},vs=wt,gs=(r(function(t,e,r){return s(vs,function(e){return s(vs,function(r){return{ctor:"::",_0:s(t,e,r),_1:{ctor:"[]"}}},r)},e)}),n(function(t,e,r,n){return s(vs,function(e){return s(vs,function(r){return s(vs,function(n){return{ctor:"::",_0:f(t,e,r,n),_1:{ctor:"[]"}}},n)},r)},e)}),o(function(t,e,r,n,o){return s(vs,function(e){return s(vs,function(r){return s(vs,function(n){return s(vs,function(o){return{ctor:"::",_0:l(t,e,r,n,o),_1:{ctor:"[]"}}},o)},n)},r)},e)}),e(function(t,r){return f(et,e(function(t,e){return t(e)}),r,t)}),r(function(t,e,r){for(;;){var n=r;if("[]"===n.ctor)return{ctor:"[]"};var o=n._1,u=n._0,c=t(u);{if(!s(zc,c,e))return{ctor:"::",_0:u,_1:f(gs,t,s(Xc,c,e),o)};var i=t,a=e,l=o;t=i,e=a,r=l}}})),ms=e(function(t,e){return f(gs,t,Gc,e)}),ys=(e(function(t,e){return v.eq(ct(e),ct(s(ms,t,e)))}),e(function(t,e){for(;;){var r=e;if("[]"===r.ctor)return{ctor:"[]"};{if(!t(r._0))return e;var n=t,o=r._1;t=n,e=o}}})),bs=function(t){return e(function(e,r){for(;;){var n=r;if("[]"===n.ctor)return gt(e);var o=n._0;{if(!t(o))return gt(e);var u={ctor:"::",_0:o,_1:e},c=n._1;e=u,r=c}}})({ctor:"[]"})},ws=e(function(t,e){return{ctor:"_Tuple2",_0:s(bs,t,e),_1:s(ys,t,e)}}),Ts=e(function(t,e){var r=e;if("[]"===r.ctor)return{ctor:"[]"};var n=r._0,o=s(ws,t(n),r._1),u=o._0,c=o._1;return{ctor:"::",_0:{ctor:"::",_0:n,_1:u},_1:s(Ts,t,c)}}),ks=(Ts(e(function(t,e){return v.eq(t,e)})),e(function(t,r){var n=e(function(e,r){var n=r,o=n._1,u=t(e);return v.cmp(u,o)<0?{ctor:"_Tuple2",_0:e,_1:u}:{ctor:"_Tuple2",_0:n._0,_1:o}}),o=r;if("::"===o.ctor){if("[]"===o._1.ctor)return J(o._0);var u=o._0;return J(ge(f(ut,n,{ctor:"_Tuple2",_0:u,_1:t(u)},o._1)))}return U}),e(function(t,r){var n=e(function(e,r){var n=r,o=n._1,u=t(e);return v.cmp(u,o)>0?{ctor:"_Tuple2",_0:e,_1:u}:{ctor:"_Tuple2",_0:n._0,_1:o}}),o=r;if("::"===o.ctor){if("[]"===o._1.ctor)return J(o._0);var u=o._0;return J(ge(f(ut,n,{ctor:"_Tuple2",_0:u,_1:t(u)},o._1)))}return U}),function(t){var e=t;return"[]"===e.ctor?U:J({ctor:"_Tuple2",_0:e._0,_1:e._1})}),Ss=(r(function(t,r,n){for(;;){if(v.eq(t,r))return J(n);{if(!(v.cmp(t,r)>0)){if(v.cmp(t,0)<0)return U;var o=s(Ya,t,n),u=o._0,c=o._1,i=s(Ya,r-t,c),a=i._0,l=i._1;return f(z,e(function(t,e){var r=t,n=e;return bt({ctor:"::",_0:u,_1:{ctor:"::",_0:{ctor:"::",_0:n._0,_1:r._1},_1:{ctor:"::",_0:{ctor:"::",_0:r._0,_1:n._1},_1:{ctor:"[]"}}}})}),ks(a),ks(l))}var _=r,d=t,p=n;t=_,r=d,n=p}}}),e(function(t,e){var r=t(e);return"Just"===r.ctor?{ctor:"::",_0:e,_1:s(Ss,t,r._0)}:{ctor:"::",_0:e,_1:{ctor:"[]"}}})),Es=e(function(t,e){return v.cmp(t,0)<0?U:lt(s(Q,t,e))}),xs=xs||{};xs["!!"]=b(Es);var As=(function(){var t=e(function(t,e){return function(r){return s($,t,s(H,e,r))}});s(ot,function(r){return function(n){return J(f(t,{ctor:"[]"},e(function(t,e){return{ctor:"::",_0:t,_1:e}})(r),n))}},U)}(),ns(b(w)),e(function(t,e){var r=t;return"Nothing"===r.ctor?e:{ctor:"::",_0:r._0,_1:e}})),Os=(s(ot,As,{ctor:"[]"}),e(function(t,e){var r=s(H,t,e);return"Just"===r.ctor&&!0===r._0?e:U}),function(t){var r=e(function(e,r){var n=t(e);return"Nothing"===n.ctor?U:s(H,$e(n._0),r)});s(Ve,r,J(Ue))}(T),function(t){var r=e(function(r,n){var o=t(r);return"Nothing"===o.ctor?U:s(H,e(function(t,e){return{ctor:"::",_0:t,_1:e}})(o._0),n)});s(ot,r,J({ctor:"[]"}))}(T),function(t){var e=t;return"Nothing"===e.ctor?{ctor:"[]"}:{ctor:"::",_0:e._0,_1:{ctor:"[]"}}}),qs=e(function(t,e){return"Nothing"===e.ctor?t:e}),Is=(e(function(t,e){return"Nothing"===e.ctor?t({ctor:"_Tuple0"}):e}),e(function(t,e){return"Nothing"===t.ctor?e({ctor:"_Tuple0"}):t}),e(function(t,e){return"Nothing"===t.ctor?e:t}),z(w),z(b(w)),z(e(function(t,e){return e(t)})),r(function(t,e,r){var n=r;return"Nothing"===n.ctor?t({ctor:"_Tuple0"}):e(n._0)})),Ns=r(function(t,e,r){var n=r;return"Nothing"===n.ctor?t:e(n._0)}),Cs=function(t){return"Nothing"!==t.ctor},js=function(t){return"Nothing"===t.ctor},Ms=Ms||{};Ms["?"]=e(function(t,e){return s($,e,t)});var Ds=(e(function(t,e){return"Err"===e.ctor?t:e}),e(function(t,e){return"Err"===e.ctor?t({ctor:"_Tuple0"}):e}),e(function(t,e){return"Err"===t.ctor?e({ctor:"_Tuple0"}):t}),e(function(t,e){return"Err"===t.ctor?e:t}),e(function(t,e){var r={ctor:"_Tuple2",_0:t,_1:e};return"Err"===r._1.ctor?Ct(r._1._0):s(Dt,r._1._0,r._0)}),s(ot,Bt(e(function(t,e){return{ctor:"::",_0:t,_1:e}})),Mt({ctor:"[]"})),r(function(t,e,r){var n=r;return"Ok"===n.ctor?Mt(e(n._0)):Ct(t(n._0))}),r(function(t,e,r){var n=r;return"Ok"===n.ctor?e(n._0):t(n._0)}),r(function(t,e,r){var n=r;return"Ok"===n.ctor?e(n._0):t}),e(function(t,e){var r=e;return"Ok"===r.ctor?r._0:t(r._0)}),function(){return{and:e(function(t,e){return t&e}),or:e(function(t,e){return t|e}),xor:e(function(t,e){return t^e}),complement:function(t){return~t},shiftLeftBy:e(function(t,e){return e<<t}),shiftRightBy:e(function(t,e){return e>>t}),shiftRightZfBy:e(function(t,e){return e>>>t})}}()),Bs=(Ds.shiftRightZfBy,Ds.shiftRightBy,Ds.shiftLeftBy,Ds.complement,Ds.xor,Ds.or,Ds.and,function(t){return de(t)?U:J(t)}),Rs=(e(function(t,e){return s($,"",s(H,s(b,oe,e),lt(gt(s(zt,t,e)))))}),e(function(t,r){return s($,"",s(H,function(n){return f(b,re,r,s(e(function(t,e){return t+e}),ae(t),n))},lt(gt(s(zt,t,r)))))}),e(function(t,e){for(;;){var r=e;if("[]"===r.ctor)return t;if("Just"===r._0.ctor)return r._0._0;var n=t,o=r._1;t=n,e=o}})),Ps=function(t){return s(Rs,"",t)},Ls=(e(function(t,e){return s(ce,"",s(dt,function(t){return Ps(function(t){return t.submatches}(t))},f(wu,Eu(1),ku(s(k["++"],"^(.*?)",Su(t))),e)))}),e(function(t,e){return s(ce,"",s(dt,function(t){return Ps(function(t){return t.submatches}(t))},f(wu,Eu(1),ku(s(k["++"],Su(t),"(.*)$")),e)))}),r(function(t,e,r){return v.eq(r,1)?s(k["++"],"1 ",t):s(k["++"],S(r),s(k["++"]," ",e))}),r(function(t,e,r){for(;;){var n=r;if("[]"===n.ctor)return e;if("[]"===n._1.ctor)return s(k["++"],e,s(k["++"],t,n._0));var o=t,u=s(k["++"],e,s(k["++"],", ",n._0)),c=n._1;t=o,e=u,r=c}}),r(function(t,e,r){return v.cmp(ae(r),t)<1?r:s(k["++"],s(oe,t-ae(e),r),e)})),Fs=e(function(t,e){return f(Ls,t,"...",e)}),$s=(e(function(t,e){return v.eq(ae(t),0)||v.eq(ae(e),0)?0:ct(s(zt,t,e))}),function(t){return Kt(l(bu,xu,ku("[_-\\s]+"),w("-"),l(bu,xu,ku("([A-Z])"),function(t){return s(fe,"-",function(t){return t.match}(t))},Yt(t))))}),Us=(e(function(t,e){if(s(Gt,t,e)&&s(Wt,t,e)){var r=ae(t);return s(ee,r,s(re,r,e))}return e}),e(function(t,e){return s(k["++"],t,s(k["++"],e,t))}),function(t){return s(Tu,ku("^\\s*$"),t)}),Vs=function(t){return ku(s(k["++"],".{1,",s(k["++"],S(t),"}(\\s+|$)|\\S+?(\\s+|$)")))},Js=(e(function(t,e){return v.cmp(ae(e),t)<1?e:f(b,fe,"...",l(bu,xu,ku("([\\.,;:\\s])+$"),w(""),s(ce,"",s(dt,function(t){return t.match},f(wu,Eu(1),Vs(t),e)))))}),e(function(t,e){return v.cmp(t,0)<1?{ctor:"[]"}:s(dt,function(t){return t.match},f(wu,xu,Vs(t),e))})),Hs=r(function(t,e,r){return s(ce,e,s(Js,t,r))}),zs=(e(function(t,e){return f(Hs,t,"\n",e)}),r(function(t,e,r){for(;;){if(""===e)return gt(r);var n=t,o=s(re,t,e),u={ctor:"::",_0:f(ue,0,t,e),_1:r};t=n,e=o,r=u}})),Ws=e(function(t,e){return v.eq(t,0)||v.eq(e,"")?{ctor:"::",_0:e,_1:{ctor:"[]"}}:f(zs,t,e,{ctor:"[]"})}),Gs=r(function(t,e,r){return s(ce,e,s(Ws,t,r))}),Ks=(e(function(t,e){return f(Gs,t,"\n",e)}),n(function(t,e,r,n){return s(k["++"],f(ue,0,e,n),s(k["++"],t,f(ue,r,ae(n),n)))})),Xs=(r(function(t,e,r){return l(Ks,t,e,e,r)}),r(function(t,e,r){return l(bu,xu,ku(Su(t)),function(t){return e},r)}),e(function(t,e){return s($,"",s(H,function(e){var r=e;return s(_e,t(r._0),r._1)},le(e)))}),ye.kill),Qs=(ye.sleep,ye.spawn),Ys=function(){function t(t){return function(e,r,n){return ye.nativeBinding(function(o){function u(t){var e=s(Zr,r,t);"Ok"===e.ctor&&ye.rawSpawn(n(e._0))}return t.addEventListener(e,u),function(){t.removeEventListener(e,u)}})}}function n(t,e){return ye.nativeBinding(function(r){y(function(){var n=document.getElementById(t);if(null===n)return void r(ye.fail({ctor:"NotFound",_0:t}));r(ye.succeed(e(n)))})})}function o(t){return n(t,function(t){return t.focus(),v.Tuple0})}function u(t){return n(t,function(t){return t.blur(),v.Tuple0})}function c(t){return n(t,function(t){return t.scrollTop})}function i(t,e){return n(t,function(t){return t.scrollTop=e,v.Tuple0})}function a(t){return n(t,function(t){return t.scrollTop=t.scrollHeight,v.Tuple0})}function f(t){return n(t,function(t){return t.scrollLeft})}function l(t,e){return n(t,function(t){return t.scrollLeft=e,v.Tuple0})}function _(t){return n(t,function(t){return t.scrollLeft=t.scrollWidth,v.Tuple0})}function d(t,e){return n(e,function(e){switch(t.ctor){case"Content":return e.scrollWidth;case"VisibleContent":return e.clientWidth;case"VisibleContentWithBorders":return e.offsetWidth;case"VisibleContentWithBordersAndMargins":var r=e.getBoundingClientRect();return r.right-r.left}})}function p(t,e){return n(e,function(e){switch(t.ctor){case"Content":return e.scrollHeight;case"VisibleContent":return e.clientHeight;case"VisibleContentWithBorders":return e.offsetHeight;case"VisibleContentWithBordersAndMargins":var r=e.getBoundingClientRect();return r.bottom-r.top}})}var h={addEventListener:function(){},removeEventListener:function(){}},g=t("undefined"!=typeof document?document:h),m=t("undefined"!=typeof window?window:h),y="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:function(t){t()};return{onDocument:r(g),onWindow:r(m),focus:o,blur:u,getScrollTop:c,setScrollTop:e(i),getScrollLeft:f,setScrollLeft:e(l),toBottom:a,toRight:_,height:e(p),width:e(d)}}(),Zs=(Ys.blur,Ys.focus,Ys.onWindow),tf=Ys.onDocument,ef=bi,rf=(ef("ol"),ef("ul"),function(){function t(t){return encodeURIComponent(t)}function r(t){try{return J(decodeURIComponent(t))}catch(t){return U}}function n(t,e){return ye.nativeBinding(function(r){var n=new XMLHttpRequest;o(n,e),n.addEventListener("error",function(){r(ye.fail({ctor:"NetworkError"}))}),n.addEventListener("timeout",function(){r(ye.fail({ctor:"Timeout"}))}),n.addEventListener("load",function(){r(i(n,t.expect.responseToResult))});try{n.open(t.method,t.url,!0)}catch(e){return r(ye.fail({ctor:"BadUrl",_0:t.url}))}return u(n,t),c(n,t.body),function(){n.abort()}})}function o(t,e){"Nothing"!==e.ctor&&t.addEventListener("progress",function(t){t.lengthComputable&&ye.rawSpawn(e._0({bytes:t.loaded,bytesExpected:t.total}))})}function u(t,e){function r(e){t.setRequestHeader(e._0,e._1)}s(dt,r,e.headers),t.responseType=e.expect.responseType,t.withCredentials=e.withCredentials,"Just"===e.timeout.ctor&&(t.timeout=e.timeout._0)}function c(t,e){switch(e.ctor){case"EmptyBody":return void t.send();case"StringBody":return t.setRequestHeader("Content-Type",e._0),void t.send(e._1);case"FormDataBody":return void t.send(e._0)}}function i(t,e){var r=a(t);if(t.status<200||300<=t.status)return r.body=t.responseText,ye.fail({ctor:"BadStatus",_0:r});var n=e(r);return"Ok"===n.ctor?ye.succeed(n._0):(r.body=t.responseText,ye.fail({ctor:"BadPayload",_0:n._0,_1:r}))}function a(t){return{status:{code:t.status,message:t.statusText},headers:l(t.getAllResponseHeaders()),url:t.responseURL,body:t.response}}function l(t){var e=pr;if(!t)return e;for(var r=t.split("\r\n"),n=r.length;n--;){var o=r[n],u=o.indexOf(": ");if(u>0){var c=o.substring(0,u),i=o.substring(u+2);e=f(Nr,c,function(t){return J("Just"===t.ctor?i+", "+t._0:i)},e)}}return e}function _(t){return{responseType:"text",responseToResult:t}}function d(t,e){return{responseType:e.responseType,responseToResult:function(r){var n=e.responseToResult(r);return s(Dt,t,n)}}}function p(t){for(var e=new FormData;"[]"!==t.ctor;){var r=t._0;e.append(r._0,r._1),t=t._1}return{ctor:"FormDataBody",_0:e}}return{toTask:e(n),expectStringResponse:_,mapExpect:e(d),multipart:p,encodeUri:t,decodeUri:r}}()),nf=(e(function(t,e){return v.update(e,{expect:s(rf.mapExpect,t,e.expect)})}),c(function(t,e,r,n,o,u,c){return{method:t,headers:e,url:r,body:n,expect:o,timeout:u,withCredentials:c}}),function(t){return{ctor:"Request",_0:t}}),of=(e(function(t,e){return{ctor:"StringBody",_0:t,_1:e}}),{ctor:"EmptyBody"}),uf=(e(function(t,e){return{ctor:"Header",_0:t,_1:e}}),rf.decodeUri),cf=rf.encodeUri,af=rf.expectStringResponse,sf=function(t){return af(function(e){return s(tn,t,e.body)})},ff=(af(function(t){return Mt(t.body)}),rf.multipart,of),lf=nf,_f=(r(function(t,e,r){return lf({method:"POST",headers:{ctor:"[]"},url:t,body:e,expect:sf(r),timeout:U,withCredentials:!1})}),e(function(t,e){return lf({method:"GET",headers:{ctor:"[]"},url:t,body:ff,expect:sf(e),timeout:U,withCredentials:!1})}),function(t){var e=t;return s(rf.toTask,e._0,U)}),df=(e(function(t,e){return s(Wn,t,_f(e))}),n(function(t,e,r,n){return{url:t,status:e,headers:r,body:n}}),e(function(t,e){return{ctor:"BadPayload",_0:t,_1:e}}),e(function(t,e){return{ctor:"StringPart",_0:t,_1:e}}),r(function(t,e,r){var n=e,o=s(er,n.category,r);if("Nothing"===o.ctor)return Rn(r);var u=function(e){return s(Oe,t,e(n.keyCode))};return s(Mn,function(t){return Rn(r)},Fn(s(dt,u,o._0.taggers)))})),pf=pf||{};pf["&>"]=e(function(t,e){return s(Mn,function(t){return e},t)});var hf=Rn(pr),vf=e(function(t,e){var r=e;return J("Nothing"===r.ctor?{ctor:"::",_0:t,_1:{ctor:"[]"}}:{ctor:"::",_0:t,_1:r._0})}),gf=e(function(t,e){for(;;){var r=t;if("[]"===r.ctor)return e;var n=r._1,o=f(Nr,r._0._0,vf(r._0._1),e);t=n,e=o}}),mf=function(t){return s(gf,t,pr)},yf=s(sn,"keyCode",dn),bf=me.leaf("Keyboard"),wf=e(function(t,e){return{taggers:t,pid:e}}),Tf=e(function(t,e){return{category:t,keyCode:e}}),kf=r(function(t,e,o){var u=r(function(e,r,n){return s(Mn,function(n){return s(Mn,function(t){return Rn(f(Cr,e,s(wf,r,t),n))},Qs(f(tf,e,yf,function(r){return s(Ae,t,s(Tf,e,r))})))},n)}),c=n(function(t,e,r,n){return s(Pn,s(Cr,t,s(wf,r,e.pid)),n)}),i=r(function(t,e,r){var n=e;return s(pf["&>"],Xs(n.pid),r)});return d(Qe,i,c,u,o,mf(e),Rn(pr))}),Sf=e(function(t,e){return{ctor:"MySub",_0:t,_1:e}}),Ef=function(t){return bf(s(Sf,"keydown",t))},xf=function(t){return bf(s(Sf,"keyup",t))},Af=e(function(t,e){var r=e;return s(Sf,r._0,function(e){return t(r._1(e))})});me.effectManagers.Keyboard={pkg:"elm-lang/keyboard",init:hf,onEffects:kf,onSelfMsg:df,tag:"sub",subMap:Af};var Of=function(){function t(t){var e,r=!1;return function(n){return r||(e=t(n),r=!0),e}}return{memoize:t}}(),qf=function(t){return t._0({ctor:"_Tuple0"})},If=function(t){return{ctor:"Lazy",_0:t}},Nf=function(t){return If(Of.memoize(t))},Cf=(e(function(t,e){return Nf(function(r){return t(qf(e))})}),r(function(t,e,r){return Nf(function(n){return s(t,qf(e),qf(r))})}),n(function(t,e,r,n){return Nf(function(o){return f(t,qf(e),qf(r),qf(n))})}),o(function(t,e,r,n,o){return Nf(function(u){return l(t,qf(e),qf(r),qf(n),qf(o))})}),u(function(t,e,r,n,o,u){return Nf(function(c){return _(t,qf(e),qf(r),qf(n),qf(o),qf(u))})}),e(function(t,e){return Nf(function(r){return s(qf,t,qf(e))})}),e(function(t,e){return Nf(function(r){return qf(t(qf(e)))})}),function(){function t(t){return ye.nativeBinding(function(e){0!==t&&history.go(t),e(ye.succeed(v.Tuple0))})}function e(t){return ye.nativeBinding(function(e){history.pushState({},"",t),e(ye.succeed(u()))})}function r(t){return ye.nativeBinding(function(e){history.replaceState({},"",t),e(ye.succeed(u()))})}function n(t){return ye.nativeBinding(function(e){document.location.reload(t),e(ye.succeed(v.Tuple0))})}function o(t){return ye.nativeBinding(function(e){try{window.location=t}catch(t){document.location.reload(!1)}e(ye.succeed(v.Tuple0))})}function u(){var t=document.location;return{href:t.href,host:t.host,hostname:t.hostname,protocol:t.protocol,origin:t.origin,port_:t.port,pathname:t.pathname,search:t.search,hash:t.hash,username:t.username,password:t.password}}function c(){return-1!==window.navigator.userAgent.indexOf("Trident")}return{go:t,setLocation:o,reloadPage:n,pushState:e,replaceState:r,getLocation:u,isInternetExplorer11:c}}()),jf=Cf.replaceState,Mf=Cf.pushState,Df=Cf.go,Bf=Cf.reloadPage,Rf=Cf.setLocation,Pf=Pf||{};Pf["&>"]=e(function(t,e){return s(Mn,function(t){return e},t)});var Lf=r(function(t,e,r){var n=function(e){return s(Oe,t,e._0(r))};return s(Pf["&>"],Fn(s(dt,n,e)),Rn({ctor:"_Tuple0"}))}),Ff=r(function(t,e,r){var n=r;switch(n.ctor){case"Jump":return Df(n._0);case"New":return s(Mn,s(Lf,t,e),Mf(n._0));case"Modify":return s(Mn,s(Lf,t,e),jf(n._0));case"Visit":return Rf(n._0);default:return Bf(n._0)}}),$f=function(t){var e=t;return"Normal"===e.ctor?Xs(e._0):s(Pf["&>"],Xs(e._0),Xs(e._1))},Uf=r(function(t,e,r){return s(Pf["&>"],f(Lf,t,r.subs,e),Rn(r))}),Vf=me.leaf("Navigation"),Jf=me.leaf("Navigation"),Hf=e(function(t,e){return{subs:t,popWatcher:e}}),zf=Rn(s(Hf,{ctor:"[]"},U)),Wf=function(t){return{ctor:"Reload",_0:t}},Gf=(Jf(Wf(!1)),Jf(Wf(!0)),function(t){return{ctor:"Visit",_0:t}}),Kf=function(t){return{ctor:"Modify",_0:t}},Xf=function(t){return Jf(Kf(t))},Qf=function(t){return{ctor:"New",_0:t}},Yf=function(t){return Jf(Qf(t))},Zf=function(t){return{ctor:"Jump",_0:t}},tl=e(function(t,e){var r=e;switch(r.ctor){case"Jump":return Zf(r._0);case"New":return Qf(r._0);case"Modify":return Kf(r._0);case"Visit":return Gf(r._0);default:return Wf(r._0)}}),el=function(t){return{ctor:"Monitor",_0:t}},rl=(e(function(t,e){var r=e.init(Cf.getLocation({ctor:"_Tuple0"})),n=function(r){return Se({ctor:"::",_0:Vf(el(t)),_1:{ctor:"::",_0:e.subscriptions(r),_1:{ctor:"[]"}}})};return Ci({init:r,view:e.view,update:e.update,subscriptions:n})}),e(function(t,e){var r=function(t){return s(e.init,t,Cf.getLocation({ctor:"_Tuple0"}))},n=function(r){return Se({ctor:"::",_0:Vf(el(t)),_1:{ctor:"::",_0:e.subscriptions(r),_1:{ctor:"[]"}}})};return Ni({init:r,view:e.view,update:e.update,subscriptions:n})})),nl=e(function(t,e){var r=e;return el(function(e){return t(r._0(e))})}),ol=e(function(t,e){return{ctor:"InternetExplorer",_0:t,_1:e}}),ul=function(t){return{ctor:"Normal",_0:t}},cl=function(t){var e=function(e){return s(Ae,t,Cf.getLocation({ctor:"_Tuple0"}))};return Cf.isInternetExplorer11({ctor:"_Tuple0"})?f(Ln,ol,Qs(f(Zs,"popstate",Kr,e)),Qs(f(Zs,"hashchange",Kr,e))):s(Pn,ul,Qs(f(Zs,"popstate",Kr,e)))},il=n(function(t,e,r,n){var o=n,u=o.popWatcher,c=function(){var e={ctor:"_Tuple2",_0:r,_1:u};t:do{if("[]"===e._0.ctor){if("Just"===e._1.ctor)return s(Pf["&>"],$f(e._1._0),Rn(s(Hf,r,U)));break t}if("Nothing"===e._1.ctor)return s(Pn,function(t){return s(Hf,r,J(t))},cl(t));break t}while(!1);return Rn(s(Hf,r,u))}();return s(Pf["&>"],Fn(s(dt,s(Ff,t,r),e)),c)});me.effectManagers.Navigation={pkg:"elm-lang/navigation",init:zf,onEffects:il,onSelfMsg:Uf,tag:"fx",cmdMap:tl,subMap:nl};var al=s(Ai,"namespace",Wr("http://www.w3.org/2000/svg")),sl=r(function(t,e,r){return f(Ii,t,{ctor:"::",_0:al,_1:e},r)}),fl=(sl("svg"),sl("foreignObject"),sl("animate"),sl("animateColor"),sl("animateMotion"),sl("animateTransform"),sl("mpath"),sl("set"),sl("a"),sl("defs"),sl("g"),sl("marker"),sl("mask"),sl("pattern"),sl("switch"),sl("symbol"),sl("desc"),sl("metadata"),sl("title"),sl("feBlend"),sl("feColorMatrix"),sl("feComponentTransfer"),sl("feComposite"),sl("feConvolveMatrix"),sl("feDiffuseLighting"),sl("feDisplacementMap"),sl("feFlood"),sl("feFuncA"),sl("feFuncB"),sl("feFuncG"),sl("feFuncR"),sl("feGaussianBlur"),sl("feImage"),sl("feMerge"),sl("feMergeNode"),sl("feMorphology"),sl("feOffset"),sl("feSpecularLighting"),sl("feTile"),sl("feTurbulence"),sl("font"),sl("linearGradient"),sl("radialGradient"),sl("stop"),sl("circle"),sl("ellipse"),sl("image"),sl("line"),sl("path"),sl("polygon"),sl("polyline"),sl("rect"),sl("use"),sl("feDistantLight"),sl("fePointLight"),sl("feSpotLight"),sl("altGlyph"),sl("altGlyphDef"),sl("altGlyphItem"),sl("glyph"),sl("glyphRef"),sl("textPath"),sl("text"),sl("tref"),sl("tspan"),sl("clipPath"),sl("colorProfile"),sl("cursor"),sl("filter"),sl("script"),sl("style"),sl("view"),ki),ll=e(function(t,e){return s(fl,t,Yr(e))}),_l=(ll("begin"),ll("end"),ll("repeat"),ll("abort"),ll("error"),ll("resize"),ll("scroll"),ll("load"),ll("unload"),ll("zoom"),ll("activate"),ll("click"),ll("focusin")),dl=(ll("focusout"),ll("mousedown"),ll("mousemove"),ll("mouseout"),ll("mouseover"),ll("mouseup"),{date:{months:{jan:"January",feb:"February",mar:"March",apr:"April",may:"May",jun:"June",jul:"July",aug:"August",sep:"September",oct:"October",nov:"November",dec:"December"},monthsAbbrev:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"},wdays:{mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday",sun:"Sunday"},wdaysAbbrev:{mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat",sun:"Sun"},defaultFormat:U},time:{am:"am",pm:"pm",defaultFormat:U},timeZones:U,defaultFormat:U}),pl=(n(function(t,e,r,n){return{date:t,time:e,timeZones:r,defaultFormat:n}}),c(function(t,e,r,n,o,u,c){return{mon:t,tue:e,wed:r,thu:n,fri:o,sat:u,sun:c}}),function(t){return function(e){return f(te,2,t,S(e))}}),hl=function(t){return v.eq(t,0)?12:t},vl=function(t){return s(k["%"],t,12)},gl=e(function(t,e){switch(e.ctor){case"Mon":return t.mon;case"Tue":return t.tue;case"Wed":return t.wed;case"Thu":return t.thu;case"Fri":return t.fri;case"Sat":return t.sat;default:return t.sun}}),ml=e(function(t,e){switch(e.ctor){case"Jan":return t.jan;case"Feb":return t.feb;case"Mar":return t.mar;case"Apr":return t.apr;case"May":return t.may;case"Jun":return t.jun;case"Jul":return t.jul;case"Aug":return t.aug;case"Sep":return t.sep;case"Oct":return t.oct;case"Nov":return t.nov;default:return t.dec}}),yl=function(t){switch(t.ctor){case"Jan":return 1;case"Feb":return 2;case"Mar":return 3;case"Apr":return 4;case"May":return 5;case"Jun":return 6;case"Jul":return 7;case"Aug":return 8;case"Sep":return 9;case"Oct":return 10;case"Nov":return 11;default:return 12}},bl=r(function(t,e,r){switch(function(){var t=r.submatches;return"::"===t.ctor&&"Just"===t._0.ctor&&"[]"===t._1.ctor?t._0._0:" "}()){case"%":return"%";case"Y":return S(vo(e));case"y":return s(ne,2,S(vo(e)));case"m":return f(te,2,v.chr("0"),S(yl(ho(e))));case"B":return s(ml,t.date.months,ho(e));case"b":return s(ml,t.date.monthsAbbrev,ho(e));case"d":return s(pl,v.chr("0"),po(e));case"e":return s(pl,v.chr(" "),po(e));case"a":return s(gl,t.date.wdaysAbbrev,_o(e));case"A":return s(gl,t.date.wdays,_o(e));case"H":return s(pl,v.chr("0"),lo(e));case"k":return s(pl,v.chr(" "),lo(e));case"I":return s(pl,v.chr("0"),hl(vl(lo(e))));case"l":return s(pl,v.chr(" "),hl(vl(lo(e))));case"p":return Xt(v.cmp(lo(e),12)<0?t.time.am:t.time.pm);case"P":return v.cmp(lo(e),12)<0?t.time.am:t.time.pm;case"M":return s(pl,v.chr("0"),fo(e));case"S":return s(pl,v.chr("0"),so(e));default:return""}}),wl=ku("%(%|Y|y|m|B|b|d|e|a|A|H|k|I|l|p|P|M|S)"),Tl=r(function(t,e,r){return l(bu,xu,wl,s(bl,t,r),e)}),kl=e(function(t,e){return f(Tl,dl,t,e)}),Sl=(kl("%Y-%m-%dT%H:%M:%SZ"),e(function(t,e){return s(kl,t,go(e))})),El=e(function(t,e){var r=65535&e,n=65535&e>>>16,o=65535&t;return 0|o*r+((65535&t>>>16)*r+o*n<<16>>>0)}),xl=n(function(t,e,r,n){for(;;){if(v.cmp(e,1)<0)return{ctor:"_Tuple2",_0:t,_1:n};var o=r(n),u=o._0,c=o._1,i={ctor:"::",_0:u,_1:t},a=e-1,s=r,f=c;t=i,e=a,r=s,n=f}}),Al=function(t){var e=t,r=e._0,n=277803737*(r^r>>>4+(r>>>28));return(n>>>22^n)>>>0},Ol=e(function(t,e){return t._0(e)}),ql=r(function(t,e,r){for(;;){var n=s(Ol,t,r),o=n._0,u=n._1;if(e(o))return{ctor:"_Tuple2",_0:o,_1:u};var c=t,i=e,a=u;t=c,e=i,r=a}}),Il=function(t){return{ctor:"Generator",_0:t}},Nl=e(function(t,e){var r=e;return Il(function(e){return l(xl,{ctor:"[]"},t,r._0,e)})}),Cl=function(t){return Il(function(e){return{ctor:"_Tuple2",_0:t,_1:e}})},jl=e(function(t,e){var r=e;return Il(function(e){var n=r._0(e),o=n._0,u=n._1;return{ctor:"_Tuple2",_0:t(o),_1:u}})}),Ml=r(function(t,e,r){var n=e,o=r;return Il(function(e){var r=n._0(e),u=r._0,c=r._1,i=o._0(c),a=i._0,f=i._1;return{ctor:"_Tuple2",_0:s(t,u,a),_1:f}})}),Dl=(e(function(t,r){return f(Ml,e(function(t,e){return{ctor:"_Tuple2",_0:t,_1:e}}),t,r)}),Ml(e(function(t,e){return e(t)})),n(function(t,e,r,n){var o=e,u=r,c=n;return Il(function(e){var r=o._0(e),n=r._0,i=r._1,a=u._0(i),s=a._0,l=a._1,_=c._0(l),d=_._0,p=_._1;return{ctor:"_Tuple2",_0:f(t,n,s,d),_1:p}})})),Bl=(o(function(t,e,r,n,o){var u=e,c=r,i=n,a=o;return Il(function(e){var r=u._0(e),n=r._0,o=r._1,s=c._0(o),f=s._0,_=s._1,d=i._0(_),p=d._0,h=d._1,v=a._0(h),g=v._0,m=v._1;return{ctor:"_Tuple2",_0:l(t,n,f,p,g),_1:m}})}),u(function(t,e,r,n,o,u){var c=e,i=r,a=n,s=o,f=u;return Il(function(e){var r=c._0(e),n=r._0,o=r._1,u=i._0(o),l=u._0,d=u._1,p=a._0(d),h=p._0,v=p._1,g=s._0(v),m=g._0,y=g._1,b=f._0(y),w=b._0,T=b._1;return{ctor:"_Tuple2",_0:_(t,n,l,h,m,w),_1:T}})}),e(function(t,e){var r=e;return Il(function(e){var n=r._0(e),o=n._0,u=n._1;return(0,t(o)._0)(u)})})),Rl=(e(function(t,e){return s(Bl,function(t){return t?s(jl,J,e):Cl(U)},t)}),e(function(t,e){return Il(s(ql,e,t))}),e(function(t,e){return{ctor:"Seed",_0:t,_1:e}})),Pl=function(t){var e=t,r=e._1;return s(Rl,1664525*e._0+r>>>0,r)},Ll=function(t){var e=Pl(s(Rl,0,1013904223)),r=e._0,n=e._1;return Pl(s(Rl,r+t>>>0,n))},Fl=(e(function(t,e){return s(zn,t,s(Pn,function(t){return ge(s(Ol,e,Ll(I(t))))},Zn))}),e(function(t,e){return Il(function(r){var n=v.cmp(t,e)<0?{ctor:"_Tuple2",_0:t,_1:e}:{ctor:"_Tuple2",_0:e,_1:t},o=n._0,u=n._1,c=u-o+1;if(v.eq(c-1&c,0))return{ctor:"_Tuple2",_0:((c-1&Al(r))>>>0)+o,_1:Pl(r)};var i=s(R,0-c>>>0,c)>>>0;return function(t){for(;;){var e=Pl(t),r=Al(t);if(!(v.cmp(r,i)<0))return{ctor:"_Tuple2",_0:s(R,r,c)+o,_1:e};t=e}}(r)})})),$l=s(jl,e(function(t,e){return v.eq(t,e)})(1),s(Fl,0,1)),Ul=(e(function(t,e){return s(jl,function(r){return r?t:e},$l)}),function(){var t=e(function(t,e){for(;;){var r=e;if("[]"===r.ctor)return U;if(v.eq(t,0))return J(r._0);var n=t-1,o=r._1;t=n,e=o}})}(),e(function(t,e){return Il(function(r){var n=D(e-t),o=Al(r),u=1*x(67108863&o),c=Pl(r),i=Al(c);return{ctor:"_Tuple2",_0:(134217728*u+1*x(134217727&i))/9007199254740992*n+t,_1:Pl(c)}})})),Vl=function(t){var r=e(function(t,e){for(;;){var r=t;{if("::"!==r.ctor||"_Tuple2"!==r._0.ctor)return v.crashCase("Random.Pcg",{start:{line:677,column:13},end:{line:685,column:77}},r)("Empty list passed to Random.Pcg.frequency!");var n=r._0._0;if(v.cmp(e,n)<1)return r._0._1;var o=r._1,u=e-n;t=o,e=u}}}),n=it(s(dt,function(t){return D(ge(t))},t));return s(Bl,r(t),s(Ul,0,n))},Jl=Il(function(t){var e=s(Fl,0,4294967295),n=s(Ol,l(Dl,r(function(t,e,r){return{ctor:"_Tuple3",_0:t,_1:e,_2:r}}),e,e,e),t),o=n._0._0,u=n._0._1,c=n._0._2;return{ctor:"_Tuple2",_0:n._1,_1:Pl(s(Rl,o,1|u^c))}}),Hl=(e(function(t,e){var r=e,n=r._1,o=u(function(e,r,n,o,u,c){t:for(;;){var i=u>>>1,a=s(El,n,n),f=s(El,n+1,o),l=v.eq(1&u,1)?{ctor:"_Tuple2",_0:s(El,e,n),_1:s(El,r,n)+o>>>0}:{ctor:"_Tuple2",_0:e,_1:r},_=l._0,d=l._1;if(v.eq(i,0)){if(v.cmp(t,0)<0&&c){var p=_,h=d,g=a,m=f;e=p,r=h,n=g,o=m,u=-1,c=!1;continue t}return{ctor:"_Tuple2",_0:_,_1:d}}var y=_,b=d,w=a,T=f,k=i,S=c;e=y,r=b,n=w,o=T,u=k,c=S}}),c=d(o,1,0,1664525,n,t,!0),i=c._0,a=c._1;return s(Rl,s(El,i,r._0)+a>>>0,n)}),un({ctor:"::",_0:f(nn,Rl,s(an,0,dn),s(an,1,dn)),_1:{ctor:"::",_0:s(on,Ll,dn),_1:{ctor:"[]"}}}),e(function(t,e){return{x:t,y:e}}),e(function(t,r){return s(pt,e(function(t,e){return!v.eq(t,e)})(t),r)})),zl=e(function(t,r){return s(e(function(t,e){return{ctor:"::",_0:t,_1:e}}),t,s(Hl,t,r))}),Wl=function(t){return{ctor:"Up",_0:t}},Gl=function(t){return{ctor:"Down",_0:t}},Kl=Se({ctor:"::",_0:Ef(Gl),_1:{ctor:"::",_0:xf(Wl),_1:{ctor:"[]"}}}),Xl=function(t){return{ctor:"State",_0:t}},Ql=Xl({ctor:"[]"}),Yl=e(function(t,e){var r=e,n=r._0,o=t;return Xl("Down"===o.ctor?s(zl,o._0,n):s(Hl,o._0,n))}),Zl=function(t){return{ctor:"KeyUp",_0:t}},t_=function(t){return{ctor:"KeyDown",_0:t}},e_={ctor:"Other"},r_={ctor:"Altgr"},n_={ctor:"Meta"},o_={ctor:"Quote"},u_={ctor:"CloseBracket"},c_={ctor:"BackSlash"},i_={ctor:"OpenBracket"},a_={ctor:"BackQuote"},s_={ctor:"Slash"},f_={ctor:"Period"},l_={ctor:"Minus"},__={ctor:"Comma"},d_={ctor:"VolumeUp"},p_={ctor:"VolumeDown"},h_={ctor:"VolumeMute"},v_={ctor:"Tilde"},g_={ctor:"CloseCurlyBracket"},m_={ctor:"OpenCurlyBracket"},y_={ctor:"HyphenMinus"},b_={ctor:"Pipe"},w_={ctor:"Plus"},T_={ctor:"Asterisk"},k_={ctor:"CloseParen"},S_={ctor:"OpenParen"},E_={ctor:"Underscore"},x_={ctor:"Ampersand"},A_={ctor:"Percent"},O_={ctor:"Dollar"},q_={ctor:"Hash"},I_={ctor:"DoubleQuote"},N_={ctor:"Exclamation"},C_={ctor:"Circumflex"},j_={ctor:"ScrollLock"},M_={ctor:"NumLock"},D_={ctor:"F24"},B_={ctor:"F23"},R_={ctor:"F22"},P_={ctor:"F21"},L_={ctor:"F20"},F_={ctor:"F19"},$_={ctor:"F18"},U_={ctor:"F17"},V_={ctor:"F16"},J_={ctor:"F15"},H_={ctor:"F14"},z_={ctor:"F13"},W_={ctor:"F12"},G_={ctor:"F11"},K_={ctor:"F10"},X_={ctor:"F9"},Q_={ctor:"F8"},Y_={ctor:"F7"},Z_={ctor:"F6"},td={ctor:"F5"},ed={ctor:"F4"},rd={ctor:"F3"},nd={ctor:"F2"},od={ctor:"F1"},ud={ctor:"Divide"},cd={ctor:"Decimal"},id={ctor:"Subtract"},ad={ctor:"Separator"},sd={ctor:"Add"},fd={ctor:"Multiply"},ld={ctor:"Numpad9"},_d={ctor:"Numpad8"},dd={ctor:"Numpad7"},pd={ctor:"Numpad6"},hd={ctor:"Numpad5"},vd={ctor:"Numpad4"},gd={ctor:"Numpad3"},md={ctor:"Numpad2"},yd={ctor:"Numpad1"},bd={ctor:"Numpad0"},wd={ctor:"Sleep"},Td={ctor:"ContextMenu"},kd={ctor:"Super"},Sd={ctor:"CharZ"},Ed={ctor:"CharY"},xd={ctor:"CharX"},Ad={ctor:"CharW"},Od={ctor:"CharV"},qd={ctor:"CharU"},Id={ctor:"CharT"},Nd={ctor:"CharS"},Cd={ctor:"CharR"},jd={ctor:"CharQ"},Md={ctor:"CharP"},Dd={ctor:"CharO"},Bd={ctor:"CharN"},Rd={ctor:"CharM"},Pd={ctor:"CharL"},Ld={ctor:"CharK"},Fd={ctor:"CharJ"},$d={ctor:"CharI"},Ud={ctor:"CharH"},Vd={ctor:"CharG"},Jd={ctor:"CharF"},Hd={ctor:"CharE"},zd={ctor:"CharD"},Wd={ctor:"CharC"},Gd={ctor:"CharB"},Kd={ctor:"CharA"},Xd={ctor:"At"},Qd={ctor:"QuestionMark"},Yd={ctor:"GreaterThan"},Zd={ctor:"Equals"},tp={ctor:"LessThan"},ep={ctor:"Semicolon"},rp={ctor:"Colon"},np={ctor:"Number9"},op={ctor:"Number8"},up={ctor:"Number7"},cp={ctor:"Number6"},ip={ctor:"Number5"},ap={ctor:"Number4"},sp={ctor:"Number3"},fp={ctor:"Number2"},lp={ctor:"Number1"},_p={ctor:"Number0"},dp={ctor:"Delete"},pp={ctor:"Insert"},hp={ctor:"PrintScreen"},vp={ctor:"Execute"},gp={ctor:"Print"},mp={ctor:"Select"},yp={ctor:"ArrowDown"},bp={ctor:"ArrowRight"},wp={ctor:"ArrowUp"},Tp={ctor:"ArrowLeft"},kp={ctor:"Home"},Sp={ctor:"End"},Ep={ctor:"PageDown"},xp={ctor:"PageUp"},Ap={ctor:"Space"},Op={ctor:"ModeChange"},qp={ctor:"Accept"},Ip={ctor:"NonConvert"},Np={ctor:"Convert"},Cp={ctor:"Escape"},jp={ctor:"CapsLock"},Mp={ctor:"Pause"},Dp={ctor:"Alt"},Bp={ctor:"Control"},Rp={ctor:"Shift"},Pp={ctor:"Enter"},Lp={ctor:"Clear"},Fp={ctor:"Tab"},$p={ctor:"BackSpace"},Up={ctor:"Help"},Vp={ctor:"Cancel"},Jp={ctor:"::",_0:{ctor:"_Tuple2",_0:3,_1:Vp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:6,_1:Up},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:8,_1:$p},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:9,_1:Fp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:12,_1:Lp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:13,_1:Pp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:16,_1:Rp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:17,_1:Bp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:18,_1:Dp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:19,_1:Mp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:20,_1:jp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:27,_1:Cp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:28,_1:Np},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:29,_1:Ip},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:30,_1:qp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:31,_1:Op},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:32,_1:Ap},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:33,_1:xp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:34,_1:Ep},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:35,_1:Sp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:36,_1:kp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:37,_1:Tp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:38,_1:wp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:39,_1:bp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:40,_1:yp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:41,_1:mp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:42,_1:gp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:43,_1:vp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:44,_1:hp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:45,_1:pp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:46,_1:dp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:48,_1:_p},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:49,_1:lp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:50,_1:fp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:51,_1:sp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:52,_1:ap},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:53,_1:ip},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:54,_1:cp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:55,_1:up},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:56,_1:op},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:57,_1:np},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:58,_1:rp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:59,_1:ep},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:60,_1:tp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:61,_1:Zd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:62,_1:Yd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:63,_1:Qd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:64,_1:Xd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:65,_1:Kd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:66,_1:Gd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:67,_1:Wd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:68,_1:zd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:69,_1:Hd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:70,_1:Jd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:71,_1:Vd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:72,_1:Ud},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:73,_1:$d},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:74,_1:Fd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:75,_1:Ld},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:76,_1:Pd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:77,_1:Rd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:78,_1:Bd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:79,_1:Dd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:80,_1:Md},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:81,_1:jd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:82,_1:Cd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:83,_1:Nd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:84,_1:Id},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:85,_1:qd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:86,_1:Od},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:87,_1:Ad},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:88,_1:xd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:89,_1:Ed},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:90,_1:Sd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:91,_1:kd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:93,_1:Td},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:95,_1:wd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:96,_1:bd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:97,_1:yd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:98,_1:md},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:99,_1:gd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:100,_1:vd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:101,_1:hd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:102,_1:pd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:103,_1:dd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:104,_1:_d},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:105,_1:ld},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:106,_1:fd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:107,_1:sd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:108,_1:ad},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:109,_1:id},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:110,_1:cd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:111,_1:ud},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:112,_1:od},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:113,_1:nd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:114,_1:rd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:115,_1:ed},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:116,_1:td},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:117,_1:Z_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:118,_1:Y_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:119,_1:Q_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:120,_1:X_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:121,_1:K_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:122,_1:G_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:123,_1:W_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:124,_1:z_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:125,_1:H_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:126,_1:J_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:127,_1:V_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:128,_1:U_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:129,_1:$_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:130,_1:F_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:131,_1:L_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:132,_1:P_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:133,_1:R_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:134,_1:B_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:135,_1:D_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:144,_1:M_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:145,_1:j_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:160,_1:C_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:161,_1:N_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:162,_1:I_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:163,_1:q_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:164,_1:O_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:165,_1:A_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:166,_1:x_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:167,_1:E_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:168,_1:S_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:169,_1:k_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:170,_1:T_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:171,_1:w_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:172,_1:b_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:173,_1:y_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:174,_1:m_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:175,_1:g_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:176,_1:v_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:181,_1:h_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:182,_1:p_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:183,_1:d_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:186,_1:ep},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:187,_1:Zd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:188,_1:__},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:189,_1:l_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:190,_1:f_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:191,_1:s_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:192,_1:a_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:219,_1:i_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:220,_1:c_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:221,_1:u_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:222,_1:o_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:224,_1:n_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:225,_1:r_},_1:{ctor:"[]"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},Hp=function(t){return s($,0,lt(s(dt,ge,s(pt,function(r){return s(e(function(t,e){return v.eq(t,e)}),t,ve(r))},Jp))))},zp=(e(function(t,r){var n=r;return Xl(f(ut,e(function(t,e){return s(Hl,t,e)}),n._0,s(dt,Hp,t)))}),e(function(t,e){var r=e;return s(at,Hp(t),r._0)})),Wp=Pr(Jp),Gp=function(t){return s($,e_,s(er,t,Wp))},Kp=function(t){return xf(function(e){return t(Gp(e))})},Xp=(e(function(t,e){var r=e,n=r._0,o=t;if("Down"===o.ctor){var u=o._0,c=s(zl,u,n),i=v.eq(ct(c),ct(n))?U:J(t_(Gp(u)));return{ctor:"_Tuple2",_0:Xl(c),_1:i}}var a=o._0,c=s(Hl,a,n),i=v.eq(ct(c),ct(n))?U:J(Zl(Gp(a)));return{ctor:"_Tuple2",_0:Xl(c),_1:i}}),s(on,Gp,s(sn,"keyCode",dn))),Qp=(e(function(t,e){var r=s(yt,e.path,t);return v.update(e,{path:r})}),e(function(t,e){var r=s(Lr,t,e.query);return v.update(e,{query:r})}),r(function(t,e,r){var n=s(jr,t,e);return v.update(r,{query:n})}),r(function(t,e,r){var n=de(e)?s(Lr,t,r.query):f(Cr,t,e,r.query);return v.update(r,{query:n})}),function(t){var e=Ke(t.query),r=s(dt,function(t){var e=t;return{ctor:"_Tuple2",_0:cf(e._0),_1:cf(e._1)}},e),n=s(dt,function(t){var e=t;return s(k["++"],e._0,s(k["++"],"=",e._1))},r);return hr(t.query)?"":s(k["++"],"?",s(ce,"&",n))}),Yp=function(t){var e=s(ie,"=",t),r=s($,"",lt(e)),n=s($,"",uf(r)),o=s($,"",lt(s(Q,1,e)));return{ctor:"_Tuple2",_0:n,_1:s($,"",uf(o))}},Zp=function(t){var e=s(ie,"&",t);return de(t)?{ctor:"[]"}:s(dt,Yp,e)},th=function(t){return Pr(Zp(t))},eh=function(t){return s($,"",lt(s(ie,"#",s($,"",lt(s(Q,1,s(ie,"?",t)))))))},rh=function(t){return th(eh(t))},nh=function(t){return s($,"",lt(s(Q,1,s(ie,"#",t))))},oh=function(t){return nh(t)},uh=function(t){return s(ie,".",t)},ch=function(t){var e=s(ie,"://",t);return 1===ct(e)?"":s($,"",lt(e))},ih=function(t){var e=ku(":\\d+"),r=f(wu,Eu(1),e,t);return function(e){var r=e;if("Ok"===r.ctor)return r._0;switch(ch(t)){case"http":return 80;case"https":return 443;case"ftp":return 21;case"sftp":return 22;default:return 0}}(Ht(s(re,1,s($,"",lt(s(dt,function(t){return t.match},r))))))},ah=(e(function(t,e){var r=s(ie,t,e),n=lt(r);switch(ct(r)){case 0:case 1:return"";default:return s($,"",n)}}),e(function(t,e){var r=s(ie,t,e);return s($,"",lt(r))})),sh=e(function(t,e){var r=s(ie,t,e);return s($,"",lt(gt(r)))}),fh=function(t){var e=s(k["++"],"(",s(k["++"],"((\\w|-)+\\.)+(\\w|-)+",s(k["++"],"|",s(k["++"],"localhost",")"))));return s($,"",lt(s(dt,function(t){return t.match},f(wu,Eu(1),ku(e),s(ah,"/",s(sh,"//",t))))))},lh=function(t){return uh(fh(t))},_h=function(t){var e=fh(t);return l(bu,Eu(1),ku(":\\d+"),function(t){return""},l(bu,Eu(1),ku(e),function(t){return""},s(ah,"#",s(ah,"?",s(sh,"//",t)))))},dh=function(t){return s(Tu,ku("^/"),_h(t))},ph=function(t){return s(Tu,ku("/$"),_h(t))},hh=(e(function(t,e){var r=s(ie,t,e);switch(ct(r)){case 0:case 1:return"";default:return s($,"",lt(gt(r)))}}),function(t){return!de(t)}),vh=function(t){return s(dt,$(""),s(dt,uf,s(pt,hh,s(ie,"/",t))))},gh=function(t){return vh(_h(t))},mh=function(t){return{host:lh(t),hash:oh(t),password:"",path:gh(t),hasLeadingSlash:dh(t),hasTrailingSlash:ph(t),port_:ih(t),protocol:ch(t),query:rh(t),username:""}},yh=function(t){return s(k["++"],"/",s(k["++"],s(ce,"/",t.path),t.hasTrailingSlash&&!st(t.path)?"/":""))},bh=e(function(t,e){return v.eq(t.path,e.path)&&v.eq(t.hasTrailingSlash,e.hasTrailingSlash)&&v.eq(t.hash,e.hash)&&v.eq(Ke(t.query),Ke(e.query))}),wh=e(function(t,e){return s(bh,mh(e.url),t)?U:J(e)}),Th=e(function(t,e){return v.update(e,{url:t(e.url)})}),kh=e(function(t,e){return s(Th,s(Gt,"?",e.url)?function(e){return s(k["++"],yh(t),e)}:s(Gt,"#",e.url)?function(e){return s(k["++"],yh(t),s(k["++"],Qp(t),e))}:function(t){return t},e)}),Sh=function(t){return function(){return"NewEntry"===t.entry.ctor?Yf:Xf}()(t.url)},Eh=function(t){return s(rl,t.locationToMessage,{init:t.init,update:t.update,view:t.view,subscriptions:t.subscriptions})},xh=(r(function(t,e,r){var n=r;return"RouterMsg"===n.ctor?t(n._0):e(n._0)}),function(t){return{delta2url:t.delta2url,location2messages:t.location2messages,update:t.update,subscriptions:t.subscriptions,view:t.view}}),Ah=(u(function(t,e,r,n,o,u){return{delta2url:t,location2messages:e,init:r,update:n,subscriptions:o,view:u}}),u(function(t,e,r,n,o,u){return{delta2url:t,location2messages:e,init:r,update:n,subscriptions:o,view:u}}),o(function(t,e,r,n,o){return{delta2url:t,location2messages:e,update:r,subscriptions:n,view:o}}),e(function(t,e){return{entry:t,url:e}}),e(function(t,e){return{reportedUrl:t,expectedUrlChanges:e}}),o(function(t,e,r,n,o){return{locationToMessage:t,init:e,update:r,view:n,subscriptions:o}}),o(function(t,e,r,n,o){return{locationToMessage:t,init:e,update:r,view:n,subscriptions:o}}),{ctor:"NewEntry"}),Oh=e(function(t,e){return{ctor:"WrappedModel",_0:t,_1:e}}),qh=(e(function(t,e){var r=e;return s(Oh,t(r._0),r._1)}),function(t){return{ctor:"UserMsg",_0:t}}),Ih=e(function(t,e){var r=e;return s(ji,qh,t.view(r._0))}),Nh=e(function(t,e){var r=e;return s(xe,qh,t.subscriptions(r._0))}),Ch=n(function(t,e,r,n){var o={expectedUrlChanges:0,reportedUrl:mh(n.href)},u=f(Vc,e.update,e.location2messages(n),t(r)),c=u._0,i=u._1;return{ctor:"_Tuple2",_0:s(Oh,c,o),_1:s(ke,qh,i)}}),jh=(r(function(t,e,r){var n={expectedUrlChanges:0,reportedUrl:mh(r.href)},o=f(Vc,e.update,e.location2messages(r),t),u=o._0,c=o._1;return{ctor:"_Tuple2",_0:s(Oh,u,n),_1:s(ke,qh,c)}}),r(function(t,e,r){var n=r,o=n._0,u=n._1,c=e;if("RouterMsg"===c.ctor){var i=c._0,a={reportedUrl:mh(i.href),expectedUrlChanges:v.cmp(u.expectedUrlChanges,0)>0?u.expectedUrlChanges-1:0};if(v.cmp(u.expectedUrlChanges,0)>0)return{ctor:"_Tuple2",_0:s(Oh,o,a),_1:we};var l=f(Vc,t.update,t.location2messages(i),{ctor:"_Tuple2",_0:o,_1:we}),_=l._0,d=l._1;return{ctor:"_Tuple2",_0:s(Oh,_,a),_1:s(ke,qh,d)}}var p=s(t.update,c._0,o),_=p._0,h=p._1,g=s(V,wh(u.reportedUrl),s(H,kh(u.reportedUrl),s(t.delta2url,o,_))),m=g;if("Just"===m.ctor){var y=m._0;return{ctor:"_Tuple2",_0:s(Oh,_,{reportedUrl:mh(y.url),expectedUrlChanges:u.expectedUrlChanges+1}),_1:s(ke,qh,be({ctor:"::",_0:Sh(y),_1:{ctor:"::",_0:h,_1:{ctor:"[]"}}}))}}return{ctor:"_Tuple2",_0:s(Oh,_,u),_1:s(ke,qh,h)}})),Mh=function(t){return{ctor:"RouterMsg",_0:t}},Dh=function(t){var e=xh(t);return{locationToMessage:Mh,init:s(Ch,t.init,e),update:jh(e),view:Ih(e),subscriptions:Nh(e)}},Bh=e(function(t,e){var n=e,o=n._0,u=t?"$":"#",c=v.eq(o.hash,"")?"":s(k["++"],u,cf(o.hash)),i=r(function(t,e,r){return{ctor:"::",_0:s(k["++"],cf(t),s(k["++"],"=",cf(e))),_1:r}}),a=s(ce,"/",s(dt,cf,o.path)),l=t?"^":"?",_=hr(o.query)?"":s(k["++"],l,s(ce,"&",f(Xe,i,{ctor:"[]"},o.query))),d=t?"#!/":"/";return{entry:o.entry,url:s(k["++"],d,s(k["++"],a,s(k["++"],_,c)))}}),Rh=(Bh(!1),Bh(!0)),Ph=(e(function(t,e){return s(er,t,e._0.query)}),function(t){return t._0.path}),Lh=function(t){return{ctor:"Builder",_0:t}},Fh=Lh({entry:Ah,path:{ctor:"[]"},query:pr,hash:""}),$h=(e(function(t,e){var r=e,n=r._0;return Lh(v.update(n,{path:t(n.path)}))}),e(function(t,e){var r=e;return Lh(v.update(r._0,{path:t}))})),Uh=e(function(t,e){var r=e,n=r._0;return Lh(v.update(n,{query:t(n.query)}))}),Vh=(e(function(t,e){return Uh(s(Cr,t,e))}),e(function(t,e){return Uh(s(Nr,t,e))}),e(function(t,e){var r=e;return Lh(v.update(r._0,{query:t}))}),e(function(t,e){var r=e,n=r._0;return Lh(v.update(n,{hash:t(n.hash)}))}),e(function(t,e){var r=e;return Lh(v.update(r._0,{hash:t}))}),function(t){var e=mh(l(bu,Eu(1),ku("\\^"),w("?"),l(bu,Eu(1),ku("$"),w("#"),l(bu,Eu(1),ku("^!"),w(""),function(t){return t.hash}(mh(t))))));return Lh({entry:Ah,path:e.path,query:e.query,hash:e.hash})}),Jh=function(t){return v.cmp(t,1)<1?Po:v.eq(t,2)?Ro:v.eq(t,3)?Bo:v.eq(t,4)?Do:v.eq(t,5)?Mo:v.eq(t,6)?jo:v.eq(t,7)?Co:v.eq(t,8)?No:v.eq(t,9)?Io:v.eq(t,10)?qo:v.eq(t,11)?Oo:Ao},Hh=function(t){switch(t.ctor){case"Jan":return 1;case"Feb":return 2;case"Mar":return 3;case"Apr":return 4;case"May":return 5;case"Jun":return 6;case"Jul":return 7;case"Aug":return 8;case"Sep":return 9;case"Oct":return 10;case"Nov":return 11;default:return 12}},zh=function(t){return v.eq(s(k["%"],t,4),0)&&!v.eq(s(k["%"],t,100),0)||v.eq(s(k["%"],t,400),0)},Wh=e(function(t,e){switch(e.ctor){case"Jan":return 31;case"Feb":return zh(t)?29:28;case"Mar":return 31;case"Apr":return 30;case"May":return 31;case"Jun":return 30;case"Jul":case"Aug":return 31;case"Sep":return 30;case"Oct":return 31;case"Nov":return 30;default:return 31}}),Gh=function(t){return s(Wh,vo(t),ho(t))},Kh=function(t){return O(mo(t))},Xh=function(t){return go(x(t))},Qh=function(t){switch(t.ctor){case"Mon":return 1;case"Tue":return 2;case"Wed":return 3;case"Thu":return 4;case"Fri":return 5;case"Sat":return 6;default:return 7}},Yh=O(1),Zh=1e3*Yh,tv=60*Zh,ev=60*tv,rv=24*ev,nv=7*rv,ov=(e(function(t,e){var r=ao(t)-ao(e),n=so(t)-so(e),o=fo(t)-fo(e),u=lo(t)-lo(e),c=Kh(t)-Kh(e),i=c-u*ev-o*tv-n*Zh-r*Yh,a=i/rv|0,f=function(){if(v.cmp(a,0)<0){var t=D(a);return{ctor:"_Tuple2",_0:B(t/7|0),_1:B(s(k["%"],t,7))}}return{ctor:"_Tuple2",_0:a/7|0,_1:s(k["%"],a,7)}}();return{week:f._0,day:f._1,hour:u,minute:o,second:n,millisecond:r}}),r(function(t,r,n){return Xh(s(e(function(t,e){return t+e}),r*t,Kh(n)))})),uv=function(t){var e=t;switch(e.ctor){case"Millisecond":return Yh;case"Second":return Zh;case"Minute":return tv;case"Hour":return ev;case"Day":return rv;case"Week":return nv;default:var r=e._0;return Yh*r.millisecond+Zh*r.second+tv*r.minute+ev*r.hour+rv*r.day+nv*r.week}},cv=function(t){return ov(uv(t))},iv=(u(function(t,e,r,n,o,u){return{week:t,day:e,hour:r,minute:n,second:o,millisecond:u}}),function(t){return{ctor:"Delta",_0:t}}),av={ctor:"Week"},sv={ctor:"Day"},fv={ctor:"Hour"},lv={ctor:"Minute"},_v={ctor:"Second"},dv={ctor:"Millisecond"},pv=r(function(t,e,r){var n=((153*(e+(v.cmp(e,2)>0?-3:9))+2)/5|0)+r-1,o=t-(v.cmp(e,2)<1?1:0),u=(v.cmp(o,0)>-1?o:o-399)/400|0,c=o-400*u;return 146097*u+(365*c+(c/4|0)-(c/100|0)+n)-719468}),hv=c(function(t,e,r,n,o,u,c){var i=Hh(e),a=v.cmp(t,0)<0?0:t,l=f(M,1,s(Wh,a,e),r),_=f(pv,a,i,l);return uv(iv({millisecond:f(M,0,999,c),second:f(M,0,59,u),minute:f(M,0,59,o),hour:f(M,0,23,n),day:_,week:0}))}),vv=function(t){return p(hv,vo(t),ho(t),po(t),lo(t),fo(t),so(t),ao(t))},gv=function(t){var e=vv(t);return(O(mo(t))-e)/tv|0},mv=e(function(t,r){return Xh(s(e(function(t,e){return t+e}),t*tv,Kh(r)))}),yv=(e(function(t,e){return f(cv,lv,gv(e)-gv(t),e)}),Kh),bv=tv,wv=Hh,Tv=Qh,kv=e(function(t,e){var r=Tv(e),n=Tv(t);return v.cmp(n,r)<0?7+n-r:n-r}),Sv=Jh,Ev=Xh,xv=Gh,Av=Wh,Ov=(n(function(t,e,r,n){var o=yv(n),u=yv(r),c=s(N,u,o),i=s(C,u,o),a=yv(e);switch(t.ctor){case"Between":return v.cmp(a,i)>0&&v.cmp(a,c)<0;case"BetweenOpenStart":return v.cmp(a,i)>-1&&v.cmp(a,c)<0;case"BetweenOpenEnd":return v.cmp(a,i)>0&&v.cmp(a,c)<1;default:return v.cmp(a,i)>-1&&v.cmp(a,c)<1}}),r(function(t,e,r){var n=yv(r),o=yv(e);switch(t.ctor){case"Before":return v.cmp(o,n)<0;case"After":return v.cmp(o,n)>0;case"Same":return v.eq(o,n);case"SameOrBefore":return v.cmp(o,n)<1;default:return v.cmp(o,n)>-1}})),qv={ctor:"After"},Iv=(e(function(t,e){return{i18n:t,format:e}}),e(function(t,e){var r=function(){switch(e){case 1:return"1st";case 21:return"21st";case 2:return"2nd";case 22:return"22nd";case 3:return"3rd";case 23:return"23rd";case 31:return"31st";default:return s(k["++"],S(e),"th")}}();return t?f(te,4,v.chr(" "),r):r})),Nv=function(t){switch(t.ctor){case"Jan":return"January";case"Feb":return"February";case"Mar":return"March";case"Apr":return"April";case"May":return"May";case"Jun":return"June";case"Jul":return"July";case"Aug":return"August";case"Sep":return"September";case"Oct":return"October";case"Nov":return"November";default:return"December"}},Cv=function(t){switch(t.ctor){case"Jan":return"Jan";case"Feb":return"Feb";case"Mar":return"Mar";case"Apr":return"Apr";case"May":return"May";case"Jun":return"Jun";case"Jul":return"Jul";case"Aug":return"Aug";case"Sep":return"Sep";case"Oct":return"Oct";case"Nov":return"Nov";default:return"Dec"}},jv=function(t){switch(t.ctor){case"Mon":return"Monday";case"Tue":return"Tuesday";case"Wed":return"Wednesday";case"Thu":return"Thursday";case"Fri":return"Friday";case"Sat":return"Saturday";default:return"Sunday"}},Mv=function(t){switch(t.ctor){case"Mon":return"Mon";case"Tue":return"Tue";case"Wed":return"Wed";case"Thu":return"Thu";case"Fri":return"Fri";case"Sat":return"Sat";default:return"Sun"}},Dv={i18n:{dayShort:Mv,dayName:jv,monthShort:Cv,monthName:Nv,dayOfMonthWithSuffix:Iv},format:{date:"%-m/%-d/%Y",longDate:"%A, %B %d, %Y",time:"%-H:%M %p",longTime:"%-H:%M:%S %p",dateTime:"%-m/%-d/%Y %-I:%M %p",firstDayOfWeek:bo}},Bv=go(0),Rv=function(){var t=60*lo(Bv)+fo(Bv);return v.eq(vo(Bv),1969)?0-(t-1440):0-t}(),Pv=gv,Lv=function(t){var e=f(cv,dv,t+Rv*bv,Bv),r=Pv(e);return v.eq(r,Rv)?e:f(cv,lv,r-Rv,e)},Fv=c(function(t,e,r,n,o,u,c){return Lv(p(hv,t,e,r,n,o,u,c))}),$v=(f(Fv,1970,Po,1),function(t){return{ctor:"_Tuple2",_0:t/60|0,_1:s(k["%"],t,60)}}),Uv=e(function(t,e){return function(r){return f(te,t,e,S(r))}}),Vv=function(t){return function(e){return f(te,2,t,S(e))}},Jv=function(t){return v.eq(s(k["%"],t,12),0)?12:s(k["%"],t,12)},Hv=e(function(t,e){var r=$v(D(e)),n=r._0,o=r._1;return s(k["++"],v.cmp(e,0)<1?"+":"-",s(k["++"],s(Vv,v.chr("0"),n),s(k["++"],t,s(Vv,v.chr("0"),o))))}),zv=function(t){return s(V,T,t)},Wv=n(function(t,e,r,n){var o=s($," ",zv(lt(n.submatches)));switch(o){case"Y":return f(Uv,4,v.chr("0"),vo(r));case"y":return s(ne,2,f(Uv,2,v.chr("0"),vo(r)));case"m":return s(Vv,v.chr("0"),wv(ho(r)));case"_m":return s(Vv,v.chr(" "),wv(ho(r)));case"-m":return S(wv(ho(r)));case"B":return t.i18n.monthName(ho(r));case"^B":return Xt(t.i18n.monthName(ho(r)));case"b":return t.i18n.monthShort(ho(r));case"^b":return Xt(t.i18n.monthShort(ho(r)));case"d":return s(Vv,v.chr("0"),po(r));case"-d":return S(po(r));case"-@d":return s(t.i18n.dayOfMonthWithSuffix,!1,po(r));case"e":return s(Vv,v.chr(" "),po(r));case"@e":return s(t.i18n.dayOfMonthWithSuffix,!0,po(r));case"A":return t.i18n.dayName(_o(r));case"^A":return Xt(t.i18n.dayName(_o(r)));case"a":return t.i18n.dayShort(_o(r));case"^a":return Xt(t.i18n.dayShort(_o(r)));case"H":return s(Vv,v.chr("0"),lo(r));case"-H":return S(lo(r));case"k":return s(Vv,v.chr(" "),lo(r));case"I":return s(Vv,v.chr("0"),Jv(lo(r)));case"-I":return S(Jv(lo(r)));case"l":return s(Vv,v.chr(" "),Jv(lo(r)));case"p":return v.cmp(lo(r),12)<0?"AM":"PM";case"P":return v.cmp(lo(r),12)<0?"am":"pm";case"M":return s(Vv,v.chr("0"),fo(r));case"S":return s(Vv,v.chr("0"),so(r));case"L":return f(Uv,3,v.chr("0"),ao(r));case"%":return o;case"z":return s(Hv,"",e);case":z":return s(Hv,":",e);default:return""}}),Gv=ku("%(y|Y|m|_m|-m|B|^B|b|^b|d|-d|-@d|e|@e|A|^A|a|^a|H|-H|k|I|-I|l|p|P|M|S|%|L|z|:z)"),Kv=n(function(t,e,r,n){var o=Pv(n);return l(bu,xu,Gv,f(Wv,t,e,s(mv,o-e,n)),r)}),Xv=r(function(t,e,r){return l(Kv,t,Pv(r),e,r)}),Qv=(r(function(t,e,r){return l(Kv,t,0,e,r)}),s(Xv,Dv,"%Y-%m-%dT%H:%M:%S.%L%:z"),s(Xv,Dv,"%Y-%m-%dT%H:%M:%S.%L"),r(function(t,e,r){var n=f(pv,vo(e),wv(ho(e)),po(e));return(f(pv,vo(t),wv(ho(t)),po(t))-n)*r})),Yv=(e(function(t,e){return f(Ov,qv,t,e)?f(Qv,t,e,1):f(Qv,e,t,-1)}),r(function(t,e,r){var o=n(function(t,e,r,n){return v.cmp(e,r)<0?{ctor:"_Tuple2",_0:t-1,_1:n+e-r}:{ctor:"_Tuple2",_0:t,_1:e-r}}),u=ao(e),c=ao(t),i=so(e),a=so(t),f=fo(e),_=fo(t),d=lo(e),p=lo(t),h=po(e),g=po(t),m=ho(e),y=wv(m),b=ho(t),w=wv(b),T=vo(e),k=s(Av,T,m),S=vo(t),E=l(o,S-T,w,y,12),x=E._0,A=E._1,O=l(o,A,g,h,k),q=O._0,I=O._1,N=l(o,I,p,d,24),C=N._0,j=N._1,M=l(o,j,_,f,60),D=M._0,B=M._1,R=l(o,B,a,i,60),P=R._0,L=R._1,F=l(o,L,c,u,1e3);return{year:x*r,month:q*r,day:C*r,hour:D*r,minute:P*r,second:F._0*r,millisecond:F._1*r}})),Zv=(e(function(t,e){return f(Ov,qv,t,e)?f(Yv,t,e,1):f(Yv,e,t,-1)}),e(function(t,e){var r=po(e),n=wv(ho(e)),o=n+t,u=s(k["%"],o,12),c=v.cmp(o,0)<0?(o/12|0)-1:o/12|0,i=vo(e),a=f(pv,i,n,r),l=i+c,_=s(C,s(Av,l,Sv(o)),r),d=f(pv,l,u,_);return f(cv,sv,d-a,e)})),tg=e(function(t,e){return s(Zv,12*t,e)}),eg=e(function(t,e){var r=Pv(e),n=Pv(t);if(v.eq(n,r))return e;var o=f(cv,dv,(r-n)*bv,e),u=Pv(o);return v.eq(u,r)?o:e}),rg=function(t){var e=t;switch(e.ctor){case"Millisecond":case"Second":case"Minute":case"Hour":return!1;case"Day":case"Week":case"Month":case"Year":return!0;default:var r=e._0;return!v.eq(r.day,0)||!v.eq(r.month,0)||!v.eq(r.year,0)}},ng=(c(function(t,e,r,n,o,u,c){return{year:t,month:e,day:r,hour:n,minute:o,second:u,millisecond:c}}),{ctor:"Year"}),og={ctor:"Month"},ug=r(function(t,e,r){var n=t;switch(n.ctor){case"Millisecond":return f(cv,dv,e,r);case"Second":return f(cv,_v,e,r);case"Minute":return f(cv,lv,e,r);case"Hour":return f(cv,fv,e,r);case"Day":return f(cv,sv,e,r);case"Week":return f(cv,av,e,r);case"Month":return s(Zv,e,r);case"Year":return s(tg,e,r);default:var o=n._0;return f(cv,iv({week:0,day:o.day,hour:o.hour,minute:o.minute,second:o.second,millisecond:o.millisecond}),e,f(ug,og,o.month,f(ug,ng,o.year,r)))}}),cg=r(function(t,e,r){var n=f(ug,t,e,r);return rg(t)?s(eg,r,n):n}),ig={ctor:"Day"},ag={ctor:"Hour"},sg={ctor:"Minute"},fg={ctor:"Second"},lg={ctor:"Millisecond"},_g=r(function(t,e,r){var n=Tv(t),o=_o(r),u=s(kv,o,e),c=Tv(o),i=n-c,a=v.cmp(u+i,0)<0?i+7:i;return f(cg,ig,a,r)}),dg=e(function(t,e){var r=wv(ho(e)),n=wv(t);return f(cg,og,n-r,e)}),pg=e(function(t,e){var r=t;switch(r.ctor){case"Millisecond":return f(cg,lg,f(M,0,999,r._0)-ao(e),e);case"Second":return f(cg,fg,f(M,0,59,r._0)-so(e),e);case"Minute":return f(cg,sg,f(M,0,59,r._0)-fo(e),e);case"Hour":return f(cg,ag,f(M,0,23,r._0)-lo(e),e);case"DayOfWeek":return f(_g,r._0._0,r._0._1,e);case"DayOfMonth":var n=xv(e);return f(cg,ig,f(M,1,n,r._0)-po(e),e);case"Month":return s(dg,r._0,e);default:var o=r._0,u=v.cmp(o,0)<0?0:o;return f(cg,ng,u-vo(e),e)}}),hg=(e(function(t,e){var r=t;switch(r.ctor){case"Millisecond":var n=r._0;return v.cmp(n,0)<0||v.cmp(n,999)>0?U:J(f(cg,lg,n-ao(e),e));case"Second":var o=r._0;return v.cmp(o,0)<0||v.cmp(o,59)>0?U:J(f(cg,fg,o-so(e),e));case"Minute":var u=r._0;return v.cmp(u,0)<0||v.cmp(u,59)>0?U:J(f(cg,sg,u-fo(e),e));case"Hour":var c=r._0;return v.cmp(c,0)<0||v.cmp(c,23)>0?U:J(f(cg,ag,c-lo(e),e));case"DayOfWeek":return J(f(_g,r._0._0,r._0._1,e));case"DayOfMonth":var i=r._0,a=xv(e);return v.cmp(i,1)<0||v.cmp(i,a)>0?U:J(f(cg,ig,i-po(e),e));case"Month":return J(s(dg,r._0,e));default:var l=r._0;return v.cmp(l,0)<0?U:J(f(cg,ng,l-vo(e),e))}}),function(t){return{ctor:"Month",_0:t}}),vg=function(t){return{ctor:"DayOfMonth",_0:t}},gg=function(t){return{ctor:"Hour",_0:t}},mg=function(t){return{ctor:"Minute",_0:t}},yg=function(t){return{ctor:"Second",_0:t}},bg=function(t){return{ctor:"Millisecond",_0:t}},wg={ctor:"Year"},Tg={ctor:"Month"},kg={ctor:"Day"},Sg={ctor:"Hour"},Eg={ctor:"Minute"},xg={ctor:"Second"},Ag=e(function(t,e){switch(t.ctor){case"Millisecond":return e;case"Second":return s(pg,bg(0),e);case"Minute":return s(pg,yg(0),s(Ag,xg,e));case"Hour":return s(pg,mg(0),s(Ag,Eg,e));case"Day":return s(pg,gg(0),s(Ag,Sg,e));case"Month":return s(pg,vg(1),s(Ag,kg,e));default:return Og(e)}}),Og=function(t){var e=s(pg,vg(1),t),r=s(pg,hg(Po),e),n=yv(e)-yv(r),o=Ev(yv(t)-n);return s(Ag,Tg,o)},qg=e(function(t,e){switch(t.ctor){case"Millisecond":return e;case"Second":return s(pg,bg(999),e);case"Minute":return s(pg,yg(59),s(qg,xg,e));case"Hour":return s(pg,mg(59),s(qg,Eg,e));case"Day":return s(pg,gg(23),s(qg,Sg,e));case"Month":return s(pg,vg(31),s(qg,kg,e));default:var r=f(cg,ng,1,e),n=s(Ag,wg,r);return f(cg,lg,-1,n)}}),Ig=e(function(t,e){return t+e}),Ng=e(function(t,e){return t-e}),Cg=b(Ng),jg=e(function(t,e){return!v.eq(t,e)}),Mg=e(function(t,e){return v.eq(t,e)}),Dg=e(function(t,e){return t&&e}),Bg=(e(function(t,e){return t||e}),e(function(t,e){return v.cmp(t,e)<0}),e(function(t,e){return v.cmp(t,e)>0}),e(function(t,r){var n=e(function(e,r){return t(e)?r:{ctor:"::",_0:e,_1:r}});return f(ot,n,{ctor:"[]"},r)})),Rg=n(function(t,e,r,n){return t(n)?e(n):r(n)}),Pg=r(function(t,e,r){return l(Rg,t,e,function(t){return r},r)}),Lg=r(function(t,e,r){return s(ri,e,s(ti,t,r))}),Fg=(r(function(t,e,r){return s(m,e,s(ei,t,r))}),r(function(t,e,r){return s(ui["?="],s(ui["?|>"],t(r),s(ui["#"],e,r)),r)})),$g=(r(function(t,e,r){var n=t;return f(Lg,{ctor:"_Tuple3",_0:n._0,_1:n._1,_2:T},e,r)}),r(function(t,e,r){return s(e,t(r),r)}),e(function(t,e){return e(t)})),Ug=(e(function(t,e){return s(nt,$g(e),t)}),e(function(t,e){return s(rt,$g(e),t)})),Vg=me.outgoingPort("focusPaperInput",function(t){return t}),Jg=function(t){return Ie(Vg(t))},Hg=Jg(".auto-focus"),zg=me.outgoingPort("focusSelector",function(t){return t}),Wg=me.outgoingPort("focusSelectorIfNoFocus",function(t){return t}),Gg=function(t){return Ie(Wg(t))},Kg=me.outgoingPort("positionDropdown",function(t){return[t._0,t._1]}),Xg=Xg||{};Xg[">>>>"]=o(function(t,e,r,n,o){return e(f(t,r,n,o))});var Xg=Xg||{};Xg["<<<<"]=b(e(function(t,e){return s(Xg[">>>>"],t,e)}));var Xg=Xg||{};Xg[">>>"]=n(function(t,e,r,n){return e(s(t,r,n))});var Xg=Xg||{};Xg["<<<"]=b(e(function(t,e){return s(Xg[">>>"],t,e)}));var Xg=Xg||{};Xg[">>?+"]=e(function(t,e){return function(r){return s(V,e,t(r))}});var Xg=Xg||{};Xg[">>?="]=e(function(t,e){return function(r){return s($,e,t(r))}});var Xg=Xg||{};Xg[">>?"]=e(function(t,e){return function(r){return s(H,e,t(r))}});var Xg=Xg||{};Xg["?>>"]=e(function(t,e){return function(r){return s(H,e,t(r))}});var Xg=Xg||{};Xg["=>"]=e(function(t,e){return{ctor:"_Tuple2",_0:t,_1:e}});var Qg=(r(function(t,e,r){return{noOp:t,focus:e,logString:r}}),function(t){return{ctor:"LogString",_0:t}}),Yg=function(t){return{ctor:"Focus",_0:t}},Zg={ctor:"NoOp"},tm=function(t){t:for(;;){var e=t;switch(e.ctor){case"NoOp":return Ie(we);case"Focus":return Ie(zg(e._0));default:var r=(s(F,"CM:LogString",e._0),Zg);t=r;continue t}}},em=function(t){return v.update(t,{deleted:!t.deleted})},rm=e(function(t,e){return v.update(e,{modifiedAt:t})}),nm=(e(function(t,e){return v.update(e,{deleted:t})}),function(t){return t.deleted}),om=function(t){return{ctor:"::",_0:s(Xg["=>"],"_id",Wr(t.id)),_1:{ctor:"::",_0:s(Xg["=>"],"_rev",Wr(t.rev)),_1:{ctor:"::",_0:s(Xg["=>"],"createdAt",zr(I(t.createdAt))),_1:{ctor:"::",_0:s(Xg["=>"],"modifiedAt",zr(I(t.modifiedAt))),_1:{ctor:"::",_0:s(Xg["=>"],"deleted",Jr(t.deleted)),_1:{ctor:"[]"}}}}}}},um=e(function(t,e){return Ur(s(k["++"],om(e),t(e)))}),cm=function(t){return l(yn,"deleted",pn,!1,l(yn,"modifiedAt",_n,0,l(yn,"createdAt",_n,0,l(yn,"_rev",hn,"",f(bn,"_id",hn,t)))))},im=function(t){return t.id},am=function(t){return function(e){return s(Mg,t,im(e))}},sm=e(function(t,e){return v.eq(im(t),im(e))}),fm=(u(function(t,e,r,n,o,u){return{id:t,rev:e,dirty:r,deleted:n,createdAt:o,modifiedAt:u}}),e(function(t,e){t(e);return e})),lm=e(function(t,e){return fm(function(r){return s(F,e,t(r))})}),_m=function(t){return s(jl,t,Jl)},dm=function(t){return Ll(I(t))},pm=s(jl,function(t){return Ft(t+48)},s(Fl,0,9)),hm=s(jl,function(t){return Ft(t+65)},s(Fl,0,25)),vm=s(jl,function(t){return Ft(t+97)},s(Fl,0,25)),gm=Vl({ctor:"::",_0:{ctor:"_Tuple2",_0:26,_1:vm},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:26,_1:hm},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:10,_1:pm},_1:{ctor:"[]"}}}}),mm=s(jl,Vt,s(Nl,64,gm)),ym=function(t){return s(jl,t,mm)},bm=e(function(t,e){return v.update(e,{list:t})}),wm=e(function(t,e){return s(bm,t(e),e)}),Tm=function(t){return t.list},km=e(function(t,e){return v.update(e,{seed:t})}),Sm=(e(function(t,e){return s(km,t(e),e)}),function(t){return t.seed}),Em=function(t){return function(e){return s(ps,t,Tm(e))}},xm=function(t){return Em(am(t))},Am=function(t){return function(e){return s(Bg,t,Tm(e))}},Om=function(t){return function(e){return s(pt,t,Tm(e))}},qm=function(t){return function(e){return s(dt,t,Tm(e))}},Im=function(t){return Pr(s(qm,ei({ctor:"_Tuple2",_0:im,_1:T}),t))},Nm=e(function(t,e){return Ge(s(Ma,e,Im(t)))}),Cm=function(t){return wm(function(r){return s(e(function(t,e){return{ctor:"::",_0:t,_1:e}}),t,Tm(r))})},jm=e(function(t,e){return s(pe,s(ui["#"],km,e),s(Ol,t,Sm(e)))}),Mm=e(function(t,e){return function(t){var e=t,r=v.update(e._0,{dirty:!0});return{ctor:"_Tuple2",_0:r,_1:s(Cm,r,e._1)}}(s(ui["#"],jm,e)(ym(t)))}),Dm=(e(function(t,e){var r=s(Cm,t,e),n=function(t){return e},o=im(t);return s(ui["?="],s(ui["?|>"],s(xm,o,e),n),r)}),e(function(t,e){return s(ui["#"],bm,e)(Ge(f(Cr,im(t),t,Im(e))))})),Bm=e(function(t,e){return It(s(Rt,F(s(k["++"],"Store ",e.name)),s(Zr,e.decoder,t)))}),Rm=e(function(t,e){return s(ui["?="],s(ui["?|>"],s(Bm,t,e),s(ui["#"],Dm,e)),e)}),Pm=e(function(t,e){var r=v.update(t,{dirty:!0});return s(ui["#"],bm,e)(f(ls,sm(t),r,e.list))}),Lm=b(Pm),Fm=n(function(t,e,r,n){var o=function(t){return s(rm,e,r(t))};return s(ui["?+>"],s(Em,t,n),function(t){return function(t){var e=t,r=e._1;return s(ui["?|>"],s(xm,e._0,r),function(t){return{ctor:"_Tuple2",_0:t,_1:r}})}(s(ei,{ctor:"_Tuple2",_0:im,_1:Lm(n)},o(t)))})}),$m=r(function(t,e,r){return s(ui["?="],s(ui["?|>"],s(xm,t,r),function(t){return s(Lm,r,e(t))}),r)}),Um=n(function(t,e,r,n){return f(Jc,s(ui["#"],$m,r),n,t)}),Vm=(e(function(t,e){return s(um,e.otherFieldsEncoder,t)}),function(t){return function(e){return s(vt,function(t){var e=t;if("Ok"===e.ctor)return J(e._0);s(F,"Error while decoding Project",e._0);return U},s(dt,Zr(t),e))}}),Jm=o(function(t,e,r,n,o){return{seed:o,list:s(Vm,r,n),name:t,otherFieldsEncoder:e,decoder:r}}),Hm=n(function(t,e,r,n){return _m(l(Jm,t,e,r,n))}),zm=me.outgoingPort("pouchDBUpsert",function(t){return[t._0,t._1,t._2]}),Wm=e(function(t,e){return zm({ctor:"_Tuple3",_0:t.name,_1:e.id,_2:s(um,t.otherFieldsEncoder,e)})}),Gm=function(t){var e=s(ui["#"],bm,t)(s(ui[".|>"],t.list,function(t){return v.update(t,{dirty:!1})})),r=s(pt,function(t){return t.dirty},t.list),n=s(ui[".|>"],r,Wm(t));return s(Te["!"],e,n)},Km=e(function(t,e){return s(ui["?="],s(ui["?|>"],s(Bm,t,e),Wm(e)),we)}),Xm=me.incomingPort("pouchDBChanges",s(Xr,function(t){return s(Xr,function(e){return Yr({ctor:"_Tuple2",_0:t,_1:e})},s(an,1,Kr))},s(an,0,hn))),Qm=function(t){return Xm(m(t))},Ym=(o(function(t,e,r,n,o){return{seed:t,list:e,otherFieldsEncoder:r,decoder:n,name:o}}),e(function(t,e){return v.update(e,{deleted:t})}),e(function(t,e){return v.update(e,{modifiedAt:t})}),e(function(t,e){return v.update(e,{name:t})})),Zm=function(t){return t.name},ty=function(t){return Em(function(e){return s(Mg,Yt(t),Zm(e))})},ey=function(t){return{ctor:"::",_0:s(Xg["=>"],"name",Wr(Zm(t))),_1:{ctor:"[]"}}},ry=u(function(t,e,r,n,o,u){return{id:t,rev:e,createdAt:r,modifiedAt:n,dirty:!1,deleted:o,name:u}}),ny=r(function(t,e,r){return d(ry,r,"",e,e,!1,t)}),oy=(r(function(t,e,r){var n=Yt(t);return de(n)||v.eq(Kt(n),"inbox")?r:f(Is,function(t){return ve(s(Mm,s(ny,n,e),r))},function(t){return r},s(ty,n,r))}),f(bn,"name",hn,cm(vn(ry)))),uy=f(Hm,"context-db",ey,oy),cy=d(ry,"","",0,0,!1,"Inbox"),iy=Mg(cy),ay=e(function(t,e){return v.update(e,{fields:t})}),sy=(e(function(t,e){return s(ay,t(e),e)}),function(t){return t.fields}),fy=e(function(t,e){return s(ay,t(sy(e)),e)}),ly=(e(function(t,e){return fy(s(Cr,t,e))}),u(function(t,e,r,n,o,u){return{id:t,rev:e,createdAt:r,modifiedAt:n,deleted:o,dirty:!1,name:u}})),_y=r(function(t,e,r){return d(ly,r,"",e,e,!1,t)}),dy=d(ly,"","",0,0,!1,"<No Project>"),py=Mg(dy),hy=f(bn,"name",hn,cm(vn(ly))),vy=(e(function(t,e){return v.update(e,{modifiedAt:t})}),e(function(t,e){return v.update(e,{deleted:t})}),e(function(t,e){return v.update(e,{name:t})})),gy=(e(function(t,e){return s(vy,t(e),e)}),function(t){return t.name}),my=function(t){return{ctor:"::",_0:s(Xg["=>"],"name",Wr(gy(t))),_1:{ctor:"[]"}}},yy=e(function(t,e){return v.update(e,{rev:t})}),by=(e(function(t,e){return s(yy,t(e),e)}),e(function(t,e){return v.update(e,{id:t})})),wy=(e(function(t,e){return s(by,t(e),e)}),function(t){return function(e){return s(Mg,t,gy(e))}}),Ty=function(t){return Em(wy(Yt(t)))},ky=(r(function(t,e,r){return Us(t)?r:f(Is,function(n){return ve(s(Mm,s(_y,t,e),r))},function(t){return r},s(Ty,t,r))}),f(Hm,"project-db",my,hy)),Sy=function(t){return function(e){return s(nt,T,s(Zc,t,e))}},Ey=function(t){return t.contextId},xy=function(t){return t.done},Ay=function(t){return t.text},Oy=function(t){var e=t;return"None"===e.ctor?Vr:Ur({ctor:"::",_0:s(Xg["=>"],"at",Hr(e._0)),_1:{ctor:"[]"}})},qy=(r(function(t,e,r){return v.update(e,{id:r,rev:"",createdAt:t,modifiedAt:t})}),function(t){return function(e){return function(r){return function(n){return function(o){return function(u){return function(c){return function(i){return function(a){return function(s){return function(f){return function(l){return{id:t,rev:e,dirty:!1,createdAt:r,modifiedAt:n,deleted:o,deletedAt:u,done:c,text:i,dueAt:a,projectId:s,contextId:f,reminder:l}}}}}}}}}}}}}),Iy=U,Ny=function(t){if(js(t.dueAt))return U;var e=t.reminder;return"None"===e.ctor?U:J(e._0)},Cy=function(t){return function(e){return f(Ns,!1,function(e){return v.cmp(e,t)<1},Ny(e))}},jy=function(t){return t.modifiedAt},My=function(t){return t.projectId},Dy=function(t){return t.deleted},By=Dy,Ry=function(t){return Dy(t)&&v.eq(t.deletedAt,0)?jy(t):t.deletedAt},Py=function(t){return!Dy(t)},Ly=Sy({ctor:"::",_0:Py,_1:{ctor:"::",_0:xy,_1:{ctor:"[]"}}}),Fy=Sy({ctor:"::",_0:Dy,_1:{ctor:"[]"}}),$y=function(t){return t.done},Uy=function(t){return t.dueAt},Vy=function(t){return s(qs,Uy(t),Ny(t))},Jy=function(t){return s(ui["?="],s(ui["?|>"],oi({ctor:"_Tuple2",_0:Ny(t),_1:Uy(t)}),m(jg)),!1)},Hy=function(t){return{ctor:"::",_0:s(Xg["=>"],"done",Jr(xy(t))),_1:{ctor:"::",_0:s(Xg["=>"],"text",Wr(Ay(t))),_1:{ctor:"::",_0:s(Xg["=>"],"dueAt",s(ui["?="],s(H,Hr,Uy(t)),Vr)),_1:{ctor:"::",_0:s(Xg["=>"],"projectId",Wr(t.projectId)),_1:{ctor:"::",_0:s(Xg["=>"],"contextId",Wr(t.contextId)),_1:{ctor:"::",_0:s(Xg["=>"],"reminder",Oy(t.reminder)),_1:{ctor:"::",_0:s(Xg["=>"],"deletedAt",Hr(Ry(t))),_1:{ctor:"[]"}}}}}}}}},zy=(c(function(t,e,r,n,o,u,c){return{done:t,text:e,dueAt:r,projectId:n,contextId:o,reminder:u,deletedAt:c}}),function(t){return{ctor:"At",_0:t}}),Wy=f(bn,"at",_n,vn(function(t){return zy(t)})),Gy={ctor:"None"},Ky=Gy,Xy=function(t){return l(yn,"reminder",Wy,Ky,l(yn,"contextId",hn,"",l(yn,"projectId",hn,"",l(yn,"dueAt",cn(_n),Iy,f(bn,"text",hn,l(yn,"done",pn,!1,l(yn,"deletedAt",_n,0,t)))))))}(cm(vn(qy))),Qy=f(Hm,"todo-db",Hy,Xy),Yy=r(function(t,e,r){return qy(r)("")(t)(t)(!1)(0)(!1)(e)(Iy)("")("")(Ky)}),Zy=function(t){return s(ui["?="],s(ui["?|>"],t,zy),Gy)},tb=function(t){return{ctor:"SnoozeTill",_0:t}},eb={ctor:"TurnReminderOff"},rb={ctor:"ToggleDeleted"},nb={ctor:"ToggleDone"},ob=function(t){return{ctor:"SetProject",_0:t}},ub=function(t){return{ctor:"CopyProjectAndContextId",_0:t}},cb=function(t){return{ctor:"SetProjectId",_0:t}},ib=function(t){return{ctor:"SetContext",_0:t}},ab=function(t){return{ctor:"SetTime",_0:t}},sb=function(t){return{ctor:"SetContextId",_0:t}},fb=function(t){return{ctor:"SetDeleted",_0:t}},lb=function(t){return{ctor:"SetText",_0:t}},_b={ctor:"MarkDone"},db=function(t){return{ctor:"SetDone",_0:t}},pb=e(function(t,r){var n=e(function(t,e){t:for(;;){var o=t;switch(o.ctor){case"SetDone":var u=o._0,c=u?Gy:e.reminder;return v.update(e,{done:u,reminder:c});case"SetDeleted":return v.update(e,{deleted:o._0,deletedAt:r});case"SetText":return v.update(e,{text:o._0});case"SetContextId":return v.update(e,{contextId:o._0});case"SetProjectId":return v.update(e,{projectId:o._0});case"CopyProjectAndContextId":var i=o._0;return function(t){return s(n,cb(i.projectId),s(n,sb(i.contextId),t))}(e);case"SetContext":var a=sb(im(o._0)),f=e;t=a,e=f;continue t;case"SetProject":var l=cb(im(o._0)),_=e;t=l,e=_;continue t;case"ToggleDone":var d=db(!e.done),p=e;t=d,e=p;continue t;case"MarkDone":var h=db(!0),g=e;t=h,e=g;continue t;case"ToggleDeleted":var m=fb(!e.deleted),y=e;t=m,e=y;continue t;case"SetTime":var b=o._0,c=Zy(b);return v.update(e,{dueAt:b,reminder:c});case"TurnReminderOff":return v.update(e,{reminder:Gy});default:return v.update(e,{reminder:zy(o._0)})}}});return function(e){return function(t){return v.update(t,{modifiedAt:r})}(s(ui["#"],ut(n),t)(e))}}),hb=function(t){var e=t;switch(e.ctor){case"ContextsView":return{ctor:"::",_0:"lists",_1:{ctor:"::",_0:"contexts",_1:{ctor:"[]"}}};case"ProjectsView":return{ctor:"::",_0:"lists",_1:{ctor:"::",_0:"projects",_1:{ctor:"[]"}}};case"ProjectView":var r=e._0;return de(r)?{ctor:"::",_0:"project",_1:{ctor:"::",_0:"NotAssigned",_1:{ctor:"[]"}}}:{ctor:"::",_0:"project",_1:{ctor:"::",_0:r,_1:{ctor:"[]"}}};default:var n=e._0;return de(n)?{ctor:"::",_0:"Inbox",_1:{ctor:"[]"}}:{ctor:"::",_0:"context",_1:{ctor:"::",_0:n,_1:{ctor:"[]"}}}}},vb=function(t){return{ctor:"TodoEntity",_0:t}},gb=function(t){return{ctor:"ContextEntity",_0:t}},mb=function(t){return{ctor:"ProjectEntity",_0:t}},yb=function(t){return{ctor:"ProjectView",_0:t}},bb={ctor:"ProjectsView"},wb=function(t){return{ctor:"ContextView",_0:t}},Tb={ctor:"ContextsView"},kb=Tb,Sb={ctor:"ToggleSelected"},Eb={ctor:"SetFocusedIn"},xb={ctor:"SetBlurred"},Ab={ctor:"SetFocused"},Ob=function(t){return{ctor:"NameChanged",_0:t}},qb={ctor:"Save"},Ib={ctor:"ToggleDeleted"},Nb={ctor:"StartEditing"},Cb=e(function(t,e){return v.update(e,{text:t})}),jb=function(t){return t.text},Mb=e(function(t,e){return{text:e,referenceEntity:t}}),Db=(e(function(t,e){return{text:t,referenceEntity:e}}),e(function(t,e){var r=t;return v.update(e,{todoText:r._0})})),Bb=function(t){return{id:im(t),todoText:Ay(t)}},Rb=(e(function(t,e){return{id:t,todoText:e}}),function(t){return{ctor:"SetText",_0:t}}),Pb=function(t){var e=t,r=s(k["++"],e.date,s(k["++"]," ",e.time));return s(ui["!="],s(ui["!|>"],yo(r),function(t){return J(mo(t))}),U)},Lb=e(function(t,e){var r=t;return"SetDate"===r.ctor?v.update(e,{date:r._0}):v.update(e,{time:r._0})}),Fb=e(function(t,e){var r=s(ui["?="],Ny(t),e+36e5);return{id:im(t),date:s(Sl,"%Y-%m-%d",r),time:s(Sl,"%H:%M",r)}}),$b=(r(function(t,e,r){return{id:t,date:e,time:r}}),function(t){return{ctor:"SetTime",_0:t}}),Ub=function(t){return{ctor:"SetDate",_0:t}},Vb=(e(function(t,e){return{id:t,name:e}}),e(function(t,e){return{id:t,name:e}}),{ctor:"None"}),Jb=Vb,Hb=function(t){return{ctor:"EditSyncSettings",_0:t}},zb=function(t){return{ctor:"EditProject",_0:t}},Wb=function(t){return zb({id:im(t),name:gy(t)})},Gb=e(function(t,e){return zb(v.update(e,{name:t}))}),Kb=function(t){return{ctor:"EditContext",_0:t}},Xb=function(t){return Kb({id:im(t),name:Zm(t)})},Qb=e(function(t,e){return Kb(v.update(e,{name:t}))}),Yb=function(t){return{ctor:"EditTodoProject",_0:t}},Zb=function(t){return{ctor:"EditTodoContext",_0:t}},tw=function(t){return{ctor:"EditTodoReminder",_0:t}},ew=function(t){return{ctor:"EditTodo",_0:t}},rw=function(t){return{ctor:"NewTodo",_0:t}},nw=e(function(t,e){return s(Xr,function(r){var n=s(Zr,e,r);return"Ok"===n.ctor?Yr(n._0):Qr(s(F,t,n._0))},Kr)}),ow=(zp(kd),zp(n_),zp(Dp)),uw=(zp(Bp),zp(Rp),Yl),cw=function(t){return s(xe,t,Kl)},iw=Ql,aw=Kp,sw=(e(function(t,e){return s(Xr,function(r){s(F,"actualKey, expectedKey",{ctor:"_Tuple2",_0:r,_1:t});return v.eq(t,r)?Yr(e):Qr("Not intrested")},Xp)}),function(t){return t.isShiftDown||t.isMetaDown||t.isControlDown||t.isAltDown}),fw=s(on,Gp,s(sn,"keyCode",dn)),lw={stopPropagation:!0,preventDefault:!1},_w=o(function(t,e,r,n,o){return{key:t,isShiftDown:e,isMetaDown:r,isControlDown:n,isAltDown:o}}),dw=f(bn,"altKey",pn,f(bn,"ctrlKey",pn,f(bn,"metaKey",pn,f(bn,"shiftKey",pn,s(gn,fw,Yr(_w)))))),pw=function(t){return s(pa,"keyup",s(on,t,s(nw,"kd",dw)))},hw=function(t){return s(pa,"keydown",s(on,t,s(nw,"kd",dw)))},vw=function(t){return f(da,"keydown",lw,s(on,t,s(nw,"kd",dw)))},gw=function(t){return"[]"===t.ctor?0:ct(t)-1},mw=function(t){return s(ui["#"],function(t){return s(M,0,gw(t))},t)},yw=function(t){return s(pa,"change",s(on,t,la))},bw=(s(ka,{ctor:"::",_0:s(Pa,"opened",!0),_1:{ctor:"::",_0:s(Pa,"alwaysOnTop",!0),_1:{ctor:"::",_0:s(La,"verticalAlign","top"),_1:{ctor:"::",_0:s(La,"horizontalAlign","left"),_1:{ctor:"::",_0:ia({ctor:"::",_0:s(Xg["=>"],"margin","0"),_1:{ctor:"::",_0:s(Xg["=>"],"position","absolute"),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}}}}}},{ctor:"::",_0:s(Bi,{ctor:"[]"},{ctor:"::",_0:Mi("Big Header"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}),e(function(t,e){return s(pa,s(k["++"],$s(t),"-changed"),s(on,e,s(fn,{ctor:"::",_0:"detail",_1:{ctor:"::",_0:"value",_1:{ctor:"[]"}}},hn)))}),r(function(t,e,r){return s(pa,s(k["++"],$s(t),"-changed"),s(on,r,s(fn,{ctor:"::",_0:"detail",_1:{ctor:"::",_0:"value",_1:{ctor:"[]"}}},e)))})),ww=e(function(t,e){return s(pa,s(k["++"],$s(t),"-changed"),s(on,e,s(fn,{ctor:"::",_0:"detail",_1:{ctor:"::",_0:"value",_1:{ctor:"[]"}}},pn)))}),Tw=(s(Pa,"noLabelFloatP",!0),Ki("selected"),Ki("label")),kw=s(Ki,"slot","dropdown-content"),Sw=s(Ki,"slot","dropdown-trigger"),Ew=s(Pa,"dynamicAlign",!0),xw=(s(Ki,"secondary","true"),Di("paper-icon-button")),Aw=Ki("icon"),Ow=e(function(t,e){return s(xw,s(k["++"],e,{ctor:"::",_0:Aw(t),_1:{ctor:"[]"}}),{ctor:"[]"})}),qw=(Aw("done-all"),Di("iron-icon")),Iw=e(function(t,e){return s(qw,s(k["++"],e,{ctor:"::",_0:Aw(t),_1:{ctor:"[]"}}),{ctor:"[]"})}),Nw=r(function(t,e,r){return s(Ta,{ctor:"::",_0:Zi("icon-text font-caption"),_1:{ctor:"::",_0:Fa(r),_1:{ctor:"[]"}}},{ctor:"::",_0:s(Iw,t,{ctor:"::",_0:Zi("big"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:Mi(e),_1:{ctor:"[]"}}})}),Cw=s(Pa,"customSw",!0),jw=Ja(Wr),Mw=function(t){return t.photoURL},Dw=function(t){var e=t;return"NotLoggedIn"===e.ctor?U:J(e._0.id)},Bw=function(t){var e=t;return"NotLoggedIn"===e.ctor?U:lt(e._0.providerData)},Rw=function(t){return un({ctor:"::",_0:Gr(U),_1:{ctor:"::",_0:s(on,J,t),_1:{ctor:"[]"}}})}(hn),Pw=s(bw,"token",Rw),Lw=me.outgoingPort("signIn",function(t){return null}),Fw=me.outgoingPort("signOut",function(t){return null}),$w=me.outgoingPort("fireDataWrite",function(t){return[t._0,t._1]}),Uw=r(function(t,e,r){return $w({ctor:"_Tuple2",_0:s(k["++"],"/users/",s(k["++"],e,s(k["++"],"/tokens/",t))),_1:jw(r)})}),Vw=r(function(t,e,r){var n=s(ui["?="],s(ui["?|>"],t,function(t){return Ur({ctor:"::",_0:s(Xg["=>"],"todoId",Wr(r)),_1:{ctor:"::",_0:s(Xg["=>"],"uid",Wr(e)),_1:{ctor:"::",_0:s(Xg["=>"],"timestamp",Hr(t)),_1:{ctor:"[]"}}}})}),Vr);return $w({ctor:"_Tuple2",_0:s(k["++"],"/notifications/",s(k["++"],e,s(k["++"],"---",r))),_1:n})}),Jw=(me.outgoingPort("fireDataPush",function(t){return[t._0,t._1]}),me.outgoingPort("fireStartSync",function(t){return t})),Hw=Jw,zw=me.incomingPort("onFirebaseChange",s(Xr,function(t){return s(Xr,function(e){return Yr({ctor:"_Tuple2",_0:t,_1:e})},s(an,1,Kr))},s(an,0,hn))),Ww=function(t){return zw(m(t))},Gw=e(function(t,e){return{id:t,providerData:e}}),Kw=o(function(t,e,r,n,o){return{displayName:t,email:e,photoURL:r,providerId:n,uid:o}}),Xw=f(bn,"uid",hn,f(bn,"providerId",hn,f(bn,"photoURL",hn,f(bn,"email",hn,f(bn,"displayName",hn,Yr(Kw)))))),Qw=function(t){return{ctor:"LoggedIn",_0:t}},Yw={ctor:"NotLoggedIn"},Zw=un({ctor:"::",_0:s(on,Qw,f(bn,"providerData",ln(Xw),f(bn,"uid",hn,Yr(Gw)))),_1:{ctor:"::",_0:Yr(Yw),_1:{ctor:"[]"}}}),tT=s(bw,"user",Zw),eT=e(function(t,e){var r=e;return"SnoozeForMilli"===r.ctor?t+r._0:mo(f(lc,kc,10,s(hc,wc,go(t))))}),rT=e(function(t,e){return{id:t,text:e}}),nT=function(t){return s(rT,im(t),Ay(t))},oT={ctor:"SnoozeView"},uT={ctor:"InitialView"},cT=e(function(t,e){return{ctor:"Active",_0:t,_1:e}}),iT=function(t){return s(cT,uT,nT(t))},aT=cT(oT),sT=(s(cT,uT,s(rT,"dummy-todo-id","dummy todo")),{ctor:"None"}),fT=sT,lT={ctor:"Close"},_T={ctor:"MarkDone"},dT={ctor:"Dismiss"},pT=function(t){return{ctor:"SnoozeTill",_0:t}},hT={ctor:"ShowSnoozeOptions"},vT={ctor:"SnoozeTillTomorrow"},gT=function(t){return{ctor:"SnoozeForMilli",_0:t}},mT=e(function(t,e){return s(pb,{ctor:"::",_0:t,_1:{ctor:"[]"}},e.now)}),yT=function(t){return Im(function(t){return t.projectStore}(t))},bT=function(t){return Im(function(t){return t.contextStore}(t))},wT=function(t){return s(e(function(t,e){return{ctor:"::",_0:t,_1:e}}),cy,s(Am,nm,function(t){return t.contextStore}(t)))},TT=function(t){return s(e(function(t,e){return{ctor:"::",_0:t,_1:e}}),dy,s(Am,nm,function(t){return t.projectStore}(t)))},kT=e(function(t,e){return v.update(e,{maybeFocusedEntity:t})}),ST=e(function(t,e){var r=e.focusedEntityInfo;return v.update(e,{focusedEntityInfo:v.update(r,{id:t})})}),ET=e(function(t,e){return v.update(e,{keyboardState:t})}),xT=(e(function(t,e){return s(ET,t(e),e)}),function(t){return t.keyboardState}),AT=e(function(t,e){return s(ET,t(xT(e)),e)}),OT=(e(function(t,e){return v.update(e,{now:t(e)})}),e(function(t,e){return v.update(e,{now:t})})),qT=function(t){return t.now},IT=e(function(t,e){return v.update(e,{contextStore:t})}),NT=(b(IT),e(function(t,e){return s(IT,t(e),e)}),function(t){return t.contextStore}),CT=e(function(t,e){return v.update(e,{projectStore:t})}),jT=(b(CT),e(function(t,e){return s(CT,t(e),e)}),function(t){return t.projectStore}),MT=(e(function(t,e){return s(CT,t(jT(e)),e)}),e(function(t,e){return v.update(e,{todoStore:t})})),DT=function(t){return t.todoStore},BT=(e(function(t,e){return v.update(e,{todoStore:t(DT(e))})}),e(function(t,e){return v.update(e,{selectedEntityIdSet:t})})),RT=(e(function(t,e){return s(BT,t(e),e)}),function(t){return t.selectedEntityIdSet}),PT=e(function(t,e){return s(BT,t(RT(e)),e)}),LT=e(function(t,e){return s(zc,t,e)?s(Yc,t,e):s(Xc,t,e)}),FT=e(function(t,e){return v.update(e,{layout:t})}),$T=(e(function(t,e){return s(FT,t(e),e)}),function(t){return t.layout}),UT=e(function(t,e){return s(FT,t($T(e)),e)}),VT=e(function(t,e){var r=Qc(s(ui[".|>"],t,My)),n=s(zc,"",r),o=e.showDeleted||!n?{ctor:"[]"}:{ctor:"::",_0:dy,_1:{ctor:"[]"}};return s(yt,o,s(Nm,e.projectStore,r))}),JT=e(function(t,e){var r=Qc(s(ui[".|>"],t,Ey)),n=s(zc,"",r),o=e.showDeleted||!n?{ctor:"[]"}:{ctor:"::",_0:cy,_1:{ctor:"[]"}};return s(yt,o,s(Nm,e.contextStore,r))}),HT=r(function(t,e,r){var n=s(JT,t,r),o=s(Da,Ey,t),u=function(t){return s(ui[".|>"],s(ui["?="],s(er,im(t),o),{ctor:"[]"}),vb)},c=function(t){return function(t){return f(zT,t,!1,r)}(s(ui["?="],s(er,im(t),o),{ctor:"[]"}))},i=e?c:u;return s(wt,function(t){return{ctor:"::",_0:gb(t),_1:i(t)}},n)}),zT=r(function(t,e,r){var n=s(VT,t,r),o=s(Da,My,t),u=function(t){return s(ui[".|>"],s(ui["?="],s(er,im(t),o),{ctor:"[]"}),vb)},c=function(t){return function(t){return f(HT,t,!1,r)}(s(ui["?="],s(er,im(t),o),{ctor:"[]"}))},i=e?c:u;return s(wt,function(t){return{ctor:"::",_0:mb(t),_1:i(t)}},n)}),WT=function(t){var e=t;switch(e.ctor){case"TodoEntity":case"ProjectEntity":default:return im(e._0)}},GT=function(t){return PT(LT(WT(t)))},KT=r(function(t,e,r){var n=s(ui["?="],s(ui["?|>"],s(ui["#"],Es,t)(s(mw,e,t)),WT),""),o={id:n};return v.update(r,{focusedEntityInfo:o})}),XT=e(function(t,e){return s(ds,function(t){return s(Mg,e.focusedEntityInfo.id,WT(t))},t)}),QT=e(function(t,e){return s(ui["?="],s(XT,t,e),0)}),YT=e(function(t,e){return s(ui["#"],KT(t),e)(s(Cg,1,s(QT,t,e)))}),ZT=e(function(t,e){return s(ui["#"],KT(t),e)(s(Ig,1,s(QT,t,e)))}),tk=function(t){return t.mainViewType},ek=e(function(t,e){switch(t){case"todo-db":return function(t){return s(Km,e,DT(t))};case"project-db":return function(t){return s(Km,e,jT(t))};case"context-db":return function(t){return s(Km,e,NT(t))};default:return function(t){return we}}}),rk=(e(function(t,e){return s(pe,s(ui["#"],MT,e),t)}),function(t){return function(e){return s(xm,t,function(t){return t.contextStore}(e))}}),nk=function(t){return function(e){return s(xm,t,function(t){return t.projectStore}(e))}},ok=function(t){return function(e){return s(xm,t,DT(e))}},uk=function(t){switch(tk(t).ctor){case"BinView":return function(t){return B(Ry(t))};case"DoneView":return function(t){return B(jy(t))};default:return function(t){return B(jy(t))}}},ck=function(t){var e=Sy({ctor:"::",_0:function(t){return!xy(t)},_1:{ctor:"::",_0:function(e){return s(Mg,t.showDeleted,By(e))},_1:{ctor:"[]"}}}),r=tk(t);switch(r.ctor){case"BinView":return Fy;case"DoneView":return Ly;case"EntityListView":var n=r._0;switch(n.ctor){case"ContextsView":return e;case"ContextView":return Sy({ctor:"::",_0:function(t){return s(Mg,n._0,Ey(t))},_1:{ctor:"::",_0:e,_1:{ctor:"[]"}}});case"ProjectsView":return e;default:return Sy({ctor:"::",_0:function(t){return s(Mg,n._0,My(t))},_1:{ctor:"::",_0:e,_1:{ctor:"[]"}}})}default:return w(!0)}},ik=function(t){var e=uk(t),r=function(t){return Tm(DT(t))}(t),n=ck(t);return s(Et,50,s(K,e,s(pt,n,r)))},ak=e(function(t,r){var n=ik(r),o=t;switch(o.ctor){case"ContextsView":var u=gb(cy),c=s(Pg,hs(u),e(function(t,e){return{ctor:"::",_0:t,_1:e}})(u));return c(f(HT,n,!1,r));case"ProjectsView":var u=mb(dy),c=s(Pg,hs(u),e(function(t,e){return{ctor:"::",_0:t,_1:e}})(u));return c(f(zT,n,!1,r));case"ContextView":var i=function(t){return st(t)?function(t){return X(gb(t))}(s(ui["?="],s(rk,o._0,r),cy)):t};return i(f(HT,n,!0,r));default:var i=function(t){return st(t)?function(t){return X(mb(t))}(s(ui["?="],s(nk,o._0,r),dy)):t};return i(f(zT,n,!0,r))}}),sk=function(t){var e=t.mainViewType;return"EntityListView"===e.ctor?s(ak,e._0,t):{ctor:"[]"}},fk=e(function(t,e){var r=function(e){return s(KT,sk(t),e)};return function(){var t=e;if("_Tuple2"===t.ctor&&"Just"===t._0.ctor){if("Just"===t._1.ctor){var n=t._0._0,o=t._1._0;return v.cmp(n,o)<0?r(n):v.cmp(n,o)>0?r(n+1):T}return r(t._0._0)}return T}()(t)}),lk=e(function(t,e){return s(fk,e,s(Re,function(e){return s(ui["#"],XT,t)(sk(e))},{ctor:"_Tuple2",_0:t,_1:e}))}),_k=BT(Gc),dk=e(function(t,e){return _k(v.update(e,{mainViewType:t}))}),pk=e(function(t,e){return v.update(e,{editMode:t})}),hk=e(function(t,e){return s(pk,t(e),e)}),vk=function(t){return t.editMode},gk=pk(Jb),mk=e(function(t,e){var r=t;switch(r.ctor){case"ContextEntity":return Xb(r._0);case"ProjectEntity":return Wb(r._0);default:return ew(Bb(r._0))}}),yk=function(t){return{uri:t.pouchDBRemoteSyncURI}},bk=function(t){var e=function(){var e=t.editMode;return"EditSyncSettings"===e.ctor?J(e._0):U}();return s(ui["?="],e,yk(t))},wk=function(t){var e=t.editMode;return"EditTodoProject"===e.ctor?J(e._0):U},Tk=function(t){var e=t.editMode;return"EditTodoContext"===e.ctor?J(e._0):U},kk=function(t){var e=t.editMode;return"EditTodoReminder"===e.ctor?J(e._0):U},Sk=r(function(t,e,r){var n=r.editMode;switch(n.ctor){case"EditContext":return s(pk,s(Qb,t,n._0),r);case"EditProject":return s(pk,s(Gb,t,n._0),r);default:return r}}),Ek=e(function(t,e){return s(pk,s(mk,t,e),e)}),xk=function(t){return pk(Yb(t))},Ak=function(t){return pk(Zb(t))},Ok=function(t){return hk(function(e){return tw(s(Fb,t,function(t){return t.now}(e)))})},qk=function(t){return function(t){var e=t;return s(Ek,gb(e._0),e._1)}(s(Pe,s(ui["#"],IT,t),s(Mm,s(_y,"<New Context>",t.now),t.contextStore)))},Ik=function(t){return function(t){var e=t;return s(Ek,mb(e._0),e._1)}(s(Pe,s(ui["#"],CT,t),s(Mm,s(_y,"<New Project>",t.now),t.projectStore)))},Nk=e(function(t,e){return v.update(e,{reminderOverlay:aT(t)})}),Ck=function(t){return v.update(t,{reminderOverlay:fT})},jk=e(function(t,e){return v.update(e,{reminderOverlay:iT(t)})}),Mk=function(t){return s(Fg,ok(t),jk)},Dk=function(t){return s(Am,Ug({ctor:"::",_0:By,_1:{ctor:"::",_0:xy,_1:{ctor:"[]"}}}),function(t){return t.todoStore}(t))},Bk=function(t){return function(e){return s(Da,t,Dk(e))}},Rk=e(function(t,e){var r={ctor:"_Tuple2",_0:t,_1:e.editMode};t:do{if("_Tuple2"===r.ctor){if("ProjectGroup"===r._0.ctor){if("EditProject"===r._1.ctor)return J(r._1._0);break t}if("EditContext"===r._1.ctor)return J(r._1._0);break t}break t}while(!1);return U}),Pk=function(t){return"ProjectGroup"===t.ctor?function(t){return t.projectStore}:function(t){return t.contextStore}},Lk=(s(Xg[">>>"],Pk,Tm),s(Xg[">>>"],Pk,Om(nm))),Fk=s(Xg[">>>"],Pk,Am(nm)),$k=function(t){return s(m,Dg,s(ei,{ctor:"_Tuple2",_0:function(t){return!function(t){return t.forceNarrow}(t)},_1:function(t){return t.narrow}},$T(t)))},Uk=function(t){return function(t){return t.forceNarrow}(function(t){return t.layout}(t))},Vk=function(t){return UT(function(e){return v.update(e,{narrow:t})})},Jk=UT(function(t){return v.update(t,{forceNarrow:!t.forceNarrow})}),Hk=e(function(t,e){return v.update(e,{fcmToken:t})}),zk=gb(cy),Wk=r(function(t,e,r){return s(e.set,r,t)}),Gk=r(function(t,e,r){var n=e(t.get(r));return s(ui["?|>"],n,s(Wk,r,t))}),Kk=n(function(t,e,r,n){var o=f(Fm,t,n.now,e);return f(Gk,r,o,n)}),Xk=r(function(t,e,r){return f(Wk,r,t,e(t.get(r)))}),Qk=n(function(t,e,r,n){var o=f(Um,t,n.now,e);return s(lk,n,f(Xk,r,o,n))}),Yk=function(t){return Qk(Kc(t))},Zk={get:function(t){return t.focusInEntity},set:e(function(t,e){return v.update(e,{focusInEntity:t})})},tS=function(t){return function(e){return s(Zk.set,t,s(ST,WT(t),e))}},eS=e(function(t,e){return s(ui["?="],s(ui["?|>"],oi({ctor:"_Tuple2",_0:s(ui["?|>"],s(ok,t,e),vb),_1:J(e)}),m(tS)),e)}),rS={get:function(t){return t.user},set:e(function(t,e){return v.update(e,{user:t})})},nS=function(t){return Bw(rS.get(t))},oS=function(t){return Dw(rS.get(t))},uS=rS.set,cS={get:function(t){return t.editMode},set:e(function(t,e){return v.update(e,{editMode:t})})},iS=function(t){return s(cS.set,rw(s(Mb,Zk.get(t),"")),t)},aS=cS.set(rw(s(Mb,zk,""))),sS=e(function(t,e){return cS.set(rw(s(Cb,e,t)))}),fS=(e(function(t,e){return v.update(e,{now:t})}),{get:function(t){return t.keyboardState},set:e(function(t,e){return v.update(e,{keyboardState:t})})}),lS=function(t){return!ow(fS.get(t))},_S={get:function(t){return t.todoStore},set:e(function(t,e){var r=t;return{ctor:"_Tuple2",_0:r._0,_1:v.update(e,{todoStore:r._1})}})},dS=function(t){return s(Xk,_S,Mm(t))},pS=r(function(t,e,r){return l(Kk,t,s(mT,e,r),_S,r)}),hS=function(t){return f(pS,Cy(t.now),tb(t.now+9e5),t)},vS={get:function(t){return t.todoStore},set:e(function(t,e){return v.update(e,{todoStore:t})})},gS=r(function(t,e,r){return l(Yk,e,s(mT,t,r),vS,r)}),mS=r(function(t,e,r){var n=s(eT,r.now,t);return function(t){return Ck(f(gS,tb(n),e,t))}(r)}),yS=(e(function(t,e){var r=function(){var t=e.mainViewType;if("EntityListView"!==t.ctor)return U;var r=t._0;switch(r.ctor){case"ContextView":return s(Xg[">>?"],xm(r._0),ib)(e.contextStore);case"ProjectView":return s(Xg[">>?"],xm(r._0),ob)(e.projectStore);default:return U}}(),n=s(ui["?|>"],r,s(ui["#"],s(ui["#"],gS,t),e));return s(ST,t,s(ui["?="],n,e))}),r(function(t,e,r){return l(Qk,e,s(mT,t,r),vS,r)})),bS=r(function(t,e,r){var n=s(zc,e,r.selectedEntityIdSet)?r.selectedEntityIdSet:Kc(e);return f(yS,t,n,r)}),wS={get:function(t){return t.projectStore},set:e(function(t,e){return v.update(e,{projectStore:t})})},TS={get:function(t){return t.contextStore},set:e(function(t,e){return v.update(e,{contextStore:t})})},kS=function(t){var e=t.editMode;switch(e.ctor){case"EditContext":var r=e._0;return l(Yk,r.id,Ym(r.name),TS,t);case"EditProject":var n=e._0;return l(Yk,n.id,vy(n.name),wS,t);case"EditTodo":var o=e._0;return f(gS,lb(o.todoText),o.id,t);case"EditTodoReminder":var u=e._0;return f(gS,ab(Pb(u)),u.id,t);case"EditTodoContext":case"EditTodoProject":return t;case"NewTodo":var c=e._0;return s(m,function(t){return function(e){return s(eS,t,f(gS,function(){var t=c.referenceEntity;switch(t.ctor){case"TodoEntity":return ub(t._0);case"ContextEntity":return ib(t._0);default:return ob(t._0)}}(),t,e))}},s(he,im,s(dS,s(Yy,t.now,jb(c)),t)));case"EditSyncSettings":return v.update(t,{pouchDBRemoteSyncURI:e._0.uri});default:return t}},SS=e(function(t,e){var r=WT(t);return function(){switch(t.ctor){case"ContextEntity":return f(Yk,r,em,TS);case"ProjectEntity":return f(Yk,r,em,wS);default:return s(gS,rb,r)}}()(e)}),ES=e(function(t,e){switch(t){case"todo-db":return s(Xk,vS,Rm(e));case"project-db":return s(Xk,wS,Rm(e));case"context-db":return s(Xk,TS,Rm(e));default:return T}}),xS=(e(function(t,e){return{narrow:t,forceNarrow:e}}),i(function(t,e,r,n,o,u,c,i){return{now:t,encodedTodoList:e,encodedProjectList:r,encodedContextList:n,pouchDBRemoteSyncURI:o,developmentMode:u,appVersion:c,deviceId:i}}),r(function(t,e,r){return{title:t,tag:e,data:r}}),e(function(t,e){return{action:t,data:e}}),e(function(t,e){return{get:t,set:e}}),n(function(t,e,r,n){return{name:t,todoList:e,count:r,isEmpty:n}}),{ctor:"SyncView"}),AS={ctor:"BinView"},OS={ctor:"DoneView"},qS=function(t){return{ctor:"EntityListView",_0:t}},IS=function(t){var e=t,n=e.now,o=e.encodedTodoList,u=e.encodedProjectList,c=e.encodedContextList,i=e.pouchDBRemoteSyncURI,a=l(Dl,r(function(t,e,r){return{ctor:"_Tuple3",_0:t,_1:e,_2:r}}),Qy(o),ky(u),uy(c)),f=s(Ol,a,dm(n)),_=f._0._0,d=f._0._1,p=f._0._2;f._1;return{now:n,todoStore:_,projectStore:d,contextStore:p,editMode:Jb,mainViewType:qS(kb),keyboardState:iw,showDeleted:!1,reminderOverlay:fT,pouchDBRemoteSyncURI:i,user:Yw,fcmToken:U,developmentMode:t.developmentMode,focusedEntityInfo:{id:""},selectedEntityIdSet:Gc,layout:{narrow:!1,forceNarrow:!1},maybeFocusedEntity:U,appVersion:t.appVersion,deviceId:t.deviceId,focusInEntity:zk}},NS=function(t){return dk(qS(t))},CS={ctor:"ContextGroup"},jS={ctor:"ProjectGroup"},MS=e(function(t,e){return s(zn,T,function(e){return Rn(t(e))}(e))}),DS=e(function(t,e){return{ctor:"OnEntityAction",_0:t,_1:e}}),BS=function(t){return{ctor:"OnGlobalKeyUp",_0:t}},RS=function(t){return{ctor:"OnKeyboardMsg",_0:t}},PS=function(t){return{ctor:"OnMsgList",_0:t}},LS=(MS(PS),function(t){return{ctor:"OnNowChanged",_0:t}}),FS=function(t){return{ctor:"ShowReminderOverlayForTodoId",_0:t}},$S=function(t){return{ctor:"SetGroupByView",_0:t}},US=function(t){return{ctor:"SwitchView",_0:t}},VS=e(function(t,e){return{ctor:"OnEntityListKeyDown",_0:t,_1:e}}),JS=e(function(t,e){return{ctor:"UpdateReminderForm",_0:t,_1:e}}),HS=e(function(t,e){return{ctor:"UpdateTodoForm",_0:t,_1:e}}),zS=e(function(t,e){return{ctor:"UpdateRemoteSyncFormUri",_0:t,_1:e}}),WS={ctor:"SaveCurrentForm"},GS=function(t){return{ctor:"StartEditingProject",_0:t}},KS=function(t){return{ctor:"StartEditingContext",_0:t}},XS=function(t){return{ctor:"StartEditingReminder",_0:t}},QS=function(t){return{ctor:"NewTodoKeyUp",_0:t}},YS={ctor:"DeactivateEditingMode"},ZS=e(function(t,e){return{ctor:"NewTodoTextChanged",_0:t,_1:e}}),tE={ctor:"NewContext"},eE={ctor:"NewProject"},rE={ctor:"NewTodoForInbox"},nE={ctor:"NewTodo"},oE=e(function(t,e){return{ctor:"SetTodoProject",_0:t,_1:e}}),uE=e(function(t,e){return{ctor:"SetTodoContext",_0:t,_1:e}}),cE=function(t){return{ctor:"ToggleTodoDone",_0:t}},iE=function(t){return{ctor:"OnLayoutNarrowChanged",_0:t}},aE={ctor:"ToggleDrawer"},sE={ctor:"ToggleShowDeletedEntity"},fE=function(t){return{ctor:"OnNotificationClicked",_0:t}},lE=function(t){return{ctor:"ReminderOverlayAction",_0:t}},_E=(e(function(t,e){return{ctor:"TodoAction",_0:t,_1:e}}),function(t){return{ctor:"RemotePouchSync",_0:t}}),dE={ctor:"SignOut"},pE={ctor:"SignIn"},hE=function(t){return{ctor:"OnFCMTokenChanged",_0:t}},vE=function(t){return{ctor:"OnUserChanged",_0:t}},gE=e(function(t,e){return{ctor:"OnFirebaseChange",_0:t,_1:e}}),mE=e(function(t,e){return{ctor:"OnPouchDBChange",_0:t,_1:e}}),yE=function(t){return{ctor:"OnCommonMsg",_0:t}},bE=function(t){return{noOp:t(Zg),focus:function(e){return t(Yg(e))},logString:function(e){return t(Qg(e))}}}(yE),wE=r(function(t,e,r){var n=r.name,o=e.isNull(r),u=o?e.nullIcon:{name:e.defaultIconName,color:"#9e9e9e"},c=(s(k["++"],e.namePrefix,n),u.color,DS(e.entityWrapper(r))),i=o?bE.noOp:c(Ib),a=c(Nb),f=function(t){switch(t.key.ctor){case"CharE":return a;case"Delete":return i;default:return bE.noOp}};return{id:im(r),name:n,count:0,isDeleted:nm(r),startEditingMsg:a,onDeleteClicked:i,onSaveClicked:c(qb),onNameChanged:function(t){return c(Ob(t))},onCancelClicked:YS,icon:u,onFocusIn:c(Eb),onFocus:c(Ab),onBlur:c(xb),onKeyDownMsg:f,tabindexAV:t}}),TE=e(function(t,e){return f(wE,t,{groupByFn:Ey,namePrefix:"@",entityType:CS,entityWrapper:gb,nullEntity:cy,isNull:iy,nullIcon:{name:"inbox",color:"#42a5f5"},defaultIconName:"av:fiber-manual-record",getViewType:wb,tabindexAV:t},e)}),kE=e(function(t,e){return f(wE,t,{groupByFn:My,namePrefix:"@",entityType:jS,entityWrapper:mb,nullEntity:dy,isNull:py,nullIcon:{name:"inbox",color:"#42a5f5"},defaultIconName:"av:fiber-manual-record",getViewType:yb,tabindexAV:t},e)}),SE=(e(function(t,e){return{name:t,color:e}}),kE),EE=TE,xE=r(function(t,e,r){var n=r.name,o=e.isNull(r),u=o?e.nullIcon:{name:e.defaultIconName,color:"#9e9e9e"},c={name:s(k["++"],e.namePrefix,n),backgroundColor:u.color},i=DS(e.entityWrapper(r)),a=o?bE.noOp:i(Ib),f=i(Nb),l=function(t){switch(t.key.ctor){case"CharE":return f;case"Delete":return a;default:return bE.noOp}},_=im(r),d=t(_),p=ct(d);s(ui["?+>"],e.maybeEditModel,function(t){return v.eq(t.id,_)?J(t):U});return{id:_,name:n,isDeleted:nm(r),todoList:d,isEmpty:v.eq(p,0),count:ct(d),onActiveStateChanged:function(t){return t?US(qS(e.getViewType(_))):bE.noOp},startEditingMsg:f,onDeleteClicked:a,onSaveClicked:i(qb),onNameChanged:function(t){return i(Ob(t))},onCancelClicked:YS,icon:u,appHeader:c,onFocusIn:i(Eb),onFocus:i(Ab),onBlur:i(xb),onKeyDownMsg:l}}),AE=e(function(t,r){var n=r.showDeleted?s(Lk,t.entityType,r):s(e(function(t,e){return{ctor:"::",_0:t,_1:e}}),t.nullEntity,s(Fk,t.entityType,r)),o=s(Bk,t.groupByFn,r),u=function(t){return s(ui["?="],s(er,t,o),{ctor:"[]"})};return s(ui[".|>"],n,s(xE,u,t))}),OE=function(t){var e={groupByFn:Ey,namePrefix:"@",entityType:CS,entityWrapper:gb,nullEntity:cy,isNull:iy,nullIcon:{name:"inbox",color:"#42a5f5"},defaultIconName:"av:fiber-manual-record",getViewType:wb,maybeEditModel:s(Rk,CS,t)};return{entityList:s(AE,e,t),viewType:Tb,title:"Contexts",showDeleted:t.showDeleted,onAddClicked:tE,icon:{name:"group-work",color:"rgb(68, 138, 255)"}}},qE=function(t){return{entityList:s(AE,{groupByFn:My,namePrefix:"#",entityType:jS,entityWrapper:mb,nullEntity:dy,isNull:py,nullIcon:{name:"apps",color:"rgb(179, 157, 219)"},defaultIconName:"apps",getViewType:yb,maybeEditModel:s(Rk,jS,t)},t),viewType:bb,title:"Projects",showDeleted:t.showDeleted,onAddClicked:eE,icon:{name:"group-work",color:"rgb(124, 77, 255)"}}},IE=(e(function(t,e){return{name:t,color:e}}),u(function(t,e,r,n,o,u){return{entityList:t,viewType:e,title:r,showDeleted:n,onAddClicked:o,icon:u}}),function(t){return s(Ta,{ctor:"::",_0:ma(t),_1:{ctor:"[]"}},{ctor:"::",_0:Mi("Delete"),_1:{ctor:"[]"}})}),NE=function(t){return s(Ta,{ctor:"::",_0:ma(t),_1:{ctor:"[]"}},{ctor:"::",_0:Mi("Cancel"),_1:{ctor:"[]"}})},CE=function(t){return s(Ta,{ctor:"::",_0:ma(t),_1:{ctor:"[]"}},{ctor:"::",_0:Mi("Ok"),_1:{ctor:"[]"}})},jE=Pi({ctor:"::",_0:Zi("layout horizontal-reverse"),_1:{ctor:"[]"}}),ME=e(function(t,e){return jE({ctor:"::",_0:CE(t),_1:{ctor:"::",_0:NE(e),_1:{ctor:"[]"}}})}),DE=r(function(t,e,r){return jE({ctor:"::",_0:CE(t),_1:{ctor:"::",_0:NE(e),_1:{ctor:"::",_0:IE(r),_1:{ctor:"[]"}}}})}),BE=function(t){return f(DE,WS,YS,t)},RE=s(ME,WS,YS),PE=(e(function(t,e){return s(Pi,{ctor:"::",_0:Zi("hide-on-hover"),_1:{ctor:"[]"}},t?e:{ctor:"[]"})}),Pi({ctor:"::",_0:Zi("show-on-hover"),_1:{ctor:"[]"}}),e(function(t,e){return s(Ea,{ctor:"::",_0:sa(t),_1:{ctor:"::",_0:Fa(e),_1:{ctor:"[]"}}},{ctor:"[]"})})),LE=(PE("done"),PE("cancel"),PE("av:snooze"),PE("settings")),FE=function(t){return s(Pi,{ctor:"::",_0:Zi("layout horizontal center"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Pi,{ctor:"::",_0:Zi("ellipsis"),_1:{ctor:"[]"}},{ctor:"::",_0:Mi(t.name),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(Pi,{ctor:"::",_0:ia({ctor:"::",_0:s(Xg["=>"],"padding","0 0 1rem 0.1rem "),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:Zi("text-secondary"),_1:{ctor:"[]"}}},{ctor:"::",_0:Mi(s(k["++"]," ",s(k["++"],S(t.count),""))),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}})},$E=function(t){var e=qT(t),r=vk(t),n=function(t){var e=r;if("EditTodoReminder"===e.ctor){var n=e._0;return s(am,n.id,t)?J(n):U}return U},o=function(t){var e=r;if("EditTodo"===e.ctor){var n=e._0;return s(am,n.id,t)?J(n):U}return U};return{now:e,maybeFocusedEntity:t.maybeFocusedEntity,selectedEntityIdSet:t.selectedEntityIdSet,projectByIdDict:yT(t),contextByIdDict:bT(t),activeProjects:TT(t),activeContexts:wT(t),getMaybeEditTodoFormForTodo:o,getMaybeTodoReminderFormForTodo:n,getTodoReminderForm:function(t){return f(Is,function(r){return s(Fb,t,e)},T,n(t))},getMaybeEditEntityFormForEntityId:function(t){var e=r;switch(e.ctor){case"EditContext":var n=e._0;return v.eq(t,n.id)?J(n):U;case"EditProject":var o=e._0;return v.eq(t,o.id)?J(o):U;default:return U}},showDetails:lS(t)}},UE=r(function(t,e,r){return{ctor:"::",_0:s(Pi,{ctor:"::",_0:Zi("layout vertical"),_1:{ctor:"[]"}},{ctor:"::",_0:s(xa,{ctor:"::",_0:Zi("auto-focus"),_1:{ctor:"::",_0:s(La,"label","Name"),_1:{ctor:"::",_0:ra(r.name),_1:{ctor:"::",_0:ga(e.onNameChanged),_1:{ctor:"[]"}}}}},{ctor:"[]"}),_1:{ctor:"::",_0:BE(e.onDeleteClicked),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}}}),VE=e(function(t,e){return{ctor:"::",_0:s(Pi,{ctor:"::",_0:Zi("layout horizontal justified"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Pi,{ctor:"::",_0:Zi("title font-nowrap flex-auto"),_1:{ctor:"[]"}},{ctor:"::",_0:FE(e),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(Ow,"create",{ctor:"::",_0:Zi("flex-none"),_1:{ctor:"::",_0:ma(e.startEditingMsg),_1:{ctor:"::",_0:t,_1:{ctor:"[]"}}}}),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}}}),JE=e(function(t,e){var r=e.tabindexAV,n=v.eq(e.id,"")?U:t.getMaybeEditEntityFormForEntityId(e.id);return s(Pi,{ctor:"::",_0:Zi("entity-item"),_1:{ctor:"::",_0:r,_1:{ctor:"::",_0:_l(e.onFocusIn),_1:{ctor:"::",_0:ha(e.onFocus),_1:{ctor:"::",_0:va(e.onBlur),_1:{ctor:"::",_0:hw(e.onKeyDownMsg),_1:{ctor:"[]"}}}}}}},f(Is,function(t){return s(VE,r,e)},s(UE,r,e),n))}),HE=e(function(t,e){return{ctor:"_Tuple2",_0:e.id,_1:s(JE,t.shared,e)}}),zE=e(function(t,e){return f(Tc,wc,s(hc,wc,t),s(hc,wc,e))}),WE=e(function(t,e){var r=s(zE,t,e),n=kl("%e %b"),o=Yt(n(e)),u=kl("%l:%M%P"),c=Yt(u(e));return v.eq(r,0)?c:v.eq(r,-1)?s(k["++"],"Yesterday ",c):v.eq(r,1)?s(k["++"],"Tomorrow ",c):v.cmp(r,1)>0&&v.cmp(r,7)<0?s(k["++"],s(kl,"%A ",e),c):s(k["++"],o,s(k["++"]," ",c))}),GE=e(function(t,e){var r=go,n=r(t),o=r(e);return s(WE,n,o)}),KE=e(function(t,e){return s(zE,go(t),go(e))}),XE=function(){var t=function(t){var e=function(t){return S(D(t))}(t);return v.cmp(t,0)>0?s(k["++"],e," days left"):v.cmp(t,0)<0?s(k["++"],e," days ago"):""};return s(Xg[">>>"],KE,t)}(),QE=Sl("%a %e %b %Y %l:%M%P"),YE=function(t){return{ctor:"::",_0:s(Pi,{ctor:"::",_0:Zi("vertical layout flex-auto"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Pi,{ctor:"::",_0:Zi("flex"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Pi,{ctor:"::",_0:Zi("input-field"),_1:{ctor:"::",_0:vw(function(t){return bE.logString("sp")}),_1:{ctor:"[]"}}},{ctor:"::",_0:s($i,{ctor:"::",_0:Zi("materialize-textarea auto-focus"),_1:{ctor:"::",_0:na(t.todo.text),_1:{ctor:"::",_0:ga(t.onTodoTextChanged),_1:{ctor:"[]"}}}},{ctor:"[]"}),_1:{ctor:"::",_0:s(Fi,{ctor:"[]"},{ctor:"::",_0:Mi("Todo"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:BE(t.onDeleteClicked),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}}},ZE=e(function(t,e){var r=HS(t);t.id;return{todo:{text:t.todoText},onTodoTextChanged:function(t){return r(Rb(t))},onDeleteClicked:s(DS,vb(e),Ib)}}),tx=e(function(t,e){var r=Uy(e),n=(GE(t.now),function(e){go(t.now),go(e);return v.cmp(e,t.now)<0?"Overdue":s(GE,t.now,e)}),o=s(ui["?="],s(ui["?|>"],Vy(e),n),""),u=Cs(t.getMaybeTodoReminderFormForTodo(e)),c=t.getTodoReminderForm(e),i=JS(c);return{isDropdownOpen:u,date:c.date,time:c.time,displayText:o,isOverDue:v.eq(o,"Overdue"),isSnoozed:Jy(e),dueAtToolTipText:s(ui["?="],s(ui["?|>"],Uy(e),QE),""),dayDiffInWords:s(ui["?="],s(ui["?|>"],r,XE(t.now)),""),onDateChanged:function(t){return i(Ub(t))},onTimeChanged:function(t){return i($b(t))},startEditingMsg:XS(e)}}),ex=function(t){return s(Ta,{ctor:"::",_0:ta(s(k["++"],"project-dropdown-",t.key)),_1:{ctor:"::",_0:ia({ctor:"::",_0:s(Xg["=>"],"height","24px"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:Zi("small padding-0 margin-0 shrink"),_1:{ctor:"::",_0:t.tabindexAV,_1:{ctor:"::",_0:ma(t.showProjectDropdownMsg),_1:{ctor:"[]"}}}}}},{ctor:"::",_0:s(Pi,{ctor:"::",_0:Zi("title primary-text-color"),_1:{ctor:"[]"}},{ctor:"::",_0:Mi(t.projectDisplayName),_1:{ctor:"[]"}}),_1:{ctor:"[]"}})},rx=function(t){return s(Ta,{ctor:"::",_0:ta(s(k["++"],"context-dropdown-",t.key)),_1:{ctor:"::",_0:ia({ctor:"::",_0:s(Xg["=>"],"height","24px"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:Zi("small padding-0 margin-0 shrink"),_1:{ctor:"::",_0:t.tabindexAV,_1:{ctor:"::",_0:ma(t.showContextDropdownMsg),_1:{ctor:"[]"}}}}}},{ctor:"::",_0:s(Pi,{ctor:"::",_0:Zi("title primary-text-color"),_1:{ctor:"[]"}},{ctor:"::",_0:Mi(t.contextDisplayName),_1:{ctor:"[]"}}),_1:{ctor:"[]"}})},nx=function(t){return s(Ea,{ctor:"::",_0:Zi(s(k["++"],"done-icon done-",S(t.isDone))),_1:{ctor:"::",_0:Fa(t.toggleDoneMsg),_1:{ctor:"::",_0:Aw("done"),_1:{ctor:"::",_0:t.tabindexAV,_1:{ctor:"[]"}}}}},{ctor:"[]"})},ox=r(function(t,e,r){var n=t.getMaybeEditTodoFormForTodo(r),o=DS(vb(r)),u=o(Nb),c=o(Ib),i=Ay(r),a=function(){var t=Qt(s(ui["?="],Bs(Yt(i)),"< empty >")),e=t;return"[]"===e.ctor?{ctor:"_Tuple2",_0:"",_1:!1}:"[]"===e._1.ctor?{ctor:"_Tuple2",_0:e._0,_1:!1}:{ctor:"_Tuple2",_0:s(k["++"],e._0," ..."),_1:!0}}(),f=a._0,l=a._1,_=(s(Fs,100,Yt(i)),Ey(r)),d=My(r),p=Fs(15),h=s(fe,"#",p(s(ui["?="],s(Xg[">>?"],s(ui["#"],er,t.projectByIdDict),gy)(d),""))),v=p(s(fe,"@",s(ui["?="],s(Xg[">>?"],s(ui["#"],er,t.contextByIdDict),Zm)(_),"Inbox"))),g=im(r),m=s(ui["?="],s(ui["?|>"],t.maybeFocusedEntity,function(t){return s(Mg,g,WT(t))}),!1),y=cE(g),b=function(t){var e=t;if(sw(e))return bE.noOp;switch(e.key.ctor){case"Space":return o(Sb);case"CharE":return u;case"CharD":return y;case"Delete":return c;case"CharP":return GS(r);case"CharC":return KS(r);default:return bE.noOp}};return{isDone:$y(r),key:g,isDeleted:Dy(r),isFocused:m,onKeyDownMsg:b,text:i,isMultiLine:l,displayText:f,projectDisplayName:h,contextDisplayName:v,selectedProjectIndex:s(ui["?="],s(ds,am(d),t.activeProjects),0),setContextMsg:s(ui["#"],uE,r),setProjectMsg:s(ui["#"],oE,r),showContextDropdownMsg:KS(r),showProjectDropdownMsg:GS(r),startEditingMsg:u,toggleDoneMsg:y,showDetails:t.showDetails,activeContexts:t.activeContexts,activeProjects:t.activeProjects,onReminderButtonClicked:XS(r),reminder:s(tx,t,r),edit:s(ui["?|>"],n,s(ui["#"],ZE,r)),onDeleteClicked:c,onFocusIn:o(Eb),onFocus:o(Ab),onBlur:o(xb),tabindexAV:e,isSelected:s(zc,g,t.selectedEntityIdSet)}}),ux=e(function(t,e){var r=t;return s(Ta,{ctor:"::",_0:ia({ctor:"::",_0:s(Xg["=>"],"height","24px"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:Sw,_1:{ctor:"::",_0:Zi("small padding-0 margin-0 shrink"),_1:{ctor:"::",_0:r.tabindexAV,_1:{ctor:"[]"}}}}},{ctor:"::",_0:s(Pi,{ctor:"::",_0:Zi("title primary-text-color"),_1:{ctor:"[]"}},{ctor:"::",_0:e,_1:{ctor:"[]"}}),_1:{ctor:"[]"}})}),cx=function(t){var e=t.reminder,r=v.eq(e.displayText,"")?s(Ow,"alarm-add",{ctor:"::",_0:t.tabindexAV,_1:{ctor:"::",_0:Sw,_1:{ctor:"::",_0:ma(e.startEditingMsg),_1:{ctor:"[]"}}}}):s(ux,t,s(Pi,{ctor:"::",_0:ma(e.startEditingMsg),_1:{ctor:"::",_0:ca({ctor:"::",_0:s(Xg["=>"],"reminder-text",!0),_1:{ctor:"::",_0:s(Xg["=>"],"overdue",e.isOverDue),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}}},{ctor:"::",_0:s(Iw,"av:snooze",{ctor:"::",_0:ca({ctor:"::",_0:s(Xg["=>"],"display-none",!e.isSnoozed),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:Mi(e.displayText),_1:{ctor:"[]"}}})),n=s(Na,{ctor:"::",_0:s(fa,"opened",e.isDropdownOpen),_1:{ctor:"::",_0:s(fa,"dynamicAlign",!0),_1:{ctor:"::",_0:s(fa,"stopKeyboardEventPropagation",!0),_1:{ctor:"[]"}}}},{ctor:"::",_0:r,_1:{ctor:"::",_0:s(Pi,{ctor:"::",_0:Zi("static"),_1:{ctor:"::",_0:s(Ki,"slot","dropdown-content"),_1:{ctor:"[]"}}},{ctor:"::",_0:s(Pi,{ctor:"::",_0:Zi("font-subhead"),_1:{ctor:"[]"}},{ctor:"::",_0:Mi("Select date and time"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(xa,{ctor:"::",_0:ea("date"),_1:{ctor:"::",_0:ca({ctor:"::",_0:s(Xg["=>"],"auto-focus",e.isDropdownOpen),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:Tw("Date"),_1:{ctor:"::",_0:ra(e.date),_1:{ctor:"::",_0:s(fa,"stopKeyboardEventPropagation",!0),_1:{ctor:"::",_0:yw(e.onDateChanged),_1:{ctor:"[]"}}}}}}},{ctor:"[]"}),_1:{ctor:"::",_0:s(xa,{ctor:"::",_0:ea("time"),_1:{ctor:"::",_0:Tw("Time"),_1:{ctor:"::",_0:ra(e.time),_1:{ctor:"::",_0:s(fa,"stopKeyboardEventPropagation",!0),_1:{ctor:"::",_0:yw(e.onTimeChanged),_1:{ctor:"[]"}}}}}},{ctor:"[]"}),_1:{ctor:"::",_0:RE,_1:{ctor:"[]"}}}}}),_1:{ctor:"[]"}}}),o=s(ja,{ctor:"::",_0:s(Ba,"offset",0),_1:{ctor:"[]"}},v.eq(e.dueAtToolTipText,"")?{ctor:"[]"}:{ctor:"::",_0:s(Pi,{ctor:"::",_0:Zi("tooltip"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Pi,{ctor:"::",_0:Zi("font-body1 font-nowrap"),_1:{ctor:"[]"}},{ctor:"::",_0:Mi(e.dueAtToolTipText),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(Pi,{ctor:"::",_0:Zi("font-caption"),_1:{ctor:"[]"}},{ctor:"::",_0:Mi(e.dayDiffInWords),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}});return s(Pi,{ctor:"::",_0:ia({ctor:"::",_0:s(Xg["=>"],"position","relative"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}},{ctor:"::",_0:n,_1:{ctor:"::",_0:o,_1:{ctor:"[]"}}})},ix=function(t){return{ctor:"::",_0:s(Pi,{ctor:"::",_0:Zi(""),_1:{ctor:"[]"}},{ctor:"::",_0:s(Pi,{ctor:"::",_0:Zi("text-break-all"),_1:{ctor:"::",_0:ma(t.startEditingMsg),_1:{ctor:"[]"}}},{ctor:"::",_0:nx(t),_1:{ctor:"::",_0:s(Li,{ctor:"::",_0:Zi("display-text"),_1:{ctor:"[]"}},{ctor:"::",_0:Mi(t.displayText),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}),_1:{ctor:"::",_0:s(Pi,{ctor:"::",_0:Zi("layout horizontal end-justified"),_1:{ctor:"[]"}},{ctor:"::",_0:cx(t),_1:{ctor:"::",_0:s(Pi,{ctor:"::",_0:ia({ctor:"::",_0:s(Xg["=>"],"padding","0 8px"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}},{ctor:"::",_0:rx(t),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(Pi,{ctor:"::",_0:ia({ctor:"::",_0:s(Xg["=>"],"padding","0 8px"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}},{ctor:"::",_0:ex(t),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}}),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}}},ax=function(t){var e=t.edit,r=Cs(e);return s(Pi,{ctor:"::",_0:ca({ctor:"::",_0:s(Xg["=>"],"todo-item",!0),_1:{ctor:"::",_0:s(Xg["=>"],"selected",t.isSelected),_1:{ctor:"::",_0:s(Xg["=>"],"editing",r),_1:{ctor:"[]"}}}}),_1:{ctor:"::",_0:_l(t.onFocusIn),_1:{ctor:"::",_0:ha(t.onFocus),_1:{ctor:"::",_0:va(t.onBlur),_1:{ctor:"::",_0:t.tabindexAV,_1:{ctor:"::",_0:hw(t.onKeyDownMsg),_1:{ctor:"::",_0:s(Ki,"data-key",t.key),_1:{ctor:"[]"}}}}}}}},f(Is,function(e){return ix(t)},YE,e))},sx=function(t){return{ctor:"_Tuple2",_0:t.key,_1:ax(t)}},fx=(r(function(t,e,r){return{todo:t,onTodoTextChanged:e,onDeleteClicked:r}}),r(function(t,e,r){var n=function(t){return ps(function(e){return s(Mg,t,function(t){return t.id}(e))})},o=function(t){return function(e){return function(t){var e=t;return{ctor:"_Tuple2",_0:e.name,_1:e.backgroundColor}}(s(Xg[">>?="],s(Xg[">>?"],n(t),function(t){return t.appHeader}),{name:"o_O",backgroundColor:"rgb(68, 138, 255)"})(e))}},u=t;switch(u.ctor){case"EntityListView":var c=u._0;switch(c.ctor){case"ContextsView":return{ctor:"_Tuple2",_0:r.title,_1:r.icon.color};case"ContextView":return s(o,c._0,r.entityList);case"ProjectsView":return{ctor:"_Tuple2",_0:e.title,_1:e.icon.color};default:return s(o,c._0,e.entityList)}case"BinView":return{ctor:"_Tuple2",_0:"Bin",_1:"rgb(68, 138, 255)"};case"DoneView":return{ctor:"_Tuple2",_0:"Done",_1:"rgb(68, 138, 255)"};default:return{ctor:"_Tuple2",_0:"Custom Sync",_1:"rgb(68, 138, 255)"}}})),lx=function(t){var e=$E(t),r=t.mainViewType,n=qE(t),o=OE(t),u=f(fx,r,n,o);return{contexts:o,projects:n,viewName:u._0,mainViewType:r,header:{backgroundColor:u._1},shared:e,createTodoViewModel:ox(e),focusedEntityInfo:t.focusedEntityInfo}},_x=(i(function(t,e,r,n,o,u,c,i){return{contexts:t,projects:e,viewName:r,mainViewType:n,header:o,shared:u,createTodoViewModel:c,focusedEntityInfo:i}}),e(function(t,e){return s(ui["?="],s(ui["?|>"],s(qs,lt(t),s(ps,function(t){return s(Mg,e.focusedEntityInfo.id,WT(t))},t)),WT),"")})),dx=(e(function(t,e){var r=s(_x,t,e);return function(t){return s(Mg,r,WT(t))}}),i(function(t,e,r,n,o,u,c,i){return{id:t,onFocusIn:e,onFocus:r,onBlur:n,startEditingMsg:o,toggleDeleteMsg:u,startEditingMsg:c,tabIndexAV:i}}),function(t){return{ctor:"Todo",_0:t}}),px=function(t){return{ctor:"Project",_0:t}},hx=function(t){return{ctor:"Context",_0:t}},vx=function(t){return function(e){var r=e;t:do{if("::"!==r.ctor||"::"!==r._1.ctor)break t;switch(r._0.ctor){case"Context":if("Project"===r._1._0.ctor){var n=function(t){return"Todo"===t.ctor},o=ct(s(pt,n,t));return{ctor:"::",_0:hx(v.update(r._0._0,{count:o})),_1:{ctor:"::",_0:px(r._1._0._0),_1:r._1._1}}}break t;case"Project":if("Context"===r._1._0.ctor){var n=function(t){return"Todo"===t.ctor},o=ct(s(pt,n,t));return{ctor:"::",_0:px(v.update(r._0._0,{count:o})),_1:{ctor:"::",_0:hx(r._1._0._0),_1:r._1._1}}}break t;default:break t}}while(!1);return e}(ge(f(ot,e(function(t,e){var r=e,n=r._0,o=r._1,u=t;switch(u.ctor){case"Context":return{ctor:"_Tuple2",_0:{ctor:"::",_0:hx(v.update(u._0,{count:o})),_1:n},_1:0};case"Project":return{ctor:"_Tuple2",_0:{ctor:"::",_0:px(v.update(u._0,{count:o})),_1:n},_1:0};default:return{ctor:"_Tuple2",_0:{ctor:"::",_0:dx(u._0),_1:n},_1:o+1}}}),{ctor:"_Tuple2",_0:{ctor:"[]"},_1:0},t)))},gx=e(function(t,e){var r=s(_x,t,e),n=function(t){var e=v.eq(WT(t),r)?0:-1;return Xi(e)},o=function(t){var r=n(t),o=t;switch(o.ctor){case"ContextEntity":return hx(s(EE,r,o._0));case"ProjectEntity":return px(s(SE,r,o._0));default:return dx(s(e.createTodoViewModel,r,o._0))}};return vx(s(ui[".|>"],t,o))}),mx=r(function(t,e,r){var n=function(t){var e=t;switch(e.ctor){case"Context":case"Project":return s(HE,r,e._0);default:return sx(e._0)}},o=s(ak,t,e),u=s(gx,o,r);return f(ef,"div",{ctor:"::",_0:Zi("entity-list focusable-list"),_1:{ctor:"::",_0:hw(VS(o)),_1:{ctor:"[]"}}},s(ui[".|>"],u,n))}),yx=e(function(t,r){return vi(f(ut,e(function(t,e){return di(e)}),r,s(Ot,0,t)))}),bx=s(sn,"id",hn),wx=e(function(t,e){return un({ctor:"::",_0:s(Xr,function(t){var r=ct(e);return s(wx,s(yx,r,bx),{ctor:"::",_0:t,_1:e})},t),_1:{ctor:"::",_0:Yr(e),_1:{ctor:"[]"}}})}),Tx=s(wx,vi(bx),{ctor:"[]"}),kx=e(function(t,e){var r=function(t){return Yr(e)},n=function(e){return Qr(s(k["++"],"domIds not found in event target path: ",S(t)))};return s(Xr,function(e){return f(Is,r,n,s(ps,s(ui["#"],at,t),e))},Tx)}),Sx=s(Xg[">>>"],kx,pa("click")),Ex=function(t){return Ne(function(e){return s(ui["?="],t(e),je(e))})},xx=(b(Ne),function(t){return qe(function(e){return s(ui["?="],t(e),we)})}),Ax=(e(function(t,e){return Ne(function(r){return s(ui["?="],s(ui["?|>"],t(r),e),r)})}),e(function(t,e){return Ne(function(r){return s(e,t(r),r)})}),e(function(t,e){return De(function(r){return s(e,t(r),r)})}),e(function(t,e){return De(function(r){return s(ui["?="],s(ui["?|>"],t(r),e),r)})}),e(function(t,e){return Ne(function(r){return s(e,t(r),je(r))})})),Ox=(e(function(t,e){return Ne(function(r){return s($g,je(r),s(ui["?="],s(ui["?|>"],t(r),e),T))})}),function(t){return s(Pi,{ctor:"::",_0:ta("firebase-container"),_1:{ctor:"[]"}},{ctor:"::",_0:f(Di,"firebase-auth",{ctor:"::",_0:ta("firebase-auth"),_1:{ctor:"::",_0:tT(vE),_1:{ctor:"[]"}}},{ctor:"[]"}),_1:{ctor:"::",_0:f(Di,"firebase-messaging",{ctor:"::",_0:ta("fb-messaging"),_1:{ctor:"::",_0:Pw(hE),_1:{ctor:"::",_0:Cw,_1:{ctor:"[]"}}}},{ctor:"[]"}),_1:{ctor:"[]"}}})}),qx=(dt(m(Ki)),function(t){var e=Ph(t);t:do{if("::"!==e.ctor)break t;if("::"===e._1.ctor){if("[]"!==e._1._1.ctor)break t;switch(e._0){case"lists":switch(e._1._0){case"contexts":return{ctor:"::",_0:$S(Tb),_1:{ctor:"[]"}};case"projects":return{ctor:"::",_0:$S(bb),_1:{ctor:"[]"}};case"bin":return{ctor:"::",_0:US(AS),_1:{ctor:"[]"}};case"done":return{ctor:"::",_0:US(OS),_1:{ctor:"[]"}};default:break t}case"context":return{ctor:"::",_0:$S(wb(e._1._0)),_1:{ctor:"[]"}};case"project":return"NotAssigned"===e._1._0?{ctor:"::",_0:$S(yb("")),_1:{ctor:"[]"}}:{ctor:"::",_0:$S(yb(e._1._0)),_1:{ctor:"[]"}};case"notification":return{ctor:"::",_0:FS(e._1._0),_1:{ctor:"[]"}};default:break t}}else switch(e._0){case"Inbox":return{ctor:"::",_0:$S(wb("")),_1:{ctor:"[]"}};case"custom-sync":return{ctor:"::",_0:US(xS),_1:{ctor:"[]"}};default:break t}}while(!1);return{ctor:"[]"}}),Ix=function(t){return qx(Vh(t.href))},Nx=function(t){var e=tk(t);switch(e.ctor){case"EntityListView":return hb(e._0);case"BinView":return{ctor:"::",_0:"lists",_1:{ctor:"::",_0:"bin",_1:{ctor:"[]"}}};case"DoneView":return{ctor:"::",_0:"lists",_1:{ctor:"::",_0:"done",_1:{ctor:"[]"}}};default:return{ctor:"::",_0:"custom-sync",_1:{ctor:"[]"}}}},Cx=e(function(t,e){return J(s($h,Nx(e),Fh))}),jx=s(Xg[">>>"],Cx,H(Rh)),Mx=function(t){var e=s(ui["?="],s(ui["?|>"],nS(t),function(t){return s(Ki,"src",Mw(t))}),Aw("account-circle")),r=(s(ui["?="],s(ui["?|>"],nS(t),Mw),""),nS(t)),n=s(ui["?="],s(ui["?|>"],r,function(t){return s(Aa,{ctor:"::",_0:ma(dE),_1:{ctor:"[]"}},{ctor:"::",_0:Mi("SignOut"),_1:{ctor:"[]"}})}),s(Aa,{ctor:"::",_0:ma(pE),_1:{ctor:"[]"}},{ctor:"::",_0:Mi("SignIn"),_1:{ctor:"[]"}})),o=s(k["++"],t.developmentMode?"DEV_ENV":"SimpleGTD",s(k["++"]," ",t.appVersion));return s(Pi,{ctor:"::",_0:Zi("flex-auto layout horizontal justified center"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Ri,{ctor:"::",_0:Zi("ellipsis"),_1:{ctor:"[]"}},{ctor:"::",_0:Mi(o),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(Pi,{ctor:"[]"},{ctor:"::",_0:s(Na,{ctor:"::",_0:Ew,_1:{ctor:"::",_0:s(Pa,"noOverlap",!0),_1:{ctor:"::",_0:s(Pa,"closeOnActivate",!0),_1:{ctor:"[]"}}}},{ctor:"::",_0:f(Di,"iron-icon",{ctor:"::",_0:e,_1:{ctor:"::",_0:Zi("account"),_1:{ctor:"::",_0:Sw,_1:{ctor:"[]"}}}},{ctor:"[]"}),_1:{ctor:"::",_0:s(qa,{ctor:"::",_0:kw,_1:{ctor:"[]"}},{ctor:"::",_0:n,_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}})},Dx=function(t){var e=t.editMode;if("NewTodo"===e.ctor){var r=e._0;return s(xa,{ctor:"::",_0:ta("new-todo-input"),_1:{ctor:"::",_0:Zi("auto-focus"),_1:{ctor:"::",_0:ga(ZS(r)),_1:{ctor:"::",_0:ra(jb(r)),_1:{ctor:"::",_0:va(YS),_1:{ctor:"::",_0:pw(QS),_1:{ctor:"::",_0:s(La,"label","New Todo"),_1:{ctor:"::",_0:s(Pa,"alwaysFloatLabel",!0),_1:{ctor:"::",_0:ia({ctor:"::",_0:{ctor:"_Tuple2",_0:"width",_1:"100%"},_1:{ctor:"::",_0:s(Xg["=>"],"color","white"),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}}}}}}}}}},{ctor:"[]"})}return Mx(t)},Bx=e(function(t,e){var r=$k(e)?{ctor:"::",_0:s(Ki,"condenses",""),_1:{ctor:"::",_0:s(Ki,"reveals",""),_1:{ctor:"[]"}}}:{ctor:"::",_0:s(Ki,"fixed",""),_1:{ctor:"[]"}};return s(Hi,s(k["++"],{ctor:"::",_0:ta("main-header"),_1:{ctor:"::",_0:s(Ki,"slot","header"),_1:{ctor:"::",_0:s(Ki,"effects","waterfall"),_1:{ctor:"[]"}}}},r),{ctor:"::",_0:s(Wi,{ctor:"::",_0:ia({ctor:"::",_0:s(Xg["=>"],"color","white"),_1:{ctor:"::",_0:s(Xg["=>"],"background-color",t.header.backgroundColor),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}},{ctor:"::",_0:s(xw,{ctor:"::",_0:Aw("menu"),_1:{ctor:"::",_0:Xi(-1),_1:{ctor:"::",_0:s(Ki,"drawer-toggle",""),_1:{ctor:"::",_0:ma(aE),_1:{ctor:"::",_0:Zi("hide-when-wide"),_1:{ctor:"[]"}}}}}},{ctor:"[]"}),_1:{ctor:"::",_0:Dx(e),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}})}),Rx=e(function(t,e){var r=function(e){return sx(s(t.createTodoViewModel,Xi(-1),e))};return f(ef,"paper-listbox",{ctor:"::",_0:s(La,"selected","0"),_1:{ctor:"::",_0:s(La,"selectedAttribute","selected"),_1:{ctor:"[]"}}},s(ui[".|>"],ik(e),r))}),Px=function(t){var r=e(function(t,e){return s(Aa,{ctor:"::",_0:ma(t(e)),_1:{ctor:"[]"}},{ctor:"::",_0:function(t){return Mi(gy(t))}(e),_1:{ctor:"[]"}})}),n=function(e){var n=s(ui["#"],oE,e);return s(Ia,{ctor:"::",_0:ta("project-dropdown"),_1:{ctor:"::",_0:s(Ki,"data-prevent-default-keys","Tab"),_1:{ctor:"[]"}}},{ctor:"::",_0:s(qa,{ctor:"[]"},s(ui[".|>"],TT(t),r(n))),_1:{ctor:"[]"}})};return Os(s(ui["?|>"],wk(t),n))},Lx=function(t){var r=e(function(t,e){return s(Aa,{ctor:"::",_0:ma(t(e)),_1:{ctor:"[]"}},{ctor:"::",_0:function(t){return Mi(Zm(t))}(e),_1:{ctor:"[]"}})}),n=function(e){var n=s(ui["#"],uE,e);return s(Ia,{ctor:"::",_0:ta("context-dropdown"),_1:{ctor:"::",_0:s(Ki,"data-prevent-default-keys","Tab"),_1:{ctor:"[]"}}},{ctor:"::",_0:s(qa,{ctor:"[]"},s(ui[".|>"],wT(t),r(n))),_1:{ctor:"[]"}})};return Os(s(ui["?|>"],Tk(t),n))},Fx=function(t){return s(k["++"],Lx(t),Px(t))},$x=e(function(t,e){return s(Pi,{ctor:"::",_0:ta("main-view"),_1:{ctor:"[]"}},s(k["++"],{ctor:"::",_0:function(){var r=tk(e);switch(r.ctor){case"EntityListView":return f(mx,r._0,e,t);case"BinView":case"DoneView":return s(Rx,t,e);default:var n=bk(e);return s(Ia,{ctor:"::",_0:Zi("static layout vertical"),_1:{ctor:"[]"}},{ctor:"::",_0:s(xa,{ctor:"::",_0:s(Ki,"label","Cloudant URL or any CouchDB URL"),_1:{ctor:"::",_0:ra(n.uri),_1:{ctor:"::",_0:ga(zS(n)),_1:{ctor:"[]"}}}},{ctor:"[]"}),_1:{ctor:"::",_0:s(Pi,{ctor:"[]"},{ctor:"::",_0:s(Ta,{ctor:"::",_0:function(t){return ma(_E(t))}(n),_1:{ctor:"[]"}},{ctor:"::",_0:Mi("Start Sync"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}})}}(),_1:{ctor:"[]"}},Fx(e)))}),Ux=r(function(t,e,r){return s(Aa,{ctor:"::",_0:ma(US(e)),_1:{ctor:"[]"}},{ctor:"::",_0:f(Di,"iron-icon",{ctor:"::",_0:Aw(t),_1:{ctor:"[]"}},{ctor:"[]"}),_1:{ctor:"::",_0:s(Oa,{ctor:"[]"},{ctor:"::",_0:Mi(r),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}})}),Vx=function(t){return s(Pi,{ctor:"::",_0:Zi("big-paper-item-text"),_1:{ctor:"[]"}},{ctor:"::",_0:Mi(t),_1:{ctor:"[]"}})},Jx=function(t){return s(Aa,{ctor:"::",_0:ma(t.onActiveStateChanged(!0)),_1:{ctor:"[]"}},{ctor:"::",_0:f(Di,"iron-icon",{ctor:"::",_0:Aw(t.icon.name),_1:{ctor:"::",_0:ia({ctor:"::",_0:s(Xg["=>"],"color",t.icon.color),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}},{ctor:"[]"}),_1:{ctor:"::",_0:s(Oa,{ctor:"[]"},{ctor:"::",_0:FE(t),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(Pi,{ctor:"::",_0:Zi("show-on-hover"),_1:{ctor:"[]"}},{ctor:"::",_0:LE(t.startEditingMsg),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}})},Hx=e(function(t,e){var r=t,n=r.icon;return s(k["++"],{ctor:"::",_0:s(Aa,{ctor:"::",_0:Zi("has-hover-elements"),_1:{ctor:"::",_0:ma(US(qS(r.viewType))),_1:{ctor:"[]"}}},{ctor:"::",_0:f(Di,"iron-icon",{ctor:"::",_0:Aw(n.name),_1:{ctor:"::",_0:ia({ctor:"::",_0:s(Xg["=>"],"color",n.color),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}},{ctor:"[]"}),_1:{ctor:"::",_0:s(Oa,{ctor:"[]"},{ctor:"::",_0:Vx(r.title),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(Pi,{ctor:"::",_0:Zi("show-on-hover layout horizontal center"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Ca,{ctor:"::",_0:ua(r.showDeleted),_1:{ctor:"::",_0:ma(sE),_1:{ctor:"[]"}}},{ctor:"[]"}),_1:{ctor:"::",_0:s(Iw,"delete",{ctor:"[]"}),_1:{ctor:"::",_0:s(Ea,{ctor:"::",_0:Aw("add"),_1:{ctor:"::",_0:ma(r.onAddClicked),_1:{ctor:"[]"}}},{ctor:"[]"}),_1:{ctor:"[]"}}}}),_1:{ctor:"[]"}}}}),_1:{ctor:"[]"}},s(dt,Jx,r.entityList))}),zx=s(Pi,{ctor:"::",_0:Zi("divider"),_1:{ctor:"[]"}},{ctor:"[]"}),Wx=function(t){var e=t,r=e.projects,n=e.contexts,o=1+ct(n.entityList),u=o+ct(r.entityList),c=e.mainViewType;switch(c.ctor){case"EntityListView":var i=c._0;switch(i.ctor){case"ContextsView":return 0;case"ContextView":return 1+function(t){return s(Xg[">>?="],ds(function(e){return s(Mg,t,function(t){return t.id}(e))}),0)(n.entityList)}(i._0);case"ProjectsView":return o;default:return 1+o+function(t){return s(Xg[">>?="],ds(function(e){return s(Mg,t,function(t){return t.id}(e))}),0)(r.entityList)}(i._0)}case"BinView":return u+1;case"DoneView":return u+2;default:return u+3}},Gx=e(function(t,e){var r=t,n=r.contexts,o=r.projects;return f(Di,"paper-listbox",{ctor:"::",_0:s(La,"selectable","paper-item"),_1:{ctor:"::",_0:s(Ba,"selected",Wx(t)),_1:{ctor:"[]"}}},s(k["++"],s(Hx,n,e.mainViewType),s(k["++"],{ctor:"::",_0:zx,_1:{ctor:"[]"}},s(k["++"],s(Hx,o,e.mainViewType),s(k["++"],{ctor:"::",_0:zx,_1:{ctor:"[]"}},{ctor:"::",_0:f(Ux,"delete",AS,"Bin"),_1:{ctor:"::",_0:f(Ux,"done",OS,"Done"),_1:{ctor:"::",_0:f(Ux,"notification:sync",xS,"Custom Sync"),_1:{ctor:"[]"}}}})))))}),Kx=e(function(t,e){var r=t;r.contexts,r.projects;return s(Vi,{ctor:"::",_0:s(Pa,"swipeOpen",!0),_1:{ctor:"::",_0:s(Ki,"slot","drawer"),_1:{ctor:"[]"}}},{ctor:"::",_0:s(zi,{ctor:"::",_0:s(Ki,"has-scrolling-region",""),_1:{ctor:"[]"}},{ctor:"::",_0:s(Hi,{ctor:"::",_0:s(Pa,"fixed",!0),_1:{ctor:"::",_0:s(Ki,"slot","header"),_1:{ctor:"[]"}}},{ctor:"::",_0:s(Wi,{ctor:"::",_0:ia({ctor:"::",_0:s(Xg["=>"],"color","white"),_1:{ctor:"::",_0:s(Xg["=>"],"background-color",t.header.backgroundColor),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}},{ctor:"::",_0:s(Pi,{ctor:"[]"},{ctor:"::",_0:s(xw,{ctor:"::",_0:Aw("menu"),_1:{ctor:"::",_0:Xi(-1),_1:{ctor:"::",_0:s(Ki,"drawer-toggle",""),_1:{ctor:"::",_0:ma(aE),_1:{ctor:"[]"}}}}},{ctor:"[]"}),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:Vx(t.viewName),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(Gx,t,e),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}})}),Xx=e(function(t,e){var r=lE(lT);return s(Pi,{ctor:"::",_0:Zi("full-view fixed-top"),_1:{ctor:"::",_0:Fa(r),_1:{ctor:"[]"}}},{ctor:"::",_0:s(Pi,{ctor:"::",_0:Zi("fixed-bottom top-shadow static"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Pi,{ctor:"::",_0:Zi("font-headline"),_1:{ctor:"[]"}},{ctor:"::",_0:Mi(t.text),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(Pi,{ctor:"::",_0:Zi("layout horizontal flex-auto-children"),_1:{ctor:"[]"}},e),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}})}),Qx=e(function(t,e){if("InitialView"===t.ctor){var r={onDismissClicked:lE(dT),onDoneClicked:lE(_T),onSnoozeClicked:lE(hT)};return s(Xx,e,{ctor:"::",_0:f(Nw,"notification:do-not-disturb","dismiss",r.onDismissClicked),_1:{ctor:"::",_0:f(Nw,"av:snooze","snooze",r.onSnoozeClicked),_1:{ctor:"::",_0:f(Nw,"done","done!",r.onDoneClicked),_1:{ctor:"[]"}}}})}var n=function(t){return lE(pT(t))},r={snoozeFor15Min:n(gT(9e5)),snoozeFor1Hour:n(gT(36e5)),snoozeFor3Hours:n(gT(108e5)),snoozeTillTomorrow:n(vT)};return s(Xx,e,{ctor:"::",_0:f(Nw,"av:snooze","15 min",r.snoozeFor15Min),_1:{ctor:"::",_0:f(Nw,"av:snooze","1 hour",r.snoozeFor1Hour),_1:{ctor:"::",_0:f(Nw,"av:snooze","3 hour",r.snoozeFor3Hours),_1:{ctor:"::",_0:f(Nw,"av:snooze","tomorrow",r.snoozeTillTomorrow),_1:{ctor:"[]"}}}}})}),Yx=function(t){var e=t.reminderOverlay;return"Active"===e.ctor?s(Qx,e._0,e._1):s(Li,{ctor:"[]"},{ctor:"[]"})},Zx=function(t){return s(Sa,{ctor:"::",_0:ta("add-fab"),_1:{ctor:"::",_0:s(Ki,"icon","add"),_1:{ctor:"::",_0:s(Ki,"mini",""),_1:{ctor:"::",_0:ma(nE),_1:{ctor:"::",_0:Xi(-1),_1:{ctor:"[]"}}}}}},{ctor:"[]"})},tA=function(t){var e=function(){var e={ctor:"::",_0:s(Sx,{ctor:"::",_0:"context-dropdown",_1:{ctor:"::",_0:"project-dropdown",_1:{ctor:"[]"}}},YS),_1:{ctor:"[]"}};switch(t.editMode.ctor){case"EditTodoContext":case"EditTodoProject":return e;default:return{ctor:"[]"}}}(),r=Uk(t),n=lx(t);return s(Ji,s(k["++"],{ctor:"::",_0:s(Pa,"forceNarrow",r),_1:{ctor:"::",_0:s(ww,"narrow",iE),_1:{ctor:"[]"}}},e),{ctor:"::",_0:s(Kx,n,t),_1:{ctor:"::",_0:s(zi,{ctor:"::",_0:s(Ki,"has-scrolling-region",""),_1:{ctor:"[]"}},{ctor:"::",_0:s(Bx,n,t),_1:{ctor:"::",_0:s($x,n,t),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}}})},eA=(s(Pi,{ctor:"::",_0:Zi("full-view"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Ia,{ctor:"::",_0:ia({ctor:"::",_0:s(Xg["=>"],"background-color","white"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:Zi("fixed-bottom"),_1:{ctor:"::",_0:s(Ki,"elevation","5"),_1:{ctor:"[]"}}}},{ctor:"::",_0:s(Aa,{ctor:"[]"},{ctor:"::",_0:Mi("bottom"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(Aa,{ctor:"[]"},{ctor:"::",_0:Mi("bottom"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(Aa,{ctor:"[]"},{ctor:"::",_0:Mi("bottom"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}}),_1:{ctor:"[]"}}),function(t){return s(Pi,{ctor:"::",_0:ta("app-view"),_1:{ctor:"[]"}},{ctor:"::",_0:tA(t),_1:{ctor:"::",_0:Zx(),_1:{ctor:"::",_0:Yx(t),_1:{ctor:"[]"}}}})}),rA=function(t){return s(Pi,{ctor:"::",_0:ta("root"),_1:{ctor:"[]"}},{ctor:"::",_0:Ox(),_1:{ctor:"::",_0:eA(t),_1:{ctor:"[]"}}})},nA=function(t){return xx(s(Xg[">>?"],oS,Hw))},oA=function(t){return Kg({ctor:"_Tuple2",_0:"project-dropdown",_1:s(k["++"],"project-dropdown-",im(t))})},uA=function(t){return Kg({ctor:"_Tuple2",_0:"context-dropdown",_1:s(k["++"],"context-dropdown-",im(t))})},cA=e(function(t,e){var r=function(e){var r=im(t),n=Ny(t);return f(Vw,n,e,r)};return s(ui["?="],s(ui["?|>"],oS(e),r),we)}),iA=e(function(t,e){return s(ui["?="],s(ui["?|>"],s(ok,t,e),s(ui["#"],cA,e)),we)}),aA=e(function(t,e){return s(ui["?="],s(ui["?|>"],t,s(ui["#"],iA,e)),we)}),sA=function(t){return s(ui["?="],s(ui["?|>"],oS(t),s(ui["#"],Uw(t.deviceId),t.fcmToken)),we)},fA=Ie,lA=bE.focus(".entity-list > [tabindex=0]"),_A=e(function(t,e){return De(s(bS,t,im(e)))}),dA=function(t){return Ne(function(e){return s(he,s(ui["#"],t.set,e),Gm(t.get(e)))})},pA=function(t){return s(dA,TS,s(dA,vS,s(dA,wS,t)))},hA=(s(Xg[">>>"],lm,De),function(t){return je(IS(t))}),vA=function(t){var e=im(t);return{title:Ay(t),tag:e,data:{id:e}}},gA=me.outgoingPort("showNotification",function(t){return{title:t.title,tag:t.tag,data:{id:t.data.id}}}),mA=me.outgoingPort("closeNotification",function(t){return t}),yA=function(t){return Ne(function(e){return function(){var r=e.reminderOverlay;if("Active"!==r.ctor)return je;var n=r._1,o=n.id,u=t;switch(u.ctor){case"Dismiss":return function(t){return s(qe,iA(o),s(Ie,mA(o),je(Ck(f(gS,eb,o,t)))))};case"ShowSnoozeOptions":return function(t){return je(s(Nk,n,t))};case"SnoozeTill":return function(t){return s(qe,iA(o),s(Ie,mA(o),s(De,s(mS,u._0,o),je(t))))};case"Close":return function(t){return je(Ck(t))};default:return function(t){return s(Ie,mA(o),je(Ck(f(gS,_b,o,t))))}}}()(e)})},bA=me.incomingPort("notificationClicked",s(Xr,function(t){return s(Xr,function(e){return Yr({action:t,data:e})},s(sn,"data",s(Xr,function(t){return Yr({id:t})},s(sn,"id",hn))))},s(sn,"action",hn))),wA=function(t){return Se({ctor:"::",_0:s(co,1e3,LS),_1:{ctor:"::",_0:cw(RS),_1:{ctor:"::",_0:aw(BS),_1:{ctor:"::",_0:bA(fE),_1:{ctor:"::",_0:Qm(mE),_1:{ctor:"::",_0:Ww(gE),_1:{ctor:"[]"}}}}}}})},TA=me.outgoingPort("syncWithRemotePouch",function(t){return t}),kA=me.outgoingPort("startAlarm",function(t){return null}),SA=function(t){return be(s(ui["#"],function(t){return e(function(t,e){return{ctor:"::",_0:t,_1:e}})(gA(vA(t)))},{ctor:"::",_0:kA({ctor:"_Tuple0"}),_1:{ctor:"[]"}})(t))},EA=function(t){var e=t,r=e._0,n=e._1;return s(Te["!"],n,{ctor:"::",_0:SA(r),_1:{ctor:"::",_0:s(cA,r,n),_1:{ctor:"[]"}}})},xA=function(t){return function(e){return s(Ex,s(Xg[">>?"],hS,EA),s(De,OT(t),e))}},AA=function(t){return function(e){return pA(function(){var e=t;switch(e.ctor){case"OnCommonMsg":return tm(e._0);case"OnPouchDBChange":return De(s(ES,e._0,e._1));case"OnFirebaseChange":return qe(s(ek,e._0,e._1));case"SignIn":return Ie(Lw({ctor:"_Tuple0"}));case"SignOut":return Ie(Fw({ctor:"_Tuple0"}));case"OnUserChanged":var r=e._0;return function(t){return s(nA,r,s(qe,sA,s(De,uS(r),t)))};case"OnFCMTokenChanged":var n=e._0;s(F,"fcm: token",n);return function(t){return s(qe,sA,s(De,Hk(n),t))};case"OnEntityListKeyDown":var o=e._0;switch(e._1.key.ctor){case"ArrowUp":return function(t){return s(OA,lA,s(De,YT(o),t))};case"ArrowDown":return function(t){return s(OA,lA,s(De,ZT(o),t))};default:return T}case"ToggleDrawer":return De(Jk);case"OnLayoutNarrowChanged":return De(Vk(e._0));case"RemotePouchSync":return function(t){return s(qe,function(t){return TA(function(t){return t.pouchDBRemoteSyncURI}(t))},s(OA,WS,t))};case"OnNotificationClicked":var u=e._0.data.id;return v.eq(e._0.action,"mark-done")?function(t){return s(fA,mA(u),s(De,s(gS,_b,u),t))}:function(t){return OA(FS(t))}(u);case"ToggleShowDeletedEntity":return De(function(t){return v.update(t,{showDeleted:!t.showDeleted})});case"FocusPaperInput":return Jg(e._0);case"AutoFocusPaperInput":return Hg;case"TodoAction":return T;case"ReminderOverlayAction":return yA(e._0);case"ToggleTodoDone":return De(s(gS,nb,e._0));case"SetTodoContext":return function(t){return s(OA,YS,f(_A,ib(e._0),e._1,t))};case"SetTodoProject":return function(t){return s(OA,YS,f(_A,ob(e._0),e._1,t))};case"NewTodoTextChanged":return De(s(sS,e._0,e._1));case"DeactivateEditingMode":return function(t){return s(OA,lA,s(De,gk,t))};case"NewTodoKeyUp":return"Enter"===e._0.key.ctor?OA(WS):T;case"StartEditingReminder":return function(t){return Hg(s(De,Ok(e._0),t))};case"StartEditingContext":var c=e._0;return function(t){return s(Ie,uA(c),s(De,Ak(c),t))};case"StartEditingProject":var i=e._0;return function(t){return s(Ie,oA(i),s(De,xk(i),t))};case"UpdateTodoForm":return De(function(t){return pk(ew(t))}(s(Db,e._1,e._0)));case"UpdateRemoteSyncFormUri":return De(function(t){return pk(Hb(t))}(v.update(e._0,{uri:e._1})));case"UpdateReminderForm":return De(function(t){return pk(tw(t))}(s(Lb,e._1,e._0)));case"SwitchView":return De(dk(e._0));case"SetGroupByView":return De(NS(e._0));case"ShowReminderOverlayForTodoId":return De(Mk(e._0));case"OnNowChanged":return xA(e._0);case"OnMsgList":return IA(e._0);case"OnKeyboardMsg":return function(t){return s(Gg,".entity-list > [tabindex=0]",s(De,AT(uw(e._0)),t))};case"SaveCurrentForm":return function(t){return s(OA,YS,s(Ne,ei({ctor:"_Tuple2",_0:ve,_1:m(aA)}),s(De,ei({ctor:"_Tuple2",_0:s(Xg[">>?"],kk,function(t){return t.id}),_1:kS}),t)))};case"NewTodo":return function(t){return Hg(s(De,iS,t))};case"NewTodoForInbox":return function(t){return Hg(s(De,aS,t))};case"NewProject":return function(t){return Hg(s(De,Ik,t))};case"NewContext":return function(t){return Hg(s(De,qk,t))};case"StartAddingNewEntity":return T;case"OnEntityAction":var a=e._0,l=e._1;switch(l.ctor){case"StartEditing":return function(t){return Hg(s(De,Ek(a),t))};case"NameChanged":return De(s(Sk,l._0,a));case"Save":return OA(WS);case"ToggleDeleted":return function(t){return s(OA,YS,s(De,SS(a),t))};case"SetFocusedIn":return De(tS(a));case"SetFocused":return De(kT(J(a)));case"SetBlurred":return De(kT(U));default:return De(GT(a))}default:return qA(e._0)}}()(je(e)))}},OA=function(t){return Ne(AA(t))},qA=function(t){return s(Ax,vk,function(e){var r={ctor:"_Tuple2",_0:t,_1:e};t:do{if("_Tuple2"!==r.ctor)break t;switch(r._0.ctor){case"Escape":return"None"===r._1.ctor?De(_k):OA(YS);case"CharQ":if("None"===r._1.ctor)return OA(nE);break t;case"CharI":if("None"===r._1.ctor)return OA(rE);break t;default:break t}}while(!1);return T})},IA=b(ut(function(t){return Ne(AA(t))})),NA=function(t){return Eh(Dh(t))}({delta2url:jx,location2messages:Ix,init:hA,update:AA,view:rA,subscriptions:wA})(s(Xr,function(t){return s(Xr,function(e){return s(Xr,function(r){return s(Xr,function(n){return s(Xr,function(o){return s(Xr,function(u){return s(Xr,function(c){return s(Xr,function(i){return Yr({appVersion:t,developmentMode:e,deviceId:r,encodedContextList:n,encodedProjectList:o,encodedTodoList:u,now:c,pouchDBRemoteSyncURI:i})},s(sn,"pouchDBRemoteSyncURI",hn))},s(sn,"now",_n))},s(sn,"encodedTodoList",ln(Kr)))},s(sn,"encodedProjectList",ln(Kr)))},s(sn,"encodedContextList",ln(Kr)))},s(sn,"deviceId",hn))},s(sn,"developmentMode",pn))},s(sn,"appVersion",hn))),CA=(me.outgoingPort("stopAlarm",function(t){return null}),{});CA.Main=CA.Main||{},void 0!==NA&&NA(CA.Main,"Main",void 0);var jA=function(){};if(t.hot&&function(e){function r(){return++l}function n(t,e){var r=[];for(var o in t){var u=t[o],c=e?e+"."+o:o;"fullscreen"in u?r.push({path:c,module:u}):r=r.concat(n(u,c))}return r}function o(t,e){for(var r=e.split("."),n=t,o=0;o<r.length;++o){var u=r[o];if(u in n&&(n=n[u]),!n)return null}return n}function u(t,e,n,o){var u=r(),c={id:u,path:n,domNode:t,flags:e,portSubscribes:o,elmProxy:null,lastState:null,callbacks:[]};return c.subscribe=function(t){return c.callbacks.push(t),function(){c.callbacks.splice(c.callbacks.indexOf(t),1)}},c.dispatch=function(t){c.callbacks.forEach(function(e){e(t,{flags:c.flags,state:"_0"in c.lastState?c.lastState._0:c.lastState})})},f[u]=c}function c(t,e){var r=e.embed,n=e.fullscreen;e.embed=function(e,n){var o,c={};return d=u(e,n,t,c),o=r(e,n),a(o,c),o=d.elmProxy={ports:o.ports,hot:{subscribe:d.subscribe}},d=null,o},e.fullscreen=function(e){var r,o={};return d=u(document.body,e,t,o),r=n(e),a(r,o),r=d.elmProxy={ports:r.ports,hot:{subscribe:d.subscribe}},d=null,r}}function i(t,e){console.log("[elm-hot] Hot-swapping module: "+e.path),p=e;for(var r=e.domNode;r.lastChild;)r.removeChild(r.lastChild);var n,u=o(t,e.path);if(u){e.dispatch("swap");var c=e.flags;n=e.isFullscreen?u.fullscreen(c):u.embed(r,c),e.elmProxy.ports=n.ports,Object.keys(e.portSubscribes).forEach(function(t){if(t in n.ports&&"subscribe"in n.ports[t]){var r=e.portSubscribes[t];if(!r.length)return;console.log("[elm-hot] Reconnect "+r.length+" handler(s) to port '"+t+"' ("+e.path+")."),r.forEach(function(e){n.ports[t].subscribe(e)})}else delete e.portSubscribes[t],console.log("[elm-hot] Port was removed: "+t)})}else console.log("[elm-hot] Module was removed: "+e.path);p=null}function a(t,e){var r=Object.keys(t.ports||{});return r.length&&r.filter(function(e){return"subscribe"in t.ports[e]}).forEach(function(r){var n=t.ports[r],o=n.subscribe,u=n.unsubscribe;t.ports[r]=Object.assign(n,{subscribe:function(t){return console.log("[elm-hot] ports."+r+".subscribe called."),e[r]?e[r].push(t):e[r]=[t],o.call(n,t)},unsubscribe:function(t){console.log("[elm-hot] ports."+r+".unsubscribe called.");var o=e[r];return o&&-1!==o.indexOf(t)?o.splice(o.lastIndexOf(t),1):console.warn("[elm-hot] ports."+r+".unsubscribe: handler not subscribed"),u.call(n,t)}})}),e}var s=function(){try{if(me.initialize)return"0.18"}catch(t){}try{if(1===mi.length)return"0.17"}catch(t){}return"unknown"}();if(console.log("[elm-hot] Elm version:",s),"0.17"===s)throw new Error("[elm-hot] Please use elm-hot-loader@0.4.x");if("0.18"!==s)throw new Error("[elm-hot] Elm version not supported.");"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var e=1;e<arguments.length;e++){var r=arguments[e];if(null!=r)for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t});var f=t.hot.data?t.hot.data.instances||{}:{},l=t.hot.data?t.hot.data.uid||0:0,_=[],d=null,p=null;t.hot.accept(),t.hot.dispose(function(t){if(t.instances=f,t.uid=l,ye.nativeBinding=function(){return ye.fail(new Error("[elm-hot] Inactive Elm instance."))},_.length){console.log("[elm-hot] Killing "+_.length+" running processes...");try{_.forEach(function(t){t()})}catch(t){console.warn("[elm-hot] Kill process error: "+t.message)}}});var h=me.initialize;me.initialize=function(t,e,r,n){function o(t){return t&&"object"==typeof t&&"boolean"==typeof t.isDebuggerOpen&&"state"in t}var u=d,c=p,i=!!p,a=!0,s=o(t._0);return p&&(s?t._0.state=p.lastState:t._0=p.lastState),h(t,e,function(t){var e;if(i){i=!1;try{e=r(t)}catch(t){throw new Error("[elm-hot] Hot-swapping is not possible, please reload page. Error: "+t.message)}}else e=r(t);return u?o(t)?u.lastState=t.state:u.lastState=t:u=c,a=!1,e},n)};var v=ye.nativeBinding;ye.nativeBinding=function(){var t=v.apply(this,arguments),e=t.callback;return t.callback=function(){var t=e.apply(this,arguments);return t?(_.push(t),function(){return _.splice(_.indexOf(t),1),t()}):t},t},jA=function(t){var e=[];for(var r in f){var o=f[r];o.domNode.parentNode?i(t,o):e.push(r)}e.forEach(function(t){delete o[t]}),n(t).forEach(function(t){c(t.path,t.module)})}}(),jA(CA),"function"==typeof define&&define.amd)return void define([],function(){return CA});if("object"==typeof t)return void(t.exports=CA);var MA=this.Elm;if(void 0===MA)return void(this.Elm=CA);for(var DA in CA){if(DA in MA)throw new Error("There are two Elm modules called `"+DA+"` on this page! Rename one of them.");MA[DA]=CA[DA]}}).call(this)},329:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){function n(o,u){try{var c=e[o](u),i=c.value}catch(t){return void r(t)}if(!c.done)return Promise.resolve(i).then(function(t){n("next",t)},function(t){n("throw",t)});t(i)}return n("next")})}}function u(){var t=localStorage.getItem("device-id");return t||(t=(0,w.default)(64),localStorage.setItem("device-id",t)),t}var c=function(){function t(t,e){var r=[],n=!0,o=!1,u=void 0;try{for(var c,i=t[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!e||r.length!==e);n=!0);}catch(t){o=!0,u=t}finally{try{!n&&i.return&&i.return()}finally{if(o)throw u}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){var t=o(regeneratorRuntime.mark(function t(){var e,n,i,a,f,_,p,v=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=u(),n=(0,h.default)("#elm-app-container"),n.trap(),n.on("keydown",".entity-list",function(t){"PAPER-INPUT"!==t.target.tagName&&(" "===t.key&&"PAPER-INPUT"!==t.target.tagName?t.preventDefault():"ArrowUp"!==t.key&&"ArrowDown"!==t.key||t.preventDefault())}),n.get(0).addEventListener("keydown",function(t){var e=(0,h.default)(t.target).closest("[data-prevent-default-keys]");if(0!==e.length){var r=e.data("prevent-default-keys").split(",");g.default.contains(t.key)(r)&&t.preventDefault()}},!0),t.next=7,(0,d.default)("todo-db");case 7:return t.t0=t.sent,t.next=10,(0,d.default)("project-db");case 10:return t.t1=t.sent,t.next=13,(0,d.default)("context-db");case 13:return t.t2=t.sent,i={"todo-db":t.t0,"project-db":t.t1,"context-db":t.t2},a=g.default.map(function(t){return t.findAll()})(i),t.t3=Date.now(),t.next=19,a["todo-db"];case 19:return t.t4=t.sent,t.next=22,a["project-db"];case 22:return t.t5=t.sent,t.next=25,a["context-db"];case 25:t.t6=t.sent,t.t7=localStorage.getItem("pouchdb.remote-sync-uri")||"",t.t8=S,t.t9=x,t.t10=e,f={now:t.t3,encodedTodoList:t.t4,encodedProjectList:t.t5,encodedContextList:t.t6,pouchDBRemoteSyncURI:t.t7,developmentMode:t.t8,appVersion:t.t9,deviceId:t.t10},_=r(314),p=_.Main.embed(document.getElementById("elm-app-container"),f),l.default.setup(p,g.default.values(i)),g.default.mapObjIndexed(function(t,e){return t.onChange(function(t){return p.ports.pouchDBChanges.send([e,t])})})(i),p.ports.syncWithRemotePouch.subscribe(function(){var t=o(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:localStorage.setItem("pouchdb.remote-sync-uri",e),g.default.map(function(t){return t.startRemoteSync(e,"sgtd2-")})(i);case 2:case"end":return t.stop()}},t,v)}));return function(e){return t.apply(this,arguments)}}()),p.ports.pouchDBUpsert.subscribe(function(){var t=o(regeneratorRuntime.mark(function t(e){var r=c(e,3),n=r[0],o=r[1],u=r[2];return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i[n].upsert(o,u).catch(console.error);case 1:case"end":return t.stop()}},t,v)}));return function(e){return t.apply(this,arguments)}}()),y.default.setup(p).catch(console.error),p.ports.focusSelector.subscribe(function(t){requestAnimationFrame(function(){(0,h.default)(t).blur().focus()})}),p.ports.focusSelectorIfNoFocus.subscribe(function(t){0===(0,h.default)(":focus, [focused]").length&&(0,h.default)(t).focus()}),p.ports.positionDropdown.subscribe(function(t){var e=c(t,2),r=e[0],n=e[1];requestAnimationFrame(function(){(0,h.default)("#"+r).position({my:"top",at:"top",of:"#"+n,within:"#main-view",collision:"none"}).find('[tabindex="0"]').focus()})}),p.ports.focusPaperInput.subscribe(function(t){console.log("focusPaperInput: selector",t),requestAnimationFrame(function(){(0,h.default)(".materialize-textarea.auto-focus").each(function(){(0,k.default)(this),this.focus()})}),setTimeout(function(){requestAnimationFrame(function(){var e=document.querySelector(t);e&&document.activeElement!==e&&e.focus(),e&&e.inputElement&&e.inputElement.focus()})},0)}),p.ports.startAlarm.subscribe(function(){s.default.start()}),p.ports.stopAlarm.subscribe(function(){s.default.stop()});case 44:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),a=r(312),s=n(a),f=r(308),l=n(f),_=r(311),d=n(_),p=r(95),h=n(p),v=r(67),g=n(v),m=r(310),y=n(m),b=r(130),w=n(b),T=r(307),k=n(T),S=!1;window.addEventListener("WebComponentsReady",function(){i().catch(console.error)});var E={PATH:"/Users/jigargosar/GitHub/elm-simple-gtd/node_modules/.bin:/Users/jigargosar/GitHub/elm-simple-gtd/node_modules/.bin:/Users/jigargosar/GitHub/elm-simple-gtd/node_modules/.bin:/Users/jigargosar/GitHub/elm-simple-gtd/node_modules/.bin:node_modules/.bin:/Users/jigargosar/.config/yarn/global/node_modules/.bin:/Users/jigargosar/.yarn/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin:/Applications/Racket v6.4/bin:/Users/jigargosar/libs/android-sdk-macosx/tools:/Users/jigargosar/libs/android-sdk-macosx/platform-tools",PWD:"/Users/jigargosar/GitHub/elm-simple-gtd",NODE_ENV:"production",npm_package_version:"0.16.12",SHLVL:"1",_:"/Users/jigargosar/GitHub/elm-simple-gtd/node_modules/.bin/webpack",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0"};console.log("env",E);var x=E.npm_package_version},527:function(t,e,r){(function(n){function o(){return!("undefined"==typeof window||!window||void 0===window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document&&"WebkitAppearance"in document.documentElement.style||"undefined"!=typeof window&&window&&window.console&&(console.firebug||console.exception&&console.table)||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function u(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),r){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var o=0,u=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(o++,"%c"===t&&(u=o))}),t.splice(u,0,n)}}function c(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function i(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}}function a(){try{return e.storage.debug}catch(t){}if(void 0!==n&&"env"in n)return{PATH:"/Users/jigargosar/GitHub/elm-simple-gtd/node_modules/.bin:/Users/jigargosar/GitHub/elm-simple-gtd/node_modules/.bin:/Users/jigargosar/GitHub/elm-simple-gtd/node_modules/.bin:/Users/jigargosar/GitHub/elm-simple-gtd/node_modules/.bin:node_modules/.bin:/Users/jigargosar/.config/yarn/global/node_modules/.bin:/Users/jigargosar/.yarn/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin:/Applications/Racket v6.4/bin:/Users/jigargosar/libs/android-sdk-macosx/tools:/Users/jigargosar/libs/android-sdk-macosx/platform-tools",PWD:"/Users/jigargosar/GitHub/elm-simple-gtd",NODE_ENV:"production",npm_package_version:"0.16.12",SHLVL:"1",_:"/Users/jigargosar/GitHub/elm-simple-gtd/node_modules/.bin/webpack",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0"}.DEBUG}e=t.exports=r(528),e.log=c,e.formatArgs=u,e.save=i,e.load=a,e.useColors=o,e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(a())}).call(e,r(50))},528:function(t,e,r){function n(t){var r,n=0;for(r in t)n=(n<<5)-n+t.charCodeAt(r),n|=0;return e.colors[Math.abs(n)%e.colors.length]}function o(t){function r(){if(r.enabled){var t=r,n=+new Date,o=n-(s||n);t.diff=o,t.prev=s,t.curr=n,s=n;for(var u=new Array(arguments.length),c=0;c<u.length;c++)u[c]=arguments[c];u[0]=e.coerce(u[0]),"string"!=typeof u[0]&&u.unshift("%O");var i=0;u[0]=u[0].replace(/%([a-zA-Z%])/g,function(r,n){if("%%"===r)return r;i++;var o=e.formatters[n];if("function"==typeof o){var c=u[i];r=o.call(t,c),u.splice(i,1),i--}return r}),e.formatArgs.call(t,u);(r.log||e.log||console.log.bind(console)).apply(t,u)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=n(t),"function"==typeof e.init&&e.init(r),r}function u(t){e.save(t),e.names=[],e.skips=[];for(var r=(t||"").split(/[\s,]+/),n=r.length,o=0;o<n;o++)r[o]&&(t=r[o].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function c(){e.enable("")}function i(t){var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1}function a(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=o.debug=o.default=o,e.coerce=a,e.disable=c,e.enable=u,e.enabled=i,e.humanize=r(562),e.names=[],e.skips=[],e.formatters={};var s},558:function(t,e,r){(function(r){var n,o;/*!
 *  howler.js v2.0.3
 *  howlerjs.com
 *
 *  (c) 2013-2017, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
!function(){"use strict";var u=function(){this.init()};u.prototype={init:function(){var t=this||c;return t._counter=0,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.mobileAutoEnable=!0,t._setup(),t},volume:function(t){var e=this||c;if(t=parseFloat(t),e.ctx||p(),void 0!==t&&t>=0&&t<=1){if(e._volume=t,e._muted)return e;e.usingWebAudio&&(e.masterGain.gain.value=t);for(var r=0;r<e._howls.length;r++)if(!e._howls[r]._webAudio)for(var n=e._howls[r]._getSoundIds(),o=0;o<n.length;o++){var u=e._howls[r]._soundById(n[o]);u&&u._node&&(u._node.volume=u._volume*t)}return e}return e._volume},mute:function(t){var e=this||c;e.ctx||p(),e._muted=t,e.usingWebAudio&&(e.masterGain.gain.value=t?0:e._volume);for(var r=0;r<e._howls.length;r++)if(!e._howls[r]._webAudio)for(var n=e._howls[r]._getSoundIds(),o=0;o<n.length;o++){var u=e._howls[r]._soundById(n[o]);u&&u._node&&(u._node.muted=!!t||u._muted)}return e},unload:function(){for(var t=this||c,e=t._howls.length-1;e>=0;e--)t._howls[e].unload();return t.usingWebAudio&&t.ctx&&void 0!==t.ctx.close&&(t.ctx.close(),t.ctx=null,p()),t},codecs:function(t){return(this||c)._codecs[t.replace(/^x-/,"")]},_setup:function(){var t=this||c;if(t.state=t.ctx?t.ctx.state||"running":"running",t._autoSuspend(),!t.usingWebAudio)if("undefined"!=typeof Audio)try{var e=new Audio;void 0===e.oncanplaythrough&&(t._canPlayEvent="canplay")}catch(e){t.noAudio=!0}else t.noAudio=!0;try{var e=new Audio;e.muted&&(t.noAudio=!0)}catch(t){}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||c,e=null;try{e="undefined"!=typeof Audio?new Audio:null}catch(e){return t}if(!e||"function"!=typeof e.canPlayType)return t;var r=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n=t._navigator&&t._navigator.userAgent.match(/OPR\/([0-6].)/g),o=n&&parseInt(n[0].split("/")[1],10)<33;return t._codecs={mp3:!(o||!r&&!e.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!r,opus:!!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!e.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!e.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(e.canPlayType("audio/x-mp4;")||e.canPlayType("audio/mp4;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(e.canPlayType("audio/x-flac;")||e.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_enableMobileAudio:function(){var t=this||c,e=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(t._navigator&&t._navigator.userAgent),r=!!("ontouchend"in window||t._navigator&&t._navigator.maxTouchPoints>0||t._navigator&&t._navigator.msMaxTouchPoints>0);if(!t._mobileEnabled&&t.ctx&&(e||r)){t._mobileEnabled=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var n=function(){var e=t.ctx.createBufferSource();e.buffer=t._scratchBuffer,e.connect(t.ctx.destination),void 0===e.start?e.noteOn(0):e.start(0),e.onended=function(){e.disconnect(0),t._mobileEnabled=!0,t.mobileAutoEnable=!1,document.removeEventListener("touchend",n,!0)}};return document.addEventListener("touchend",n,!0),t}},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&void 0!==t.ctx.suspend&&c.usingWebAudio){for(var e=0;e<t._howls.length;e++)if(t._howls[e]._webAudio)for(var r=0;r<t._howls[e]._sounds.length;r++)if(!t._howls[e]._sounds[r]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout(function(){t.autoSuspend&&(t._suspendTimer=null,t.state="suspending",t.ctx.suspend().then(function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())}))},3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&void 0!==t.ctx.resume&&c.usingWebAudio)return"running"===t.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state?(t.state="resuming",t.ctx.resume().then(function(){t.state="running";for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("resume")}),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var c=new u,i=function(t){var e=this;if(!t.src||0===t.src.length)return void console.error("An array of source files must be passed with any new Howl.");e.init(t)};i.prototype={init:function(t){var e=this;return c.ctx||p(),e._autoplay=t.autoplay||!1,e._format="string"!=typeof t.format?t.format:[t.format],e._html5=t.html5||!1,e._muted=t.mute||!1,e._loop=t.loop||!1,e._pool=t.pool||5,e._preload="boolean"!=typeof t.preload||t.preload,e._rate=t.rate||1,e._sprite=t.sprite||{},e._src="string"!=typeof t.src?t.src:[t.src],e._volume=void 0!==t.volume?t.volume:1,e._duration=0,e._state="unloaded",e._sounds=[],e._endTimers={},e._queue=[],e._onend=t.onend?[{fn:t.onend}]:[],e._onfade=t.onfade?[{fn:t.onfade}]:[],e._onload=t.onload?[{fn:t.onload}]:[],e._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],e._onpause=t.onpause?[{fn:t.onpause}]:[],e._onplay=t.onplay?[{fn:t.onplay}]:[],e._onstop=t.onstop?[{fn:t.onstop}]:[],e._onmute=t.onmute?[{fn:t.onmute}]:[],e._onvolume=t.onvolume?[{fn:t.onvolume}]:[],e._onrate=t.onrate?[{fn:t.onrate}]:[],e._onseek=t.onseek?[{fn:t.onseek}]:[],e._onresume=[],e._webAudio=c.usingWebAudio&&!e._html5,void 0!==c.ctx&&c.ctx&&c.mobileAutoEnable&&c._enableMobileAudio(),c._howls.push(e),e._autoplay&&e._queue.push({event:"play",action:function(){e.play()}}),e._preload&&e.load(),e},load:function(){var t=this,e=null;if(c.noAudio)return void t._emit("loaderror",null,"No audio support.");"string"==typeof t._src&&(t._src=[t._src]);for(var r=0;r<t._src.length;r++){var n,o;if(t._format&&t._format[r])n=t._format[r];else{if("string"!=typeof(o=t._src[r])){t._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}n=/^data:audio\/([^;,]+);/i.exec(o),n||(n=/\.([^.]+)$/.exec(o.split("?",1)[0])),n&&(n=n[1].toLowerCase())}if(n||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),n&&c.codecs(n)){e=t._src[r];break}}return e?(t._src=e,t._state="loading","https:"===window.location.protocol&&"http:"===e.slice(0,5)&&(t._html5=!0,t._webAudio=!1),new a(t),t._webAudio&&f(t),t):void t._emit("loaderror",null,"No codec support for selected audio sources.")},play:function(t,e){var r=this,n=null;if("number"==typeof t)n=t,t=null;else{if("string"==typeof t&&"loaded"===r._state&&!r._sprite[t])return null;if(void 0===t){t="__default";for(var o=0,u=0;u<r._sounds.length;u++)r._sounds[u]._paused&&!r._sounds[u]._ended&&(o++,n=r._sounds[u]._id);1===o?t=null:n=null}}var i=n?r._soundById(n):r._inactiveSound();if(!i)return null;if(n&&!t&&(t=i._sprite||"__default"),"loaded"!==r._state&&!r._sprite[t])return r._queue.push({event:"play",action:function(){r.play(r._soundById(i._id)?i._id:void 0)}}),i._id;if(n&&!i._paused)return e||setTimeout(function(){r._emit("play",i._id)},0),i._id;r._webAudio&&c._autoResume();var a=Math.max(0,i._seek>0?i._seek:r._sprite[t][0]/1e3),s=Math.max(0,(r._sprite[t][0]+r._sprite[t][1])/1e3-a),f=1e3*s/Math.abs(i._rate);i._paused=!1,i._ended=!1,i._sprite=t,i._seek=a,i._start=r._sprite[t][0]/1e3,i._stop=(r._sprite[t][0]+r._sprite[t][1])/1e3,i._loop=!(!i._loop&&!r._sprite[t][2]);var l=i._node;if(r._webAudio){var _=function(){r._refreshBuffer(i);var t=i._muted||r._muted?0:i._volume;l.gain.setValueAtTime(t,c.ctx.currentTime),i._playStart=c.ctx.currentTime,void 0===l.bufferSource.start?i._loop?l.bufferSource.noteGrainOn(0,a,86400):l.bufferSource.noteGrainOn(0,a,s):i._loop?l.bufferSource.start(0,a,86400):l.bufferSource.start(0,a,s),f!==1/0&&(r._endTimers[i._id]=setTimeout(r._ended.bind(r,i),f)),e||setTimeout(function(){r._emit("play",i._id)},0)},d="running"===c.state;if("loaded"===r._state&&d)_();else{var p=d||"loaded"!==r._state?"load":"resume";r.once(p,_,d?i._id:null),r._clearTimer(i._id)}}else{var h=function(){l.currentTime=a,l.muted=i._muted||r._muted||c._muted||l.muted,l.volume=i._volume*c.volume(),l.playbackRate=i._rate,l.play(),f!==1/0&&(r._endTimers[i._id]=setTimeout(r._ended.bind(r,i),f)),e||r._emit("play",i._id)},v="loaded"===r._state&&(window&&window.ejecta||!l.readyState&&c._navigator.isCocoonJS);if(4===l.readyState||v)h();else{var g=function(){h(),l.removeEventListener(c._canPlayEvent,g,!1)};l.addEventListener(c._canPlayEvent,g,!1),r._clearTimer(i._id)}}return i._id},pause:function(t){var e=this;if("loaded"!==e._state)return e._queue.push({event:"pause",action:function(){e.pause(t)}}),e;for(var r=e._getSoundIds(t),n=0;n<r.length;n++){e._clearTimer(r[n]);var o=e._soundById(r[n]);if(o&&!o._paused&&(o._seek=e.seek(r[n]),o._rateSeek=0,o._paused=!0,e._stopFade(r[n]),o._node))if(e._webAudio){if(!o._node.bufferSource)return e;void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),e._cleanBuffer(o._node)}else isNaN(o._node.duration)&&o._node.duration!==1/0||o._node.pause();arguments[1]||e._emit("pause",o?o._id:null)}return e},stop:function(t,e){var r=this;if("loaded"!==r._state)return r._queue.push({event:"stop",action:function(){r.stop(t)}}),r;for(var n=r._getSoundIds(t),o=0;o<n.length;o++){r._clearTimer(n[o]);var u=r._soundById(n[o]);if(u&&(u._seek=u._start||0,u._rateSeek=0,u._paused=!0,u._ended=!0,r._stopFade(n[o]),u._node))if(r._webAudio){if(!u._node.bufferSource)return e||r._emit("stop",u._id),r;void 0===u._node.bufferSource.stop?u._node.bufferSource.noteOff(0):u._node.bufferSource.stop(0),r._cleanBuffer(u._node)}else isNaN(u._node.duration)&&u._node.duration!==1/0||(u._node.currentTime=u._start||0,u._node.pause());u&&!e&&r._emit("stop",u._id)}return r},mute:function(t,e){var r=this;if("loaded"!==r._state)return r._queue.push({event:"mute",action:function(){r.mute(t,e)}}),r;if(void 0===e){if("boolean"!=typeof t)return r._muted;r._muted=t}for(var n=r._getSoundIds(e),o=0;o<n.length;o++){var u=r._soundById(n[o]);u&&(u._muted=t,r._webAudio&&u._node?u._node.gain.setValueAtTime(t?0:u._volume,c.ctx.currentTime):u._node&&(u._node.muted=!!c._muted||t),r._emit("mute",u._id))}return r},volume:function(){var t,e,r=this,n=arguments;if(0===n.length)return r._volume;if(1===n.length||2===n.length&&void 0===n[1]){r._getSoundIds().indexOf(n[0])>=0?e=parseInt(n[0],10):t=parseFloat(n[0])}else n.length>=2&&(t=parseFloat(n[0]),e=parseInt(n[1],10));var o;if(!(void 0!==t&&t>=0&&t<=1))return o=e?r._soundById(e):r._sounds[0],o?o._volume:0;if("loaded"!==r._state)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,n)}}),r;void 0===e&&(r._volume=t),e=r._getSoundIds(e);for(var u=0;u<e.length;u++)(o=r._soundById(e[u]))&&(o._volume=t,n[2]||r._stopFade(e[u]),r._webAudio&&o._node&&!o._muted?o._node.gain.setValueAtTime(t,c.ctx.currentTime):o._node&&!o._muted&&(o._node.volume=t*c.volume()),r._emit("volume",o._id));return r},fade:function(t,e,r,n){var o=this,u=Math.abs(t-e),i=t>e?"out":"in",a=u/.01,s=a>0?r/a:r;if(s<4&&(a=Math.ceil(a/(4/s)),s=4),"loaded"!==o._state)return o._queue.push({event:"fade",action:function(){o.fade(t,e,r,n)}}),o;o.volume(t,n);for(var f=o._getSoundIds(n),l=0;l<f.length;l++){var _=o._soundById(f[l]);if(_){if(n||o._stopFade(f[l]),o._webAudio&&!_._muted){var d=c.ctx.currentTime,p=d+r/1e3;_._volume=t,_._node.gain.setValueAtTime(t,d),_._node.gain.linearRampToValueAtTime(e,p)}var h=t;_._interval=setInterval(function(r,u){a>0&&(h+="in"===i?.01:-.01),h=Math.max(0,h),h=Math.min(1,h),h=Math.round(100*h)/100,o._webAudio?(void 0===n&&(o._volume=h),u._volume=h):o.volume(h,r,!0),(e<t&&h<=e||e>t&&h>=e)&&(clearInterval(u._interval),u._interval=null,o.volume(e,r),o._emit("fade",r))}.bind(o,f[l],_),s)}}return o},_stopFade:function(t){var e=this,r=e._soundById(t);return r&&r._interval&&(e._webAudio&&r._node.gain.cancelScheduledValues(c.ctx.currentTime),clearInterval(r._interval),r._interval=null,e._emit("fade",t)),e},loop:function(){var t,e,r,n=this,o=arguments;if(0===o.length)return n._loop;if(1===o.length){if("boolean"!=typeof o[0])return!!(r=n._soundById(parseInt(o[0],10)))&&r._loop;t=o[0],n._loop=t}else 2===o.length&&(t=o[0],e=parseInt(o[1],10));for(var u=n._getSoundIds(e),c=0;c<u.length;c++)(r=n._soundById(u[c]))&&(r._loop=t,n._webAudio&&r._node&&r._node.bufferSource&&(r._node.bufferSource.loop=t,t&&(r._node.bufferSource.loopStart=r._start||0,r._node.bufferSource.loopEnd=r._stop)));return n},rate:function(){var t,e,r=this,n=arguments;if(0===n.length)e=r._sounds[0]._id;else if(1===n.length){var o=r._getSoundIds(),u=o.indexOf(n[0]);u>=0?e=parseInt(n[0],10):t=parseFloat(n[0])}else 2===n.length&&(t=parseFloat(n[0]),e=parseInt(n[1],10));var i;if("number"!=typeof t)return i=r._soundById(e),i?i._rate:r._rate;if("loaded"!==r._state)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,n)}}),r;void 0===e&&(r._rate=t),e=r._getSoundIds(e);for(var a=0;a<e.length;a++)if(i=r._soundById(e[a])){i._rateSeek=r.seek(e[a]),i._playStart=r._webAudio?c.ctx.currentTime:i._playStart,i._rate=t,r._webAudio&&i._node&&i._node.bufferSource?i._node.bufferSource.playbackRate.value=t:i._node&&(i._node.playbackRate=t);var s=r.seek(e[a]),f=(r._sprite[i._sprite][0]+r._sprite[i._sprite][1])/1e3-s,l=1e3*f/Math.abs(i._rate);!r._endTimers[e[a]]&&i._paused||(r._clearTimer(e[a]),r._endTimers[e[a]]=setTimeout(r._ended.bind(r,i),l)),r._emit("rate",i._id)}return r},seek:function(){var t,e,r=this,n=arguments;if(0===n.length)e=r._sounds[0]._id;else if(1===n.length){var o=r._getSoundIds(),u=o.indexOf(n[0]);u>=0?e=parseInt(n[0],10):(e=r._sounds[0]._id,t=parseFloat(n[0]))}else 2===n.length&&(t=parseFloat(n[0]),e=parseInt(n[1],10));if(void 0===e)return r;if("loaded"!==r._state)return r._queue.push({event:"seek",action:function(){r.seek.apply(r,n)}}),r;var i=r._soundById(e);if(i){if(!("number"==typeof t&&t>=0)){if(r._webAudio){var a=r.playing(e)?c.ctx.currentTime-i._playStart:0,s=i._rateSeek?i._rateSeek-i._seek:0;return i._seek+(s+a*Math.abs(i._rate))}return i._node.currentTime}var f=r.playing(e);f&&r.pause(e,!0),i._seek=t,i._ended=!1,r._clearTimer(e),f&&r.play(e,!0),!r._webAudio&&i._node&&(i._node.currentTime=t),r._emit("seek",e)}return r},playing:function(t){var e=this;if("number"==typeof t){var r=e._soundById(t);return!!r&&!r._paused}for(var n=0;n<e._sounds.length;n++)if(!e._sounds[n]._paused)return!0;return!1},duration:function(t){var e=this,r=e._duration,n=e._soundById(t);return n&&(r=e._sprite[n._sprite][1]/1e3),r},state:function(){return this._state},unload:function(){for(var t=this,e=t._sounds,r=0;r<e.length;r++){e[r]._paused||t.stop(e[r]._id),t._webAudio||(e[r]._node.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA",e[r]._node.removeEventListener("error",e[r]._errorFn,!1),e[r]._node.removeEventListener(c._canPlayEvent,e[r]._loadFn,!1)),delete e[r]._node,t._clearTimer(e[r]._id);var n=c._howls.indexOf(t);n>=0&&c._howls.splice(n,1)}var o=!0;for(r=0;r<c._howls.length;r++)if(c._howls[r]._src===t._src){o=!1;break}return s&&o&&delete s[t._src],c.noAudio=!1,t._state="unloaded",t._sounds=[],t=null,null},on:function(t,e,r,n){var o=this,u=o["_on"+t];return"function"==typeof e&&u.push(n?{id:r,fn:e,once:n}:{id:r,fn:e}),o},off:function(t,e,r){var n=this,o=n["_on"+t],u=0;if(e){for(u=0;u<o.length;u++)if(e===o[u].fn&&r===o[u].id){o.splice(u,1);break}}else if(t)n["_on"+t]=[];else{var c=Object.keys(n);for(u=0;u<c.length;u++)0===c[u].indexOf("_on")&&Array.isArray(n[c[u]])&&(n[c[u]]=[])}return n},once:function(t,e,r){var n=this;return n.on(t,e,r,1),n},_emit:function(t,e,r){for(var n=this,o=n["_on"+t],u=o.length-1;u>=0;u--)o[u].id&&o[u].id!==e&&"load"!==t||(setTimeout(function(t){t.call(this,e,r)}.bind(n,o[u].fn),0),o[u].once&&n.off(t,o[u].fn,o[u].id));return n},_loadQueue:function(){var t=this;if(t._queue.length>0){var e=t._queue[0];t.once(e.event,function(){t._queue.shift(),t._loadQueue()}),e.action()}return t},_ended:function(t){var e=this,r=t._sprite,n=!(!t._loop&&!e._sprite[r][2]);if(e._emit("end",t._id),!e._webAudio&&n&&e.stop(t._id,!0).play(t._id),e._webAudio&&n){e._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=c.ctx.currentTime;var o=1e3*(t._stop-t._start)/Math.abs(t._rate);e._endTimers[t._id]=setTimeout(e._ended.bind(e,t),o)}return e._webAudio&&!n&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,e._clearTimer(t._id),e._cleanBuffer(t._node),c._autoSuspend()),e._webAudio||n||e.stop(t._id),e},_clearTimer:function(t){var e=this;return e._endTimers[t]&&(clearTimeout(e._endTimers[t]),delete e._endTimers[t]),e},_soundById:function(t){for(var e=this,r=0;r<e._sounds.length;r++)if(t===e._sounds[r]._id)return e._sounds[r];return null},_inactiveSound:function(){var t=this;t._drain();for(var e=0;e<t._sounds.length;e++)if(t._sounds[e]._ended)return t._sounds[e].reset();return new a(t)},_drain:function(){var t=this,e=t._pool,r=0,n=0;if(!(t._sounds.length<e)){for(n=0;n<t._sounds.length;n++)t._sounds[n]._ended&&r++;for(n=t._sounds.length-1;n>=0;n--){if(r<=e)return;t._sounds[n]._ended&&(t._webAudio&&t._sounds[n]._node&&t._sounds[n]._node.disconnect(0),t._sounds.splice(n,1),r--)}}},_getSoundIds:function(t){var e=this;if(void 0===t){for(var r=[],n=0;n<e._sounds.length;n++)r.push(e._sounds[n]._id);return r}return[t]},_refreshBuffer:function(t){var e=this;return t._node.bufferSource=c.ctx.createBufferSource(),t._node.bufferSource.buffer=s[e._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop),t._node.bufferSource.playbackRate.value=t._rate,e},_cleanBuffer:function(t){var e=this;if(e._scratchBuffer){t.bufferSource.onended=null,t.bufferSource.disconnect(0);try{t.bufferSource.buffer=e._scratchBuffer}catch(t){}}return t.bufferSource=null,e}};var a=function(t){this._parent=t,this.init()};a.prototype={init:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._muted=e._muted,t._rate=e._rate,t._seek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++c._counter,e._sounds.push(t),t.create(),t},create:function(){var t=this,e=t._parent,r=c._muted||t._muted||t._parent._muted?0:t._volume;return e._webAudio?(t._node=void 0===c.ctx.createGain?c.ctx.createGainNode():c.ctx.createGain(),t._node.gain.setValueAtTime(r,c.ctx.currentTime),t._node.paused=!0,t._node.connect(c.masterGain)):(t._node=new Audio,t._errorFn=t._errorListener.bind(t),t._node.addEventListener("error",t._errorFn,!1),t._loadFn=t._loadListener.bind(t),t._node.addEventListener(c._canPlayEvent,t._loadFn,!1),t._node.src=e._src,t._node.preload="auto",t._node.volume=r*c.volume(),t._node.load()),t},reset:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._muted=e._muted,t._rate=e._rate,t._seek=0,t._rateSeek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++c._counter,t},_errorListener:function(){var t=this;t._parent._emit("loaderror",t._id,t._node.error?t._node.error.code:0),t._node.removeEventListener("error",t._errorListener,!1)},_loadListener:function(){var t=this,e=t._parent;e._duration=Math.ceil(10*t._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),t._node.removeEventListener(c._canPlayEvent,t._loadFn,!1)}};var s={},f=function(t){var e=t._src;if(s[e])return t._duration=s[e].duration,void d(t);if(/^data:[^;]+;base64,/.test(e)){for(var r=atob(e.split(",")[1]),n=new Uint8Array(r.length),o=0;o<r.length;++o)n[o]=r.charCodeAt(o);_(n.buffer,t)}else{var u=new XMLHttpRequest;u.open("GET",e,!0),u.responseType="arraybuffer",u.onload=function(){var e=(u.status+"")[0];if("0"!==e&&"2"!==e&&"3"!==e)return void t._emit("loaderror",null,"Failed loading audio file with status: "+u.status+".");_(u.response,t)},u.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete s[e],t.load())},l(u)}},l=function(t){try{t.send()}catch(e){t.onerror()}},_=function(t,e){c.ctx.decodeAudioData(t,function(t){t&&e._sounds.length>0&&(s[e._src]=t,d(e,t))},function(){e._emit("loaderror",null,"Decoding audio data failed.")})},d=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue())},p=function(){try{"undefined"!=typeof AudioContext?c.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?c.ctx=new webkitAudioContext:c.usingWebAudio=!1}catch(t){c.usingWebAudio=!1}var t=/iP(hone|od|ad)/.test(c._navigator&&c._navigator.platform),e=c._navigator&&c._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),r=e?parseInt(e[1],10):null;if(t&&r&&r<9){var n=/safari/.test(c._navigator&&c._navigator.userAgent.toLowerCase());(c._navigator&&c._navigator.standalone&&!n||c._navigator&&!c._navigator.standalone&&!n)&&(c.usingWebAudio=!1)}c.usingWebAudio&&(c.masterGain=void 0===c.ctx.createGain?c.ctx.createGainNode():c.ctx.createGain(),c.masterGain.gain.value=1,c.masterGain.connect(c.ctx.destination)),c._setup()};n=[],void 0!==(o=function(){return{Howler:c,Howl:i}}.apply(e,n))&&(t.exports=o),e.Howler=c,e.Howl=i,"undefined"!=typeof window?(window.HowlerGlobal=u,window.Howler=c,window.Howl=i,window.Sound=a):void 0!==r&&(r.HowlerGlobal=u,r.Howler=c,r.Howl=i,r.Sound=a)}(),/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.0.3
 *  howlerjs.com
 *
 *  (c) 2013-2017, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var e=this;if(!e.ctx||!e.ctx.listener)return e;for(var r=e._howls.length-1;r>=0;r--)e._howls[r].stereo(t);return e},HowlerGlobal.prototype.pos=function(t,e,r){var n=this;return n.ctx&&n.ctx.listener?(e="number"!=typeof e?n._pos[1]:e,r="number"!=typeof r?n._pos[2]:r,"number"!=typeof t?n._pos:(n._pos=[t,e,r],n.ctx.listener.setPosition(n._pos[0],n._pos[1],n._pos[2]),n)):n},HowlerGlobal.prototype.orientation=function(t,e,r,n,o,u){var c=this;if(!c.ctx||!c.ctx.listener)return c;var i=c._orientation;return e="number"!=typeof e?i[1]:e,r="number"!=typeof r?i[2]:r,n="number"!=typeof n?i[3]:n,o="number"!=typeof o?i[4]:o,u="number"!=typeof u?i[5]:u,"number"!=typeof t?i:(c._orientation=[t,e,r,n,o,u],c.ctx.listener.setOrientation(t,e,r,n,o,u),c)},Howl.prototype.init=function(t){return function(e){var r=this;return r._orientation=e.orientation||[1,0,0],r._stereo=e.stereo||null,r._pos=e.pos||null,r._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:0,distanceModel:void 0!==e.distanceModel?e.distanceModel:"inverse",maxDistance:void 0!==e.maxDistance?e.maxDistance:1e4,panningModel:void 0!==e.panningModel?e.panningModel:"HRTF",refDistance:void 0!==e.refDistance?e.refDistance:1,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:1},r._onstereo=e.onstereo?[{fn:e.onstereo}]:[],r._onpos=e.onpos?[{fn:e.onpos}]:[],r._onorientation=e.onorientation?[{fn:e.onorientation}]:[],t.call(this,e)}}(Howl.prototype.init),Howl.prototype.stereo=function(e,r){var n=this;if(!n._webAudio)return n;if("loaded"!==n._state)return n._queue.push({event:"stereo",action:function(){n.stereo(e,r)}}),n;var o=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===r){if("number"!=typeof e)return n._stereo;n._stereo=e,n._pos=[e,0,0]}for(var u=n._getSoundIds(r),c=0;c<u.length;c++){var i=n._soundById(u[c]);if(i){if("number"!=typeof e)return i._stereo;i._stereo=e,i._pos=[e,0,0],i._node&&(i._pannerAttr.panningModel="equalpower",i._panner&&i._panner.pan||t(i,o),"spatial"===o?i._panner.setPosition(e,0,0):i._panner.pan.value=e),n._emit("stereo",i._id)}}return n},Howl.prototype.pos=function(e,r,n,o){var u=this;if(!u._webAudio)return u;if("loaded"!==u._state)return u._queue.push({event:"pos",action:function(){u.pos(e,r,n,o)}}),u;if(r="number"!=typeof r?0:r,n="number"!=typeof n?-.5:n,void 0===o){if("number"!=typeof e)return u._pos;u._pos=[e,r,n]}for(var c=u._getSoundIds(o),i=0;i<c.length;i++){var a=u._soundById(c[i]);if(a){if("number"!=typeof e)return a._pos;a._pos=[e,r,n],a._node&&(a._panner&&!a._panner.pan||t(a,"spatial"),a._panner.setPosition(e,r,n)),u._emit("pos",a._id)}}return u},Howl.prototype.orientation=function(e,r,n,o){var u=this;if(!u._webAudio)return u;if("loaded"!==u._state)return u._queue.push({event:"orientation",action:function(){u.orientation(e,r,n,o)}}),u;if(r="number"!=typeof r?u._orientation[1]:r,n="number"!=typeof n?u._orientation[2]:n,void 0===o){if("number"!=typeof e)return u._orientation;u._orientation=[e,r,n]}for(var c=u._getSoundIds(o),i=0;i<c.length;i++){var a=u._soundById(c[i]);if(a){if("number"!=typeof e)return a._orientation;a._orientation=[e,r,n],a._node&&(a._panner||(a._pos||(a._pos=u._pos||[0,0,-.5]),t(a,"spatial")),a._panner.setOrientation(e,r,n)),u._emit("orientation",a._id)}}return u},Howl.prototype.pannerAttr=function(){var e,r,n,o=this,u=arguments;if(!o._webAudio)return o;if(0===u.length)return o._pannerAttr;if(1===u.length){if("object"!=typeof u[0])return n=o._soundById(parseInt(u[0],10)),n?n._pannerAttr:o._pannerAttr;e=u[0],void 0===r&&(o._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:o._coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:o._coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:o._coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:o._distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:o._maxDistance,panningModel:void 0!==e.panningModel?e.panningModel:o._panningModel,refDistance:void 0!==e.refDistance?e.refDistance:o._refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:o._rolloffFactor})}else 2===u.length&&(e=u[0],r=parseInt(u[1],10));for(var c=o._getSoundIds(r),i=0;i<c.length;i++)if(n=o._soundById(c[i])){var a=n._pannerAttr;a={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:a.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:a.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:a.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:a.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:a.maxDistance,panningModel:void 0!==e.panningModel?e.panningModel:a.panningModel,refDistance:void 0!==e.refDistance?e.refDistance:a.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:a.rolloffFactor};var s=n._panner;s?(s.coneInnerAngle=a.coneInnerAngle,s.coneOuterAngle=a.coneOuterAngle,s.coneOuterGain=a.coneOuterGain,s.distanceModel=a.distanceModel,s.maxDistance=a.maxDistance,s.panningModel=a.panningModel,s.refDistance=a.refDistance,s.rolloffFactor=a.rolloffFactor):(n._pos||(n._pos=o._pos||[0,0,-.5]),t(n,"spatial"))}return o},Sound.prototype.init=function(t){return function(){var e=this,r=e._parent;e._orientation=r._orientation,e._stereo=r._stereo,e._pos=r._pos,e._pannerAttr=r._pannerAttr,t.call(this),e._stereo?r.stereo(e._stereo):e._pos&&r.pos(e._pos[0],e._pos[1],e._pos[2],e._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var e=this,r=e._parent;return e._orientation=r._orientation,e._pos=r._pos,e._pannerAttr=r._pannerAttr,t.call(this)}}(Sound.prototype.reset);var t=function(t,e){e=e||"spatial","spatial"===e?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.panningModel=t._pannerAttr.panningModel,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.value=t._stereo),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id)}}()}).call(e,r(31))},562:function(t,e){function r(t){if(t=String(t),!(t.length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return r*f;case"days":case"day":case"d":return r*s;case"hours":case"hour":case"hrs":case"hr":case"h":return r*a;case"minutes":case"minute":case"mins":case"min":case"m":return r*i;case"seconds":case"second":case"secs":case"sec":case"s":return r*c;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function n(t){return t>=s?Math.round(t/s)+"d":t>=a?Math.round(t/a)+"h":t>=i?Math.round(t/i)+"m":t>=c?Math.round(t/c)+"s":t+"ms"}function o(t){return u(t,s,"day")||u(t,a,"hour")||u(t,i,"minute")||u(t,c,"second")||t+" ms"}function u(t,e,r){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+r:Math.ceil(t/e)+" "+r+"s"}var c=1e3,i=60*c,a=60*i,s=24*a,f=365.25*s;t.exports=function(t,e){e=e||{};var u=typeof t;if("string"===u&&t.length>0)return r(t);if("number"===u&&!1===isNaN(t))return e.long?o(t):n(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},568:function(t,e,r){"use strict";function n(){this.promise=new l(function(t){t()})}function o(t){if(!t)return"undefined";switch(typeof t){case"function":case"string":return t.toString();default:return JSON.stringify(t)}}function u(t,e){return o(t)+o(e)+"undefined"}function c(t,e,r,n,o,c){var i,a=u(r,n);if(!o&&(i=t._cachedViews=t._cachedViews||{},i[a]))return i[a];var s=t.info().then(function(u){function s(t){t.views=t.views||{};var r=e;-1===r.indexOf("/")&&(r=e+"/"+e);var n=t.views[r]=t.views[r]||{};if(!n[f])return n[f]=!0,t}var f=u.db_name+"-mrview-"+(o?"temp":v.stringMd5(a));return d.upsert(t,"_local/"+c,s).then(function(){return t.registerDependentDatabase(f).then(function(e){var o=e.db;o.auto_compaction=!0;var u={name:f,db:o,sourceDB:t,adapter:t.adapter,mapFun:r,reduceFun:n};return u.db.get("_local/lastSeq").catch(function(t){if(404!==t.status)throw t}).then(function(t){return u.seq=t?t.seq:0,i&&u.db.once("destroyed",function(){delete i[a]}),u})})})});return i&&(i[a]=s),s}function i(t){return-1===t.indexOf("/")?[t,t]:t.split("/")}function a(t){return 1===t.length&&/^1-/.test(t[0].rev)}function s(t,e){try{t.emit("error",e)}catch(t){d.guardedConsole("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),d.guardedConsole("error",e)}}function f(t,e,r,o){function u(t,e,r){try{e(r)}catch(e){s(t,e)}}function f(t,e,r,n,o){try{return{output:e(r,n,o)}}catch(e){return s(t,e),{error:e}}}function v(t,e){var r=h.collate(t.key,e.key);return 0!==r?r:h.collate(t.value,e.value)}function w(t,e,r){return r=r||0,"number"==typeof e?t.slice(r,e+r):r>0?t.slice(r):t}function T(t){var e=t.value;return e&&"object"==typeof e&&e._id||t.id}function k(t){t.rows.forEach(function(t){var e=t.doc&&t.doc._attachments;e&&Object.keys(e).forEach(function(t){var r=e[t];e[t].data=p.base64StringToBlobOrBuffer(r.data,r.content_type)})})}function S(t){return function(e){return t.include_docs&&t.attachments&&t.binary&&k(e),e}}function E(t,e,r,n){var o=e[t];void 0!==o&&(n&&(o=encodeURIComponent(JSON.stringify(o))),r.push(t+"="+o))}function x(t){if(void 0!==t){var e=Number(t);return isNaN(e)||e!==parseInt(t,10)?t:e}}function A(t){return t.group_level=x(t.group_level),t.limit=x(t.limit),t.skip=x(t.skip),t}function O(t){if(t){if("number"!=typeof t)return new g.QueryParseError('Invalid value for integer: "'+t+'"');if(t<0)return new g.QueryParseError('Invalid value for positive integer: "'+t+'"')}}function q(t,e){var r=t.descending?"endkey":"startkey",n=t.descending?"startkey":"endkey";if(void 0!==t[r]&&void 0!==t[n]&&h.collate(t[r],t[n])>0)throw new g.QueryParseError("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(e.reduce&&!1!==t.reduce){if(t.include_docs)throw new g.QueryParseError("{include_docs:true} is invalid for reduce");if(t.keys&&t.keys.length>1&&!t.group&&!t.group_level)throw new g.QueryParseError("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(e){var r=O(t[e]);if(r)throw r})}function I(t,e,r){var n,o=[],u="GET";if(E("reduce",r,o),E("include_docs",r,o),E("attachments",r,o),E("limit",r,o),E("descending",r,o),E("group",r,o),E("group_level",r,o),E("skip",r,o),E("stale",r,o),E("conflicts",r,o),E("startkey",r,o,!0),E("start_key",r,o,!0),E("endkey",r,o,!0),E("end_key",r,o,!0),E("inclusive_end",r,o),E("key",r,o,!0),o=o.join("&"),o=""===o?"":"?"+o,void 0!==r.keys){var c="keys="+encodeURIComponent(JSON.stringify(r.keys));c.length+o.length+1<=2e3?o+=("?"===o[0]?"&":"?")+c:(u="POST","string"==typeof e?n={keys:r.keys}:e.keys=r.keys)}if("string"==typeof e){var a=i(e);return t.request({method:u,url:"_design/"+a[0]+"/_view/"+a[1]+o,body:n}).then(S(r))}return n=n||{},Object.keys(e).forEach(function(t){Array.isArray(e[t])?n[t]=e[t]:n[t]=e[t].toString()}),t.request({method:"POST",url:"_temp_view"+o,body:n}).then(S(r))}function N(t,e,r){return new l(function(n,o){t._query(e,r,function(t,e){if(t)return o(t);n(e)})})}function C(t){return new l(function(e,r){t._viewCleanup(function(t,n){if(t)return r(t);e(n)})})}function j(t){return function(e){if(404===e.status)return t;throw e}}function M(t,e,r){function n(t){return t.keys.length?e.db.allDocs({keys:t.keys,include_docs:!0}):l.resolve({rows:[]})}function o(t,e){for(var r=[],n=new _.Set,o=0,u=e.rows.length;o<u;o++){var c=e.rows[o],i=c.doc;if(i&&(r.push(i),n.add(i._id),i._deleted=!s.has(i._id),!i._deleted)){var a=s.get(i._id);"value"in a&&(i.value=a.value)}}var f=g.mapToKeysArray(s);return f.forEach(function(t){if(!n.has(t)){var e={_id:t},o=s.get(t);"value"in o&&(e.value=o.value),r.push(e)}}),t.keys=g.uniq(f.concat(t.keys)),r.push(t),r}var u="_local/doc_"+t,c={_id:u,keys:[]},i=r.get(t),s=i[0],f=i[1];return function(){return a(f)?l.resolve(c):e.db.get(u).catch(j(c))}().then(function(t){return n(t).then(function(e){return o(t,e)})})}function D(t,e,r){return t.db.get("_local/lastSeq").catch(j({_id:"_local/lastSeq",seq:0})).then(function(n){var o=g.mapToKeysArray(e);return l.all(o.map(function(r){return M(r,t,e)})).then(function(e){var o=d.flatten(e);return n.seq=r,o.push(n),t.db.bulkDocs({docs:o})})})}function B(t){var e="string"==typeof t?t:t.name,r=m[e];return r||(r=m[e]=new n),r}function R(t){return g.sequentialize(B(t),function(){return P(t)})()}function P(t){function r(t,e){var r={id:l._id,key:h.normalizeKey(t)};void 0!==e&&null!==e&&(r.value=h.normalizeKey(e)),f.push(r)}function o(e,r){return function(){return D(t,e,r)}}function c(){return t.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:p,limit:b}).then(i)}function i(t){var e=t.results;if(e.length){var r=a(e);if(g.add(o(r,p)),!(e.length<b))return c()}}function a(e){for(var r=new _.Map,n=0,o=e.length;n<o;n++){var c=e[n];if("_"!==c.doc._id[0]){f=[],l=c.doc,l._deleted||u(t.sourceDB,d,l),f.sort(v);var i=s(f);r.set(c.doc._id,[i,c.changes])}p=c.seq}return r}function s(t){for(var e,r=new _.Map,n=0,o=t.length;n<o;n++){var u=t[n],c=[u.key,u.id];n>0&&0===h.collate(u.key,e)&&c.push(n),r.set(h.toIndexableString(c),u),e=u.key}return r}var f,l,d=e(t.mapFun,r),p=t.seq||0,g=new n;return c().then(function(){return g.finish()}).then(function(){t.seq=p})}function L(t,e,n){0===n.group_level&&delete n.group_level;var o=n.group||n.group_level,u=r(t.reduceFun),c=[],i=isNaN(n.group_level)?Number.POSITIVE_INFINITY:n.group_level;e.forEach(function(t){var e=c[c.length-1],r=o?t.key:null;if(o&&Array.isArray(r)&&(r=r.slice(0,i)),e&&0===h.collate(e.groupKey,r))return e.keys.push([t.key,t.id]),void e.values.push(t.value);c.push({keys:[[t.key,t.id]],values:[t.value],groupKey:r})}),e=[];for(var a=0,s=c.length;a<s;a++){var l=c[a],_=f(t.sourceDB,u,l.keys,l.values,!1);if(_.error&&_.error instanceof g.BuiltInError)throw _.error;e.push({value:_.error?null:_.output,key:l.groupKey})}return{rows:w(e,n.limit,n.skip)}}function F(t,e){return g.sequentialize(B(t),function(){return $(t,e)})()}function $(t,e){function r(e){return e.include_docs=!0,t.db.allDocs(e).then(function(t){return o=t.total_rows,t.rows.map(function(t){if("value"in t.doc&&"object"==typeof t.doc.value&&null!==t.doc.value){var e=Object.keys(t.doc.value).sort(),r=["id","key","value"];if(!(e<r||e>r))return t.doc.value}var n=h.parseIndexableString(t.doc._id);return{key:n[0],id:n[1],value:"value"in t.doc?t.doc.value:null}})})}function n(r){var n;if(n=u?L(t,r,e):{total_rows:o,offset:c,rows:r},e.include_docs){var i=g.uniq(r.map(T));return t.sourceDB.allDocs({keys:i,include_docs:!0,conflicts:e.conflicts,attachments:e.attachments,binary:e.binary}).then(function(t){var e=new _.Map;return t.rows.forEach(function(t){e.set(t.id,t.doc)}),r.forEach(function(t){var r=T(t),n=e.get(r);n&&(t.doc=n)}),n})}return n}var o,u=t.reduceFun&&!1!==e.reduce,c=e.skip||0;if(void 0===e.keys||e.keys.length||(e.limit=0,delete e.keys),void 0!==e.keys){var i=e.keys,a=i.map(function(t){return r({startkey:h.toIndexableString([t]),endkey:h.toIndexableString([t,{}])})});return l.all(a).then(d.flatten).then(n)}var s,f,p={descending:e.descending};if("start_key"in e&&(s=e.start_key),"startkey"in e&&(s=e.startkey),"end_key"in e&&(f=e.end_key),"endkey"in e&&(f=e.endkey),void 0!==s&&(p.startkey=e.descending?h.toIndexableString([s,{}]):h.toIndexableString([s])),void 0!==f){var v=!1!==e.inclusive_end;e.descending&&(v=!v),p.endkey=h.toIndexableString(v?[f,{}]:[f])}if(void 0!==e.key){var m=h.toIndexableString([e.key]),y=h.toIndexableString([e.key,{}]);p.descending?(p.endkey=m,p.startkey=y):(p.startkey=m,p.endkey=y)}return u||("number"==typeof e.limit&&(p.limit=e.limit),p.skip=c),r(p).then(n)}function U(t){return t.request({method:"POST",url:"_view_cleanup"})}function V(e){return e.get("_local/"+t).then(function(t){var r=new _.Map;Object.keys(t.views).forEach(function(t){var e=i(t),n="_design/"+e[0],o=e[1],u=r.get(n);u||(u=new _.Set,r.set(n,u)),u.add(o)});var n={keys:g.mapToKeysArray(r),include_docs:!0};return e.allDocs(n).then(function(n){var o={};n.rows.forEach(function(e){var n=e.key.substring(8);r.get(e.key).forEach(function(r){var u=n+"/"+r;t.views[u]||(u=r);var c=Object.keys(t.views[u]),i=e.doc&&e.doc.views&&e.doc.views[r];c.forEach(function(t){o[t]=o[t]||i})})});var u=Object.keys(o).filter(function(t){return!o[t]}),c=u.map(function(t){return g.sequentialize(B(t),function(){return new e.constructor(t,e.__opts).destroy()})()});return l.all(c).then(function(){return{ok:!0}})})},j({ok:!0}))}function J(e,r,n){if("function"==typeof e._query)return N(e,r,n);if(d.isRemote(e))return I(e,r,n);if("string"!=typeof r)return q(n,r),y.add(function(){return c(e,"temp_view/temp_view",r.map,r.reduce,!0,t).then(function(t){return g.fin(R(t).then(function(){return F(t,n)}),function(){return t.db.destroy()})})}),y.finish();var u=r,a=i(u),s=a[0],f=a[1];return e.get("_design/"+s).then(function(r){var i=r.views&&r.views[f];if(!i)throw new g.NotFoundError("ddoc "+r._id+" has no view named "+f);return o(r,f),q(n,i),c(e,u,i.map,i.reduce,!1,t).then(function(t){return"ok"===n.stale||"update_after"===n.stale?("update_after"===n.stale&&d.nextTick(function(){R(t)}),F(t,n)):R(t).then(function(){return F(t,n)})})})}function H(t,e,r){var n=this;"function"==typeof e&&(r=e,e={}),e=e?A(e):{},"function"==typeof t&&(t={map:t});var o=l.resolve().then(function(){return J(n,t,e)});return g.promisedCallback(o,r),o}return{query:H,viewCleanup:g.callbackify(function(){var t=this;return"function"==typeof t._viewCleanup?C(t):d.isRemote(t)?U(t):V(t)})}}var l=function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(r(113)),_=r(165),d=r(114),p=r(238),h=r(164),v=r(239),g=r(572);n.prototype.add=function(t){return this.promise=this.promise.catch(function(){}).then(function(){return t()}),this.promise},n.prototype.finish=function(){return this.promise};var m={},y=new n,b=50;t.exports=f},569:function(t,e,r){"use strict";(function(e){function n(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function o(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer||"undefined"!=typeof Blob&&t instanceof Blob}function u(t){if("function"==typeof t.slice)return t.slice(0);var e=new ArrayBuffer(t.byteLength),r=new Uint8Array(e),n=new Uint8Array(t);return r.set(n),e}function c(t){if(t instanceof ArrayBuffer)return u(t);var e=t.size,r=t.type;return"function"==typeof t.slice?t.slice(0,e,r):t.webkitSlice(0,e,r)}function i(t){var e=Object.getPrototypeOf(t);if(null===e)return!0;var r=e.constructor;return"function"==typeof r&&r instanceof r&&vo.call(r)==go}function a(t){var e,r,n;if(!t||"object"!=typeof t)return t;if(Array.isArray(t)){for(e=[],r=0,n=t.length;r<n;r++)e[r]=a(t[r]);return e}if(t instanceof Date)return t.toISOString();if(o(t))return c(t);if(!i(t))return t;e={};for(r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var u=a(t[r]);void 0!==u&&(e[r]=u)}return e}function s(t){var e=!1;return io(function(r){if(e)throw new Error("once called more than once");e=!0,t.apply(this,r)})}function f(t){return io(function(e){e=a(e);var r=this,n="function"==typeof e[e.length-1]&&e.pop(),o=new ho(function(n,o){var u;try{var c=s(function(t,e){t?o(t):n(e)});e.push(c),u=t.apply(r,e),u&&"function"==typeof u.then&&n(u)}catch(t){o(t)}});return n&&o.then(function(t){n(null,t)},n),o})}function l(t,e,r){if(t.constructor.listeners("debug").length){for(var n=["api",t.name,e],o=0;o<r.length-1;o++)n.push(r[o]);t.constructor.emit("debug",n);var u=r[r.length-1];r[r.length-1]=function(r,n){var o=["api",t.name,e];o=o.concat(r?["error",r]:["success",n]),t.constructor.emit("debug",o),u(r,n)}}}function _(t,e){return f(io(function(r){if(this._closed)return ho.reject(new Error("database is closed"));if(this._destroyed)return ho.reject(new Error("database is destroyed"));var n=this;return l(n,t,r),this.taskqueue.isReady?e.apply(this,r):new ho(function(e,o){n.taskqueue.addTask(function(u){u?o(u):e(n[t].apply(n,r))})})}))}function d(t){return"$"+t}function p(t){return t.substring(1)}function h(){this._store={}}function v(t){if(this._store=new h,t&&Array.isArray(t))for(var e=0,r=t.length;e<r;e++)this.add(t[e])}function g(t,e){for(var r={},n=0,o=e.length;n<o;n++){var u=e[n];u in t&&(r[u]=t[u])}return r}function m(t){return t}function y(t){return[{ok:t}]}function b(t,e,r){function n(){var t=[];_.forEach(function(e){e.docs.forEach(function(r){t.push({id:e.id,docs:[r]})})}),r(null,{results:t})}function o(){++l===f&&n()}function u(t,e,r){_[t]={id:e,docs:r},o()}function c(){if(!(p>=d.length)){var t=Math.min(p+wo,d.length),e=d.slice(p,t);i(e,p),p+=e.length}}function i(r,n){r.forEach(function(r,o){var i=n+o,a=s.get(r),f=g(a[0],["atts_since","attachments"]);f.open_revs=a.map(function(t){return t.rev}),f.open_revs=f.open_revs.filter(m);var l=m;0===f.open_revs.length&&(delete f.open_revs,l=y),["revs","attachments","binary","ajax","latest"].forEach(function(t){t in e&&(f[t]=e[t])}),t.get(r,f,function(t,e){var n;n=t?[{error:t}]:l(e),u(i,r,n),c()})})}var a=e.docs,s=new yo;a.forEach(function(t){s.has(t.id)?s.get(t.id).push(t):s.set(t.id,[t])});var f=s.size,l=0,_=new Array(f),d=[];s.forEach(function(t,e){d.push(e)});var p=0;c()}function w(){return"undefined"!=typeof chrome&&void 0!==chrome.storage&&void 0!==chrome.storage.local}function T(){return bo}function k(t){w()?chrome.storage.onChanged.addListener(function(e){null!=e.db_name&&t.emit(e.dbName.newValue)}):T()&&("undefined"!=typeof addEventListener?addEventListener("storage",function(e){t.emit(e.key)}):window.attachEvent("storage",function(e){t.emit(e.key)}))}function S(){ao.EventEmitter.call(this),this._listeners={},k(this)}function E(t){if("undefined"!==console&&t in console){var e=Array.prototype.slice.call(arguments,1);console[t].apply(console,e)}}function x(t,e){return t=parseInt(t,10)||0,e=parseInt(e,10),e!==e||e<=t?e=(t||1)<<1:e+=1,e>6e5&&(t=3e5,e=6e5),~~((e-t)*Math.random()+t)}function A(t){var e=0;return t||(e=2e3),x(t,e)}function O(t,e){E("info","The above "+t+" is totally normal. "+e)}function q(t,e,r){Error.call(this,r),this.status=t,this.name=e,this.message=r,this.error=!0}function I(t,e){function r(e){for(var r in t)"function"!=typeof t[r]&&(this[r]=t[r]);void 0!==e&&(this.reason=e)}return r.prototype=q.prototype,new r(e)}function N(t){if("object"!=typeof t){var e=t;t=Io,t.data=e}return"error"in t&&"conflict"===t.error&&(t.name="conflict",t.status=409),"name"in t||(t.name=t.error||"unknown"),"status"in t||(t.status=500),"message"in t||(t.message=t.message||t.reason),t}function C(t,e,r){try{return!t(e,r)}catch(t){var n="Filter function threw: "+t.toString();return I(Mo,n)}}function j(t){var e={},r=t.filter&&"function"==typeof t.filter;return e.query=t.query_params,function(n){n.doc||(n.doc={});var o=r&&C(t.filter,n.doc,e);if("object"==typeof o)return o;if(o)return!1;if(t.include_docs){if(!t.attachments)for(var u in n.doc._attachments)n.doc._attachments.hasOwnProperty(u)&&(n.doc._attachments[u].stub=!0)}else delete n.doc;return!0}}function M(t){for(var e=[],r=0,n=t.length;r<n;r++)e=e.concat(t[r]);return e}function D(){}function B(t){var e;if(t?"string"!=typeof t?e=I(Ao):/^_/.test(t)&&!/^_(design|local)/.test(t)&&(e=I(qo)):e=I(Oo),e)throw e}function R(t){return"boolean"==typeof t._remote?t._remote:"function"==typeof t.type&&(E("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===t.type())}function P(t,e){return"listenerCount"in t?t.listenerCount(e):ao.EventEmitter.listenerCount(t,e)}function L(t){if(!t)return null;var e=t.split("/");return 2===e.length?e:1===e.length?[t,t]:null}function F(t){var e=L(t);return e?e.join("/"):null}function $(t){for(var e=Jo.exec(t),r={},n=14;n--;){var o=$o[n],u=e[n]||"",c=-1!==["user","password"].indexOf(o);r[o]=c?decodeURIComponent(u):u}return r[Uo]={},r[$o[12]].replace(Vo,function(t,e,n){e&&(r[Uo][e]=n)}),r}function U(t,e){var r=[],n=[];for(var o in e)e.hasOwnProperty(o)&&(r.push(o),n.push(e[o]));return r.push(t),Function.apply(null,r).apply(null,n)}function V(t,e,r){return new ho(function(n,o){t.get(e,function(u,c){if(u){if(404!==u.status)return o(u);c={}}var i=c._rev,a=r(c);if(!a)return n({updated:!1,rev:i});a._id=e,a._rev=i,n(J(t,a,r))})})}function J(t,e,r){return t.put(e).then(function(t){return{updated:!0,rev:t.rev}},function(n){if(409!==n.status)throw n;return V(t,e._id,r)})}function H(t){return 0|Math.random()*t}function z(t,e){e=e||Ho.length;var r="",n=-1;if(t){for(;++n<t;)r+=Ho[H(e)];return r}for(;++n<36;)switch(n){case 8:case 13:case 18:case 23:r+="-";break;case 19:r+=Ho[3&H(16)|8];break;default:r+=Ho[H(16)]}return r}function W(t){for(var e,r,n,o,u=t.rev_tree.slice();o=u.pop();){var c=o.ids,i=c[2],a=o.pos;if(i.length)for(var s=0,f=i.length;s<f;s++)u.push({pos:a+1,ids:i[s]});else{var l=!!c[1].deleted,_=c[0];e&&!(n!==l?n:r!==a?r<a:e<_)||(e=_,r=a,n=l)}}return r+"-"+e}function G(t,e){for(var r,n=t.slice();r=n.pop();)for(var o=r.pos,u=r.ids,c=u[2],i=e(0===c.length,o,u[0],r.ctx,u[1]),a=0,s=c.length;a<s;a++)n.push({pos:o+1,ids:c[a],ctx:i})}function K(t,e){return t.pos-e.pos}function X(t){var e=[];G(t,function(t,r,n,o,u){t&&e.push({rev:r+"-"+n,pos:r,opts:u})}),e.sort(K).reverse();for(var r=0,n=e.length;r<n;r++)delete e[r].pos;return e}function Q(t){for(var e=W(t),r=X(t.rev_tree),n=[],o=0,u=r.length;o<u;o++){var c=r[o];c.rev===e||c.opts.deleted||n.push(c.rev)}return n}function Y(t){var e=[];return G(t.rev_tree,function(t,r,n,o,u){"available"!==u.status||t||(e.push(r+"-"+n),u.status="missing")}),e}function Z(t){for(var e,r=[],n=t.slice();e=n.pop();){var o=e.pos,u=e.ids,c=u[0],i=u[1],a=u[2],s=0===a.length,f=e.history?e.history.slice():[];f.push({id:c,opts:i}),s&&r.push({pos:o+1-f.length,ids:f});for(var l=0,_=a.length;l<_;l++)n.push({pos:o+1,ids:a[l],history:f})}return r.reverse()}function tt(t,e){return t.pos-e.pos}function et(t,e,r){for(var n,o=0,u=t.length;o<u;)n=o+u>>>1,r(t[n],e)<0?o=n+1:u=n;return o}function rt(t,e,r){var n=et(t,e,r);t.splice(n,0,e)}function nt(t,e){for(var r,n,o=e,u=t.length;o<u;o++){var c=t[o],i=[c.id,c.opts,[]];n?(n[2].push(i),n=i):r=n=i}return r}function ot(t,e){return t[0]<e[0]?-1:1}function ut(t,e){for(var r=[{tree1:t,tree2:e}],n=!1;r.length>0;){var o=r.pop(),u=o.tree1,c=o.tree2;(u[1].status||c[1].status)&&(u[1].status="available"===u[1].status||"available"===c[1].status?"available":"missing");for(var i=0;i<c[2].length;i++)if(u[2][0]){for(var a=!1,s=0;s<u[2].length;s++)u[2][s][0]===c[2][i][0]&&(r.push({tree1:u[2][s],tree2:c[2][i]}),a=!0);a||(n="new_branch",rt(u[2],c[2][i],ot))}else n="new_leaf",u[2][0]=c[2][i]}return{conflicts:n,tree:t}}function ct(t,e,r){var n,o=[],u=!1,c=!1;if(!t.length)return{tree:[e],conflicts:"new_leaf"};for(var i=0,a=t.length;i<a;i++){var s=t[i];if(s.pos===e.pos&&s.ids[0]===e.ids[0])n=ut(s.ids,e.ids),o.push({pos:s.pos,ids:n.tree}),u=u||n.conflicts,c=!0;else if(!0!==r){var f=s.pos<e.pos?s:e,l=s.pos<e.pos?e:s,_=l.pos-f.pos,d=[],p=[];for(p.push({ids:f.ids,diff:_,parent:null,parentIdx:null});p.length>0;){var h=p.pop();if(0!==h.diff)for(var v=h.ids[2],g=0,m=v.length;g<m;g++)p.push({ids:v[g],diff:h.diff-1,parent:h.ids,parentIdx:g});else h.ids[0]===l.ids[0]&&d.push(h)}var y=d[0];y?(n=ut(y.ids,l.ids),y.parent[2][y.parentIdx]=n.tree,o.push({pos:f.pos,ids:f.ids}),u=u||n.conflicts,c=!0):o.push(s)}else o.push(s)}return c||o.push(e),o.sort(tt),{tree:o,conflicts:u||"internal_node"}}function it(t,e){for(var r,n,o=Z(t),u=0,c=o.length;u<c;u++){var i,a=o[u],s=a.ids;if(s.length>e){r||(r={});var f=s.length-e;i={pos:a.pos+f,ids:nt(s,f)};for(var l=0;l<f;l++){var _=a.pos+l+"-"+s[l].id;r[_]=!0}}else i={pos:a.pos,ids:nt(s,0)};n=n?ct(n,i,!0).tree:[i]}return r&&G(n,function(t,e,n){delete r[e+"-"+n]}),{tree:n,revs:r?Object.keys(r):[]}}function at(t,e,r){var n=ct(t,e),o=it(n.tree,r);return{tree:o.tree,stemmedRevs:o.revs,conflicts:n.conflicts}}function st(t,e){for(var r,n=t.slice(),o=e.split("-"),u=parseInt(o[0],10),c=o[1];r=n.pop();){if(r.pos===u&&r.ids[0]===c)return!0;for(var i=r.ids[2],a=0,s=i.length;a<s;a++)n.push({pos:r.pos+1,ids:i[a]})}return!1}function ft(t){return t.ids}function lt(t,e){e||(e=W(t));for(var r,n=e.substring(e.indexOf("-")+1),o=t.rev_tree.map(ft);r=o.pop();){if(r[0]===n)return!!r[1].deleted;o=o.concat(r[2])}}function _t(t){return/^_local/.test(t)}function dt(t,e){for(var r,n=e.rev_tree.slice();r=n.pop();){var o=r.pos,u=r.ids,c=u[0],i=u[1],a=u[2],s=0===a.length,f=r.history?r.history.slice():[];if(f.push({id:c,pos:o,opts:i}),s)for(var l=0,_=f.length;l<_;l++){var d=f[l],p=d.pos+"-"+d.id;if(p===t)return o+"-"+c}for(var h=0,v=a.length;h<v;h++)n.push({pos:o+1,ids:a[h],history:f})}throw new Error("Unable to resolve latest revision for id "+e.id+", rev "+t)}function pt(t,e){try{t.emit("change",e)}catch(t){E("error",'Error in .on("change", function):',t)}}function ht(t,e,r){function n(){o.cancel()}ao.EventEmitter.call(this);var o=this;this.db=t,e=e?a(e):{};var u=e.complete=s(function(e,r){e?P(o,"error")>0&&o.emit("error",e):o.emit("complete",r),o.removeAllListeners(),t.removeListener("destroyed",n)});r&&(o.on("complete",function(t){r(null,t)}),o.on("error",r)),t.once("destroyed",n),e.onChange=function(t){o.isCancelled||pt(o,t)};var c=new ho(function(t,r){e.complete=function(e,n){e?r(e):t(n)}});o.once("cancel",function(){t.removeListener("destroyed",n),e.complete(null,{status:"cancelled"})}),this.then=c.then.bind(c),this.catch=c.catch.bind(c),this.then(function(t){u(null,t)},u),t.taskqueue.isReady?o.validateChanges(e):t.taskqueue.addTask(function(t){t?e.complete(t):o.isCancelled?o.emit("cancel"):o.validateChanges(e)})}function vt(t,e,r){var n=[{rev:t._rev}];"all_docs"===r.style&&(n=X(e.rev_tree).map(function(t){return{rev:t.rev}}));var o={id:e.id,changes:n,doc:t};return lt(e,t._rev)&&(o.deleted=!0),r.conflicts&&(o.doc._conflicts=Q(e),o.doc._conflicts.length||delete o.doc._conflicts),o}function gt(t,e){return t<e?-1:t>e?1:0}function mt(t){return function(e,r){e||r[0]&&r[0].error?t(e||r[0]):t(null,r.length?r[0]:r)}}function yt(t){for(var e=0;e<t.length;e++){var r=t[e];if(r._deleted)delete r._attachments;else if(r._attachments)for(var n=Object.keys(r._attachments),o=0;o<n.length;o++){var u=n[o];r._attachments[u]=g(r._attachments[u],["data","digest","content_type","length","revpos","stub"])}}}function bt(t,e){var r=gt(t._id,e._id);return 0!==r?r:gt(t._revisions?t._revisions.start:0,e._revisions?e._revisions.start:0)}function wt(t){var e={},r=[];return G(t,function(t,n,o,u){var c=n+"-"+o;return t&&(e[c]=0),void 0!==u&&r.push({from:u,to:c}),c}),r.reverse(),r.forEach(function(t){void 0===e[t.from]?e[t.from]=1+e[t.to]:e[t.from]=Math.min(e[t.from],1+e[t.to])}),e}function Tt(t,e,r){var n="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;if(e.descending&&n.reverse(),!n.length)return t._allDocs({limit:0},r);var o={offset:e.skip};return ho.all(n.map(function(r){var n=ko({key:r,deleted:"ok"},e);return["limit","skip","keys"].forEach(function(t){delete n[t]}),new ho(function(e,u){t._allDocs(n,function(t,n){if(t)return u(t);o.total_rows=n.total_rows,e(n.rows[0]||{key:r,error:"not_found"})})})})).then(function(t){return o.rows=t,o})}function kt(t){var e=t._compactionQueue[0],r=e.opts,n=e.callback;t.get("_local/compaction").catch(function(){return!1}).then(function(e){e&&e.last_seq&&(r.last_seq=e.last_seq),t._compact(r,function(e,r){e?n(e):n(null,r),fo(function(){t._compactionQueue.shift(),t._compactionQueue.length&&kt(t)})})})}function St(t){return"_"===t.charAt(0)&&t+" is not a valid attachment name, attachment names cannot start with '_'"}function Et(){ao.EventEmitter.call(this)}function xt(){this.isReady=!1,this.failed=!1,this.queue=[]}function At(t,e){var r=t.match(/([a-z\-]*):\/\/(.*)/);if(r)return{name:/https?/.test(r[1])?r[1]+"://"+r[2]:r[2],adapter:r[1]};var n=qt.adapters,o=qt.preferredAdapters,u=qt.prefix,c=e.adapter;if(!c)for(var i=0;i<o.length;++i){c=o[i];{if(!("idb"===c&&"websql"in n&&T()&&localStorage["_pouch__websqldb_"+u+t]))break;E("log",'PouchDB is downgrading "'+t+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.')}}var a=n[c];return{name:a&&"use_prefix"in a&&!a.use_prefix?t:u+t,adapter:c}}function Ot(t){function e(){t.removeListener("closed",n),t.constructor.emit("destroyed",t.name)}function r(){t.removeListener("destroyed",e),t.removeListener("closed",n),t.emit("destroyed")}function n(){t.removeListener("destroyed",e),o.delete(t.name)}var o=t.constructor._destructionListeners;t.once("destroyed",e),t.once("closed",n),o.has(t.name)||o.set(t.name,[]),o.get(t.name).push(r)}function qt(t,e){if(!(this instanceof qt))return new qt(t,e);var r=this;if(e=e||{},t&&"object"==typeof t&&(e=t,t=e.name,delete e.name),this.__opts=e=a(e),r.auto_compaction=e.auto_compaction,r.prefix=qt.prefix,"string"!=typeof t)throw new Error("Missing/invalid DB name");var n=(e.prefix||"")+t,o=At(n,e);if(e.name=o.name,e.adapter=e.adapter||o.adapter,r.name=t,r._adapter=e.adapter,qt.emit("debug",["adapter","Picked adapter: ",e.adapter]),!qt.adapters[e.adapter]||!qt.adapters[e.adapter].valid())throw new Error("Invalid Adapter: "+e.adapter);Et.call(r),r.taskqueue=new xt,r.adapter=e.adapter,qt.adapters[e.adapter].call(r,e,function(t){if(t)return r.taskqueue.fail(t);Ot(r),r.emit("created",r),qt.emit("created",r.name),r.taskqueue.ready(r)})}function It(t){t.debug=lo;var e={};t.on("debug",function(t){var r=t[0],n=t.slice(1);e[r]||(e[r]=lo("pouchdb:"+r)),e[r].apply(null,n)})}function Nt(t,e){for(var r=t,n=0,o=e.length;n<o;n++){if(!(r=r[e[n]]))break}return r}function Ct(t,e){return t<e?-1:t>e?1:0}function jt(t){for(var e=[],r="",n=0,o=t.length;n<o;n++){var u=t[n];"."===u?n>0&&"\\"===t[n-1]?r=r.substring(0,r.length-1)+".":(e.push(r),r=""):r+=u}return e.push(r),e}function Mt(t){return Wo.indexOf(t)>-1}function Dt(t){return Object.keys(t)[0]}function Bt(t){return t[Dt(t)]}function Rt(t){var e={};return t.forEach(function(t){Object.keys(t).forEach(function(r){var n=t[r];if("object"!=typeof n&&(n={$eq:n}),Mt(r))n instanceof Array?e[r]=n.map(function(t){return Rt([t])}):e[r]=Rt([n]);else{var o=e[r]=e[r]||{};Object.keys(n).forEach(function(t){var e=n[t];return"$gt"===t||"$gte"===t?Pt(t,e,o):"$lt"===t||"$lte"===t?Lt(t,e,o):"$ne"===t?Ft(e,o):"$eq"===t?$t(e,o):void(o[t]=e)})}})}),e}function Pt(t,e,r){void 0===r.$eq&&(void 0!==r.$gte?"$gte"===t?e>r.$gte&&(r.$gte=e):e>=r.$gte&&(delete r.$gte,r.$gt=e):void 0!==r.$gt?"$gte"===t?e>r.$gt&&(delete r.$gt,r.$gte=e):e>r.$gt&&(r.$gt=e):r[t]=e)}function Lt(t,e,r){void 0===r.$eq&&(void 0!==r.$lte?"$lte"===t?e<r.$lte&&(r.$lte=e):e<=r.$lte&&(delete r.$lte,r.$lt=e):void 0!==r.$lt?"$lte"===t?e<r.$lt&&(delete r.$lt,r.$lte=e):e<r.$lt&&(r.$lt=e):r[t]=e)}function Ft(t,e){"$ne"in e?e.$ne.push(t):e.$ne=[t]}function $t(t,e){delete e.$gt,delete e.$gte,delete e.$lt,delete e.$lte,delete e.$ne,e.$eq=t}function Ut(t){var e=a(t),r=!1;"$and"in e&&(e=Rt(e.$and),r=!0),["$or","$nor"].forEach(function(t){t in e&&e[t].forEach(function(t){for(var e=Object.keys(t),r=0;r<e.length;r++){var n=e[r],o=t[n];"object"==typeof o&&null!==o||(t[n]={$eq:o})}})}),"$not"in e&&(e.$not=Rt([e.$not]));for(var n=Object.keys(e),o=0;o<n.length;o++){var u=n[o],c=e[u];"object"!=typeof c||null===c?c={$eq:c}:"$ne"in c&&!r&&(c.$ne=[c.$ne]),e[u]=c}return e}function Vt(t,e,r){for(var n="",o=r-t.length;n.length<o;)n+=e;return n}function Jt(t,e,r){return Vt(t,e,r)+t}function Ht(t,e){if(t===e)return 0;t=zt(t),e=zt(e);var r=ee(t),n=ee(e);if(r-n!=0)return r-n;switch(typeof t){case"number":return t-e;case"boolean":return t<e?-1:1;case"string":return Zt(t,e)}return Array.isArray(t)?Yt(t,e):te(t,e)}function zt(t){switch(typeof t){case"undefined":return null;case"number":return t===1/0||t===-1/0||isNaN(t)?null:t;case"object":var e=t;if(Array.isArray(t)){var r=t.length;t=new Array(r);for(var n=0;n<r;n++)t[n]=zt(e[n])}else{if(t instanceof Date)return t.toJSON();if(null!==t){t={};for(var o in e)if(e.hasOwnProperty(o)){var u=e[o];void 0!==u&&(t[o]=zt(u))}}}}return t}function Wt(t){if(null!==t)switch(typeof t){case"boolean":return t?1:0;case"number":return re(t);case"string":return t.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var e=Array.isArray(t),r=e?t:Object.keys(t),n=-1,o=r.length,u="";if(e)for(;++n<o;)u+=Gt(r[n]);else for(;++n<o;){var c=r[n];u+=Gt(c)+Gt(t[c])}return u}return""}function Gt(t){return t=zt(t),ee(t)+Xo+Wt(t)+"\0"}function Kt(t,e){var r,n=e;if("1"===t[e])r=0,e++;else{var o="0"===t[e];e++;var u="",c=t.substring(e,e+Ko),i=parseInt(c,10)+Go;for(o&&(i=-i),e+=Ko;;){var a=t[e];if("\0"===a)break;u+=a,e++}u=u.split("."),r=1===u.length?parseInt(u,10):parseFloat(u[0]+"."+u[1]),o&&(r-=10),0!==i&&(r=parseFloat(r+"e"+i))}return{num:r,length:e-n}}function Xt(t,e){var r=t.pop();if(e.length){var n=e[e.length-1];r===n.element&&(e.pop(),n=e[e.length-1]);var o=n.element,u=n.index;if(Array.isArray(o))o.push(r);else if(u===t.length-2){var c=t.pop();o[c]=r}else t.push(r)}}function Qt(t){for(var e=[],r=[],n=0;;){var o=t[n++];if("\0"!==o)switch(o){case"1":e.push(null);break;case"2":e.push("1"===t[n]),n++;break;case"3":var u=Kt(t,n);e.push(u.num),n+=u.length;break;case"4":for(var c="";;){var i=t[n];if("\0"===i)break;c+=i,n++}c=c.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),e.push(c);break;case"5":var a={element:[],index:e.length};e.push(a.element),r.push(a);break;case"6":var s={element:{},index:e.length};e.push(s.element),r.push(s);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+o)}else{if(1===e.length)return e.pop();Xt(e,r)}}}function Yt(t,e){for(var r=Math.min(t.length,e.length),n=0;n<r;n++){var o=Ht(t[n],e[n]);if(0!==o)return o}return t.length===e.length?0:t.length>e.length?1:-1}function Zt(t,e){return t===e?0:t>e?1:-1}function te(t,e){for(var r=Object.keys(t),n=Object.keys(e),o=Math.min(r.length,n.length),u=0;u<o;u++){var c=Ht(r[u],n[u]);if(0!==c)return c;if(0!==(c=Ht(t[r[u]],e[n[u]])))return c}return r.length===n.length?0:r.length>n.length?1:-1}function ee(t){var e=["boolean","number","string","object"],r=e.indexOf(typeof t);return~r?null===t?1:Array.isArray(t)?5:r<3?r+2:r+3:Array.isArray(t)?5:void 0}function re(t){if(0===t)return"1";var e=t.toExponential().split(/e\+?/),r=parseInt(e[1],10),n=t<0,o=n?"0":"2",u=(n?-r:r)-Go,c=Jt(u.toString(),"0",Ko);o+=Xo+c;var i=Math.abs(parseFloat(e[0]));n&&(i=10-i);var a=i.toFixed(20);return a=a.replace(/\.?0+$/,""),o+=Xo+a}function ne(t){function e(e){return t.map(function(t){var r=Dt(t),n=jt(r);return Nt(e,n)})}return function(t,r){var n=e(t.doc),o=e(r.doc),u=Ht(n,o);return 0!==u?u:Ct(t.doc._id,r.doc._id)}}function oe(t,e,r){if(t=t.filter(function(t){return ue(t.doc,e.selector,r)}),e.sort){var n=ne(e.sort);t=t.sort(n),"string"!=typeof e.sort[0]&&"desc"===Bt(e.sort[0])&&(t=t.reverse())}if("limit"in e||"skip"in e){var o=e.skip||0,u=("limit"in e?e.limit:t.length)+o;t=t.slice(o,u)}return t}function ue(t,e,r){return r.every(function(r){if(ce(t))return!1;var n=e[r],o=jt(r),u=Nt(t,o);return Mt(r)?ae(r,n,t):ie(n,t,o,u)})}function ce(t){return/^_design\//.test(t._id)}function ie(t,e,r,n){return!t||Object.keys(t).every(function(o){var u=t[o];return se(o,e,u,r,n)})}function ae(t,e,r){return"$or"===t?e.some(function(t){return ue(r,t,Object.keys(t))}):"$not"===t?!ue(r,e,Object.keys(e)):!e.find(function(t){return ue(r,t,Object.keys(t))})}function se(t,e,r,n,o){if(!Qo[t])throw new Error('unknown operator "'+t+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type or $all');return Qo[t](e,r,n,o)}function fe(t){return void 0!==t&&null!==t}function le(t){return void 0!==t}function _e(t,e){var r=e[0],n=e[1];if(0===r)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(r,10)!==r)throw new Error("Divisor is not an integer");if(parseInt(n,10)!==n)throw new Error("Modulus is not an integer");return parseInt(t,10)===t&&t%r===n}function de(t,e){return e.some(function(e){return t instanceof Array?t.indexOf(e)>-1:t===e})}function pe(t,e){return e.every(function(e){return t.indexOf(e)>-1})}function he(t,e){return t.length===e}function ve(t,e){return new RegExp(e).test(t)}function ge(t,e){switch(e){case"null":return null===t;case"boolean":return"boolean"==typeof t;case"number":return"number"==typeof t;case"string":return"string"==typeof t;case"array":return t instanceof Array;case"object":return"[object Object]"==={}.toString.call(t)}throw new Error(e+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}function me(t,e){if("object"!=typeof e)throw"Selector error: expected a JSON object";e=Ut(e);var r={doc:t},n=oe([r],{selector:e},Object.keys(e));return n&&1===n.length}function ye(t){return U('"use strict";\nreturn '+t+";",{})}function be(t){return U(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+t+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{})}function we(t,e){if(t.selector&&t.filter&&"_selector"!==t.filter){var r="string"==typeof t.filter?t.filter:"function";return e(new Error('selector invalid for filter "'+r+'"'))}e()}function Te(t){t.view&&!t.filter&&(t.filter="_view"),t.selector&&!t.filter&&(t.filter="_selector"),t.filter&&"string"==typeof t.filter&&("_view"===t.filter?t.view=F(t.view):t.filter=F(t.filter))}function ke(t,e){return e.filter&&"string"==typeof e.filter&&!e.doc_ids&&!R(t.db)}function Se(t,e){var r=e.complete;if("_view"===e.filter){if(!e.view||"string"!=typeof e.view){var n=I(Mo,"`view` filter parameter not found or invalid.");return r(n)}var o=L(e.view);t.db.get("_design/"+o[0],function(n,u){if(t.isCancelled)return r(null,{status:"cancelled"});if(n)return r(N(n));var c=u&&u.views&&u.views[o[1]]&&u.views[o[1]].map;if(!c)return r(I(Eo,u.views?"missing json key: "+o[1]:"missing json key: views"));e.filter=be(c),t.doChanges(e)})}else if(e.selector)e.filter=function(t){return me(t,e.selector)},t.doChanges(e);else{var u=L(e.filter);t.db.get("_design/"+u[0],function(n,o){if(t.isCancelled)return r(null,{status:"cancelled"});if(n)return r(N(n));var c=o&&o.filters&&o.filters[u[1]];if(!c)return r(I(Eo,o&&o.filters?"missing json key: "+u[1]:"missing json key: filters"));e.filter=ye(c),t.doChanges(e)})}}function Ee(t){t._changesFilterPlugin={validate:we,normalize:Te,shouldFilter:ke,filter:Se}}function xe(t){return t.reduce(function(t,e){return t[e]=!0,t},{})}function Ae(t){if(!/^\d+\-./.test(t))return I(Po);var e=t.indexOf("-"),r=t.substring(0,e),n=t.substring(e+1);return{prefix:parseInt(r,10),id:n}}function Oe(t,e){for(var r=t.start-t.ids.length+1,n=t.ids,o=[n[0],e,[]],u=1,c=n.length;u<c;u++)o=[n[u],{status:"missing"},[o]];return[{pos:r,ids:o}]}function qe(t,e){var r,n,o,u={status:"available"};if(t._deleted&&(u.deleted=!0),e)if(t._id||(t._id=z()),n=z(32,16).toLowerCase(),t._rev){if(o=Ae(t._rev),o.error)return o;t._rev_tree=[{pos:o.prefix,ids:[o.id,{status:"missing"},[[n,u,[]]]]}],r=o.prefix+1}else t._rev_tree=[{pos:1,ids:[n,u,[]]}],r=1;else if(t._revisions&&(t._rev_tree=Oe(t._revisions,u),r=t._revisions.start,n=t._revisions.ids[0]),!t._rev_tree){if(o=Ae(t._rev),o.error)return o;r=o.prefix,n=o.id,t._rev_tree=[{pos:r,ids:[n,u,[]]}]}B(t._id),t._rev=r+"-"+n;var c={metadata:{},data:{}};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var a="_"===i[0];if(a&&!Zo[i]){var s=I(jo,i);throw s.message=jo.message+": "+i,s}a&&!tu[i]?c.metadata[i.slice(1)]=t[i]:c.data[i]=t[i]}return c}function Ie(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(u){if("TypeError"!==u.name)throw u;for(var r="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,n=new r,o=0;o<t.length;o+=1)n.append(t[o]);return n.getBlob(e.type)}}function Ne(t){for(var e=t.length,r=new ArrayBuffer(e),n=new Uint8Array(r),o=0;o<e;o++)n[o]=t.charCodeAt(o);return r}function Ce(t,e){return Ie([Ne(t)],{type:e})}function je(t,e){return Ce(eu(t),e)}function Me(t){for(var e="",r=new Uint8Array(t),n=r.byteLength,o=0;o<n;o++)e+=String.fromCharCode(r[o]);return e}function De(t,e){if("undefined"==typeof FileReader)return e(Me((new FileReaderSync).readAsArrayBuffer(t)));var r=new FileReader,n="function"==typeof r.readAsBinaryString;r.onloadend=function(t){var r=t.target.result||"";if(n)return e(r);e(Me(r))},n?r.readAsBinaryString(t):r.readAsArrayBuffer(t)}function Be(t,e){De(t,function(t){e(t)})}function Re(t,e){Be(t,function(t){e(ru(t))})}function Pe(t,e){if("undefined"==typeof FileReader)return e((new FileReaderSync).readAsArrayBuffer(t));var r=new FileReader;r.onloadend=function(t){var r=t.target.result||new ArrayBuffer(0);e(r)},r.readAsArrayBuffer(t)}function Le(t){return ru(t)}function Fe(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.slice(e,r)}function $e(t,e,r,n,o){(r>0||n<e.size)&&(e=Fe(e,r,n)),Pe(e,function(e){t.append(e),o()})}function Ue(t,e,r,n,o){(r>0||n<e.length)&&(e=e.substring(r,n)),t.appendBinary(e),o()}function Ve(t,e){function r(){nu(o)}function n(){var t=f.end(!0),r=Le(t);e(r),f.destroy()}function o(){var e=s*i,o=e+i;s++,s<a?l(f,t,e,o,r):l(f,t,e,o,n)}var u="string"==typeof t,c=u?t.length:t.size,i=Math.min(ou,c),a=Math.ceil(c/i),s=0,f=u?new _o:new _o.ArrayBuffer,l=u?Ue:$e;o()}function Je(t){return _o.hash(t)}function He(t){try{return eu(t)}catch(t){var e=I(No,"Attachment is not a valid base64 string");return{error:e}}}function ze(t,e,r){var n=He(t.data);if(n.error)return r(n.error);t.length=n.length,t.data="blob"===e?Ce(n,t.content_type):"base64"===e?ru(n):n,Ve(n,function(e){t.digest="md5-"+e,r()})}function We(t,e,r){Ve(t.data,function(n){t.digest="md5-"+n,t.length=t.data.size||t.data.length||0,"binary"===e?Be(t.data,function(e){t.data=e,r()}):"base64"===e?Re(t.data,function(e){t.data=e,r()}):r()})}function Ge(t,e,r){if(t.stub)return r();"string"==typeof t.data?ze(t,e,r):We(t,e,r)}function Ke(t,e,r){function n(){u++,t.length===u&&(o?r(o):r())}if(!t.length)return r();var o,u=0;t.forEach(function(t){function r(t){o=t,++c===u.length&&n()}var u=t.data&&t.data._attachments?Object.keys(t.data._attachments):[],c=0;if(!u.length)return n();for(var i in t.data._attachments)t.data._attachments.hasOwnProperty(i)&&Ge(t.data._attachments[i],e,r)})}function Xe(t,e,r,n,o,u,c,i){if(st(e.rev_tree,r.metadata.rev))return n[o]=r,u();var a=e.winningRev||W(e),s="deleted"in e?e.deleted:lt(e,a),f="deleted"in r.metadata?r.metadata.deleted:lt(r.metadata),l=/^1-/.test(r.metadata.rev);if(s&&!f&&i&&l){var _=r.data;_._rev=a,_._id=r.metadata.id,r=qe(_,i)}var d=at(e.rev_tree,r.metadata.rev_tree[0],t);if(i&&(s&&f&&"new_leaf"!==d.conflicts||!s&&"new_leaf"!==d.conflicts||s&&!f&&"new_branch"===d.conflicts)){var p=I(xo);return n[o]=p,u()}var h=r.metadata.rev;r.metadata.rev_tree=d.tree,r.stemmedRevs=d.stemmedRevs||[],e.rev_map&&(r.metadata.rev_map=e.rev_map);var v,g=W(r.metadata),m=lt(r.metadata,g),y=s===m?0:s<m?-1:1;v=h===g?m:lt(r.metadata,h),c(r,g,m,v,!0,y,o,u)}function Qe(t){return"missing"===t.metadata.rev_tree[0].ids[1].status}function Ye(t,e,r,n,o,u,c,i,a){function s(t,e,r){var n=W(t.metadata),o=lt(t.metadata,n);if("was_delete"in i&&o)return u[e]=I(Eo,"deleted"),r();if(l&&Qe(t)){var a=I(xo);return u[e]=a,r()}c(t,n,o,o,!1,o?0:1,e,r)}function f(){++d===p&&a&&a()}t=t||1e3;var l=i.new_edits,_=new yo,d=0,p=e.length;e.forEach(function(t,e){if(t._id&&_t(t._id)){var n=t._deleted?"_removeLocal":"_putLocal";return void r[n](t,{ctx:o},function(t,r){u[e]=t||r,f()})}var c=t.metadata.id;_.has(c)?(p--,_.get(c).push([t,e])):_.set(c,[[t,e]])}),_.forEach(function(e,r){function o(){++a<e.length?i():f()}function i(){var i=e[a],f=i[0],_=i[1];if(n.has(r))Xe(t,n.get(r),f,u,_,o,c,l);else{var d=at([],f.metadata.rev_tree[0],t);f.metadata.rev_tree=d.tree,f.stemmedRevs=d.stemmedRevs||[],s(f,_,o)}}var a=0;i()})}function Ze(t){try{return JSON.parse(t)}catch(e){return po.parse(t)}}function tr(t){try{return JSON.stringify(t)}catch(e){return po.stringify(t)}}function er(t){return function(e){var r="unknown_error";e.target&&e.target.error&&(r=e.target.error.name||e.target.error.message),t(I(Bo,r,e.type))}}function rr(t,e,r){return{data:tr(t),winningRev:e,deletedOrLocal:r?"1":"0",seq:t.seq,id:t.id}}function nr(t){if(!t)return null;var e=Ze(t.data);return e.winningRev=t.winningRev,e.deleted="1"===t.deletedOrLocal,e.seq=t.seq,e}function or(t){if(!t)return t;var e=t._doc_id_rev.lastIndexOf(":");return t._id=t._doc_id_rev.substring(0,e-1),t._rev=t._doc_id_rev.substring(e+1),delete t._doc_id_rev,t}function ur(t,e,r,n){r?n(t?"string"!=typeof t?t:je(t,e):Ie([""],{type:e})):t?"string"!=typeof t?De(t,function(t){n(ru(t))}):n(t):n("")}function cr(t,e,r,n){function o(){++i===c.length&&n&&n()}function u(t,e){var n=t._attachments[e],u=n.digest;r.objectStore(au).get(u).onsuccess=function(t){n.body=t.target.result.body,o()}}var c=Object.keys(t._attachments||{});if(!c.length)return n&&n();var i=0;c.forEach(function(r){e.attachments&&e.include_docs?u(t,r):(t._attachments[r].stub=!0,o())})}function ir(t,e){return ho.all(t.map(function(t){if(t.doc&&t.doc._attachments){var r=Object.keys(t.doc._attachments);return ho.all(r.map(function(r){var n=t.doc._attachments[r];if("body"in n){var o=n.body,u=n.content_type;return new ho(function(c){ur(o,u,e,function(e){t.doc._attachments[r]=ko(g(n,["digest","content_type"]),{data:e}),c()})})}}))}}))}function ar(t,e,r){function n(){--s||o()}function o(){u.length&&u.forEach(function(t){a.index("digestSeq").count(IDBKeyRange.bound(t+"::",t+"::",!1,!1)).onsuccess=function(e){e.target.result||i.delete(t)}})}var u=[],c=r.objectStore(iu),i=r.objectStore(au),a=r.objectStore(su),s=t.length;t.forEach(function(t){var r=c.index("_doc_id_rev"),o=e+"::"+t;r.getKey(o).onsuccess=function(t){var e=t.target.result;if("number"!=typeof e)return n();c.delete(e),a.index("seq").openCursor(IDBKeyRange.only(e)).onsuccess=function(t){var e=t.target.result;if(e){var r=e.value.digestSeq.split("::")[0];u.push(r),a.delete(e.primaryKey),e.continue()}else n()}}})}function sr(t,e,r){try{return{txn:t.transaction(e,r)}}catch(t){return{error:t}}}function fr(t,e,r,n,o,u){function c(){var t=[cu,iu,au,lu,su,fu],e=sr(o,t,"readwrite");if(e.error)return u(e.error);y=e.txn,y.onabort=er(u),y.ontimeout=er(u),y.oncomplete=l,b=y.objectStore(cu),w=y.objectStore(iu),T=y.objectStore(au),k=y.objectStore(su),S=y.objectStore(fu),S.get(fu).onsuccess=function(t){x=t.target.result,s()},d(function(t){if(t)return B=!0,u(t);f()})}function i(){C=!0,s()}function a(){Ye(t.revs_limit,A,n,D,y,M,p,r,i)}function s(){x&&C&&(x.docCount+=j,S.put(x))}function f(){function t(){++r===A.length&&a()}function e(e){var r=nr(e.target.result);r&&D.set(r.id,r),t()}if(A.length)for(var r=0,n=0,o=A.length;n<o;n++){var u=A[n];if(u._id&&_t(u._id))t();else{var c=b.get(u.metadata.id);c.onsuccess=e}}}function l(){B||(du.notify(n._meta.name),u(null,M))}function _(t,e){T.get(t).onsuccess=function(r){if(r.target.result)e();else{var n=I(Lo,"unknown stub attachment with digest "+t);n.status=412,e(n)}}}function d(t){function e(){++o===r.length&&t(n)}var r=[];if(A.forEach(function(t){t.data&&t.data._attachments&&Object.keys(t.data._attachments).forEach(function(e){var n=t.data._attachments[e];n.stub&&r.push(n.digest)})}),!r.length)return t();var n,o=0;r.forEach(function(t){_(t,function(t){t&&!n&&(n=t),e()})})}function p(t,e,r,n,o,u,c,i){t.metadata.winningRev=e,t.metadata.deleted=r;var a=t.data;if(a._id=t.metadata.id,a._rev=t.metadata.rev,n&&(a._deleted=!0),a._attachments&&Object.keys(a._attachments).length)return v(t,e,r,o,c,i);j+=u,s(),h(t,e,r,o,c,i)}function h(t,e,r,o,u,c){function i(u){var c=t.stemmedRevs||[];o&&n.auto_compaction&&(c=c.concat(Y(t.metadata))),c&&c.length&&ar(c,t.metadata.id,y),l.seq=u.target.result;var i=rr(l,e,r);b.put(i).onsuccess=s}function a(t){t.preventDefault(),t.stopPropagation(),w.index("_doc_id_rev").getKey(f._doc_id_rev).onsuccess=function(t){w.put(f,t.target.result).onsuccess=i}}function s(){M[u]={ok:!0,id:l.id,rev:l.rev},D.set(t.metadata.id,t.metadata),g(t,l.seq,c)}var f=t.data,l=t.metadata;f._doc_id_rev=l.id+"::"+l.rev,delete f._id,delete f._rev;var _=w.put(f);_.onsuccess=i,_.onerror=a}function v(t,e,r,n,o,u){function c(){s===f.length&&h(t,e,r,n,o,u)}function i(){s++,c()}var a=t.data,s=0,f=Object.keys(a._attachments);f.forEach(function(r){var n=t.data._attachments[r];if(n.stub)s++,c();else{var o=n.data;delete n.data,n.revpos=parseInt(e,10);m(n.digest,o,i)}})}function g(t,e,r){function n(){++o===u.length&&r()}var o=0,u=Object.keys(t.data._attachments||{});if(!u.length)return r();for(var c=0;c<u.length;c++)!function(r){var o=t.data._attachments[r].digest,u=k.put({seq:e,digestSeq:o+"::"+e});u.onsuccess=n,u.onerror=function(t){t.preventDefault(),t.stopPropagation(),n()}}(u[c])}function m(t,e,r){T.count(t).onsuccess=function(n){if(n.target.result)return r();var o={digest:t,body:e};T.put(o).onsuccess=r}}for(var y,b,w,T,k,S,E,x,A=e.docs,O=0,q=A.length;O<q;O++){var N=A[O];N._id&&_t(N._id)||(N=A[O]=qe(N,r.new_edits),N.error&&!E&&(E=N))}if(E)return u(E);var C=!1,j=0,M=new Array(A.length),D=new yo,B=!1,R=n._meta.blobSupport?"blob":"base64";Ke(A,R,function(t){if(t)return u(t);c()})}function lr(t,e,r,n,o){function u(t){f=t.target.result,s&&o(s,f,l)}function c(t){s=t.target.result,f&&o(s,f,l)}function i(){if(!s.length)return o();var r,i=s[s.length-1];if(e&&e.upper)try{r=IDBKeyRange.bound(i,e.upper,!0,e.upperOpen)}catch(t){if("DataError"===t.name&&0===t.code)return o()}else r=IDBKeyRange.lowerBound(i,!0);e=r,s=null,f=null,t.getAll(e,n).onsuccess=u,t.getAllKeys(e,n).onsuccess=c}function a(t){var e=t.target.result;if(!e)return o();o([e.key],[e.value],e)}var s,f,l,_="function"==typeof t.getAll&&"function"==typeof t.getAllKeys&&n>1&&!r;_?(l={continue:i},t.getAll(e,n).onsuccess=u,t.getAllKeys(e,n).onsuccess=c):r?t.openCursor(e,"prev").onsuccess=a:t.openCursor(e).onsuccess=a}function _r(t,e,r){function n(t){var e=t.target.result;e?(o.push(e.value),e.continue()):r({target:{result:o}})}if("function"==typeof t.getAll)return void(t.getAll(e).onsuccess=r);var o=[];t.openCursor(e).onsuccess=n}function dr(t,e,r,n,o){try{if(t&&e)return o?IDBKeyRange.bound(e,t,!r,!1):IDBKeyRange.bound(t,e,!1,!r);if(t)return o?IDBKeyRange.upperBound(t):IDBKeyRange.lowerBound(t);if(e)return o?IDBKeyRange.lowerBound(e,!r):IDBKeyRange.upperBound(e,!r);if(n)return IDBKeyRange.only(n)}catch(t){return{error:t}}return null}function pr(t,e,r){function n(e,r,n){var o=e.id+"::"+n;E.get(o).onsuccess=function(n){if(r.doc=or(n.target.result),t.conflicts){var o=Q(e);o.length&&(r.doc._conflicts=o)}cr(r.doc,t,b)}}function o(e,r){var o={id:r.id,key:r.id,value:{rev:e}},u=r.deleted;"ok"===t.deleted?(x.push(o),u?(o.value.deleted=!0,o.doc=null):t.include_docs&&n(r,o,e)):!u&&d--<=0&&(x.push(o),t.include_docs&&n(r,o,e))}function u(t){for(var e=0,r=t.length;e<r&&x.length!==p;e++){var n=t[e],u=nr(n);o(u.winningRev,u)}}function c(t,e,r){r&&(u(e),x.length<p&&r.continue())}function i(e){var r=e.target.result;t.descending&&(r=r.reverse()),u(r)}function a(){r(null,{total_rows:w,offset:t.skip,rows:x})}function s(){t.attachments?ir(x,t.binary).then(a):a()}var f="startkey"in t&&t.startkey,l="endkey"in t&&t.endkey,_="key"in t&&t.key,d=t.skip||0,p="number"==typeof t.limit?t.limit:-1,h=!1!==t.inclusive_end,v=dr(f,l,h,_,t.descending),g=v&&v.error;if(g&&("DataError"!==g.name||0!==g.code))return r(I(Bo,g.name,g.message));var m=[cu,iu,fu];t.attachments&&m.push(au);var y=sr(e,m,"readonly");if(y.error)return r(y.error);var b=y.txn;b.oncomplete=s,b.onabort=er(r);var w,T=b.objectStore(cu),k=b.objectStore(iu),S=b.objectStore(fu),E=k.index("_doc_id_rev"),x=[];return S.get(fu).onsuccess=function(t){w=t.target.result.docCount},g||0===p?void 0:-1===p?_r(T,v,i):void lr(T,v,t.descending,p+d,c)}function hr(t){return new ho(function(e){var r=Ie([""]);t.objectStore(_u).put(r,"key").onsuccess=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),r=navigator.userAgent.match(/Edge\//);e(r||!t||parseInt(t[1],10)>=43)},t.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)}}).catch(function(){return!1})}function vr(t,e){t.objectStore(cu).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(t){e(t.target.result)}}function gr(t,e,r,n){try{t(e,r)}catch(e){n.emit("error",e)}}function mr(){!pu&&hu.length&&(pu=!0,hu.shift()())}function yr(t,e,r){hu.push(function(){t(function(t,n){gr(e,t,n,r),pu=!1,fo(function(){mr(r)})})}),mr()}function br(t,e,r,n){function o(e,r,n){function o(e,r){var n=t.processChange(r,e,t);_=n.seq=e.seq;var o=w(n);if("object"==typeof o)return t.complete(o);o&&(b++,p&&y.push(n),t.attachments&&t.include_docs?cr(r,t,h,function(){ir([n],t.binary).then(function(){t.onChange(n)})}):t.onChange(n))}function u(){for(var t=0,e=i.length;t<e&&b!==d;t++){var r=i[t];if(r){o(a[t],r)}}b!==d&&n.continue()}if(n&&e.length){var i=new Array(e.length),a=new Array(e.length),s=0;r.forEach(function(t,r){c(or(t),e[r],function(t,n){a[r]=t,i[r]=n,++s===e.length&&u()})})}}function u(t,e,r,n){if(r.seq!==e)return n();if(r.winningRev===t._rev)return n(r,t);var o=t._id+"::"+r.winningRev;m.get(o).onsuccess=function(t){n(r,or(t.target.result))}}function c(t,e,r){if(l&&!l.has(t._id))return r();var n=T.get(t._id);if(n)return u(t,e,n,r);g.get(t._id).onsuccess=function(o){n=nr(o.target.result),T.set(t._id,n),u(t,e,n,r)}}function i(){t.complete(null,{results:y,last_seq:_})}function s(){!t.continuous&&t.attachments?ir(y).then(i):i()}if(t=a(t),t.continuous){var f=r+":"+z();return du.addListener(r,f,e,t),du.notify(r),{cancel:function(){du.removeListener(r,f)}}}var l=t.doc_ids&&new mo(t.doc_ids);t.since=t.since||0;var _=t.since,d="limit"in t?t.limit:-1;0===d&&(d=1);var p;p="return_docs"in t?t.return_docs:!("returnDocs"in t)||t.returnDocs;var h,v,g,m,y=[],b=0,w=j(t),T=new yo,k=[cu,iu];t.attachments&&k.push(au);var S=sr(n,k,"readonly");if(S.error)return t.complete(S.error);h=S.txn,h.onabort=er(t.complete),h.oncomplete=s,v=h.objectStore(iu),g=h.objectStore(cu),m=v.index("_doc_id_rev"),lr(v,t.since&&!t.descending?IDBKeyRange.lowerBound(t.since,!0):null,t.descending,d,o)}function wr(t,e){var r=this;yr(function(e){Tr(r,t,e)},e,r.constructor)}function Tr(t,e,r){function n(t){var e=t.createObjectStore(cu,{keyPath:"id"});t.createObjectStore(iu,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),t.createObjectStore(au,{keyPath:"digest"}),t.createObjectStore(fu,{keyPath:"id",autoIncrement:!1}),t.createObjectStore(_u),e.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),t.createObjectStore(lu,{keyPath:"_id"});var r=t.createObjectStore(su,{autoIncrement:!0});r.createIndex("seq","seq"),r.createIndex("digestSeq","digestSeq",{unique:!0})}function o(t,e){var r=t.objectStore(cu);r.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),r.openCursor().onsuccess=function(t){var n=t.target.result;if(n){var o=n.value,u=lt(o);o.deletedOrLocal=u?"1":"0",r.put(o),n.continue()}else e()}}function u(t){t.createObjectStore(lu,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function c(t,e){var r=t.objectStore(lu),n=t.objectStore(cu),o=t.objectStore(iu);n.openCursor().onsuccess=function(t){var u=t.target.result;if(u){var c=u.value,i=c.id,a=_t(i),s=W(c);if(a){var f=i+"::"+s,l=i+"::",_=i+"::~",d=o.index("_doc_id_rev"),p=IDBKeyRange.bound(l,_,!1,!1),h=d.openCursor(p);h.onsuccess=function(t){if(h=t.target.result){var e=h.value;e._doc_id_rev===f&&r.put(e),o.delete(h.primaryKey),h.continue()}else n.delete(u.primaryKey),u.continue()}}else u.continue()}else e&&e()}}function i(t){var e=t.createObjectStore(su,{autoIncrement:!0});e.createIndex("seq","seq"),e.createIndex("digestSeq","digestSeq",{unique:!0})}function a(t,e){var r=t.objectStore(iu),n=t.objectStore(au),o=t.objectStore(su);n.count().onsuccess=function(t){if(!t.target.result)return e();r.openCursor().onsuccess=function(t){var r=t.target.result;if(!r)return e();for(var n=r.value,u=r.primaryKey,c=Object.keys(n._attachments||{}),i={},a=0;a<c.length;a++)i[n._attachments[c[a]].digest]=!0;var s=Object.keys(i);for(a=0;a<s.length;a++){var f=s[a];o.put({seq:u,digestSeq:f+"::"+u})}r.continue()}}}function s(t){function e(t){return t.data?nr(t):(t.deleted="1"===t.deletedOrLocal,t)}var r=t.objectStore(iu),n=t.objectStore(cu);n.openCursor().onsuccess=function(t){function o(){var t=rr(c,c.winningRev,c.deleted);n.put(t).onsuccess=function(){u.continue()}}var u=t.target.result;if(u){var c=e(u.value);if(c.winningRev=c.winningRev||W(c),c.seq)return o();!function(){var t=c.id+"::",e=c.id+"::",n=r.index("_doc_id_rev").openCursor(IDBKeyRange.bound(t,e)),u=0;n.onsuccess=function(t){var e=t.target.result;if(!e)return c.seq=u,o();var r=e.primaryKey;r>u&&(u=r),e.continue()}}()}}}var l=e.name,_=null;t._meta=null,t._remote=!1,t.type=function(){return"idb"},t._id=f(function(e){e(null,t._meta.instanceId)}),t._bulkDocs=function(r,n,o){fr(e,r,n,t,_,o)},t._get=function(t,e,r){function n(){r(c,{doc:o,metadata:u,ctx:i})}var o,u,c,i=e.ctx;if(!i){var a=sr(_,[cu,iu,au],"readonly");if(a.error)return r(a.error);i=a.txn}i.objectStore(cu).get(t).onsuccess=function(t){if(!(u=nr(t.target.result)))return c=I(Eo,"missing"),n();var r;if(e.rev)r=e.latest?dt(e.rev,u):e.rev;else{r=u.winningRev;if(lt(u))return c=I(Eo,"deleted"),n()}var a=i.objectStore(iu),s=u.id+"::"+r;a.index("_doc_id_rev").get(s).onsuccess=function(t){if(o=t.target.result,o&&(o=or(o)),!o)return c=I(Eo,"missing"),n();n()}}},t._getAttachment=function(t,e,r,n,o){var u;if(n.ctx)u=n.ctx;else{var c=sr(_,[cu,iu,au],"readonly");if(c.error)return o(c.error);u=c.txn}var i=r.digest,a=r.content_type;u.objectStore(au).get(i).onsuccess=function(t){ur(t.target.result.body,a,n.binary,function(t){o(null,t)})}},t._info=function(e){var r,n,o=sr(_,[fu,iu],"readonly");if(o.error)return e(o.error);var u=o.txn;u.objectStore(fu).get(fu).onsuccess=function(t){n=t.target.result.docCount},u.objectStore(iu).openCursor(null,"prev").onsuccess=function(t){var e=t.target.result;r=e?e.key:0},u.oncomplete=function(){e(null,{doc_count:n,update_seq:r,idb_attachment_format:t._meta.blobSupport?"binary":"base64"})}},t._allDocs=function(t,e){pr(t,_,e)},t._changes=function(e){br(e,t,l,_)},t._close=function(t){_.close(),vu.delete(l),t()},t._getRevisionTree=function(t,e){var r=sr(_,[cu],"readonly");if(r.error)return e(r.error);r.txn.objectStore(cu).get(t).onsuccess=function(t){var r=nr(t.target.result);r?e(null,r.rev_tree):e(I(Eo))}},t._doCompaction=function(t,e,r){var n=[cu,iu,au,su],o=sr(_,n,"readwrite");if(o.error)return r(o.error);var u=o.txn;u.objectStore(cu).get(t).onsuccess=function(r){var n=nr(r.target.result);G(n.rev_tree,function(t,r,n,o,u){var c=r+"-"+n;-1!==e.indexOf(c)&&(u.status="missing")}),ar(e,t,u);var o=n.winningRev,c=n.deleted;u.objectStore(cu).put(rr(n,o,c))},u.onabort=er(r),u.oncomplete=function(){r()}},t._getLocal=function(t,e){var r=sr(_,[lu],"readonly");if(r.error)return e(r.error);var n=r.txn,o=n.objectStore(lu).get(t);o.onerror=er(e),o.onsuccess=function(t){var r=t.target.result;r?(delete r._doc_id_rev,e(null,r)):e(I(Eo))}},t._putLocal=function(t,e,r){"function"==typeof e&&(r=e,e={}),delete t._revisions;var n=t._rev,o=t._id;t._rev=n?"0-"+(parseInt(n.split("-")[1],10)+1):"0-1";var u,c=e.ctx;if(!c){var i=sr(_,[lu],"readwrite");if(i.error)return r(i.error);c=i.txn,c.onerror=er(r),c.oncomplete=function(){u&&r(null,u)}}var a,s=c.objectStore(lu);n?(a=s.get(o),a.onsuccess=function(o){var c=o.target.result;if(c&&c._rev===n){s.put(t).onsuccess=function(){u={ok:!0,id:t._id,rev:t._rev},e.ctx&&r(null,u)}}else r(I(xo))}):(a=s.add(t),a.onerror=function(t){r(I(xo)),t.preventDefault(),t.stopPropagation()},a.onsuccess=function(){u={ok:!0,id:t._id,rev:t._rev},e.ctx&&r(null,u)})},t._removeLocal=function(t,e,r){"function"==typeof e&&(r=e,e={});var n=e.ctx;if(!n){var o=sr(_,[lu],"readwrite");if(o.error)return r(o.error);n=o.txn,n.oncomplete=function(){u&&r(null,u)}}var u,c=t._id,i=n.objectStore(lu),a=i.get(c);a.onerror=er(r),a.onsuccess=function(n){var o=n.target.result;o&&o._rev===t._rev?(i.delete(c),u={ok:!0,id:c,rev:"0-0"},e.ctx&&r(null,u)):r(I(Eo))}},t._destroy=function(t,e){du.removeAllListeners(l);var r=gu.get(l);r&&r.result&&(r.result.close(),vu.delete(l));var n=indexedDB.deleteDatabase(l);n.onsuccess=function(){gu.delete(l),T()&&l in localStorage&&delete localStorage[l],e(null,{ok:!0})},n.onerror=er(e)};var d=vu.get(l);if(d)return _=d.idb,t._meta=d.global,fo(function(){r(null,t)});var p;p=e.storage?kr(l,e.storage):indexedDB.open(l,uu),gu.set(l,p),p.onupgradeneeded=function(t){function e(){var t=l[_-1];_++,t&&t(f,e)}var r=t.target.result;if(t.oldVersion<1)return n(r);var f=t.currentTarget.transaction;t.oldVersion<3&&u(r),t.oldVersion<4&&i(r);var l=[o,c,a,s],_=t.oldVersion;e()},p.onsuccess=function(e){function n(){void 0!==i&&f&&(t._meta={name:l,instanceId:a,blobSupport:i},vu.set(l,{idb:_,global:t._meta}),r(null,t))}function o(){if(void 0!==c&&void 0!==u){var t=l+"_id";t in u?a=u[t]:u[t]=a=z(),u.docCount=c,s.objectStore(fu).put(u)}}_=e.target.result,_.onversionchange=function(){_.close(),vu.delete(l)},_.onabort=function(t){E("error","Database has a global failure",t.target.error),_.close(),vu.delete(l)};var u,c,i,a,s=_.transaction([fu,_u,cu],"readwrite"),f=!1;s.objectStore(fu).get(fu).onsuccess=function(t){u=t.target.result||{id:fu},o()},vr(s,function(t){c=t,o()}),Yo||(Yo=hr(s)),Yo.then(function(t){i=t,n()}),s.oncomplete=function(){f=!0,n()}},p.onerror=function(){var t="Failed to open indexedDB, are you in private browsing mode?";E("error",t),r(I(Bo,t))}}function kr(t,e){try{return indexedDB.open(t,{version:uu,storage:e})}catch(e){return indexedDB.open(t,uu)}}function Sr(t){return decodeURIComponent(escape(t))}function Er(t){return t<65?t-48:t-55}function xr(t,e,r){for(var n="";e<r;)n+=String.fromCharCode(Er(t.charCodeAt(e++))<<4|Er(t.charCodeAt(e++)));return n}function Ar(t,e,r){for(var n="";e<r;)n+=String.fromCharCode(Er(t.charCodeAt(e+2))<<12|Er(t.charCodeAt(e+3))<<8|Er(t.charCodeAt(e))<<4|Er(t.charCodeAt(e+1))),e+=4;return n}function Or(t,e){return"UTF-8"===e?Sr(xr(t,0,t.length)):Ar(t,0,t.length)}function qr(t){return"'"+t+"'"}function Ir(t){return t.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"")}function Nr(t){return t.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,"")}function Cr(t){return delete t._id,delete t._rev,JSON.stringify(t)}function jr(t,e,r){return t=JSON.parse(t),t._id=e,t._rev=r,t}function Mr(t){for(var e="(";t--;)e+="?",t&&(e+=",");return e+")"}function Dr(t,e,r,n,o){return"SELECT "+t+" FROM "+("string"==typeof e?e:e.join(" JOIN "))+(r?" ON "+r:"")+(n?" WHERE "+("string"==typeof n?n:n.join(" AND ")):"")+(o?" ORDER BY "+o:"")}function Br(t,e,r){function n(){++u===t.length&&o()}function o(){if(c.length){var t="SELECT DISTINCT digest AS digest FROM "+Eu+" WHERE seq IN "+Mr(c.length);r.executeSql(t,c,function(t,e){for(var r=[],n=0;n<e.rows.length;n++)r.push(e.rows.item(n).digest);if(r.length){var o="DELETE FROM "+Eu+" WHERE seq IN ("+c.map(function(){return"?"}).join(",")+")";t.executeSql(o,c,function(t){var e="SELECT digest FROM "+Eu+" WHERE digest IN ("+r.map(function(){return"?"}).join(",")+")";t.executeSql(e,r,function(t,e){for(var n=new mo,o=0;o<e.rows.length;o++)n.add(e.rows.item(o).digest);r.forEach(function(e){n.has(e)||(t.executeSql("DELETE FROM "+Eu+" WHERE digest=?",[e]),t.executeSql("DELETE FROM "+Tu+" WHERE digest=?",[e]))})})})}})}}if(t.length){var u=0,c=[];t.forEach(function(t){var o="SELECT seq FROM "+wu+" WHERE doc_id=? AND rev=?";r.executeSql(o,[e,t],function(t,e){if(!e.rows.length)return n();var r=e.rows.item(0).seq;c.push(r),t.executeSql("DELETE FROM "+wu+" WHERE seq=?",[r],n)})})}}function Rr(t){return function(e){E("error","WebSQL threw an error",e);var r=e&&e.constructor.toString().match(/function ([^\(]+)/),n=r&&r[1]||e.type,o=e.target||e.message;t(I(Ro,o,n))}}function Pr(t){return"size"in t?1e6*t.size:"undefined"!=typeof navigator&&/Android/.test(navigator.userAgent)?5e6:1}function Lr(t,e,r,n,o,u,c){function i(){if(y)return c(y);u.notify(n._name),c(null,b)}function a(t,e){var r="SELECT count(*) as cnt FROM "+Tu+" WHERE digest=?";m.executeSql(r,[t],function(r,n){if(0===n.rows.item(0).cnt){var o=I(Lo,"unknown stub attachment with digest "+t);e(o)}else e()})}function s(t){function e(){++o===r.length&&t(n)}var r=[];if(v.forEach(function(t){t.data&&t.data._attachments&&Object.keys(t.data._attachments).forEach(function(e){var n=t.data._attachments[e];n.stub&&r.push(n.digest)})}),!r.length)return t();var n,o=0;r.forEach(function(t){a(t,function(t){t&&!n&&(n=t),e()})})}function f(t,e,r,o,u,c,i,a){function s(){function e(t,e){function n(){return++o===u.length&&e(),!1}var o=0,u=Object.keys(r._attachments||{});if(!u.length)return e();for(var c=0;c<u.length;c++)!function(e){var o="INSERT INTO "+Eu+" (digest, seq) VALUES (?,?)",u=[r._attachments[e].digest,t];m.executeSql(o,u,n,n)}(u[c])}var r=t.data,n=o?1:0,u=r._id,c=r._rev,i=Cr(r),a="INSERT INTO "+wu+" (doc_id, rev, json, deleted) VALUES (?, ?, ?, ?);",s=[u,c,i,n];m.executeSql(a,s,function(t,r){var n=r.insertId;e(n,function(){_(t,n)})},function(){var t=Dr("seq",wu,null,"doc_id=? AND rev=?");return m.executeSql(t,[u,c],function(t,r){var o=r.rows.item(0).seq,a="UPDATE "+wu+" SET json=?, deleted=? WHERE doc_id=? AND rev=?;",s=[i,n,u,c];t.executeSql(a,s,function(t){e(o,function(){_(t,o)})})}),!1})}function f(t){p||(t?(p=t,a(p)):h===v.length&&s())}function l(t){h++,f(t)}function _(r,o){var c=t.metadata.id,s=t.stemmedRevs||[];u&&n.auto_compaction&&(s=Y(t.metadata).concat(s)),s.length&&Br(s,c,r),t.metadata.seq=o;var f=t.metadata.rev;delete t.metadata.rev;var l=u?"UPDATE "+bu+" SET json=?, max_seq=?, winningseq=(SELECT seq FROM "+wu+" WHERE doc_id="+bu+".id AND rev=?) WHERE id=?":"INSERT INTO "+bu+" (id, winningseq, max_seq, json) VALUES (?,?,?,?);",_=tr(t.metadata),d=u?[_,o,e,c]:[c,o,o,_];r.executeSql(l,d,function(){b[i]={ok:!0,id:t.metadata.id,rev:f},w.set(c,t.metadata),a()})}var p=null,h=0;t.data._id=t.metadata.id,t.data._rev=t.metadata.rev;var v=Object.keys(t.data._attachments||{});o&&(t.data._deleted=!0),v.forEach(function(r){var n=t.data._attachments[r];if(n.stub)h++,f();else{var o=n.data;delete n.data,n.revpos=parseInt(e,10);d(n.digest,o,l)}}),v.length||s()}function l(){Ye(t.revs_limit,v,n,w,m,b,f,r)}function _(t){function e(){++r===v.length&&t()}if(!v.length)return t();var r=0;v.forEach(function(t){if(t._id&&_t(t._id))return e();var r=t.metadata.id;m.executeSql("SELECT json FROM "+bu+" WHERE id = ?",[r],function(t,n){if(n.rows.length){var o=Ze(n.rows.item(0).json);w.set(r,o)}e()})})}function d(t,e,r){var n="SELECT digest FROM "+Tu+" WHERE digest=?";m.executeSql(n,[t],function(o,u){if(u.rows.length)return r();n="INSERT INTO "+Tu+" (digest, body, escaped) VALUES (?,?,1)",o.executeSql(n,[t,Ir(e)],function(){r()},function(){return r(),!1})})}var p=r.new_edits,h=e.docs,v=h.map(function(t){return t._id&&_t(t._id)?t:qe(t,p)}),g=v.filter(function(t){return t.error});if(g.length)return c(g[0]);var m,y,b=new Array(v.length),w=new yo;Ke(v,"binary",function(t){if(t)return c(t);o.transaction(function(t){m=t,s(function(t){t?y=t:_(l)})},Rr(c),i)})}function Fr(t){return t.websql(t.name,t.version,t.description,t.size)}function $r(t){try{return{db:Fr(t)}}catch(t){return{error:t}}}function Ur(t){var e=xu.get(t.name);return e||(e=$r(t),xu.set(t.name,e)),e}function Vr(t,e,r,n,o){function u(){++a===i.length&&o&&o()}function c(t,o){var c=t._attachments[o],i={binary:e.binary,ctx:n};r._getAttachment(t._id,o,c,i,function(e,r){t._attachments[o]=ko(g(c,["digest","content_type"]),{data:r}),u()})}var i=Object.keys(t._attachments||{});if(!i.length)return o&&o();var a=0;i.forEach(function(r){e.attachments&&e.include_docs?c(t,r):(t._attachments[r].stub=!0,u())})}function Jr(t,e){function r(){T()&&(window.localStorage["_pouch__websqldb_"+y._name]=!0),e(null,y)}function n(t,e){t.executeSql(Nu),t.executeSql("ALTER TABLE "+wu+" ADD COLUMN deleted TINYINT(1) DEFAULT 0",[],function(){t.executeSql(qu),t.executeSql("ALTER TABLE "+bu+" ADD COLUMN local TINYINT(1) DEFAULT 0",[],function(){t.executeSql("CREATE INDEX IF NOT EXISTS 'doc-store-local-idx' ON "+bu+" (local, id)");var r="SELECT "+bu+".winningseq AS seq, "+bu+".json AS metadata FROM "+wu+" JOIN "+bu+" ON "+wu+".seq = "+bu+".winningseq";t.executeSql(r,[],function(t,r){for(var n=[],o=[],u=0;u<r.rows.length;u++){var c=r.rows.item(u),i=c.seq,a=JSON.parse(c.metadata);lt(a)&&n.push(i),_t(a.id)&&o.push(a.id)}t.executeSql("UPDATE "+bu+"SET local = 1 WHERE id IN "+Mr(o.length),o,function(){t.executeSql("UPDATE "+wu+" SET deleted = 1 WHERE seq IN "+Mr(n.length),n,e)})})})})}function o(t,e){var r="CREATE TABLE IF NOT EXISTS "+ku+" (id UNIQUE, rev, json)";t.executeSql(r,[],function(){var r="SELECT "+bu+".id AS id, "+wu+".json AS data FROM "+wu+" JOIN "+bu+" ON "+wu+".seq = "+bu+".winningseq WHERE local = 1";t.executeSql(r,[],function(t,r){function n(){if(!o.length)return e(t);var r=o.shift(),u=JSON.parse(r.data)._rev;t.executeSql("INSERT INTO "+ku+" (id, rev, json) VALUES (?,?,?)",[r.id,u,r.data],function(t){t.executeSql("DELETE FROM "+bu+" WHERE id=?",[r.id],function(t){t.executeSql("DELETE FROM "+wu+" WHERE seq=?",[r.seq],function(){n()})})})}for(var o=[],u=0;u<r.rows.length;u++)o.push(r.rows.item(u));n()})})}function u(t,e){function r(r){function n(){if(!r.length)return e(t);var o=r.shift(),u=Or(o.hex,m),c=u.lastIndexOf("::"),i=u.substring(0,c),a=u.substring(c+2),s="UPDATE "+wu+" SET doc_id=?, rev=? WHERE doc_id_rev=?";t.executeSql(s,[i,a,u],function(){n()})}n()}var n="ALTER TABLE "+wu+" ADD COLUMN doc_id";t.executeSql(n,[],function(t){var e="ALTER TABLE "+wu+" ADD COLUMN rev";t.executeSql(e,[],function(t){t.executeSql(Iu,[],function(t){var e="SELECT hex(doc_id_rev) as hex FROM "+wu;t.executeSql(e,[],function(t,e){for(var n=[],o=0;o<e.rows.length;o++)n.push(e.rows.item(o));r(n)})})})})}function c(t,e){function r(t){var r="SELECT COUNT(*) AS cnt FROM "+Tu;t.executeSql(r,[],function(t,r){function n(){var r=Dr(Du+", "+bu+".id AS id",[bu,wu],Mu,null,bu+".id ");r+=" LIMIT "+u+" OFFSET "+o,o+=u,t.executeSql(r,[],function(t,r){if(!r.rows.length)return e(t);for(var o={},u=0;u<r.rows.length;u++)for(var c=r.rows.item(u),i=jr(c.data,c.id,c.rev),a=Object.keys(i._attachments||{}),s=0;s<a.length;s++){var f=i._attachments[a[s]];!function(t,e){var r=o[t]=o[t]||[];-1===r.indexOf(e)&&r.push(e)}(f.digest,c.seq)}var l=[];if(Object.keys(o).forEach(function(t){o[t].forEach(function(e){l.push([t,e])})}),!l.length)return n();var _=0;l.forEach(function(e){var r="INSERT INTO "+Eu+" (digest, seq) VALUES (?,?)";t.executeSql(r,e,function(){++_===l.length&&n()})})})}if(!r.rows.item(0).cnt)return e(t);var o=0,u=10;n()})}var n="CREATE TABLE IF NOT EXISTS "+Eu+" (digest, seq INTEGER)";t.executeSql(n,[],function(t){t.executeSql(ju,[],function(t){t.executeSql(Cu,[],r)})})}function i(t,e){var r="ALTER TABLE "+Tu+" ADD COLUMN escaped TINYINT(1) DEFAULT 0";t.executeSql(r,[],e)}function s(t,e){var r="ALTER TABLE "+bu+" ADD COLUMN max_seq INTEGER";t.executeSql(r,[],function(t){var r="UPDATE "+bu+" SET max_seq=(SELECT MAX(seq) FROM "+wu+" WHERE doc_id=id)";t.executeSql(r,[],function(t){var r="CREATE UNIQUE INDEX IF NOT EXISTS 'doc-max-seq-idx' ON "+bu+" (max_seq)";t.executeSql(r,[],e)})})}function l(t,e){t.executeSql('SELECT HEX("a") AS hex',[],function(t,r){var n=r.rows.item(0).hex;m=2===n.length?"UTF-8":"UTF-16",e()})}function _(){for(;k.length>0;){k.pop()(null,b)}}function d(t,e){if(0===e){var r="CREATE TABLE IF NOT EXISTS "+Su+" (dbid, db_version INTEGER)",a="CREATE TABLE IF NOT EXISTS "+Tu+" (digest UNIQUE, escaped TINYINT(1), body BLOB)",f="CREATE TABLE IF NOT EXISTS "+Eu+" (digest, seq INTEGER)",l="CREATE TABLE IF NOT EXISTS "+bu+" (id unique, json, winningseq, max_seq INTEGER UNIQUE)",d="CREATE TABLE IF NOT EXISTS "+wu+" (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, json, deleted TINYINT(1), doc_id, rev)",p="CREATE TABLE IF NOT EXISTS "+ku+" (id UNIQUE, rev, json)";t.executeSql(a),t.executeSql(p),t.executeSql(f,[],function(){t.executeSql(Cu),t.executeSql(ju)}),t.executeSql(l,[],function(){t.executeSql(Nu),t.executeSql(d,[],function(){t.executeSql(qu),t.executeSql(Iu),t.executeSql(r,[],function(){var e="INSERT INTO "+Su+" (db_version, dbid) VALUES (?,?)";b=z();var r=[yu,b];t.executeSql(e,r,function(){_()})})})})}else{var h=function(){e<yu&&t.executeSql("UPDATE "+Su+" SET db_version = "+yu);var r="SELECT dbid FROM "+Su;t.executeSql(r,[],function(t,e){b=e.rows.item(0).dbid,_()})},v=[n,o,u,c,i,s,h],g=e,m=function(t){v[g-1](t,m),g++};m(t)}}function p(t){var e="SELECT sql FROM sqlite_master WHERE tbl_name = "+Su;t.executeSql(e,[],function(t,e){e.rows.length?/db_version/.test(e.rows.item(0).sql)?t.executeSql("SELECT db_version FROM "+Su,[],function(t,e){d(t,e.rows.item(0).db_version)}):t.executeSql("ALTER TABLE "+Su+" ADD COLUMN db_version INTEGER",[],function(){d(t,1)}):d(t,0)})}function h(t,e){var r="SELECT MAX(seq) AS seq FROM "+wu;t.executeSql(r,[],function(t,r){var n=r.rows.item(0).seq||0;e(n)})}function v(t,e){var r=Dr("COUNT("+bu+".id) AS 'num'",[bu,wu],Mu,wu+".deleted=0");t.executeSql(r,[],function(t,r){e(r.rows.item(0).num)})}function g(t,e,r,n,o){var u=Dr(Du,[bu,wu],Mu,bu+".id=?"),c=[e];t.executeSql(u,c,function(t,e){if(!e.rows.length){var u=I(Eo,"missing");return o(u)}var c=e.rows.item(0),i=Ze(c.metadata);n(dt(r,i))})}var m,y=this,b=null,w=Pr(t),k=[];y._name=t.name;var S=ko({},t,{version:Ou,description:t.name,size:w}),E=Ur(S);if(E.error)return Rr(e)(E.error);var x=E.db;"function"!=typeof x.readTransaction&&(x.readTransaction=x.transaction),function(){x.transaction(function(t){l(t,function(){p(t)})},Rr(e),r)}(),y._remote=!1,y.type=function(){return"websql"},y._id=f(function(t){t(null,b)}),y._info=function(t){var e,r;x.readTransaction(function(t){h(t,function(t){e=t}),v(t,function(t){r=t})},Rr(t),function(){t(null,{doc_count:r,update_seq:e,websql_encoding:m})})},y._bulkDocs=function(e,r,n){Lr(t,e,r,y,x,Au,n)},y._get=function(t,e,r){function n(t){r(t,{doc:o,metadata:u,ctx:c})}var o,u,c=e.ctx;if(!c)return x.readTransaction(function(n){y._get(t,ko({ctx:n},e),r)});var i,a;if(e.rev){if(e.latest)return void g(c,t,e.rev,function(n){e.latest=!1,e.rev=n,y._get(t,e,r)},n);i=Dr(Du,[bu,wu],bu+".id="+wu+".doc_id",[wu+".doc_id=?",wu+".rev=?"]),a=[t,e.rev]}else i=Dr(Du,[bu,wu],Mu,bu+".id=?"),a=[t];c.executeSql(i,a,function(t,r){if(!r.rows.length){return n(I(Eo,"missing"))}var c=r.rows.item(0);if(u=Ze(c.metadata),c.deleted&&!e.rev){return n(I(Eo,"deleted"))}o=jr(c.data,u.id,c.rev),n()})},y._allDocs=function(t,e){var r,n=[],o="startkey"in t&&t.startkey,u="endkey"in t&&t.endkey,c="key"in t&&t.key,i="descending"in t&&t.descending,a="limit"in t?t.limit:-1,s="skip"in t?t.skip:0,f=!1!==t.inclusive_end,l=[],_=[];if(!1!==c)_.push(bu+".id = ?"),l.push(c);else if(!1!==o||!1!==u){if(!1!==o&&(_.push(bu+".id "+(i?"<=":">=")+" ?"),l.push(o)),!1!==u){var d=i?">":"<";f&&(d+="="),_.push(bu+".id "+d+" ?"),l.push(u)}!1!==c&&(_.push(bu+".id = ?"),l.push(c))}"ok"!==t.deleted&&_.push(wu+".deleted = 0"),x.readTransaction(function(e){if(v(e,function(t){r=t}),0!==a){var o=Dr(Du,[bu,wu],Mu,_,bu+".id "+(i?"DESC":"ASC"));o+=" LIMIT "+a+" OFFSET "+s,e.executeSql(o,l,function(e,r){for(var o=0,u=r.rows.length;o<u;o++){var c=r.rows.item(o),i=Ze(c.metadata),a=i.id,s=jr(c.data,a,c.rev),f=s._rev,l={id:a,key:a,value:{rev:f}};if(t.include_docs){if(l.doc=s,l.doc._rev=f,t.conflicts){var _=Q(i);_.length&&(l.doc._conflicts=_)}Vr(l.doc,t,y,e)}if(c.deleted){if("ok"!==t.deleted)continue;l.value.deleted=!0,l.doc=null}n.push(l)}})}},Rr(e),function(){e(null,{total_rows:r,offset:t.skip,rows:n})})},y._changes=function(t){if(t=a(t),t.continuous){var e=y._name+":"+z();return Au.addListener(y._name,e,y,t),Au.notify(y._name),{cancel:function(){Au.removeListener(y._name,e)}}}var r=t.descending;t.since=t.since&&!r?t.since:0;var n="limit"in t?t.limit:-1;0===n&&(n=1);var o;o="return_docs"in t?t.return_docs:!("returnDocs"in t)||t.returnDocs;var u=[],c=0;!function(){var e=bu+".json AS metadata, "+bu+".max_seq AS maxSeq, "+wu+".json AS winningDoc, "+wu+".rev AS winningRev ",i=bu+" JOIN "+wu,a=bu+".id="+wu+".doc_id AND "+bu+".winningseq="+wu+".seq",s=["maxSeq > ?"],f=[t.since];t.doc_ids&&(s.push(bu+".id IN "+Mr(t.doc_ids.length)),f=f.concat(t.doc_ids));var l="maxSeq "+(r?"DESC":"ASC"),_=Dr(e,i,a,s,l),d=j(t);t.view||t.filter||(_+=" LIMIT "+n);var p=t.since||0;x.readTransaction(function(e){e.executeSql(_,f,function(e,r){function i(e){return function(){t.onChange(e)}}for(var a=0,s=r.rows.length;a<s;a++){var f=r.rows.item(a),l=Ze(f.metadata);p=f.maxSeq;var _=jr(f.winningDoc,l.id,f.winningRev),h=t.processChange(_,l,t);h.seq=f.maxSeq;var v=d(h);if("object"==typeof v)return t.complete(v);if(v&&(c++,o&&u.push(h),t.attachments&&t.include_docs?Vr(_,t,y,e,i(h)):i(h)()),c===n)break}})},Rr(t.complete),function(){t.continuous||t.complete(null,{results:u,last_seq:p})})}()},y._close=function(t){t()},y._getAttachment=function(t,e,r,n,o){var u,c=n.ctx,i=r.digest,a=r.content_type,s="SELECT escaped, CASE WHEN escaped = 1 THEN body ELSE HEX(body) END AS body FROM "+Tu+" WHERE digest=?";c.executeSql(s,[i],function(t,e){var r=e.rows.item(0),c=r.escaped?Nr(r.body):Or(r.body,m);u=n.binary?Ce(c,a):ru(c),o(null,u)})},y._getRevisionTree=function(t,e){x.readTransaction(function(r){var n="SELECT json AS metadata FROM "+bu+" WHERE id = ?";r.executeSql(n,[t],function(t,r){if(r.rows.length){var n=Ze(r.rows.item(0).metadata);e(null,n.rev_tree)}else e(I(Eo))})})},y._doCompaction=function(t,e,r){if(!e.length)return r();x.transaction(function(r){var n="SELECT json AS metadata FROM "+bu+" WHERE id = ?";r.executeSql(n,[t],function(r,n){var o=Ze(n.rows.item(0).metadata);G(o.rev_tree,function(t,r,n,o,u){var c=r+"-"+n;-1!==e.indexOf(c)&&(u.status="missing")});var u="UPDATE "+bu+" SET json = ? WHERE id = ?";r.executeSql(u,[tr(o),t])}),Br(e,t,r)},Rr(r),function(){r()})},y._getLocal=function(t,e){x.readTransaction(function(r){var n="SELECT json, rev FROM "+ku+" WHERE id=?";r.executeSql(n,[t],function(r,n){if(n.rows.length){var o=n.rows.item(0),u=jr(o.json,t,o.rev);e(null,u)}else e(I(Eo))})})},y._putLocal=function(t,e,r){function n(t){var n,s;u?(n="UPDATE "+ku+" SET rev=?, json=? WHERE id=? AND rev=?",s=[o,a,c,u]):(n="INSERT INTO "+ku+" (id, rev, json) VALUES (?,?,?)",s=[c,o,a]),t.executeSql(n,s,function(t,n){n.rowsAffected?(i={ok:!0,id:c,rev:o},e.ctx&&r(null,i)):r(I(xo))},function(){return r(I(xo)),!1})}"function"==typeof e&&(r=e,e={}),delete t._revisions;var o,u=t._rev,c=t._id;o=t._rev=u?"0-"+(parseInt(u.split("-")[1],10)+1):"0-1";var i,a=Cr(t);e.ctx?n(e.ctx):x.transaction(n,Rr(r),function(){i&&r(null,i)})},y._removeLocal=function(t,e,r){function n(n){var u="DELETE FROM "+ku+" WHERE id=? AND rev=?",c=[t._id,t._rev];n.executeSql(u,c,function(n,u){if(!u.rowsAffected)return r(I(Eo));o={ok:!0,id:t._id,rev:"0-0"},e.ctx&&r(null,o)})}"function"==typeof e&&(r=e,e={});var o;e.ctx?n(e.ctx):x.transaction(n,Rr(r),function(){o&&r(null,o)})},y._destroy=function(t,e){Au.removeAllListeners(y._name),x.transaction(function(t){[bu,wu,Tu,Su,ku,Eu].forEach(function(e){t.executeSql("DROP TABLE IF EXISTS "+e,[])})},Rr(e),function(){T()&&(delete window.localStorage["_pouch__websqldb_"+y._name],delete window.localStorage[y._name]),e(null,{ok:!0})})}}function Hr(){try{return openDatabase("_pouch_validate_websql",1,"",1),!0}catch(t){return!1}}function zr(){if("undefined"==typeof indexedDB||null===indexedDB||!/iP(hone|od|ad)/.test(navigator.userAgent))return!0;var t=T(),e="_pouch__websqldb_valid_"+navigator.userAgent;if(t&&localStorage[e])return"1"===localStorage[e];var r=Hr();return t&&(localStorage[e]=r?"1":"0"),r}function Wr(){return"function"==typeof openDatabase&&zr()}function Gr(t,e,r,n){return openDatabase(t,e,r,n)}function Kr(t,e){var r=ko({websql:Gr},t);Jr.call(this,r,e)}function Xr(){for(var t={},e=new ho(function(e,r){t.resolve=e,t.reject=r}),r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.promise=e,ho.resolve().then(function(){return fetch.apply(null,r)}).then(function(e){t.resolve(e)}).catch(function(e){t.reject(e)}),t}function Qr(t,e){var r,n,o,u=new Headers,c={method:t.method,credentials:"include",headers:u};return t.json&&(u.set("Accept","application/json"),u.set("Content-Type",t.headers["Content-Type"]||"application/json")),t.body&&t.processData&&"string"!=typeof t.body?c.body=JSON.stringify(t.body):c.body="body"in t?t.body:null,Object.keys(t.headers).forEach(function(e){t.headers.hasOwnProperty(e)&&u.set(e,t.headers[e])}),r=Xr(t.url,c),t.timeout>0&&(n=setTimeout(function(){r.reject(new Error("Load timeout for resource: "+t.url))},t.timeout)),r.promise.then(function(e){return o={statusCode:e.status},t.timeout>0&&clearTimeout(n),o.statusCode>=200&&o.statusCode<300?t.binary?e.blob():e.text():e.json()}).then(function(t){o.statusCode>=200&&o.statusCode<300?e(null,o,t):(t.status=o.statusCode,e(t))}).catch(function(t){t||(t=new Error("canceled")),e(t)}),{abort:r.reject}}function Yr(t,e){var r,n,o=!1,u=function(){r.abort(),a()},c=function(){o=!0,r.abort(),a()},i={abort:u},a=function(){clearTimeout(n),i.abort=function(){},r&&(r.onprogress=void 0,r.upload&&(r.upload.onprogress=void 0),r.onreadystatechange=void 0,r=void 0)};r=t.xhr?new t.xhr:new XMLHttpRequest;try{r.open(t.method,t.url)}catch(t){return e(new Error(t.name||"Url is invalid"))}r.withCredentials=!("withCredentials"in t)||t.withCredentials,"GET"===t.method?delete t.headers["Content-Type"]:t.json&&(t.headers.Accept="application/json",t.headers["Content-Type"]=t.headers["Content-Type"]||"application/json",t.body&&t.processData&&"string"!=typeof t.body&&(t.body=JSON.stringify(t.body))),t.binary&&(r.responseType="arraybuffer"),"body"in t||(t.body=null);for(var s in t.headers)t.headers.hasOwnProperty(s)&&r.setRequestHeader(s,t.headers[s]);return t.timeout>0&&(n=setTimeout(c,t.timeout),r.onprogress=function(){clearTimeout(n),4!==r.readyState&&(n=setTimeout(c,t.timeout))},void 0!==r.upload&&(r.upload.onprogress=r.onprogress)),r.onreadystatechange=function(){if(4===r.readyState){var n={statusCode:r.status};if(r.status>=200&&r.status<300){var u;u=t.binary?Ie([r.response||""],{type:r.getResponseHeader("Content-Type")}):r.responseText,e(null,n,u)}else{var c={};if(o)c=new Error("ETIMEDOUT"),c.code="ETIMEDOUT";else if("string"==typeof r.response)try{c=JSON.parse(r.response)}catch(t){}c.status=r.status,e(c)}a()}},t.body&&t.body instanceof Blob?Pe(t.body,function(t){r.send(t)}):r.send(t.body),i}function Zr(t,e){return Ru||t.xhr?Yr(t,e):Qr(t,e)}function tn(){return""}function en(t,e){function r(e,r,n){if(!t.binary&&t.json&&"string"==typeof e)try{e=JSON.parse(e)}catch(t){return n(t)}Array.isArray(e)&&(e=e.map(function(t){return t.error||t.missing?N(t):t})),t.binary&&Pu(e,r),n(null,e,r)}return t=a(t),t=ko({method:"GET",headers:{},json:!0,processData:!0,timeout:1e4,cache:!1},t),t.json&&(t.binary||(t.headers.Accept="application/json"),t.headers["Content-Type"]=t.headers["Content-Type"]||"application/json"),t.binary&&(t.encoding=null,t.json=!1),t.processData||(t.json=!1),Zr(t,function(n,o,u){if(n)return e(N(n));var c,i=o.headers&&o.headers["content-type"],a=u||tn();if(!t.binary&&(t.json||!t.processData)&&"object"!=typeof a&&(/json/.test(i)||/^[\s]*\{/.test(a)&&/\}[\s]*$/.test(a)))try{a=JSON.parse(a.toString())}catch(t){}o.statusCode>=200&&o.statusCode<300?r(a,o,e):(c=N(a),c.status=o.statusCode,e(c))})}function rn(t,e){var r=navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",n=-1!==r.indexOf("safari")&&-1===r.indexOf("chrome"),o=-1!==r.indexOf("msie"),u=-1!==r.indexOf("edge"),c=n||(o||u)&&"GET"===t.method,i=!("cache"in t)||t.cache;if(!/^blob:/.test(t.url)&&(c||!i)){var a=-1!==t.url.indexOf("?");t.url+=(a?"&":"?")+"_nonce="+Date.now()}return en(t,e)}function nn(t,e){return new ho(function(r,n){function o(){f++,t[l++]().then(c,i)}function u(){++_===d?s?n(s):r():a()}function c(){f--,u()}function i(t){f--,s=s||t,u()}function a(){for(;f<e&&l<d;)o()}var s,f=0,l=0,_=0,d=t.length;a()})}function on(t){var e=t.doc&&t.doc._attachments;e&&Object.keys(e).forEach(function(t){var r=e[t];r.data=je(r.data,r.content_type)})}function un(t){return/^_design/.test(t)?"_design/"+encodeURIComponent(t.slice(8)):/^_local/.test(t)?"_local/"+encodeURIComponent(t.slice(7)):encodeURIComponent(t)}function cn(t){return t._attachments&&Object.keys(t._attachments)?ho.all(Object.keys(t._attachments).map(function(e){var r=t._attachments[e];if(r.data&&"string"!=typeof r.data)return new ho(function(t){Re(r.data,t)}).then(function(t){r.data=t})})):ho.resolve()}function an(t){if(!t.prefix)return!1;var e=$(t.prefix).protocol;return"http"===e||"https"===e}function sn(t,e){if(an(e)){var r=e.name.substr(e.prefix.length);t=e.prefix+encodeURIComponent(r)}var n=$(t);(n.user||n.password)&&(n.auth={username:n.user,password:n.password});var o=n.path.replace(/(^\/|\/$)/g,"").split("/");return n.db=o.pop(),-1===n.db.indexOf("%")&&(n.db=encodeURIComponent(n.db)),n.path=o.join("/"),n}function fn(t,e){return ln(t,t.db+"/"+e)}function ln(t,e){var r=t.path?"/":"";return t.protocol+"://"+t.host+(t.port?":"+t.port:"")+"/"+t.path+r+e}function _n(t){return"?"+Object.keys(t).map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&")}function dn(t,e){function r(t,e,r){var n=t.ajax||{},o=ko(a(l),n,e),u=a(l.headers||{});return o.headers=ko(u,n.headers,e.headers||{}),i.constructor.listeners("debug").length&&i.constructor.emit("debug",["http",o.method,o.url]),i._ajax(o,r)}function n(t,e){return new ho(function(n,o){r(t,e,function(t,e){if(t)return o(t);n(e)})})}function o(t,e){return _(t,io(function(t){u().then(function(){return e.apply(this,t)}).catch(function(e){t.pop()(e)})}))}function u(){return t.skipSetup||t.skip_setup?ho.resolve():v||(v=n({},{method:"GET",url:f}).catch(function(t){return t&&t.status&&404===t.status?(O(404,"PouchDB is just detecting if the remote exists."),n({},{method:"PUT",url:f})):ho.reject(t)}).catch(function(t){return!(!t||!t.status||412!==t.status)||ho.reject(t)}),v.catch(function(){v=null}),v)}function c(t){return t.split("/").map(encodeURIComponent).join("/")}var i=this,s=sn(t.name,t),f=fn(s,"");t=a(t);var l=t.ajax||{};if(t.auth||s.auth){var d=t.auth||s.auth,p=d.username+":"+d.password,h=ru(unescape(encodeURIComponent(p)));l.headers=l.headers||{},l.headers.Authorization="Basic "+h}i._ajax=rn;var v;fo(function(){e(null,i)}),i._remote=!0,i.type=function(){return"http"},i.id=o("id",function(t){r({},{method:"GET",url:ln(s,"")},function(e,r){var n=r&&r.uuid?r.uuid+s.db:fn(s,"");t(null,n)})}),i.request=o("request",function(t,e){t.url=fn(s,t.url),r({},t,e)}),i.compact=o("compact",function(t,e){"function"==typeof t&&(e=t,t={}),t=a(t),r(t,{url:fn(s,"_compact"),method:"POST"},function(){function r(){i.info(function(n,o){o&&!o.compact_running?e(null,{ok:!0}):setTimeout(r,t.interval||200)})}r()})}),i.bulkGet=_("bulkGet",function(t,e){function n(e){var n={};t.revs&&(n.revs=!0),t.attachments&&(n.attachments=!0),t.latest&&(n.latest=!0),r(t,{url:fn(s,"_bulk_get"+_n(n)),method:"POST",body:{docs:t.docs}},e)}function o(){for(var r=Fu,n=Math.ceil(t.docs.length/r),o=0,c=new Array(n),i=0;i<n;i++){var a=g(t,["revs","attachments","latest"]);a.ajax=l,a.docs=t.docs.slice(i*r,Math.min(t.docs.length,(i+1)*r)),b(u,a,function(t){return function(r,u){c[t]=u.results,++o===n&&e(null,{results:M(c)})}}(i))}}var u=this,c=ln(s,""),i=$u[c];"boolean"!=typeof i?n(function(t,r){t?($u[c]=!1,O(t.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),o()):($u[c]=!0,e(null,r))}):i?n(e):o()}),i._info=function(t){u().then(function(){r({},{method:"GET",url:fn(s,"")},function(e,r){if(e)return t(e);r.host=fn(s,""),t(null,r)})}).catch(t)},i.get=o("get",function(t,e,r){function o(t){function r(r){var u=o[r],i=un(t._id)+"/"+c(r)+"?rev="+t._rev;return n(e,{method:"GET",url:fn(s,i),binary:!0}).then(function(t){return e.binary?t:new ho(function(e){Re(t,e)})}).then(function(t){delete u.stub,delete u.length,u.data=t})}var o=t._attachments,u=o&&Object.keys(o);if(o&&u.length){return nn(u.map(function(t){return function(){return r(t)}}),5)}}function u(t){return Array.isArray(t)?ho.all(t.map(function(t){if(t.ok)return o(t.ok)})):o(t)}"function"==typeof e&&(r=e,e={}),e=a(e);var i={};e.revs&&(i.revs=!0),e.revs_info&&(i.revs_info=!0),e.latest&&(i.latest=!0),e.open_revs&&("all"!==e.open_revs&&(e.open_revs=JSON.stringify(e.open_revs)),i.open_revs=e.open_revs),e.rev&&(i.rev=e.rev),e.conflicts&&(i.conflicts=e.conflicts),t=un(t);var f={method:"GET",url:fn(s,t+_n(i))};n(e,f).then(function(t){return ho.resolve().then(function(){if(e.attachments)return u(t)}).then(function(){r(null,t)})}).catch(r)}),i.remove=o("remove",function(t,e,n,o){var u;"string"==typeof e?(u={_id:t,_rev:e},"function"==typeof n&&(o=n,n={})):(u=t,"function"==typeof e?(o=e,n={}):(o=n,n=e));var c=u._rev||n.rev;r(n,{method:"DELETE",url:fn(s,un(u._id))+"?rev="+c},o)}),i.getAttachment=o("getAttachment",function(t,e,n,o){"function"==typeof n&&(o=n,n={});var u=n.rev?"?rev="+n.rev:"";r(n,{method:"GET",url:fn(s,un(t))+"/"+c(e)+u,binary:!0},o)}),i.removeAttachment=o("removeAttachment",function(t,e,n,o){r({},{method:"DELETE",url:fn(s,un(t)+"/"+c(e))+"?rev="+n},o)}),i.putAttachment=o("putAttachment",function(t,e,n,o,u,i){"function"==typeof u&&(i=u,u=o,o=n,n=null);var a=un(t)+"/"+c(e),f=fn(s,a);if(n&&(f+="?rev="+n),"string"==typeof o){var _;try{_=eu(o)}catch(t){return i(I(No,"Attachment is not a valid base64 string"))}o=_?Ce(_,u):""}r({},{headers:{"Content-Type":u},method:"PUT",url:f,processData:!1,body:o,timeout:l.timeout||6e4},i)}),i._bulkDocs=function(t,e,n){t.new_edits=e.new_edits,u().then(function(){return ho.all(t.docs.map(cn))}).then(function(){r(e,{method:"POST",url:fn(s,"_bulk_docs"),timeout:e.timeout,body:t},function(t,e){if(t)return n(t);e.forEach(function(t){t.ok=!0}),n(null,e)})}).catch(n)},i._put=function(t,e,n){u().then(function(){return cn(t)}).then(function(){r(e,{method:"PUT",url:fn(s,un(t._id)),body:t},function(t,e){if(t)return n(t);n(null,e)})}).catch(n)},i.allDocs=o("allDocs",function(t,e){"function"==typeof t&&(e=t,t={}),t=a(t);var r,o={},u="GET";t.conflicts&&(o.conflicts=!0),t.descending&&(o.descending=!0),t.include_docs&&(o.include_docs=!0),t.attachments&&(o.attachments=!0),t.key&&(o.key=JSON.stringify(t.key)),t.start_key&&(t.startkey=t.start_key),t.startkey&&(o.startkey=JSON.stringify(t.startkey)),t.end_key&&(t.endkey=t.end_key),t.endkey&&(o.endkey=JSON.stringify(t.endkey)),void 0!==t.inclusive_end&&(o.inclusive_end=!!t.inclusive_end),void 0!==t.limit&&(o.limit=t.limit),void 0!==t.skip&&(o.skip=t.skip);var c=_n(o);void 0!==t.keys&&(u="POST",r={keys:t.keys}),n(t,{method:u,url:fn(s,"_all_docs"+c),body:r}).then(function(r){t.include_docs&&t.attachments&&t.binary&&r.rows.forEach(on),e(null,r)}).catch(e)}),i._changes=function(t){var e="batch_size"in t?t.batch_size:Lu;t=a(t),t.timeout="timeout"in t?t.timeout:"timeout"in l?l.timeout:3e4;var n,o=t.timeout?{timeout:t.timeout-5e3}:{},c=void 0!==t.limit&&t.limit;n="return_docs"in t?t.return_docs:!("returnDocs"in t)||t.returnDocs;var i=c;if(t.style&&(o.style=t.style),(t.include_docs||t.filter&&"function"==typeof t.filter)&&(o.include_docs=!0),t.attachments&&(o.attachments=!0),t.continuous&&(o.feed="longpoll"),t.conflicts&&(o.conflicts=!0),t.descending&&(o.descending=!0),"heartbeat"in t?t.heartbeat&&(o.heartbeat=t.heartbeat):t.continuous&&(o.heartbeat=1e4),t.filter&&"string"==typeof t.filter&&(o.filter=t.filter),t.view&&"string"==typeof t.view&&(o.filter="_view",o.view=t.view),t.query_params&&"object"==typeof t.query_params)for(var f in t.query_params)t.query_params.hasOwnProperty(f)&&(o[f]=t.query_params[f]);var _,d="GET";t.doc_ids?(o.filter="_doc_ids",d="POST",_={doc_ids:t.doc_ids}):t.selector&&(o.filter="_selector",d="POST",_={selector:t.selector});var p,h,v=function(n,a){if(!t.aborted){o.since=n,"object"==typeof o.since&&(o.since=JSON.stringify(o.since)),t.descending?c&&(o.limit=i):o.limit=!c||i>e?e:i;var f={method:d,url:fn(s,"_changes"+_n(o)),timeout:t.timeout,body:_};h=n,t.aborted||u().then(function(){p=r(t,f,a)}).catch(a)}},g={results:[]},m=function(r,o){if(!t.aborted){var u=0;if(o&&o.results){u=o.results.length,g.last_seq=o.last_seq;({}).query=t.query_params,o.results=o.results.filter(function(e){i--;var r=j(t)(e);return r&&(t.include_docs&&t.attachments&&t.binary&&on(e),n&&g.results.push(e),t.onChange(e)),r})}else if(r)return t.aborted=!0,void t.complete(r);o&&o.last_seq&&(h=o.last_seq);var a=c&&i<=0||o&&u<e||t.descending;(!t.continuous||c&&i<=0)&&a?t.complete(null,g):fo(function(){v(h,m)})}};return v(t.since||0,m),{cancel:function(){t.aborted=!0,p&&p.abort()}}},i.revsDiff=o("revsDiff",function(t,e,n){"function"==typeof e&&(n=e,e={}),r(e,{method:"POST",url:fn(s,"_revs_diff"),body:t},n)}),i._close=function(t){t()},i._destroy=function(t,e){r(t,{url:fn(s,""),method:"DELETE"},function(t,r){if(t&&t.status&&404!==t.status)return e(t);e(null,r)})}}function pn(t){this.status=400,this.name="query_parse_error",this.message=t,this.error=!0;try{Error.captureStackTrace(this,pn)}catch(t){}}function hn(t){this.status=404,this.name="not_found",this.message=t,this.error=!0;try{Error.captureStackTrace(this,hn)}catch(t){}}function vn(t){this.status=500,this.name="invalid_value",this.message=t,this.error=!0;try{Error.captureStackTrace(this,vn)}catch(t){}}function gn(t,e){return e&&t.then(function(t){fo(function(){e(null,t)})},function(t){fo(function(){e(t)})}),t}function mn(t){return io(function(e){var r=e.pop(),n=t.apply(this,e);return"function"==typeof r&&gn(n,r),n})}function yn(t,e){return t.then(function(t){return e().then(function(){return t})},function(t){return e().then(function(){throw t})})}function bn(t,e){return function(){var r=arguments,n=this;return t.add(function(){return e.apply(n,r)})}}function wn(t){var e=new mo(t),r=new Array(e.size),n=-1;return e.forEach(function(t){r[++n]=t}),r}function Tn(t){var e=new Array(t.size),r=-1;return t.forEach(function(t,n){e[++r]=n}),e}function kn(t){return new vn("builtin "+t+" function requires map values to be numbers or number arrays")}function Sn(t){for(var e=0,r=0,n=t.length;r<n;r++){var o=t[r];if("number"!=typeof o){if(!Array.isArray(o))throw kn("_sum");e="number"==typeof e?[e]:e;for(var u=0,c=o.length;u<c;u++){var i=o[u];if("number"!=typeof i)throw kn("_sum");void 0===e[u]?e.push(i):e[u]+=i}}else"number"==typeof e?e+=o:e[0]+=o}return e}function En(t,e){return U("return ("+t.replace(/;\s*$/,"")+");",{emit:e,sum:Sn,log:Vu,isArray:Ju,toJSON:Hu})}function xn(){this.promise=new ho(function(t){t()})}function An(t){if(!t)return"undefined";switch(typeof t){case"function":case"string":return t.toString();default:return JSON.stringify(t)}}function On(t,e){return An(t)+An(e)+"undefined"}function qn(t,e,r,n,o,u){var c,i=On(r,n);if(!o&&(c=t._cachedViews=t._cachedViews||{},c[i]))return c[i];var a=t.info().then(function(a){function s(t){t.views=t.views||{};var r=e;-1===r.indexOf("/")&&(r=e+"/"+e);var n=t.views[r]=t.views[r]||{};if(!n[f])return n[f]=!0,t}var f=a.db_name+"-mrview-"+(o?"temp":Je(i));return V(t,"_local/"+u,s).then(function(){return t.registerDependentDatabase(f).then(function(e){var o=e.db;o.auto_compaction=!0;var u={name:f,db:o,sourceDB:t,adapter:t.adapter,mapFun:r,reduceFun:n};return u.db.get("_local/lastSeq").catch(function(t){if(404!==t.status)throw t}).then(function(t){return u.seq=t?t.seq:0,c&&u.db.once("destroyed",function(){delete c[i]}),u})})})});return c&&(c[i]=a),a}function In(t){return-1===t.indexOf("/")?[t,t]:t.split("/")}function Nn(t){return 1===t.length&&/^1-/.test(t[0].rev)}function Cn(t,e){try{t.emit("error",e)}catch(t){E("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),E("error",e)}}function jn(t,e){if("function"==typeof t&&2===t.length){var r=t;return function(t){return r(t,e)}}return En(t.toString(),e)}function Mn(t){return Ku[t]?Ku[t]:En(t.toString())}function Dn(t,e){var r=t.views&&t.views[e];if("string"!=typeof r.map)throw new hn("ddoc "+t._id+" has no string view named "+e+", instead found object of type: "+typeof r.map)}function Bn(t,e,r){return Xu.query.call(this,t,e,r)}function Rn(t){return Xu.viewCleanup.call(this,t)}function Pn(t){return/^1-/.test(t)}function Ln(t,e,r){return!t._attachments||!t._attachments[r]||t._attachments[r].digest!==e._attachments[r].digest}function Fn(t,e){var r=Object.keys(e._attachments);return ho.all(r.map(function(r){return t.getAttachment(e._id,r,{rev:e._rev})}))}function $n(t,e,r){var n=R(e)&&!R(t),o=Object.keys(r._attachments);return n?t.get(r._id).then(function(n){return ho.all(o.map(function(o){return Ln(n,r,o)?e.getAttachment(r._id,o):t.getAttachment(n._id,o)}))}).catch(function(t){if(404!==t.status)throw t;return Fn(e,r)}):Fn(e,r)}function Un(t){var e=[];return Object.keys(t).forEach(function(r){t[r].missing.forEach(function(t){e.push({id:r,rev:t})})}),{docs:e,revs:!0,latest:!0}}function Vn(t,e,r,n){function o(){var o=Un(r);if(o.docs.length)return t.bulkGet(o).then(function(r){if(n.cancelled)throw new Error("cancelled");return ho.all(r.results.map(function(r){return ho.all(r.docs.map(function(r){var n=r.ok;return r.error&&(_=!1),n&&n._attachments?$n(e,t,n).then(function(t){var e=Object.keys(n._attachments);return t.forEach(function(t,r){var o=n._attachments[e[r]];delete o.stub,delete o.length,o.data=t}),n}):n}))})).then(function(t){l=l.concat(M(t).filter(Boolean))})})}function u(t){return t._attachments&&Object.keys(t._attachments).length>0}function c(t){return t._conflicts&&t._conflicts.length>0}function i(e){return t.allDocs({keys:e,include_docs:!0,conflicts:!0}).then(function(t){if(n.cancelled)throw new Error("cancelled");t.rows.forEach(function(t){t.deleted||!t.doc||!Pn(t.value.rev)||u(t.doc)||c(t.doc)||(t.doc._conflicts&&delete t.doc._conflicts,l.push(t.doc),delete r[t.id])})})}function s(){var t=Object.keys(r).filter(function(t){var e=r[t].missing;return 1===e.length&&Pn(e[0])});if(t.length>0)return i(t)}function f(){return{ok:_,docs:l}}r=a(r);var l=[],_=!0;return ho.resolve().then(s).then(o).then(f)}function Jn(t,e,r,n,o){return t.get(e).catch(function(r){if(404===r.status)return"http"!==t.adapter&&"https"!==t.adapter||O(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:n,_id:e,history:[],replicator:Zu,version:Yu};throw r}).then(function(u){if(!o.cancelled&&u.last_seq!==r)return u.history=(u.history||[]).filter(function(t){return t.session_id!==n}),u.history.unshift({last_seq:r,session_id:n}),u.history=u.history.slice(0,tc),u.version=Yu,u.replicator=Zu,u.session_id=n,u.last_seq=r,t.put(u).catch(function(u){if(409===u.status)return Jn(t,e,r,n,o);throw u})})}function Hn(t,e,r,n){this.src=t,this.target=e,this.id=r,this.returnValue=n}function zn(t,e){return t.session_id===e.session_id?{last_seq:t.last_seq,history:t.history}:Wn(t.history,e.history)}function Wn(t,e){var r=t[0],n=t.slice(1),o=e[0],u=e.slice(1);return r&&0!==e.length?Gn(r.session_id,e)?{last_seq:r.last_seq,history:t}:Gn(o.session_id,n)?{last_seq:o.last_seq,history:u}:Wn(n,u):{last_seq:ec,history:[]}}function Gn(t,e){var r=e[0],n=e.slice(1);return!(!t||0===e.length)&&(t===r.session_id||Gn(t,n))}function Kn(t){return"number"==typeof t.status&&4===Math.floor(t.status/100)}function Xn(t,e,r,n){if(!1===t.retry)return e.emit("error",r),void e.removeAllListeners();if("function"!=typeof t.back_off_function&&(t.back_off_function=A),e.emit("requestError",r),"active"===e.state||"pending"===e.state){e.emit("paused",r),e.state="stopped";var o=function(){t.current_back_off=nc},u=function(){e.removeListener("active",o)};e.once("paused",u),e.once("active",o)}t.current_back_off=t.current_back_off||nc,t.current_back_off=t.back_off_function(t.current_back_off),setTimeout(n,t.current_back_off)}function Qn(t){return Object.keys(t).sort(Ht).reduce(function(e,r){return e[r]=t[r],e},{})}function Yn(t,e,r){var n=r.doc_ids?r.doc_ids.sort(Ht):"",o=r.filter?r.filter.toString():"",u="",c="",i="";return r.selector&&(i=JSON.stringify(r.selector)),r.filter&&r.query_params&&(u=JSON.stringify(Qn(r.query_params))),r.filter&&"_view"===r.filter&&(c=r.view.toString()),ho.all([t.id(),e.id()]).then(function(t){var e=t[0]+t[1]+o+c+u+n+i;return new ho(function(t){Ve(e,t)})}).then(function(t){return"_local/"+(t=t.replace(/\//g,".").replace(/\+/g,"_"))})}function Zn(t,e,r,n,o){function u(){return k?ho.resolve():Yn(t,e,r).then(function(r){T=r,k=new Hn(t,e,T,n)})}function c(){if(P=[],0!==w.docs.length){var t=w.docs,u={timeout:r.timeout};return e.bulkDocs({docs:t,new_edits:!1},u).then(function(e){if(n.cancelled)throw p(),new Error("cancelled");var r=Object.create(null);e.forEach(function(t){t.error&&(r[t.id]=t)});var u=Object.keys(r).length;o.doc_write_failures+=u,o.docs_written+=t.length-u,t.forEach(function(t){var e=r[t._id];if(e){if(o.errors.push(e),"unauthorized"!==e.name&&"forbidden"!==e.name)throw e;n.emit("denied",a(e))}else P.push(t)})},function(e){throw o.doc_write_failures+=t.length,e})}}function i(){if(w.error)throw new Error("There was a problem getting docs.");o.last_seq=q=w.seq;var t=a(o);return P.length&&(t.docs=P,n.emit("change",t)),x=!0,k.writeCheckpoint(w.seq,L).then(function(){if(x=!1,n.cancelled)throw p(),new Error("cancelled");w=void 0,m()}).catch(function(t){throw b(t),t})}function s(){var t={};return w.changes.forEach(function(e){"_user/"!==e.id&&(t[e.id]=e.changes.map(function(t){return t.rev}))}),e.revsDiff(t).then(function(t){if(n.cancelled)throw p(),new Error("cancelled");w.diffs=t})}function f(){return Vn(t,e,w.diffs,n).then(function(t){w.error=!t.ok,t.docs.forEach(function(t){delete w.diffs[t._id],o.docs_read++,w.docs.push(t)})})}function l(){if(!n.cancelled&&!w){if(0===S.length)return void _(!0);w=S.shift(),s().then(f).then(c).then(i).then(l).catch(function(t){d("batch processing terminated with error",t)})}}function _(t){if(0===E.changes.length)return void(0!==S.length||w||((N&&F.live||A)&&(n.state="pending",n.emit("paused")),A&&p()));(t||A||E.changes.length>=C)&&(S.push(E),E={seq:0,changes:[],docs:[]},"pending"!==n.state&&"stopped"!==n.state||(n.state="active",n.emit("active")),l())}function d(t,e){O||(e.message||(e.message=t),o.ok=!1,o.status="aborting",S=[],E={seq:0,changes:[],docs:[]},p(e))}function p(u){O||n.cancelled&&(o.status="cancelled",x)||(o.status=o.status||"complete",o.end_time=new Date,o.last_seq=q,O=!0,u?(u=I(u),u.result=o,"unauthorized"===u.name||"forbidden"===u.name?(n.emit("error",u),n.removeAllListeners()):Xn(r,n,u,function(){Zn(t,e,r,n)})):(n.emit("complete",o),n.removeAllListeners()))}function h(t){if(n.cancelled)return p();j(r)(t)&&(E.seq=t.seq,E.changes.push(t),_(0===S.length&&F.live))}function v(t){if(D=!1,n.cancelled)return p();if(t.results.length>0)F.since=t.last_seq,m(),_(!0);else{var e=function(){N?(F.live=!0,m()):A=!0,_(!0)};w||0!==t.results.length?e():(x=!0,k.writeCheckpoint(t.last_seq,L).then(function(){x=!1,o.last_seq=q=t.last_seq,e()}).catch(b))}}function g(t){if(D=!1,n.cancelled)return p();d("changes rejected",t)}function m(){function e(){u.cancel()}function o(){n.removeListener("cancel",e)}if(!D&&!A&&S.length<M){D=!0,n._changes&&(n.removeListener("cancel",n._abortChanges),n._changes.cancel()),n.once("cancel",e);var u=t.changes(F).on("change",h);u.then(o,o),u.then(v).catch(g),r.retry&&(n._changes=u,n._abortChanges=e)}}function y(){u().then(function(){return n.cancelled?void p():k.getCheckpoint().then(function(t){q=t,F={since:q,limit:C,batch_size:C,style:"all_docs",doc_ids:B,selector:R,return_docs:!0},r.filter&&("string"!=typeof r.filter?F.include_docs=!0:F.filter=r.filter),"heartbeat"in r&&(F.heartbeat=r.heartbeat),"timeout"in r&&(F.timeout=r.timeout),r.query_params&&(F.query_params=r.query_params),r.view&&(F.view=r.view),m()})}).catch(function(t){d("getCheckpoint rejected with ",t)})}function b(t){x=!1,d("writeCheckpoint completed with error",t)}var w,T,k,S=[],E={seq:0,changes:[],docs:[]},x=!1,A=!1,O=!1,q=0,N=r.continuous||r.live||!1,C=r.batch_size||100,M=r.batches_limit||10,D=!1,B=r.doc_ids,R=r.selector,P=[],L=z();o=o||{ok:!0,start_time:new Date,docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var F={};if(n.ready(t,e),n.cancelled)return void p();n._addedListeners||(n.once("cancel",p),"function"==typeof r.complete&&(n.once("error",r.complete),n.once("complete",function(t){r.complete(null,t)})),n._addedListeners=!0),void 0===r.since?y():u().then(function(){return x=!0,k.writeCheckpoint(r.since,L)}).then(function(){if(x=!1,n.cancelled)return void p();q=r.since,y()}).catch(b)}function to(){ao.EventEmitter.call(this),this.cancelled=!1,this.state="pending";var t=this,e=new ho(function(e,r){t.once("complete",e),t.once("error",r)});t.then=function(t,r){return e.then(t,r)},t.catch=function(t){return e.catch(t)},t.catch(function(){})}function eo(t,e){var r=e.PouchConstructor;return"string"==typeof t?new r(t,e):t}function ro(t,e,r,n){if("function"==typeof r&&(n=r,r={}),void 0===r&&(r={}),r.doc_ids&&!Array.isArray(r.doc_ids))throw I(Mo,"`doc_ids` filter parameter is not a list.");r.complete=n,r=a(r),r.continuous=r.continuous||r.live,r.retry="retry"in r&&r.retry,r.PouchConstructor=r.PouchConstructor||this;var o=new to(r);return Zn(eo(t,r),eo(e,r),r,o),o}function no(t,e,r,n){return"function"==typeof r&&(n=r,r={}),void 0===r&&(r={}),r=a(r),r.PouchConstructor=r.PouchConstructor||this,t=eo(t,r),e=eo(e,r),new oo(t,e,r,n)}function oo(t,e,r,n){function o(t){p.emit("change",{direction:"pull",change:t})}function u(t){p.emit("change",{direction:"push",change:t})}function c(t){p.emit("denied",{direction:"push",doc:t})}function i(t){p.emit("denied",{direction:"pull",doc:t})}function a(){p.pushPaused=!0,p.pullPaused&&p.emit("paused")}function s(){p.pullPaused=!0,p.pushPaused&&p.emit("paused")}function f(){p.pushPaused=!1,p.pullPaused&&p.emit("active",{direction:"push"})}function l(){p.pullPaused=!1,p.pushPaused&&p.emit("active",{direction:"pull"})}function _(t){return function(e,r){var n="change"===e&&(r===o||r===u),_="denied"===e&&(r===i||r===c),d="paused"===e&&(r===s||r===a),h="active"===e&&(r===l||r===f);(n||_||d||h)&&(e in g||(g[e]={}),g[e][t]=!0,2===Object.keys(g[e]).length&&p.removeAllListeners(e))}}function d(t,e,r){-1==t.listeners(e).indexOf(r)&&t.on(e,r)}var p=this;this.canceled=!1;var h=r.push?ko({},r,r.push):r,v=r.pull?ko({},r,r.pull):r;this.push=ro(t,e,h),this.pull=ro(e,t,v),this.pushPaused=!0,this.pullPaused=!0;var g={};r.live&&(this.push.on("complete",p.pull.cancel.bind(p.pull)),this.pull.on("complete",p.push.cancel.bind(p.push))),this.on("newListener",function(t){"change"===t?(d(p.pull,"change",o),d(p.push,"change",u)):"denied"===t?(d(p.pull,"denied",i),d(p.push,"denied",c)):"active"===t?(d(p.pull,"active",l),d(p.push,"active",f)):"paused"===t&&(d(p.pull,"paused",s),d(p.push,"paused",a))}),this.on("removeListener",function(t){"change"===t?(p.pull.removeListener("change",o),p.push.removeListener("change",u)):"denied"===t?(p.pull.removeListener("denied",i),p.push.removeListener("denied",c)):"active"===t?(p.pull.removeListener("active",l),p.push.removeListener("active",f)):"paused"===t&&(p.pull.removeListener("paused",s),p.push.removeListener("paused",a))}),this.pull.on("removeListener",_("pull")),this.push.on("removeListener",_("push"));var m=ho.all([this.push,this.pull]).then(function(t){var e={push:t[0],pull:t[1]};return p.emit("complete",e),n&&n(null,e),p.removeAllListeners(),e},function(t){if(p.cancel(),n?n(t):p.emit("error",t),p.removeAllListeners(),n)throw t});this.then=function(t,e){return m.then(t,e)},this.catch=function(t){return m.catch(t)}}function uo(t){t.replicate=ro,t.sync=no,Object.defineProperty(t.prototype,"replicate",{get:function(){var t=this;return{from:function(e,r,n){return t.constructor.replicate(e,t,r,n)},to:function(e,r,n){return t.constructor.replicate(t,e,r,n)}}}}),t.prototype.sync=function(t,e,r){return this.constructor.sync(this,t,e,r)}}var co=n(r(234)),io=n(r(131)),ao=r(86),so=n(r(5)),fo=n(r(163)),lo=n(r(527)),_o=n(r(305)),po=n(r(800)),ho="function"==typeof Promise?Promise:co,vo=Function.prototype.toString,go=vo.call(Object);h.prototype.get=function(t){var e=d(t);return this._store[e]},h.prototype.set=function(t,e){var r=d(t);return this._store[r]=e,!0},h.prototype.has=function(t){return d(t)in this._store},h.prototype.delete=function(t){var e=d(t),r=e in this._store;return delete this._store[e],r},h.prototype.forEach=function(t){for(var e=Object.keys(this._store),r=0,n=e.length;r<n;r++){var o=e[r],u=this._store[o];o=p(o),t(u,o)}},Object.defineProperty(h.prototype,"size",{get:function(){return Object.keys(this._store).length}}),v.prototype.add=function(t){return this._store.set(t,!0)},v.prototype.has=function(t){return this._store.has(t)},v.prototype.forEach=function(t){this._store.forEach(function(e,r){t(r)})},Object.defineProperty(v.prototype,"size",{get:function(){return this._store.size}});var mo,yo;!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var t=Object.getOwnPropertyDescriptor(Map,Symbol.species);return t&&"get"in t&&Map[Symbol.species]===Map}()?(mo=v,yo=h):(mo=Set,yo=Map);var bo,wo=6;if(w())bo=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),bo=!!localStorage.getItem("_pouch_check_localstorage")}catch(t){bo=!1}so(S,ao.EventEmitter),S.prototype.addListener=function(t,e,r,n){function o(){function t(){c=!1}if(u._listeners[e]){if(c)return void(c="waiting");c=!0;var i=g(n,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);r.changes(i).on("change",function(t){t.seq>n.since&&!n.cancelled&&(n.since=t.seq,n.onChange(t))}).on("complete",function(){"waiting"===c&&fo(o),c=!1}).on("error",t)}}if(!this._listeners[e]){var u=this,c=!1;this._listeners[e]=o,this.on(t,o)}},S.prototype.removeListener=function(t,e){e in this._listeners&&(ao.EventEmitter.prototype.removeListener.call(this,t,this._listeners[e]),delete this._listeners[e])},S.prototype.notifyLocalWindows=function(t){w()?chrome.storage.local.set({dbName:t}):T()&&(localStorage[t]="a"===localStorage[t]?"b":"a")},S.prototype.notify=function(t){this.emit(t),this.notifyLocalWindows(t)};var To;To="function"==typeof Object.assign?Object.assign:function(t){for(var e=Object(t),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var ko=To;so(q,Error),q.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var So=(new q(401,"unauthorized","Name or password is incorrect."),new q(400,"bad_request","Missing JSON list of 'docs'")),Eo=new q(404,"not_found","missing"),xo=new q(409,"conflict","Document update conflict"),Ao=new q(400,"bad_request","_id field must contain a string"),Oo=new q(412,"missing_id","_id is required for puts"),qo=new q(400,"bad_request","Only reserved document ids may start with underscore."),Io=(new q(412,"precondition_failed","Database not open"),new q(500,"unknown_error","Database encountered an unknown error")),No=new q(500,"badarg","Some query argument is invalid"),Co=(new q(400,"invalid_request","Request was invalid"),new q(400,"query_parse_error","Some query parameter is invalid")),jo=new q(500,"doc_validation","Bad special document member"),Mo=new q(400,"bad_request","Something wrong with the request"),Do=new q(400,"bad_request","Document must be a JSON object"),Bo=(new q(404,"not_found","Database not found"),new q(500,"indexed_db_went_bad","unknown")),Ro=new q(500,"web_sql_went_bad","unknown"),Po=(new q(500,"levelDB_went_went_bad","unknown"),new q(403,"forbidden","Forbidden by design doc validate_doc_update function"),new q(400,"bad_request","Invalid rev format")),Lo=(new q(412,"file_exists","The database could not be created, the file already exists."),new q(412,"missing_stub","A pre-existing attachment stub wasn't found")),Fo=(new q(413,"invalid_url","Provided URL is invalid"),D.name);var $o=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Uo="queryKey",Vo=/(?:^|&)([^&=]*)=?([^&]*)/g,Jo=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ho="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");so(ht,ao.EventEmitter),ht.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},ht.prototype.validateChanges=function(t){var e=t.complete,r=this;qt._changesFilterPlugin?qt._changesFilterPlugin.validate(t,function(n){if(n)return e(n);r.doChanges(t)}):r.doChanges(t)},ht.prototype.doChanges=function(t){var e=this,r=t.complete;if(t=a(t),"live"in t&&!("continuous"in t)&&(t.continuous=t.live),t.processChange=vt,"latest"===t.since&&(t.since="now"),t.since||(t.since=0),"now"===t.since)return void this.db.info().then(function(n){if(e.isCancelled)return void r(null,{status:"cancelled"});t.since=n.update_seq,e.doChanges(t)},r);if(qt._changesFilterPlugin){if(qt._changesFilterPlugin.normalize(t),qt._changesFilterPlugin.shouldFilter(this,t))return qt._changesFilterPlugin.filter(this,t)}else["doc_ids","filter","selector","view"].forEach(function(e){e in t&&E("warn",'The "'+e+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in t||(t.descending=!1),t.limit=0===t.limit?1:t.limit,t.complete=r;var n=this.db._changes(t);if(n&&"function"==typeof n.cancel){var o=e.cancel;e.cancel=io(function(t){n.cancel(),o.apply(this,t)})}},so(Et,ao.EventEmitter),Et.prototype.post=_("post",function(t,e,r){if("function"==typeof e&&(r=e,e={}),"object"!=typeof t||Array.isArray(t))return r(I(Do));this.bulkDocs({docs:[t]},e,mt(r))}),Et.prototype.put=_("put",function(t,e,r){return"function"==typeof e&&(r=e,e={}),"object"!=typeof t||Array.isArray(t)?r(I(Do)):(B(t._id),_t(t._id)&&"function"==typeof this._putLocal?t._deleted?this._removeLocal(t,r):this._putLocal(t,r):void("function"==typeof this._put&&!1!==e.new_edits?this._put(t,e,r):this.bulkDocs({docs:[t]},e,mt(r))))}),Et.prototype.putAttachment=_("putAttachment",function(t,e,r,n,o){function u(t){var r="_rev"in t?parseInt(t._rev,10):0;return t._attachments=t._attachments||{},t._attachments[e]={content_type:o,data:n,revpos:++r},c.put(t)}var c=this;return"function"==typeof o&&(o=n,n=r,r=null),void 0===o&&(o=n,n=r,r=null),o||E("warn","Attachment",e,"on document",t,"is missing content_type"),c.get(t).then(function(t){if(t._rev!==r)throw I(xo);return u(t)},function(e){if(e.reason===Eo.message)return u({_id:t});throw e})}),Et.prototype.removeAttachment=_("removeAttachment",function(t,e,r,n){var o=this;o.get(t,function(t,u){return t?void n(t):u._rev!==r?void n(I(xo)):u._attachments?(delete u._attachments[e],0===Object.keys(u._attachments).length&&delete u._attachments,void o.put(u,n)):n()})}),Et.prototype.remove=_("remove",function(t,e,r,n){var o;"string"==typeof e?(o={_id:t,_rev:e},"function"==typeof r&&(n=r,r={})):(o=t,"function"==typeof e?(n=e,r={}):(n=r,r=e)),r=r||{},r.was_delete=!0;var u={_id:o._id,_rev:o._rev||r.rev};if(u._deleted=!0,_t(u._id)&&"function"==typeof this._removeLocal)return this._removeLocal(o,n);this.bulkDocs({docs:[u]},r,mt(n))}),Et.prototype.revsDiff=_("revsDiff",function(t,e,r){function n(t,e){i.has(t)||i.set(t,{missing:[]}),i.get(t).missing.push(e)}function o(e,r){var o=t[e].slice(0);G(r,function(t,r,u,c,i){var a=r+"-"+u,s=o.indexOf(a);-1!==s&&(o.splice(s,1),"available"!==i.status&&n(e,a))}),o.forEach(function(t){n(e,t)})}"function"==typeof e&&(r=e,e={});var u=Object.keys(t);if(!u.length)return r(null,{});var c=0,i=new yo;u.map(function(e){this._getRevisionTree(e,function(n,a){if(n&&404===n.status&&"missing"===n.message)i.set(e,{missing:t[e]});else{if(n)return r(n);o(e,a)}if(++c===u.length){var s={};return i.forEach(function(t,e){s[e]=t}),r(null,s)}})},this)}),Et.prototype.bulkGet=_("bulkGet",function(t,e){b(this,t,e)}),Et.prototype.compactDocument=_("compactDocument",function(t,e,r){var n=this;this._getRevisionTree(t,function(o,u){if(o)return r(o);var c=wt(u),i=[],a=[];Object.keys(c).forEach(function(t){c[t]>e&&i.push(t)}),G(u,function(t,e,r,n,o){var u=e+"-"+r;"available"===o.status&&-1!==i.indexOf(u)&&a.push(u)}),n._doCompaction(t,a,r)})}),Et.prototype.compact=_("compact",function(t,e){"function"==typeof t&&(e=t,t={});var r=this;t=t||{},r._compactionQueue=r._compactionQueue||[],r._compactionQueue.push({opts:t,callback:e}),1===r._compactionQueue.length&&kt(r)}),Et.prototype._compact=function(t,e){function r(t){c.push(o.compactDocument(t.id,0))}function n(t){var r=t.last_seq;ho.all(c).then(function(){return V(o,"_local/compaction",function(t){return(!t.last_seq||t.last_seq<r)&&(t.last_seq=r,t)})}).then(function(){e(null,{ok:!0})}).catch(e)}var o=this,u={return_docs:!1,last_seq:t.last_seq||0},c=[];o.changes(u).on("change",r).on("complete",n).on("error",e)},Et.prototype.get=_("get",function(t,e,r){function n(){var n=[],c=o.length;if(!c)return r(null,n);o.forEach(function(o){u.get(t,{rev:o,revs:e.revs,latest:e.latest,attachments:e.attachments},function(t,e){if(t)n.push({missing:o});else{for(var u,i=0,a=n.length;i<a;i++)if(n[i].ok&&n[i].ok._rev===e._rev){u=!0;break}u||n.push({ok:e})}--c||r(null,n)})})}if("function"==typeof e&&(r=e,e={}),"string"!=typeof t)return r(I(Ao));if(_t(t)&&"function"==typeof this._getLocal)return this._getLocal(t,r);var o=[],u=this;if(!e.open_revs)return this._get(t,e,function(t,n){if(t)return r(t);var o=n.doc,c=n.metadata,i=n.ctx;if(e.conflicts){var a=Q(c);a.length&&(o._conflicts=a)}if(lt(c,o._rev)&&(o._deleted=!0),e.revs||e.revs_info){for(var s=o._rev.split("-"),f=parseInt(s[0],10),l=s[1],_=Z(c.rev_tree),d=null,p=0;p<_.length;p++){var h=_[p],v=h.ids.map(function(t){return t.id}).indexOf(l);(v===f-1||!d&&-1!==v)&&(d=h)}var g=d.ids.map(function(t){return t.id}).indexOf(o._rev.split("-")[1])+1,m=d.ids.length-g;if(d.ids.splice(g,m),d.ids.reverse(),e.revs&&(o._revisions={start:d.pos+d.ids.length-1,ids:d.ids.map(function(t){return t.id})}),e.revs_info){var y=d.pos+d.ids.length;o._revs_info=d.ids.map(function(t){return y--,{rev:y+"-"+t.id,status:t.opts.status}})}}if(e.attachments&&o._attachments){var b=o._attachments,w=Object.keys(b).length;if(0===w)return r(null,o);Object.keys(b).forEach(function(t){this._getAttachment(o._id,t,b[t],{rev:o._rev,binary:e.binary,ctx:i},function(e,n){var u=o._attachments[t];u.data=n,delete u.stub,delete u.length,--w||r(null,o)})},u)}else{if(o._attachments)for(var T in o._attachments)o._attachments.hasOwnProperty(T)&&(o._attachments[T].stub=!0);r(null,o)}});if("all"===e.open_revs)this._getRevisionTree(t,function(t,e){if(t)return r(t);o=X(e).map(function(t){return t.rev}),n()});else{if(!Array.isArray(e.open_revs))return r(I(Io,"function_clause"));o=e.open_revs;for(var c=0;c<o.length;c++){var i=o[c];if("string"!=typeof i||!/^\d+-/.test(i))return r(I(Po))}n()}}),Et.prototype.getAttachment=_("getAttachment",function(t,e,r,n){var o=this;r instanceof Function&&(n=r,r={}),this._get(t,r,function(u,c){return u?n(u):c.doc._attachments&&c.doc._attachments[e]?(r.ctx=c.ctx,r.binary=!0,o._getAttachment(t,e,c.doc._attachments[e],r,n),void 0):n(I(Eo))})}),Et.prototype.allDocs=_("allDocs",function(t,e){if("function"==typeof t&&(e=t,t={}),t.skip=void 0!==t.skip?t.skip:0,t.start_key&&(t.startkey=t.start_key),t.end_key&&(t.endkey=t.end_key),"keys"in t){if(!Array.isArray(t.keys))return e(new TypeError("options.keys must be an array"));var r=["startkey","endkey","key"].filter(function(e){return e in t})[0];if(r)return void e(I(Co,"Query parameter `"+r+"` is not compatible with multi-get"));if(!R(this))return Tt(this,t,e)}return this._allDocs(t,e)}),Et.prototype.changes=function(t,e){return"function"==typeof t&&(e=t,t={}),new ht(this,t,e)},Et.prototype.close=_("close",function(t){return this._closed=!0,this.emit("closed"),this._close(t)}),Et.prototype.info=_("info",function(t){var e=this;this._info(function(r,n){if(r)return t(r);n.db_name=n.db_name||e.name,n.auto_compaction=!(!e.auto_compaction||R(e)),n.adapter=e.adapter,t(null,n)})}),Et.prototype.id=_("id",function(t){return this._id(t)}),Et.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},Et.prototype.bulkDocs=_("bulkDocs",function(t,e,r){if("function"==typeof e&&(r=e,e={}),e=e||{},Array.isArray(t)&&(t={docs:t}),!t||!t.docs||!Array.isArray(t.docs))return r(I(So));for(var n=0;n<t.docs.length;++n)if("object"!=typeof t.docs[n]||Array.isArray(t.docs[n]))return r(I(Do));var o;if(t.docs.forEach(function(t){t._attachments&&Object.keys(t._attachments).forEach(function(e){o=o||St(e),t._attachments[e].content_type||E("warn","Attachment",e,"on document",t._id,"is missing content_type")})}),o)return r(I(Mo,o));"new_edits"in e||(e.new_edits=!("new_edits"in t)||t.new_edits);var u=this;e.new_edits||R(u)||t.docs.sort(bt),yt(t.docs);var c=t.docs.map(function(t){return t._id});return this._bulkDocs(t,e,function(t,n){if(t)return r(t);if(e.new_edits||(n=n.filter(function(t){return t.error})),!R(u))for(var o=0,i=n.length;o<i;o++)n[o].id=n[o].id||c[o];r(null,n)})}),Et.prototype.registerDependentDatabase=_("registerDependentDatabase",function(t,e){function r(e){return e.dependentDbs=e.dependentDbs||{},!e.dependentDbs[t]&&(e.dependentDbs[t]=!0,e)}var n=new this.constructor(t,this.__opts);V(this,"_local/_pouch_dependentDbs",r).then(function(){e(null,{db:n})}).catch(e)}),Et.prototype.destroy=_("destroy",function(t,e){function r(){n._destroy(t,function(t,r){if(t)return e(t);n._destroyed=!0,n.emit("destroyed"),e(null,r||{ok:!0})})}"function"==typeof t&&(e=t,t={});var n=this,o=!("use_prefix"in n)||n.use_prefix;if(R(n))return r();n.get("_local/_pouch_dependentDbs",function(t,u){if(t)return 404!==t.status?e(t):r();var c=u.dependentDbs,i=n.constructor,a=Object.keys(c).map(function(t){var e=o?t.replace(new RegExp("^"+i.prefix),""):t;return new i(e,n.__opts).destroy()});ho.all(a).then(r,e)})}),xt.prototype.execute=function(){var t;if(this.failed)for(;t=this.queue.shift();)t(this.failed);else for(;t=this.queue.shift();)t()},xt.prototype.fail=function(t){this.failed=t,this.execute()},xt.prototype.ready=function(t){this.isReady=!0,this.db=t,this.execute()},xt.prototype.addTask=function(t){this.queue.push(t),this.failed&&this.execute()},so(qt,Et),qt.adapters={},qt.preferredAdapters=[],qt.prefix="_pouch_";var zo=new ao.EventEmitter;!function(t){Object.keys(ao.EventEmitter.prototype).forEach(function(e){"function"==typeof ao.EventEmitter.prototype[e]&&(t[e]=zo[e].bind(zo))});var e=t._destructionListeners=new yo;t.on("destroyed",function(t){e.get(t).forEach(function(t){t()}),e.delete(t)})}(qt),qt.adapter=function(t,e,r){e.valid()&&(qt.adapters[t]=e,r&&qt.preferredAdapters.push(t))},qt.plugin=function(t){if("function"==typeof t)t(qt);else{if("object"!=typeof t||0===Object.keys(t).length)throw new Error('Invalid plugin: got "'+t+'", expected an object or a function');Object.keys(t).forEach(function(e){qt.prototype[e]=t[e]})}return this.__defaults&&(qt.__defaults=ko({},this.__defaults)),qt},qt.defaults=function(t){function e(t,r){if(!(this instanceof e))return new e(t,r);r=r||{},t&&"object"==typeof t&&(r=t,t=r.name,delete r.name),r=ko({},e.__defaults,r),qt.call(this,t,r)}return so(e,qt),e.preferredAdapters=qt.preferredAdapters.slice(),Object.keys(qt).forEach(function(t){t in e||(e[t]=qt[t])}),e.__defaults=ko({},this.__defaults,t),e};var Wo=["$or","$nor","$not"],Go=-324,Ko=3,Xo="",Qo={$elemMatch:function(t,e,r,n){return!!Array.isArray(n)&&(0!==n.length&&("object"==typeof n[0]?n.some(function(t){return ue(t,e,Object.keys(e))}):n.some(function(n){return ie(e,t,r,n)})))},$eq:function(t,e,r,n){return le(n)&&0===Ht(n,e)},$gte:function(t,e,r,n){return le(n)&&Ht(n,e)>=0},$gt:function(t,e,r,n){return le(n)&&Ht(n,e)>0},$lte:function(t,e,r,n){return le(n)&&Ht(n,e)<=0},$lt:function(t,e,r,n){return le(n)&&Ht(n,e)<0},$exists:function(t,e,r,n){return e?le(n):!le(n)},$mod:function(t,e,r,n){return fe(n)&&_e(n,e)},$ne:function(t,e,r,n){return e.every(function(t){return 0!==Ht(n,t)})},$in:function(t,e,r,n){return fe(n)&&de(n,e)},$nin:function(t,e,r,n){return fe(n)&&!de(n,e)},$size:function(t,e,r,n){return fe(n)&&he(n,e)},$all:function(t,e,r,n){return Array.isArray(n)&&pe(n,e)},$regex:function(t,e,r,n){return fe(n)&&ve(n,e)},$type:function(t,e,r,n){return ge(n,e)}};qt.plugin(It),qt.plugin(Ee),qt.version="6.2.0";var Yo,Zo=xe(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),tu=xe(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]),eu=function(t){return atob(t)},ru=function(t){return btoa(t)},nu=e.setImmediate||e.setTimeout,ou=32768,uu=5,cu="document-store",iu="by-sequence",au="attach-store",su="attach-seq-store",fu="meta-store",lu="local-store",_u="detect-blob-support",du=new S,pu=!1,hu=[],vu=new yo,gu=new yo;wr.valid=function(){return!("undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform))&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange};var mu=function(t){t.adapter("idb",wr,!0)},yu=7,bu=qr("document-store"),wu=qr("by-sequence"),Tu=qr("attach-store"),ku=qr("local-store"),Su=qr("metadata-store"),Eu=qr("attach-seq-store"),xu=new yo,Au=new S,Ou=1,qu="CREATE INDEX IF NOT EXISTS 'by-seq-deleted-idx' ON "+wu+" (seq, deleted)",Iu="CREATE UNIQUE INDEX IF NOT EXISTS 'by-seq-doc-id-rev' ON "+wu+" (doc_id, rev)",Nu="CREATE INDEX IF NOT EXISTS 'doc-winningseq-idx' ON "+bu+" (winningseq)",Cu="CREATE INDEX IF NOT EXISTS 'attach-seq-seq-idx' ON "+Eu+" (seq)",ju="CREATE UNIQUE INDEX IF NOT EXISTS 'attach-seq-digest-idx' ON "+Eu+" (digest, seq)",Mu=wu+".seq = "+bu+".winningseq",Du=wu+".seq AS seq, "+wu+".deleted AS deleted, "+wu+".json AS data, "+wu+".rev AS rev, "+bu+".json AS metadata";Kr.valid=Wr,Kr.use_prefix=!0;var Bu=function(t){t.adapter("websql",Kr,!0)},Ru=function(){try{return new XMLHttpRequest,!0}catch(t){return!1}}(),Pu=function(){},Lu=25,Fu=50,$u={};dn.valid=function(){return!0};var Uu=function(t){t.adapter("http",dn,!1),t.adapter("https",dn,!1)};so(pn,Error),so(hn,Error),so(vn,Error);var Vu=E.bind(null,"log"),Ju=Array.isArray,Hu=JSON.parse;xn.prototype.add=function(t){return this.promise=this.promise.catch(function(){}).then(function(){return t()}),this.promise},xn.prototype.finish=function(){return this.promise};var zu={},Wu=new xn,Gu=50,Ku={_sum:function(t,e){return Sn(e)},_count:function(t,e){return e.length},_stats:function(t,e){return{sum:Sn(e),min:Math.min.apply(null,e),max:Math.max.apply(null,e),count:e.length,sumsqr:function(t){for(var e=0,r=0,n=t.length;r<n;r++){var o=t[r];e+=o*o}return e}(e)}}},Xu=function(t,e,r,n){function o(t,e,r){try{e(r)}catch(e){Cn(t,e)}}function u(t,e,r,n,o){try{return{output:e(r,n,o)}}catch(e){return Cn(t,e),{error:e}}}function c(t,e){var r=Ht(t.key,e.key);return 0!==r?r:Ht(t.value,e.value)}function i(t,e,r){return r=r||0,"number"==typeof e?t.slice(r,e+r):r>0?t.slice(r):t}function a(t){var e=t.value;return e&&"object"==typeof e&&e._id||t.id}function s(t){t.rows.forEach(function(t){var e=t.doc&&t.doc._attachments;e&&Object.keys(e).forEach(function(t){var r=e[t];e[t].data=je(r.data,r.content_type)})})}function f(t){return function(e){return t.include_docs&&t.attachments&&t.binary&&s(e),e}}function l(t,e,r,n){var o=e[t];void 0!==o&&(n&&(o=encodeURIComponent(JSON.stringify(o))),r.push(t+"="+o))}function _(t){if(void 0!==t){var e=Number(t);return isNaN(e)||e!==parseInt(t,10)?t:e}}function d(t){return t.group_level=_(t.group_level),t.limit=_(t.limit),t.skip=_(t.skip),t}function p(t){if(t){if("number"!=typeof t)return new pn('Invalid value for integer: "'+t+'"');if(t<0)return new pn('Invalid value for positive integer: "'+t+'"')}}function h(t,e){var r=t.descending?"endkey":"startkey",n=t.descending?"startkey":"endkey";if(void 0!==t[r]&&void 0!==t[n]&&Ht(t[r],t[n])>0)throw new pn("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(e.reduce&&!1!==t.reduce){if(t.include_docs)throw new pn("{include_docs:true} is invalid for reduce");if(t.keys&&t.keys.length>1&&!t.group&&!t.group_level)throw new pn("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(e){var r=p(t[e]);if(r)throw r})}function v(t,e,r){var n,o=[],u="GET";if(l("reduce",r,o),l("include_docs",r,o),l("attachments",r,o),l("limit",r,o),l("descending",r,o),l("group",r,o),l("group_level",r,o),l("skip",r,o),l("stale",r,o),l("conflicts",r,o),l("startkey",r,o,!0),l("start_key",r,o,!0),l("endkey",r,o,!0),l("end_key",r,o,!0),l("inclusive_end",r,o),l("key",r,o,!0),o=o.join("&"),o=""===o?"":"?"+o,void 0!==r.keys){var c="keys="+encodeURIComponent(JSON.stringify(r.keys));c.length+o.length+1<=2e3?o+=("?"===o[0]?"&":"?")+c:(u="POST","string"==typeof e?n={keys:r.keys}:e.keys=r.keys)}if("string"==typeof e){var i=In(e);return t.request({method:u,url:"_design/"+i[0]+"/_view/"+i[1]+o,body:n}).then(f(r))}return n=n||{},Object.keys(e).forEach(function(t){Array.isArray(e[t])?n[t]=e[t]:n[t]=e[t].toString()}),t.request({method:"POST",url:"_temp_view"+o,body:n}).then(f(r))}function g(t,e,r){return new ho(function(n,o){t._query(e,r,function(t,e){if(t)return o(t);n(e)})})}function m(t){return new ho(function(e,r){t._viewCleanup(function(t,n){if(t)return r(t);e(n)})})}function y(t){return function(e){if(404===e.status)return t;throw e}}function b(t,e,r){function n(t){return t.keys.length?e.db.allDocs({keys:t.keys,include_docs:!0}):ho.resolve({rows:[]})}function o(t,e){for(var r=[],n=new mo,o=0,u=e.rows.length;o<u;o++){var c=e.rows[o],i=c.doc;if(i&&(r.push(i),n.add(i._id),i._deleted=!a.has(i._id),!i._deleted)){var s=a.get(i._id);"value"in s&&(i.value=s.value)}}var f=Tn(a);return f.forEach(function(t){if(!n.has(t)){var e={_id:t},o=a.get(t);"value"in o&&(e.value=o.value),r.push(e)}}),t.keys=wn(f.concat(t.keys)),r.push(t),r}var u="_local/doc_"+t,c={_id:u,keys:[]},i=r.get(t),a=i[0],s=i[1];return function(){return Nn(s)?ho.resolve(c):e.db.get(u).catch(y(c))}().then(function(t){return n(t).then(function(e){return o(t,e)})})}function w(t,e,r){return t.db.get("_local/lastSeq").catch(y({_id:"_local/lastSeq",seq:0})).then(function(n){var o=Tn(e);return ho.all(o.map(function(r){return b(r,t,e)})).then(function(e){var o=M(e);return n.seq=r,o.push(n),t.db.bulkDocs({docs:o})})})}function T(t){var e="string"==typeof t?t:t.name,r=zu[e];return r||(r=zu[e]=new xn),r}function k(t){return bn(T(t),function(){return S(t)})()}function S(t){function r(t,e){var r={id:l._id,key:zt(t)};void 0!==e&&null!==e&&(r.value=zt(e)),f.push(r)}function n(e,r){return function(){return w(t,e,r)}}function u(){return t.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:d,limit:Gu}).then(i)}function i(t){var e=t.results;if(e.length){var r=a(e);if(p.add(n(r,d)),!(e.length<Gu))return u()}}function a(e){for(var r=new yo,n=0,u=e.length;n<u;n++){var i=e[n];if("_"!==i.doc._id[0]){f=[],l=i.doc,l._deleted||o(t.sourceDB,_,l),f.sort(c);var a=s(f);r.set(i.doc._id,[a,i.changes])}d=i.seq}return r}function s(t){for(var e,r=new yo,n=0,o=t.length;n<o;n++){var u=t[n],c=[u.key,u.id];n>0&&0===Ht(u.key,e)&&c.push(n),r.set(Gt(c),u),e=u.key}return r}var f,l,_=e(t.mapFun,r),d=t.seq||0,p=new xn;return u().then(function(){return p.finish()}).then(function(){t.seq=d})}function E(t,e,n){0===n.group_level&&delete n.group_level;var o=n.group||n.group_level,c=r(t.reduceFun),a=[],s=isNaN(n.group_level)?Number.POSITIVE_INFINITY:n.group_level;e.forEach(function(t){var e=a[a.length-1],r=o?t.key:null;if(o&&Array.isArray(r)&&(r=r.slice(0,s)),e&&0===Ht(e.groupKey,r))return e.keys.push([t.key,t.id]),void e.values.push(t.value);a.push({keys:[[t.key,t.id]],values:[t.value],groupKey:r})}),e=[];for(var f=0,l=a.length;f<l;f++){var _=a[f],d=u(t.sourceDB,c,_.keys,_.values,!1);if(d.error&&d.error instanceof vn)throw d.error;e.push({value:d.error?null:d.output,key:_.groupKey})}return{rows:i(e,n.limit,n.skip)}}function x(t,e){return bn(T(t),function(){return A(t,e)})()}function A(t,e){function r(e){return e.include_docs=!0,t.db.allDocs(e).then(function(t){return o=t.total_rows,t.rows.map(function(t){if("value"in t.doc&&"object"==typeof t.doc.value&&null!==t.doc.value){var e=Object.keys(t.doc.value).sort(),r=["id","key","value"];if(!(e<r||e>r))return t.doc.value}var n=Qt(t.doc._id);return{key:n[0],id:n[1],value:"value"in t.doc?t.doc.value:null}})})}function n(r){var n;if(n=u?E(t,r,e):{total_rows:o,offset:c,rows:r},e.include_docs){var i=wn(r.map(a));return t.sourceDB.allDocs({keys:i,include_docs:!0,conflicts:e.conflicts,attachments:e.attachments,binary:e.binary}).then(function(t){var e=new yo;return t.rows.forEach(function(t){e.set(t.id,t.doc)}),r.forEach(function(t){var r=a(t),n=e.get(r);n&&(t.doc=n)}),n})}return n}var o,u=t.reduceFun&&!1!==e.reduce,c=e.skip||0;if(void 0===e.keys||e.keys.length||(e.limit=0,delete e.keys),void 0!==e.keys){var i=e.keys,s=i.map(function(t){return r({startkey:Gt([t]),endkey:Gt([t,{}])})});return ho.all(s).then(M).then(n)}var f,l,_={descending:e.descending};if("start_key"in e&&(f=e.start_key),"startkey"in e&&(f=e.startkey),"end_key"in e&&(l=e.end_key),"endkey"in e&&(l=e.endkey),void 0!==f&&(_.startkey=Gt(e.descending?[f,{}]:[f])),void 0!==l){var d=!1!==e.inclusive_end;e.descending&&(d=!d),_.endkey=Gt(d?[l,{}]:[l])}if(void 0!==e.key){var p=Gt([e.key]),h=Gt([e.key,{}]);_.descending?(_.endkey=p,_.startkey=h):(_.startkey=p,_.endkey=h)}return u||("number"==typeof e.limit&&(_.limit=e.limit),_.skip=c),r(_).then(n)}function O(t){return t.request({method:"POST",url:"_view_cleanup"})}function q(e){return e.get("_local/"+t).then(function(t){var r=new yo;Object.keys(t.views).forEach(function(t){var e=In(t),n="_design/"+e[0],o=e[1],u=r.get(n);u||(u=new mo,r.set(n,u)),u.add(o)});var n={keys:Tn(r),include_docs:!0};return e.allDocs(n).then(function(n){var o={};n.rows.forEach(function(e){var n=e.key.substring(8);r.get(e.key).forEach(function(r){var u=n+"/"+r;t.views[u]||(u=r);var c=Object.keys(t.views[u]),i=e.doc&&e.doc.views&&e.doc.views[r];c.forEach(function(t){o[t]=o[t]||i})})});var u=Object.keys(o).filter(function(t){return!o[t]}),c=u.map(function(t){return bn(T(t),function(){return new e.constructor(t,e.__opts).destroy()})()});return ho.all(c).then(function(){return{ok:!0}})})},y({ok:!0}))}function I(e,r,o){if("function"==typeof e._query)return g(e,r,o);if(R(e))return v(e,r,o);if("string"!=typeof r)return h(o,r),Wu.add(function(){return qn(e,"temp_view/temp_view",r.map,r.reduce,!0,t).then(function(t){return yn(k(t).then(function(){return x(t,o)}),function(){return t.db.destroy()})})}),Wu.finish();var u=r,c=In(u),i=c[0],a=c[1];return e.get("_design/"+i).then(function(r){var c=r.views&&r.views[a];if(!c)throw new hn("ddoc "+r._id+" has no view named "+a);return n(r,a),h(o,c),qn(e,u,c.map,c.reduce,!1,t).then(function(t){return"ok"===o.stale||"update_after"===o.stale?("update_after"===o.stale&&fo(function(){k(t)}),x(t,o)):k(t).then(function(){return x(t,o)})})})}function N(t,e,r){var n=this;"function"==typeof e&&(r=e,e={}),e=e?d(e):{},"function"==typeof t&&(t={map:t});var o=ho.resolve().then(function(){return I(n,t,e)});return gn(o,r),o}return{query:N,viewCleanup:mn(function(){var t=this;return"function"==typeof t._viewCleanup?m(t):R(t)?O(t):q(t)})}}("mrviews",jn,Mn,Dn),Qu={query:Bn,viewCleanup:Rn},Yu=1,Zu="pouchdb",tc=5,ec=0;Hn.prototype.writeCheckpoint=function(t,e){var r=this;return this.updateTarget(t,e).then(function(){return r.updateSource(t,e)})},Hn.prototype.updateTarget=function(t,e){return Jn(this.target,this.id,t,e,this.returnValue)},Hn.prototype.updateSource=function(t,e){var r=this;return this.readOnlySource?ho.resolve(!0):Jn(this.src,this.id,t,e,this.returnValue).catch(function(t){if(Kn(t))return r.readOnlySource=!0,!0;throw t})};var rc={undefined:function(t,e){return 0===Ht(t.last_seq,e.last_seq)?e.last_seq:0},1:function(t,e){return zn(e,t).last_seq}};Hn.prototype.getCheckpoint=function(){var t=this;return t.target.get(t.id).then(function(e){return t.readOnlySource?ho.resolve(e.last_seq):t.src.get(t.id).then(function(t){if(e.version!==t.version)return ec;var r;return r=e.version?e.version.toString():"undefined",r in rc?rc[r](e,t):ec},function(r){if(404===r.status&&e.last_seq)return t.src.put({_id:t.id,last_seq:ec}).then(function(){return ec},function(r){return Kn(r)?(t.readOnlySource=!0,e.last_seq):ec});throw r})}).catch(function(t){if(404!==t.status)throw t;return ec})};var nc=0;so(to,ao.EventEmitter),to.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},to.prototype.ready=function(t,e){function r(){o.cancel()}function n(){t.removeListener("destroyed",r),e.removeListener("destroyed",r)}var o=this;o._readyCalled||(o._readyCalled=!0,t.once("destroyed",r),e.once("destroyed",r),o.once("complete",n))},so(oo,ao.EventEmitter),oo.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},qt.plugin(mu).plugin(Bu).plugin(Uu).plugin(Qu).plugin(uo),t.exports=qt}).call(e,r(31))},570:function(t,e,r){"use strict";function n(t,e,r){Error.call(this,r),this.status=t,this.name=e,this.message=r,this.error=!0}function o(t,e){function r(e){for(var r in t)"function"!=typeof t[r]&&(this[r]=t[r]);void 0!==e&&(this.reason=e)}return r.prototype=n.prototype,new r(e)}function u(t){if("object"!=typeof t){var e=t;t=p,t.data=e}return"error"in t&&"conflict"===t.error&&(t.name="conflict",t.status=409),"name"in t||(t.name=t.error||"unknown"),"status"in t||(t.status=500),"message"in t||(t.message=t.message||t.reason),t}Object.defineProperty(e,"__esModule",{value:!0}),function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(r(5))(n,Error),n.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var c=new n(401,"unauthorized","Name or password is incorrect."),i=new n(400,"bad_request","Missing JSON list of 'docs'"),a=new n(404,"not_found","missing"),s=new n(409,"conflict","Document update conflict"),f=new n(400,"bad_request","_id field must contain a string"),l=new n(412,"missing_id","_id is required for puts"),_=new n(400,"bad_request","Only reserved document ids may start with underscore."),d=new n(412,"precondition_failed","Database not open"),p=new n(500,"unknown_error","Database encountered an unknown error"),h=new n(500,"badarg","Some query argument is invalid"),v=new n(400,"invalid_request","Request was invalid"),g=new n(400,"query_parse_error","Some query parameter is invalid"),m=new n(500,"doc_validation","Bad special document member"),y=new n(400,"bad_request","Something wrong with the request"),b=new n(400,"bad_request","Document must be a JSON object"),w=new n(404,"not_found","Database not found"),T=new n(500,"indexed_db_went_bad","unknown"),k=new n(500,"web_sql_went_bad","unknown"),S=new n(500,"levelDB_went_went_bad","unknown"),E=new n(403,"forbidden","Forbidden by design doc validate_doc_update function"),x=new n(400,"bad_request","Invalid rev format"),A=new n(412,"file_exists","The database could not be created, the file already exists."),O=new n(412,"missing_stub","A pre-existing attachment stub wasn't found"),q=new n(413,"invalid_url","Provided URL is invalid");e.UNAUTHORIZED=c,e.MISSING_BULK_DOCS=i,e.MISSING_DOC=a,e.REV_CONFLICT=s,e.INVALID_ID=f,e.MISSING_ID=l,e.RESERVED_ID=_,e.NOT_OPEN=d,e.UNKNOWN_ERROR=p,e.BAD_ARG=h,e.INVALID_REQUEST=v,e.QUERY_PARSE_ERROR=g,e.DOC_VALIDATION=m,e.BAD_REQUEST=y,e.NOT_AN_OBJECT=b,e.DB_MISSING=w,e.WSQ_ERROR=k,e.LDB_ERROR=S,e.FORBIDDEN=E,e.INVALID_REV=x,e.FILE_EXISTS=A,e.MISSING_STUB=O,e.IDB_ERROR=T,e.INVALID_URL=q,e.createError=o,e.generateErrorFromResponse=u},571:function(t,e,r){"use strict";(function(e){function n(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function o(t){return t=ft.clone(t),t.index||(t.index={}),["type","name","ddoc"].forEach(function(e){t.index[e]&&(t[e]=t.index[e],delete t.index[e])}),t.fields&&(t.index.fields=t.fields,delete t.fields),t.type||(t.type="json"),t}function u(t,e,r){e=o(e),t.request({method:"POST",url:"_index",body:e},r)}function c(t,e,r){t.request({method:"POST",url:"_find",body:e},r)}function i(t,e){t.request({method:"GET",url:"_index"},e)}function a(t,e,r){var n=e.ddoc,o=e.type||"json",u=e.name;if(!n)return r(new Error("you must provide an index's ddoc"));if(!u)return r(new Error("you must provide an index's name"));var c="_index/"+[n,o,u].map(encodeURIComponent).join("/");t.request({method:"DELETE",url:c},r)}function s(t){return function(){for(var e=arguments.length,r=new Array(e),n=-1;++n<e;)r[n]=arguments[n];return t.call(this,r)}}function f(t){return s(function(e){var r=e.pop(),n=t.apply(this,e);return l(n,r),n})}function l(t,r){return t.then(function(t){e.nextTick(function(){r(null,t)})},function(t){e.nextTick(function(){r(t)})}),t}function _(t){for(var e={},r=0,n=t.length;r<n;r++)e=ft.assign(e,t[r]);return e}function d(t,e){for(var r={},n=0,o=e.length;n<o;n++){var u=_t.parseField(e[n]),c=_t.getFieldFromDoc(t,u);void 0!==c&&_t.setFieldInDoc(r,u,c)}return r}function p(t,e){for(var r=0,n=Math.min(t.length,e.length);r<n;r++)if(t[r]!==e[r])return!1;return!0}function h(t,e){return!(t.length>e.length)&&p(t,e)}function v(t,e){t=t.slice();for(var r=0,n=e.length;r<n;r++){var o=e[r];if(!t.length)break;var u=t.indexOf(o);if(-1===u)return!1;t.splice(u,1)}return!0}function g(t){for(var e={},r=0,n=t.length;r<n;r++)e[t[r]]=!0;return e}function m(t,e){for(var r=null,n=-1,o=0,u=t.length;o<u;o++){var c=t[o],i=e(c);i>n&&(n=i,r=c)}return r}function y(t,e){if(t.length!==e.length)return!1;for(var r=0,n=t.length;r<n;r++)if(t[r]!==e[r])return!1;return!0}function b(t){for(var e={},r=0;r<t.length;r++)e["$"+t[r]]=!0;return Object.keys(e).map(function(t){return t.substring(1)})}function w(t,e){return function(r){for(var n=[],o=0,u=t.length;o<u;o++){for(var c=_t.parseField(t[o]),i=r,a=0,s=c.length;a<s;a++){if(!(i=i[c[a]]))return}n.push(i)}e(n)}}function T(t,e){var r=_t.parseField(t);return function(t){for(var n=t,o=0,u=r.length;o<u;o++){if(!(n=n[r[o]]))return}e(n)}}function k(t,e){return function(r){e(r[t])}}function S(t,e){return function(r){for(var n=[],o=0,u=t.length;o<u;o++)n.push(r[t[o]]);e(n)}}function E(t){for(var e=0,r=t.length;e<r;e++){if(-1!==t[e].indexOf("."))return!1}return!0}function x(t,e){var r=E(t),n=1===t.length;return r?n?k(t[0],e):S(t,e):n?T(t[0],e):w(t,e)}function A(t,e){return x(Object.keys(t.fields),e)}function O(){throw new Error("reduce not supported")}function q(t,e){var r=t.views[e];if(!r.map||!r.map.fields)throw new Error("ddoc "+t._id+" with view "+e+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")}function I(t){if(!Array.isArray(t))throw new Error("invalid sort json - should be an array");return t.map(function(t){if("string"==typeof t){var e={};return e[t]="asc",e}return t})}function N(t){return t.fields=t.fields.map(function(t){if("string"==typeof t){var e={};return e[t]="asc",e}return t}),t}function C(t,e){for(var r=[],n=0;n<e.def.fields.length;n++){var o=_t.getKey(e.def.fields[n]);r.push(t[o])}return r}function j(t,e,r){for(var n=r.def.fields,o=0,u=t.length;o<u;o++){var c=t[o],i=C(c.doc,r);if(1===n.length)i=i[0];else for(;i.length>e.length;)i.pop();if(Math.abs(pt.collate(i,e))>0)break}return o>0?t.slice(o):t}function M(t){var e=ft.clone(t);return delete e.startkey,delete e.endkey,delete e.inclusive_start,delete e.inclusive_end,"endkey"in t&&(e.startkey=t.endkey),"startkey"in t&&(e.endkey=t.startkey),"inclusive_start"in t&&(e.inclusive_end=t.inclusive_start),"inclusive_end"in t&&(e.inclusive_start=t.inclusive_end),e}function D(t){var e=t.fields.filter(function(t){return"asc"===_t.getValue(t)});if(0!==e.length&&e.length!==t.fields.length)throw new Error("unsupported mixed sorting")}function B(t,e){if(e.defaultUsed&&t.sort){var r=t.sort.filter(function(t){return"_id"!==Object.keys(t)[0]}).map(function(t){return Object.keys(t)[0]});if(r.length>0)throw new Error('Cannot sort on field(s) "'+r.join(",")+'" when using the default index')}e.defaultUsed}function R(t){if("object"!=typeof t.selector)throw new Error("you must provide a selector when you find()")}function P(t,e){var r,n=Object.keys(t),o=e?e.map(_t.getKey):[];return r=n.length>=o.length?n:o,0===o.length?{fields:r}:(r=r.sort(function(t,e){var r=o.indexOf(t);-1===r&&(r=Number.MAX_VALUE);var n=o.indexOf(e);return-1===n&&(n=Number.MAX_VALUE),r<n?-1:r>n?1:0}),{fields:r,sortOrder:e.map(_t.getKey)})}function L(t,e){function r(t){return t._rev&&"query"!==t.language&&(s=!0),t.language="query",t.views=t.views||{},!(f=!!t.views[c])&&(t.views[c]={map:{fields:_(e.index.fields)},reduce:"_count",options:{def:n}},t)}e=o(e);var n=ft.clone(e.index);e.index=N(e.index),D(e.index);var u=ht.stringMd5(JSON.stringify(e)),c=e.name||"idx-"+u,i=e.ddoc||"idx-"+u,a="_design/"+i,s=!1,f=!1;return t.constructor.emit("debug",["find","creating index",a]),ft.upsert(t,a,r).then(function(){if(s)throw new Error('invalid language for ddoc with id "'+a+'" (should be "query")')}).then(function(){var e=i+"/"+c;return gt.query.call(t,e,{limit:0,reduce:!1}).then(function(){return{id:a,name:c,result:f?"exists":"created"}})})}function F(t){return t.allDocs({startkey:"_design/",endkey:"_design/",include_docs:!0}).then(function(t){var e={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return e.indexes=vt(e.indexes,t.rows.filter(function(t){return"query"===t.doc.language}).map(function(t){return(void 0!==t.doc.views?Object.keys(t.doc.views):[]).map(function(e){var r=t.doc.views[e];return{ddoc:t.id,name:e,type:"json",def:N(r.options.def)}})})),e.indexes.sort(function(t,e){return _t.compare(t.name,e.name)}),e.total_rows=e.indexes.length,e})}function $(t,e){for(var r=t.def.fields.map(_t.getKey),n=0,o=r.length;n<o;n++){if(e===r[n])return!0}return!1}function U(t,e){var r=t[e];return"$eq"!==_t.getKey(r)}function V(t,e){var r=e.def.fields.map(_t.getKey);return t.slice().sort(function(t,e){var n=r.indexOf(t),o=r.indexOf(e);return-1===n&&(n=Number.MAX_VALUE),-1===o&&(o=Number.MAX_VALUE),_t.compare(n,o)})}function J(t,e,r){r=V(r,t);for(var n=!1,o=0,u=r.length;o<u;o++){var c=r[o];if(n||!$(t,c))return r.slice(o);o<u-1&&U(e,c)&&(n=!0)}return[]}function H(t){var e=[];return Object.keys(t).forEach(function(r){var n=t[r];Object.keys(n).forEach(function(t){"$ne"===t&&e.push(r)})}),e}function z(t,e,r,n){return V(b(vt(t,J(e,r,n),H(r))),e)}function W(t,e,r){if(e){var n=h(e,t),o=p(r,t);return n&&o}return v(r,t)}function G(t){return-1===bt.indexOf(t)}function K(t,e){var r=t[0],n=e[r];return void 0===n||!!Object.keys(n).some(function(t){return!G(t)})&&!(1===Object.keys(n).length&&"$ne"===_t.getKey(n))}function X(t,e,r,n){var o=t.def.fields.map(_t.getKey);return!!W(o,e,r)&&K(o,n)}function Q(t,e,r,n){return n.reduce(function(n,o){return X(o,r,e,t)&&n.push(o),n},[])}function Y(t,e,r,n){function o(t){for(var e=t.def.fields.map(_t.getKey),r=0,n=0,o=e.length;n<o;n++){var u=e[n];i[u]&&r++}return r}var u=Q(t,e,r,n);if(0===u.length){var c=n[0];return c.defaultUsed=!0,c}if(1===u.length)return u[0];var i=g(e);return m(u,o)}function Z(t,e){switch(t){case"$eq":return{key:e};case"$lte":return{endkey:e};case"$gte":return{startkey:e};case"$lt":return{endkey:e,inclusive_end:!1};case"$gt":return{startkey:e,inclusive_start:!1}}}function tt(t,e){var r,n=_t.getKey(e.def.fields[0]),o=t[n]||{},u=[],c=Object.keys(o);return c.forEach(function(t){if(G(t))return void u.push(n);var e=o[t],c=Z(t,e);r=r?_([r,c]):c}),{queryOpts:r,inMemoryFields:u}}function et(t,e){switch(t){case"$eq":return{startkey:e,endkey:e};case"$lte":return{endkey:e};case"$gte":return{startkey:e};case"$lt":return{endkey:e,inclusive_end:!1};case"$gt":return{startkey:e,inclusive_start:!1}}}function rt(t,e){function r(t){!1!==n&&i.push(mt),!1!==o&&a.push(yt),c=u.slice(t)}for(var n,o,u=e.def.fields.map(_t.getKey),c=[],i=[],a=[],s=0,f=u.length;s<f;s++){var l=u[s],d=t[l];if(!d||!Object.keys(d).length){r(s);break}if(s>0){if(Object.keys(d).some(G)){r(s);break}var p="$gt"in d||"$gte"in d||"$lt"in d||"$lte"in d,h=Object.keys(t[u[s-1]]),v=y(h,["$eq"]),g=y(h,Object.keys(d));if(p&&!v&&!g){r(s);break}}for(var m=Object.keys(d),b=null,w=0;w<m.length;w++){var T=m[w],k=d[T],S=et(T,k);b=b?_([b,S]):S}i.push("startkey"in b?b.startkey:mt),a.push("endkey"in b?b.endkey:yt),"inclusive_start"in b&&(n=b.inclusive_start),"inclusive_end"in b&&(o=b.inclusive_end)}var E={startkey:i,endkey:a};return void 0!==n&&(E.inclusive_start=n),void 0!==o&&(E.inclusive_end=o),{queryOpts:E,inMemoryFields:c}}function nt(t){return{queryOpts:{startkey:null},inMemoryFields:[Object.keys(t)]}}function ot(t,e){return e.defaultUsed?nt(t,e):1===e.def.fields.length?tt(t,e):rt(t,e)}function ut(t,e){var r=t.selector,n=t.sort,o=P(r,n),u=o.fields,c=o.sortOrder,i=Y(r,u,c,e),a=ot(r,i);return{queryOpts:a.queryOpts,index:i,inMemoryFields:z(a.inMemoryFields,i,r,u)}}function ct(t){return t.ddoc.substring(8)+"/"+t.name}function it(t,e){var r=ft.clone(e);return r.descending?("endkey"in r&&"string"!=typeof r.endkey&&(r.endkey=""),"startkey"in r&&"string"!=typeof r.startkey&&(r.limit=0)):("startkey"in r&&"string"!=typeof r.startkey&&(r.startkey=""),"endkey"in r&&"string"!=typeof r.endkey&&(r.limit=0)),"key"in r&&"string"!=typeof r.key&&(r.limit=0),t.allDocs(r)}function at(t,e){return e.selector&&(e.selector=_t.massageSelector(e.selector)),e.sort&&(e.sort=I(e.sort)),R(e),F(t).then(function(r){t.constructor.emit("debug",["find","planning query",e]);var n=ut(e,r.indexes);t.constructor.emit("debug",["find","query plan",n]);var o=n.index;B(e,o);var u=ft.assign({include_docs:!0,reduce:!1},n.queryOpts);return"startkey"in u&&"endkey"in u&&pt.collate(u.startkey,u.endkey)>0?{docs:[]}:(e.sort&&"string"!=typeof e.sort[0]&&"desc"===_t.getValue(e.sort[0])&&(u.descending=!0,u=M(u)),n.inMemoryFields.length||("limit"in e&&(u.limit=e.limit),"skip"in e&&(u.skip=e.skip)),lt.resolve().then(function(){if("_all_docs"===o.name)return it(t,u);var e=ct(o);return gt.query.call(t,e,u)}).then(function(t){!1===u.inclusive_start&&(t.rows=j(t.rows,u.startkey,o)),n.inMemoryFields.length&&(t.rows=_t.filterInMemoryFields(t.rows,e,n.inMemoryFields));var r={docs:t.rows.map(function(t){var r=t.doc;return e.fields?d(r,e.fields):r})};return o.defaultUsed&&(r.warning="no matching index found, create an index to optimize query time"),r}))})}function st(t,e){function r(t){return 1===Object.keys(t.views).length&&t.views[o]?{_id:n,_deleted:!0}:(delete t.views[o],t)}if(!e.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!e.name)throw new Error("you must supply an index.name when deleting");var n=e.ddoc,o=e.name;return ft.upsert(t,n,r).then(function(){return gt.viewCleanup.apply(t)}).then(function(){return{ok:!0}})}var ft=r(114),lt=n(r(113)),_t=r(573),dt=n(r(568)),pt=r(164),ht=r(239),vt=s(function(t){for(var e=[],r=0,n=t.length;r<n;r++){var o=t[r];Array.isArray(o)?e=e.concat(vt.apply(null,o)):e.push(o)}return e}),gt=dt("indexes",A,O,q),mt=null,yt={"":{}},bt=["$eq","$gt","$gte","$lt","$lte"],wt=f(L),Tt=f(at),kt=f(F),St=f(st),Et={};Et.createIndex=ft.toPromise(function(t,e){if("object"!=typeof t)return e(new Error("you must provide an index to create"));(ft.isRemote(this)?u:wt)(this,t,e)}),Et.find=ft.toPromise(function(t,e){if(void 0===e&&(e=t,t=void 0),"object"!=typeof t)return e(new Error("you must provide search parameters to find()"));(ft.isRemote(this)?c:Tt)(this,t,e)}),Et.getIndexes=ft.toPromise(function(t){(ft.isRemote(this)?i:kt)(this,t)}),Et.deleteIndex=ft.toPromise(function(t,e){if("object"!=typeof t)return e(new Error("you must provide an index to delete"));(ft.isRemote(this)?a:St)(this,t,e)}),t.exports=Et}).call(e,r(50))},572:function(t,e,r){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function o(t){this.status=400,this.name="query_parse_error",this.message=t,this.error=!0;try{Error.captureStackTrace(this,o)}catch(t){}}function u(t){this.status=404,this.name="not_found",this.message=t,this.error=!0;try{Error.captureStackTrace(this,u)}catch(t){}}function c(t){this.status=500,this.name="invalid_value",this.message=t,this.error=!0;try{Error.captureStackTrace(this,c)}catch(t){}}function i(t,e){return e&&t.then(function(t){h.nextTick(function(){e(null,t)})},function(t){h.nextTick(function(){e(t)})}),t}function a(t){return p(function(e){var r=e.pop(),n=t.apply(this,e);return"function"==typeof r&&i(n,r),n})}function s(t,e){return t.then(function(t){return e().then(function(){return t})},function(t){return e().then(function(){throw t})})}function f(t,e){return function(){var r=arguments,n=this;return t.add(function(){return e.apply(n,r)})}}function l(t){var e=new d.Set(t),r=new Array(e.size),n=-1;return e.forEach(function(t){r[++n]=t}),r}function _(t){var e=new Array(t.size),r=-1;return t.forEach(function(t,n){e[++r]=n}),e}Object.defineProperty(e,"__esModule",{value:!0});var d=r(165),p=n(r(131)),h=r(114),v=n(r(5));v(o,Error),v(u,Error),v(c,Error),e.uniq=l,e.sequentialize=f,e.fin=s,e.callbackify=a,e.promisedCallback=i,e.mapToKeysArray=_,e.QueryParseError=o,e.NotFoundError=u,e.BuiltInError=c},573:function(t,e,r){"use strict";function n(t,e){for(var r=t,n=0,o=e.length;n<o;n++){if(!(r=r[e[n]]))break}return r}function o(t,e,r){for(var n=0,o=e.length;n<o-1;n++){t=t[e[n]]={}}t[e[o-1]]=r}function u(t,e){return t<e?-1:t>e?1:0}function c(t){for(var e=[],r="",n=0,o=t.length;n<o;n++){var u=t[n];"."===u?n>0&&"\\"===t[n-1]?r=r.substring(0,r.length-1)+".":(e.push(r),r=""):r+=u}return e.push(r),e}function i(t){return M.indexOf(t)>-1}function a(t){return Object.keys(t)[0]}function s(t){return t[a(t)]}function f(t){var e={};return t.forEach(function(t){Object.keys(t).forEach(function(r){var n=t[r];if("object"!=typeof n&&(n={$eq:n}),i(r))n instanceof Array?e[r]=n.map(function(t){return f([t])}):e[r]=f([n]);else{var o=e[r]=e[r]||{};Object.keys(n).forEach(function(t){var e=n[t];return"$gt"===t||"$gte"===t?l(t,e,o):"$lt"===t||"$lte"===t?_(t,e,o):"$ne"===t?d(e,o):"$eq"===t?p(e,o):void(o[t]=e)})}})}),e}function l(t,e,r){void 0===r.$eq&&(void 0!==r.$gte?"$gte"===t?e>r.$gte&&(r.$gte=e):e>=r.$gte&&(delete r.$gte,r.$gt=e):void 0!==r.$gt?"$gte"===t?e>r.$gt&&(delete r.$gt,r.$gte=e):e>r.$gt&&(r.$gt=e):r[t]=e)}function _(t,e,r){void 0===r.$eq&&(void 0!==r.$lte?"$lte"===t?e<r.$lte&&(r.$lte=e):e<=r.$lte&&(delete r.$lte,r.$lt=e):void 0!==r.$lt?"$lte"===t?e<r.$lt&&(delete r.$lt,r.$lte=e):e<r.$lt&&(r.$lt=e):r[t]=e)}function d(t,e){"$ne"in e?e.$ne.push(t):e.$ne=[t]}function p(t,e){delete e.$gt,delete e.$gte,delete e.$lt,delete e.$lte,delete e.$ne,e.$eq=t}function h(t){var e=C.clone(t),r=!1;"$and"in e&&(e=f(e.$and),r=!0),["$or","$nor"].forEach(function(t){t in e&&e[t].forEach(function(t){for(var e=Object.keys(t),r=0;r<e.length;r++){var n=e[r],o=t[n];"object"==typeof o&&null!==o||(t[n]={$eq:o})}})}),"$not"in e&&(e.$not=f([e.$not]));for(var n=Object.keys(e),o=0;o<n.length;o++){var u=n[o],c=e[u];"object"!=typeof c||null===c?c={$eq:c}:"$ne"in c&&!r&&(c.$ne=[c.$ne]),e[u]=c}return e}function v(t){function e(e){return t.map(function(t){var r=a(t),o=c(r);return n(e,o)})}return function(t,r){var n=e(t.doc),o=e(r.doc),c=j.collate(n,o);return 0!==c?c:u(t.doc._id,r.doc._id)}}function g(t,e,r){if(t=t.filter(function(t){return m(t.doc,e.selector,r)}),e.sort){var n=v(e.sort);t=t.sort(n),"string"!=typeof e.sort[0]&&"desc"===s(e.sort[0])&&(t=t.reverse())}if("limit"in e||"skip"in e){var o=e.skip||0,u=("limit"in e?e.limit:t.length)+o;t=t.slice(o,u)}return t}function m(t,e,r){return r.every(function(r){if(y(t))return!1;var o=e[r],u=c(r),a=n(t,u);return i(r)?w(r,o,t):b(o,t,u,a)})}function y(t){return/^_design\//.test(t._id)}function b(t,e,r,n){return!t||Object.keys(t).every(function(o){var u=t[o];return T(o,e,u,r,n)})}function w(t,e,r){return"$or"===t?e.some(function(t){return m(r,t,Object.keys(t))}):"$not"===t?!m(r,e,Object.keys(e)):!e.find(function(t){return m(r,t,Object.keys(t))})}function T(t,e,r,n,o){if(!D[t])throw new Error('unknown operator "'+t+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type or $all');return D[t](e,r,n,o)}function k(t){return void 0!==t&&null!==t}function S(t){return void 0!==t}function E(t,e){var r=e[0],n=e[1];if(0===r)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(r,10)!==r)throw new Error("Divisor is not an integer");if(parseInt(n,10)!==n)throw new Error("Modulus is not an integer");return parseInt(t,10)===t&&t%r===n}function x(t,e){return e.some(function(e){return t instanceof Array?t.indexOf(e)>-1:t===e})}function A(t,e){return e.every(function(e){return t.indexOf(e)>-1})}function O(t,e){return t.length===e}function q(t,e){return new RegExp(e).test(t)}function I(t,e){switch(e){case"null":return null===t;case"boolean":return"boolean"==typeof t;case"number":return"number"==typeof t;case"string":return"string"==typeof t;case"array":return t instanceof Array;case"object":return"[object Object]"==={}.toString.call(t)}throw new Error(e+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}function N(t,e){if("object"!=typeof e)throw"Selector error: expected a JSON object";e=h(e);var r={doc:t},n=g([r],{selector:e},Object.keys(e));return n&&1===n.length}Object.defineProperty(e,"__esModule",{value:!0});var C=r(114),j=r(164),M=["$or","$nor","$not"],D={$elemMatch:function(t,e,r,n){return!!Array.isArray(n)&&(0!==n.length&&("object"==typeof n[0]?n.some(function(t){return m(t,e,Object.keys(e))}):n.some(function(n){return b(e,t,r,n)})))},$eq:function(t,e,r,n){return S(n)&&0===j.collate(n,e)},$gte:function(t,e,r,n){return S(n)&&j.collate(n,e)>=0},$gt:function(t,e,r,n){return S(n)&&j.collate(n,e)>0},$lte:function(t,e,r,n){return S(n)&&j.collate(n,e)<=0},$lt:function(t,e,r,n){return S(n)&&j.collate(n,e)<0},$exists:function(t,e,r,n){return e?S(n):!S(n)},$mod:function(t,e,r,n){return k(n)&&E(n,e)},$ne:function(t,e,r,n){return e.every(function(t){return 0!==j.collate(n,t)})},$in:function(t,e,r,n){return k(n)&&x(n,e)},$nin:function(t,e,r,n){return k(n)&&!x(n,e)},$size:function(t,e,r,n){return k(n)&&O(n,e)},$all:function(t,e,r,n){return Array.isArray(n)&&A(n,e)},$regex:function(t,e,r,n){return k(n)&&q(n,e)},$type:function(t,e,r,n){return I(n,e)}};e.massageSelector=h,e.matchesSelector=N,e.filterInMemoryFields=g,e.createFieldSorter=v,e.rowFilter=m,e.isCombinationalField=i,e.getKey=a,e.getValue=s,e.getFieldFromDoc=n,e.setFieldInDoc=o,e.compare=u,e.parseField=c},574:function(t,e,r){"use strict";function n(t,e,r){return"string"!=typeof e?u.reject(new Error("doc id is required")):t.get(e).catch(function(t){if(404!==t.status)throw t;return{}}).then(function(n){var u=n._rev,c=r(n);return c?(c._id=e,c._rev=u,o(t,c,r)):{updated:!1,rev:u,id:e}})}function o(t,e,r){return t.put(e).then(function(t){return{updated:!0,rev:t.rev,id:e._id}},function(o){if(409!==o.status)throw o;return n(t,e._id,r)})}var u=r(113);e.upsert=function(t,e,r){var o=this,u=n(o,t,e);if("function"!=typeof r)return u;u.then(function(t){r(null,t)},r)},e.putIfNotExists=function(t,e,r){var o=this;"string"!=typeof t&&(r=e,e=t,t=e._id);var u=function(t){return!t._rev&&e},c=n(o,t,u);if("function"!=typeof r)return c;c.then(function(t){r(null,t)},r)},"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(e)},800:function(t,e,r){"use strict";function n(t,e,r){var n=r[r.length-1];t===n.element&&(r.pop(),n=r[r.length-1]);var o=n.element,u=n.index;if(Array.isArray(o))o.push(t);else if(u===e.length-2){var c=e.pop();o[c]=t}else e.push(t)}e.stringify=function(t){var e=[];e.push({obj:t});for(var r,n,o,u,c,i,a,s,f,l,_,d="";r=e.pop();)if(n=r.obj,o=r.prefix||"",u=r.val||"",d+=o,u)d+=u;else if("object"!=typeof n)d+=void 0===n?null:JSON.stringify(n);else if(null===n)d+="null";else if(Array.isArray(n)){for(e.push({val:"]"}),c=n.length-1;c>=0;c--)i=0===c?"":",",e.push({obj:n[c],prefix:i});e.push({val:"["})}else{a=[];for(s in n)n.hasOwnProperty(s)&&a.push(s);for(e.push({val:"}"}),c=a.length-1;c>=0;c--)f=a[c],l=n[f],_=c>0?",":"",_+=JSON.stringify(f)+":",e.push({obj:l,prefix:_});e.push({val:"{"})}return d},e.parse=function(t){for(var e,r,o,u,c,i,a,s,f,l=[],_=[],d=0;;)if("}"!==(e=t[d++])&&"]"!==e&&void 0!==e)switch(e){case" ":case"\t":case"\n":case":":case",":break;case"n":d+=3,n(null,l,_);break;case"t":d+=3,n(!0,l,_);break;case"f":d+=4,n(!1,l,_);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(r="",d--;;){if(o=t[d++],!/[\d\.\-e\+]/.test(o)){d--;break}r+=o}n(parseFloat(r),l,_);break;case'"':for(u="",c=void 0,i=0;;){if('"'===(a=t[d++])&&("\\"!==c||i%2!=1))break;u+=a,c=a,"\\"===c?i++:i=0}n(JSON.parse('"'+u+'"'),l,_);break;case"[":s={element:[],index:l.length},l.push(s.element),_.push(s);break;case"{":f={element:{},index:l.length},l.push(f.element),_.push(f);break;default:throw new Error("unexpectedly reached end of input: "+e)}else{if(1===l.length)return l.pop();n(l.pop(),l,_)}}}},[329]);