webpackJsonp([0],{113:function(t,e,r){"use strict";var n=function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(r(236)),o="function"==typeof Promise?Promise:n;t.exports=o},114:function(t,e,r){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function o(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer||"undefined"!=typeof Blob&&t instanceof Blob}function u(t){if("function"==typeof t.slice)return t.slice(0);var e=new ArrayBuffer(t.byteLength),r=new Uint8Array(e),n=new Uint8Array(t);return r.set(n),e}function c(t){if(t instanceof ArrayBuffer)return u(t);var e=t.size,r=t.type;return"function"==typeof t.slice?t.slice(0,e,r):t.webkitSlice(0,e,r)}function i(t){var e=Object.getPrototypeOf(t);if(null===e)return!0;var r=e.constructor;return"function"==typeof r&&r instanceof r&&G.call(r)==X}function a(t){var e,r,n;if(!t||"object"!=typeof t)return t;if(Array.isArray(t)){for(e=[],r=0,n=t.length;r<n;r++)e[r]=a(t[r]);return e}if(t instanceof Date)return t.toISOString();if(o(t))return c(t);if(!i(t))return t;e={};for(r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var u=a(t[r]);void 0!==u&&(e[r]=u)}return e}function s(t){var e=!1;return V(function(r){if(e)throw new Error("once called more than once");e=!0,t.apply(this,r)})}function f(t){return V(function(e){e=a(e);var r=this,n="function"==typeof e[e.length-1]&&e.pop(),o=new U(function(n,o){var u;try{var c=s(function(t,e){t?o(t):n(e)});e.push(c),u=t.apply(r,e),u&&"function"==typeof u.then&&n(u)}catch(t){o(t)}});return n&&o.then(function(t){n(null,t)},n),o})}function _(t,e,r){if(t.constructor.listeners("debug").length){for(var n=["api",t.name,e],o=0;o<r.length-1;o++)n.push(r[o]);t.constructor.emit("debug",n);var u=r[r.length-1];r[r.length-1]=function(r,n){var o=["api",t.name,e];o=o.concat(r?["error",r]:["success",n]),t.constructor.emit("debug",o),u(r,n)}}}function l(t,e){return f(V(function(r){if(this._closed)return U.reject(new Error("database is closed"));if(this._destroyed)return U.reject(new Error("database is destroyed"));var n=this;return _(n,t,r),this.taskqueue.isReady?e.apply(this,r):new U(function(e,o){n.taskqueue.addTask(function(u){u?o(u):e(n[t].apply(n,r))})})}))}function d(t,e){for(var r={},n=0,o=e.length;n<o;n++){var u=e[n];u in t&&(r[u]=t[u])}return r}function p(t){return t}function h(t){return[{ok:t}]}function v(t,e,r){function n(){var t=[];l.forEach(function(e){e.docs.forEach(function(r){t.push({id:e.id,docs:[r]})})}),r(null,{results:t})}function o(){++_===f&&n()}function u(t,e,r){l[t]={id:e,docs:r},o()}function c(){if(!(g>=v.length)){var t=Math.min(g+Q,v.length),e=v.slice(g,t);i(e,g),g+=e.length}}function i(r,n){r.forEach(function(r,o){var i=n+o,a=s.get(r),f=d(a[0],["atts_since","attachments"]);f.open_revs=a.map(function(t){return t.rev}),f.open_revs=f.open_revs.filter(p);var _=p;0===f.open_revs.length&&(delete f.open_revs,_=h),["revs","attachments","binary","ajax","latest"].forEach(function(t){t in e&&(f[t]=e[t])}),t.get(r,f,function(t,e){var n;n=t?[{error:t}]:_(e),u(i,r,n),c()})})}var a=e.docs,s=new J.Map;a.forEach(function(t){s.has(t.id)?s.get(t.id).push(t):s.set(t.id,[t])});var f=s.size,_=0,l=new Array(f),v=[];s.forEach(function(t,e){v.push(e)});var g=0;c()}function g(){return"undefined"!=typeof chrome&&void 0!==chrome.storage&&void 0!==chrome.storage.local}function m(){return $}function y(t){g()?chrome.storage.onChanged.addListener(function(e){null!=e.db_name&&t.emit(e.dbName.newValue)}):m()&&("undefined"!=typeof addEventListener?addEventListener("storage",function(e){t.emit(e.key)}):window.attachEvent("storage",function(e){t.emit(e.key)}))}function b(){z.EventEmitter.call(this),this._listeners={},y(this)}function w(t){if("undefined"!==console&&t in console){var e=Array.prototype.slice.call(arguments,1);console[t].apply(console,e)}}function T(t,e){return t=parseInt(t,10)||0,e=parseInt(e,10),e!==e||e<=t?e=(t||1)<<1:e+=1,e>6e5&&(t=3e5,e=6e5),~~((e-t)*Math.random()+t)}function k(t){var e=0;return t||(e=2e3),T(t,e)}function S(t,e){w("info","The above "+t+" is totally normal. "+e)}function E(t,e,r){try{return!t(e,r)}catch(t){var n="Filter function threw: "+t.toString();return K.createError(K.BAD_REQUEST,n)}}function x(t){var e={},r=t.filter&&"function"==typeof t.filter;return e.query=t.query_params,function(n){n.doc||(n.doc={});var o=r&&E(t.filter,n.doc,e);if("object"==typeof o)return o;if(o)return!1;if(t.include_docs){if(!t.attachments)for(var u in n.doc._attachments)n.doc._attachments.hasOwnProperty(u)&&(n.doc._attachments[u].stub=!0)}else delete n.doc;return!0}}function A(t){for(var e=[],r=0,n=t.length;r<n;r++)e=e.concat(t[r]);return e}function O(){}function C(t){var e;if(t?"string"!=typeof t?e=K.createError(K.INVALID_ID):/^_/.test(t)&&!/^_(design|local)/.test(t)&&(e=K.createError(K.RESERVED_ID)):e=K.createError(K.MISSING_ID),e)throw e}function I(){return"undefined"!=typeof cordova||"undefined"!=typeof PhoneGap||"undefined"!=typeof phonegap}function N(t){return"boolean"==typeof t._remote?t._remote:"function"==typeof t.type&&(w("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===t.type())}function q(t,e){return"listenerCount"in t?t.listenerCount(e):z.EventEmitter.listenerCount(t,e)}function M(t){if(!t)return null;var e=t.split("/");return 2===e.length?e:1===e.length?[t,t]:null}function j(t){var e=M(t);return e?e.join("/"):null}function D(t){for(var e=ct.exec(t),r={},n=14;n--;){var o=nt[n],u=e[n]||"",c=-1!==["user","password"].indexOf(o);r[o]=c?decodeURIComponent(u):u}return r[ot]={},r[nt[12]].replace(ut,function(t,e,n){e&&(r[ot][e]=n)}),r}function R(t,e){var r=[],n=[];for(var o in e)e.hasOwnProperty(o)&&(r.push(o),n.push(e[o]));return r.push(t),Function.apply(null,r).apply(null,n)}function B(t,e,r){return new U(function(n,o){t.get(e,function(u,c){if(u){if(404!==u.status)return o(u);c={}}var i=c._rev,a=r(c);if(!a)return n({updated:!1,rev:i});a._id=e,a._rev=i,n(P(t,a,r))})})}function P(t,e,r){return t.put(e).then(function(t){return{updated:!0,rev:t.rev}},function(n){if(409!==n.status)throw n;return B(t,e._id,r)})}function L(t){return 0|Math.random()*t}function F(t,e){e=e||it.length;var r="",n=-1;if(t){for(;++n<t;)r+=it[L(e)];return r}for(;++n<36;)switch(n){case 8:case 13:case 18:case 23:r+="-";break;case 19:r+=it[3&L(16)|8];break;default:r+=it[L(16)]}return r}Object.defineProperty(e,"__esModule",{value:!0});var $,U=n(r(113)),V=n(r(130)),J=r(164),z=r(86),H=n(r(5)),W=n(r(162)),K=r(569),G=Function.prototype.toString,X=G.call(Object),Q=6;if(g())$=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),$=!!localStorage.getItem("_pouch_check_localstorage")}catch(t){$=!1}H(b,z.EventEmitter),b.prototype.addListener=function(t,e,r,n){function o(){function t(){c=!1}if(u._listeners[e]){if(c)return void(c="waiting");c=!0;var i=d(n,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);r.changes(i).on("change",function(t){t.seq>n.since&&!n.cancelled&&(n.since=t.seq,n.onChange(t))}).on("complete",function(){"waiting"===c&&W(o),c=!1}).on("error",t)}}if(!this._listeners[e]){var u=this,c=!1;this._listeners[e]=o,this.on(t,o)}},b.prototype.removeListener=function(t,e){e in this._listeners&&(z.EventEmitter.prototype.removeListener.call(this,t,this._listeners[e]),delete this._listeners[e])},b.prototype.notifyLocalWindows=function(t){g()?chrome.storage.local.set({dbName:t}):m()&&(localStorage[t]="a"===localStorage[t]?"b":"a")},b.prototype.notify=function(t){this.emit(t),this.notifyLocalWindows(t)};var Y;Y="function"==typeof Object.assign?Object.assign:function(t){for(var e=Object(t),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var Z,tt=Y,et=O.name;Z=et?function(t){return t.name}:function(t){return t.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]};var rt=Z,nt=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],ot="queryKey",ut=/(?:^|&)([^&=]*)=?([^&]*)/g,ct=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,it="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");e.adapterFun=l,e.bulkGetShim=v,e.changesHandler=b,e.clone=a,e.defaultBackOff=k,e.explainError=S,e.assign=tt,e.filterChange=x,e.flatten=A,e.functionName=rt,e.guardedConsole=w,e.hasLocalStorage=m,e.invalidIdError=C,e.isChromeApp=g,e.isCordova=I,e.isRemote=N,e.listenerCount=q,e.nextTick=W,e.normalizeDdocFunctionName=j,e.once=s,e.parseDdocFunctionName=M,e.parseUri=D,e.pick=d,e.scopeEval=R,e.toPromise=f,e.upsert=B,e.uuid=F},130:function(t,e,r){"use strict";function n(t){return function(){var e=arguments.length;if(e){for(var r=[],n=-1;++n<e;)r[n]=arguments[n];return t.call(this,r)}return t.call(this,[])}}t.exports=n},162:function(t,e,r){"use strict";(function(e){function r(){f=!0;for(var t,e,r=_.length;r;){for(e=_,_=[],t=-1;++t<r;)e[t]();r=_.length}f=!1}function n(t){1!==_.push(t)||f||o()}var o,u=e.MutationObserver||e.WebKitMutationObserver;if(u){var c=0,i=new u(r),a=e.document.createTextNode("");i.observe(a,{characterData:!0}),o=function(){a.data=c=++c%2}}else if(e.setImmediate||void 0===e.MessageChannel)o="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){r(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(r,0)};else{var s=new e.MessageChannel;s.port1.onmessage=r,o=function(){s.port2.postMessage(0)}}var f,_=[];t.exports=n}).call(e,r(31))},163:function(t,e,r){"use strict";function n(t,e,r){for(var n="",o=r-t.length;n.length<o;)n+=e;return n}function o(t,e,r){return n(t,e,r)+t}function u(t,e){if(t===e)return 0;t=c(t),e=c(e);var r=h(t),n=h(e);if(r-n!=0)return r-n;switch(typeof t){case"number":return t-e;case"boolean":return t<e?-1:1;case"string":return d(t,e)}return Array.isArray(t)?l(t,e):p(t,e)}function c(t){switch(typeof t){case"undefined":return null;case"number":return t===1/0||t===-1/0||isNaN(t)?null:t;case"object":var e=t;if(Array.isArray(t)){var r=t.length;t=new Array(r);for(var n=0;n<r;n++)t[n]=c(e[n])}else{if(t instanceof Date)return t.toJSON();if(null!==t){t={};for(var o in e)if(e.hasOwnProperty(o)){var u=e[o];void 0!==u&&(t[o]=c(u))}}}}return t}function i(t){if(null!==t)switch(typeof t){case"boolean":return t?1:0;case"number":return v(t);case"string":return t.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var e=Array.isArray(t),r=e?t:Object.keys(t),n=-1,o=r.length,u="";if(e)for(;++n<o;)u+=a(r[n]);else for(;++n<o;){var c=r[n];u+=a(c)+a(t[c])}return u}return""}function a(t){return t=c(t),h(t)+y+i(t)+"\0"}function s(t,e){var r,n=e;if("1"===t[e])r=0,e++;else{var o="0"===t[e];e++;var u="",c=t.substring(e,e+m),i=parseInt(c,10)+g;for(o&&(i=-i),e+=m;;){var a=t[e];if("\0"===a)break;u+=a,e++}u=u.split("."),r=1===u.length?parseInt(u,10):parseFloat(u[0]+"."+u[1]),o&&(r-=10),0!==i&&(r=parseFloat(r+"e"+i))}return{num:r,length:e-n}}function f(t,e){var r=t.pop();if(e.length){var n=e[e.length-1];r===n.element&&(e.pop(),n=e[e.length-1]);var o=n.element,u=n.index;if(Array.isArray(o))o.push(r);else if(u===t.length-2){var c=t.pop();o[c]=r}else t.push(r)}}function _(t){for(var e=[],r=[],n=0;;){var o=t[n++];if("\0"!==o)switch(o){case"1":e.push(null);break;case"2":e.push("1"===t[n]),n++;break;case"3":var u=s(t,n);e.push(u.num),n+=u.length;break;case"4":for(var c="";;){var i=t[n];if("\0"===i)break;c+=i,n++}c=c.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),e.push(c);break;case"5":var a={element:[],index:e.length};e.push(a.element),r.push(a);break;case"6":var _={element:{},index:e.length};e.push(_.element),r.push(_);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+o)}else{if(1===e.length)return e.pop();f(e,r)}}}function l(t,e){for(var r=Math.min(t.length,e.length),n=0;n<r;n++){var o=u(t[n],e[n]);if(0!==o)return o}return t.length===e.length?0:t.length>e.length?1:-1}function d(t,e){return t===e?0:t>e?1:-1}function p(t,e){for(var r=Object.keys(t),n=Object.keys(e),o=Math.min(r.length,n.length),c=0;c<o;c++){var i=u(r[c],n[c]);if(0!==i)return i;if(0!==(i=u(t[r[c]],e[n[c]])))return i}return r.length===n.length?0:r.length>n.length?1:-1}function h(t){var e=["boolean","number","string","object"],r=e.indexOf(typeof t);return~r?null===t?1:Array.isArray(t)?5:r<3?r+2:r+3:Array.isArray(t)?5:void 0}function v(t){if(0===t)return"1";var e=t.toExponential().split(/e\+?/),r=parseInt(e[1],10),n=t<0,u=n?"0":"2",c=(n?-r:r)-g,i=o(c.toString(),"0",m);u+=y+i;var a=Math.abs(parseFloat(e[0]));n&&(a=10-a);var s=a.toFixed(20);return s=s.replace(/\.?0+$/,""),u+=y+s}Object.defineProperty(e,"__esModule",{value:!0});var g=-324,m=3,y="";e.collate=u,e.normalizeKey=c,e.toIndexableString=a,e.parseIndexableString=_},164:function(t,e,r){"use strict";function n(t){return"$"+t}function o(t){return t.substring(1)}function u(){this._store={}}function c(t){if(this._store=new u,t&&Array.isArray(t))for(var e=0,r=t.length;e<r;e++)this.add(t[e])}Object.defineProperty(e,"__esModule",{value:!0}),u.prototype.get=function(t){var e=n(t);return this._store[e]},u.prototype.set=function(t,e){var r=n(t);return this._store[r]=e,!0},u.prototype.has=function(t){return n(t)in this._store},u.prototype.delete=function(t){var e=n(t),r=e in this._store;return delete this._store[e],r},u.prototype.forEach=function(t){for(var e=Object.keys(this._store),r=0,n=e.length;r<n;r++){var u=e[r],c=this._store[u];u=o(u),t(c,u)}},Object.defineProperty(u.prototype,"size",{get:function(){return Object.keys(this._store).length}}),c.prototype.add=function(t){return this._store.set(t,!0)},c.prototype.has=function(t){return this._store.has(t)},c.prototype.forEach=function(t){this._store.forEach(function(e,r){t(r)})},Object.defineProperty(c.prototype,"size",{get:function(){return this._store.size}}),!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var t=Object.getOwnPropertyDescriptor(Map,Symbol.species);return t&&"get"in t&&Map[Symbol.species]===Map}()?(e.Set=c,e.Map=u):(e.Set=Set,e.Map=Map)},190:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(555),o=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=function(){var t=o.default.Howl,e=new t({src:["alarm.ogg"]}),r=null,n=function(){u(),r=e.play(),e.fade(1,0,2e3,r)},u=function(){r&&e.stop()};return{start:n,stop:u}}()},236:function(t,e,r){"use strict";function n(){}function o(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,t!==n&&a(this,t)}function u(t,e,r){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function c(t,e,r){p(function(){var n;try{n=e(r)}catch(e){return h.reject(t,e)}n===t?h.reject(t,new TypeError("Cannot resolve promise with itself")):h.resolve(t,n)})}function i(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function a(t,e){function r(e){u||(u=!0,h.reject(t,e))}function n(e){u||(u=!0,h.resolve(t,e))}function o(){e(n,r)}var u=!1,c=s(o);"error"===c.status&&r(c.value)}function s(t,e){var r={};try{r.value=t(e),r.status="success"}catch(t){r.status="error",r.value=t}return r}function f(t){return t instanceof this?t:h.resolve(new this(n),t)}function _(t){var e=new this(n);return h.reject(e,t)}function l(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,o=!1;if(!r)return this.resolve([]);for(var u=new Array(r),c=0,i=-1,a=new this(n);++i<r;)!function(t,n){function i(t){u[n]=t,++c!==r||o||(o=!0,h.resolve(a,u))}e.resolve(t).then(i,function(t){o||(o=!0,h.reject(a,t))})}(t[i],i);return a}function d(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,o=!1;if(!r)return this.resolve([]);for(var u=-1,c=new this(n);++u<r;)!function(t){e.resolve(t).then(function(t){o||(o=!0,h.resolve(c,t))},function(t){o||(o=!0,h.reject(c,t))})}(t[u]);return c}var p=r(162),h={},v=["REJECTED"],g=["FULFILLED"],m=["PENDING"];t.exports=o,o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){if("function"!=typeof t&&this.state===g||"function"!=typeof e&&this.state===v)return this;var r=new this.constructor(n);if(this.state!==m){c(r,this.state===g?t:e,this.outcome)}else this.queue.push(new u(r,t,e));return r},u.prototype.callFulfilled=function(t){h.resolve(this.promise,t)},u.prototype.otherCallFulfilled=function(t){c(this.promise,this.onFulfilled,t)},u.prototype.callRejected=function(t){h.reject(this.promise,t)},u.prototype.otherCallRejected=function(t){c(this.promise,this.onRejected,t)},h.resolve=function(t,e){var r=s(i,e);if("error"===r.status)return h.reject(t,r.value);var n=r.value;if(n)a(t,n);else{t.state=g,t.outcome=e;for(var o=-1,u=t.queue.length;++o<u;)t.queue[o].callFulfilled(e)}return t},h.reject=function(t,e){t.state=v,t.outcome=e;for(var r=-1,n=t.queue.length;++r<n;)t.queue[r].callRejected(e);return t},o.resolve=f,o.reject=_,o.all=l,o.race=d},240:function(t,e,r){"use strict";function n(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(u){if("TypeError"!==u.name)throw u;for(var r="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,n=new r,o=0;o<t.length;o+=1)n.append(t[o]);return n.getBlob(e.type)}}function o(t){for(var e=t.length,r=new ArrayBuffer(e),n=new Uint8Array(r),o=0;o<e;o++)n[o]=t.charCodeAt(o);return r}function u(t,e){return n([o(t)],{type:e})}function c(t,e){return u(d(t),e)}function i(t){for(var e="",r=new Uint8Array(t),n=r.byteLength,o=0;o<n;o++)e+=String.fromCharCode(r[o]);return e}function a(t,e){if("undefined"==typeof FileReader)return e(i((new FileReaderSync).readAsArrayBuffer(t)));var r=new FileReader,n="function"==typeof r.readAsBinaryString;r.onloadend=function(t){var r=t.target.result||"";if(n)return e(r);e(i(r))},n?r.readAsBinaryString(t):r.readAsArrayBuffer(t)}function s(t,e){a(t,function(t){e(t)})}function f(t,e){s(t,function(t){e(p(t))})}function _(t,e){if("undefined"==typeof FileReader)return e((new FileReaderSync).readAsArrayBuffer(t));var r=new FileReader;r.onloadend=function(t){var r=t.target.result||new ArrayBuffer(0);e(r)},r.readAsArrayBuffer(t)}function l(){}Object.defineProperty(e,"__esModule",{value:!0});var d=function(t){return atob(t)},p=function(t){return btoa(t)};e.atob=d,e.btoa=p,e.base64StringToBlobOrBuffer=c,e.binaryStringToArrayBuffer=o,e.binaryStringToBlobOrBuffer=u,e.blob=n,e.blobOrBufferToBase64=f,e.blobOrBufferToBinaryString=s,e.readAsArrayBuffer=_,e.readAsBinaryString=a,e.typedBuffer=l},241:function(t,e,r){"use strict";(function(t){function n(t){return s.btoa(t)}function o(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.slice(e,r)}function u(t,e,r,n,u){(r>0||n<e.size)&&(e=o(e,r,n)),s.readAsArrayBuffer(e,function(e){t.append(e),u()})}function c(t,e,r,n,o){(r>0||n<e.length)&&(e=e.substring(r,n)),t.appendBinary(e),o()}function i(t,e){function r(){_(i)}function o(){var t=v.end(!0),r=n(t);e(r),v.destroy()}function i(){var e=h*d,n=e+d;h++,h<p?g(v,t,e,n,r):g(v,t,e,n,o)}var a="string"==typeof t,s=a?t.length:t.size,d=Math.min(l,s),p=Math.ceil(s/d),h=0,v=a?new f:new f.ArrayBuffer,g=a?c:u;i()}function a(t){return f.hash(t)}Object.defineProperty(e,"__esModule",{value:!0});var s=r(240),f=function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(r(307)),_=t.setImmediate||t.setTimeout,l=32768;e.binaryMd5=i,e.stringMd5=a}).call(e,r(31))},307:function(t,e,r){!function(e){t.exports=e()}(function(t){"use strict";function e(t,e){var r=t[0],n=t[1],o=t[2],u=t[3];r+=(n&o|~n&u)+e[0]-680876936|0,r=(r<<7|r>>>25)+n|0,u+=(r&n|~r&o)+e[1]-389564586|0,u=(u<<12|u>>>20)+r|0,o+=(u&r|~u&n)+e[2]+606105819|0,o=(o<<17|o>>>15)+u|0,n+=(o&u|~o&r)+e[3]-1044525330|0,n=(n<<22|n>>>10)+o|0,r+=(n&o|~n&u)+e[4]-176418897|0,r=(r<<7|r>>>25)+n|0,u+=(r&n|~r&o)+e[5]+1200080426|0,u=(u<<12|u>>>20)+r|0,o+=(u&r|~u&n)+e[6]-1473231341|0,o=(o<<17|o>>>15)+u|0,n+=(o&u|~o&r)+e[7]-45705983|0,n=(n<<22|n>>>10)+o|0,r+=(n&o|~n&u)+e[8]+1770035416|0,r=(r<<7|r>>>25)+n|0,u+=(r&n|~r&o)+e[9]-1958414417|0,u=(u<<12|u>>>20)+r|0,o+=(u&r|~u&n)+e[10]-42063|0,o=(o<<17|o>>>15)+u|0,n+=(o&u|~o&r)+e[11]-1990404162|0,n=(n<<22|n>>>10)+o|0,r+=(n&o|~n&u)+e[12]+1804603682|0,r=(r<<7|r>>>25)+n|0,u+=(r&n|~r&o)+e[13]-40341101|0,u=(u<<12|u>>>20)+r|0,o+=(u&r|~u&n)+e[14]-1502002290|0,o=(o<<17|o>>>15)+u|0,n+=(o&u|~o&r)+e[15]+1236535329|0,n=(n<<22|n>>>10)+o|0,r+=(n&u|o&~u)+e[1]-165796510|0,r=(r<<5|r>>>27)+n|0,u+=(r&o|n&~o)+e[6]-1069501632|0,u=(u<<9|u>>>23)+r|0,o+=(u&n|r&~n)+e[11]+643717713|0,o=(o<<14|o>>>18)+u|0,n+=(o&r|u&~r)+e[0]-373897302|0,n=(n<<20|n>>>12)+o|0,r+=(n&u|o&~u)+e[5]-701558691|0,r=(r<<5|r>>>27)+n|0,u+=(r&o|n&~o)+e[10]+38016083|0,u=(u<<9|u>>>23)+r|0,o+=(u&n|r&~n)+e[15]-660478335|0,o=(o<<14|o>>>18)+u|0,n+=(o&r|u&~r)+e[4]-405537848|0,n=(n<<20|n>>>12)+o|0,r+=(n&u|o&~u)+e[9]+568446438|0,r=(r<<5|r>>>27)+n|0,u+=(r&o|n&~o)+e[14]-1019803690|0,u=(u<<9|u>>>23)+r|0,o+=(u&n|r&~n)+e[3]-187363961|0,o=(o<<14|o>>>18)+u|0,n+=(o&r|u&~r)+e[8]+1163531501|0,n=(n<<20|n>>>12)+o|0,r+=(n&u|o&~u)+e[13]-1444681467|0,r=(r<<5|r>>>27)+n|0,u+=(r&o|n&~o)+e[2]-51403784|0,u=(u<<9|u>>>23)+r|0,o+=(u&n|r&~n)+e[7]+1735328473|0,o=(o<<14|o>>>18)+u|0,n+=(o&r|u&~r)+e[12]-1926607734|0,n=(n<<20|n>>>12)+o|0,r+=(n^o^u)+e[5]-378558|0,r=(r<<4|r>>>28)+n|0,u+=(r^n^o)+e[8]-2022574463|0,u=(u<<11|u>>>21)+r|0,o+=(u^r^n)+e[11]+1839030562|0,o=(o<<16|o>>>16)+u|0,n+=(o^u^r)+e[14]-35309556|0,n=(n<<23|n>>>9)+o|0,r+=(n^o^u)+e[1]-1530992060|0,r=(r<<4|r>>>28)+n|0,u+=(r^n^o)+e[4]+1272893353|0,u=(u<<11|u>>>21)+r|0,o+=(u^r^n)+e[7]-155497632|0,o=(o<<16|o>>>16)+u|0,n+=(o^u^r)+e[10]-1094730640|0,n=(n<<23|n>>>9)+o|0,r+=(n^o^u)+e[13]+681279174|0,r=(r<<4|r>>>28)+n|0,u+=(r^n^o)+e[0]-358537222|0,u=(u<<11|u>>>21)+r|0,o+=(u^r^n)+e[3]-722521979|0,o=(o<<16|o>>>16)+u|0,n+=(o^u^r)+e[6]+76029189|0,n=(n<<23|n>>>9)+o|0,r+=(n^o^u)+e[9]-640364487|0,r=(r<<4|r>>>28)+n|0,u+=(r^n^o)+e[12]-421815835|0,u=(u<<11|u>>>21)+r|0,o+=(u^r^n)+e[15]+530742520|0,o=(o<<16|o>>>16)+u|0,n+=(o^u^r)+e[2]-995338651|0,n=(n<<23|n>>>9)+o|0,r+=(o^(n|~u))+e[0]-198630844|0,r=(r<<6|r>>>26)+n|0,u+=(n^(r|~o))+e[7]+1126891415|0,u=(u<<10|u>>>22)+r|0,o+=(r^(u|~n))+e[14]-1416354905|0,o=(o<<15|o>>>17)+u|0,n+=(u^(o|~r))+e[5]-57434055|0,n=(n<<21|n>>>11)+o|0,r+=(o^(n|~u))+e[12]+1700485571|0,r=(r<<6|r>>>26)+n|0,u+=(n^(r|~o))+e[3]-1894986606|0,u=(u<<10|u>>>22)+r|0,o+=(r^(u|~n))+e[10]-1051523|0,o=(o<<15|o>>>17)+u|0,n+=(u^(o|~r))+e[1]-2054922799|0,n=(n<<21|n>>>11)+o|0,r+=(o^(n|~u))+e[8]+1873313359|0,r=(r<<6|r>>>26)+n|0,u+=(n^(r|~o))+e[15]-30611744|0,u=(u<<10|u>>>22)+r|0,o+=(r^(u|~n))+e[6]-1560198380|0,o=(o<<15|o>>>17)+u|0,n+=(u^(o|~r))+e[13]+1309151649|0,n=(n<<21|n>>>11)+o|0,r+=(o^(n|~u))+e[4]-145523070|0,r=(r<<6|r>>>26)+n|0,u+=(n^(r|~o))+e[11]-1120210379|0,u=(u<<10|u>>>22)+r|0,o+=(r^(u|~n))+e[2]+718787259|0,o=(o<<15|o>>>17)+u|0,n+=(u^(o|~r))+e[9]-343485551|0,n=(n<<21|n>>>11)+o|0,t[0]=r+t[0]|0,t[1]=n+t[1]|0,t[2]=o+t[2]|0,t[3]=u+t[3]|0}function r(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}function n(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return r}function o(t){var n,o,u,c,i,a,s=t.length,f=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=s;n+=64)e(f,r(t.substring(n-64,n)));for(t=t.substring(n-64),o=t.length,u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<o;n+=1)u[n>>2]|=t.charCodeAt(n)<<(n%4<<3);if(u[n>>2]|=128<<(n%4<<3),n>55)for(e(f,u),n=0;n<16;n+=1)u[n]=0;return c=8*s,c=c.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(c[2],16),a=parseInt(c[1],16)||0,u[14]=i,u[15]=a,e(f,u),f}function u(t){var r,o,u,c,i,a,s=t.length,f=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=s;r+=64)e(f,n(t.subarray(r-64,r)));for(t=r-64<s?t.subarray(r-64):new Uint8Array(0),o=t.length,u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0;r<o;r+=1)u[r>>2]|=t[r]<<(r%4<<3);if(u[r>>2]|=128<<(r%4<<3),r>55)for(e(f,u),r=0;r<16;r+=1)u[r]=0;return c=8*s,c=c.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(c[2],16),a=parseInt(c[1],16)||0,u[14]=i,u[15]=a,e(f,u),f}function c(t){var e,r="";for(e=0;e<4;e+=1)r+=p[t>>8*e+4&15]+p[t>>8*e&15];return r}function i(t){var e;for(e=0;e<t.length;e+=1)t[e]=c(t[e]);return t.join("")}function a(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function s(t,e){var r,n=t.length,o=new ArrayBuffer(n),u=new Uint8Array(o);for(r=0;r<n;r+=1)u[r]=t.charCodeAt(r);return e?u:o}function f(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function _(t,e,r){var n=new Uint8Array(t.byteLength+e.byteLength);return n.set(new Uint8Array(t)),n.set(new Uint8Array(e),t.byteLength),r?n:n.buffer}function l(t){var e,r=[],n=t.length;for(e=0;e<n-1;e+=2)r.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,r)}function d(){this.reset()}var p=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return"5d41402abc4b2a76b9719d911017c592"!==i(o("hello"))&&function(t,e){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r},"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(t,e){return t=0|t||0,t<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(r,n){var o,u,c,i,a=this.byteLength,s=e(r,a),f=a;return n!==t&&(f=e(n,a)),s>f?new ArrayBuffer(0):(o=f-s,u=new ArrayBuffer(o),c=new Uint8Array(u),i=new Uint8Array(this,s,o),c.set(i),u)}}(),d.prototype.append=function(t){return this.appendBinary(a(t)),this},d.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var n,o=this._buff.length;for(n=64;n<=o;n+=64)e(this._hash,r(this._buff.substring(n-64,n)));return this._buff=this._buff.substring(n-64),this},d.prototype.end=function(t){var e,r,n=this._buff,o=n.length,u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<o;e+=1)u[e>>2]|=n.charCodeAt(e)<<(e%4<<3);return this._finish(u,o),r=i(this._hash),t&&(r=l(r)),this.reset(),r},d.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},d.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},d.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},d.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},d.prototype._finish=function(t,r){var n,o,u,c=r;if(t[c>>2]|=128<<(c%4<<3),c>55)for(e(this._hash,t),c=0;c<16;c+=1)t[c]=0;n=8*this._length,n=n.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(n[2],16),u=parseInt(n[1],16)||0,t[14]=o,t[15]=u,e(this._hash,t)},d.hash=function(t,e){return d.hashBinary(a(t),e)},d.hashBinary=function(t,e){var r=o(t),n=i(r);return e?l(n):n},d.ArrayBuffer=function(){this.reset()},d.ArrayBuffer.prototype.append=function(t){var r,o=_(this._buff.buffer,t,!0),u=o.length;for(this._length+=t.byteLength,r=64;r<=u;r+=64)e(this._hash,n(o.subarray(r-64,r)));return this._buff=r-64<u?new Uint8Array(o.buffer.slice(r-64)):new Uint8Array(0),this},d.ArrayBuffer.prototype.end=function(t){var e,r,n=this._buff,o=n.length,u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<o;e+=1)u[e>>2]|=n[e]<<(e%4<<3);return this._finish(u,o),r=i(this._hash),t&&(r=l(r)),this.reset(),r},d.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},d.ArrayBuffer.prototype.getState=function(){var t=d.prototype.getState.call(this);return t.buff=f(t.buff),t},d.ArrayBuffer.prototype.setState=function(t){return t.buff=s(t.buff,!0),d.prototype.setState.call(this,t)},d.ArrayBuffer.prototype.destroy=d.prototype.destroy,d.ArrayBuffer.prototype._finish=d.prototype._finish,d.ArrayBuffer.hash=function(t,e){var r=u(new Uint8Array(t)),n=i(r);return e?l(n):n},d})},310:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){function n(o,u){try{var c=e[o](u),i=c.value}catch(t){return void r(t)}if(!c.done)return Promise.resolve(i).then(function(t){n("next",t)},function(t){n("throw",t)});t(i)}return n("next")})}}function u(){var t=localStorage.getItem("device-id");return t||(t=(0,w.default)(64),localStorage.setItem("device-id",t)),t}var c=function(){function t(t,e){var r=[],n=!0,o=!1,u=void 0;try{for(var c,i=t[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!e||r.length!==e);n=!0);}catch(t){o=!0,u=t}finally{try{!n&&i.return&&i.return()}finally{if(o)throw u}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){var t=o(regeneratorRuntime.mark(function t(){var e,n,i,a,f,l,p,v,m=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=u(),n=(0,h.default)("#elm-app-container"),n.trap(),n.on("keydown",".entity-list",function(t){"PAPER-INPUT"!==t.target.tagName&&(" "===t.key&&"PAPER-INPUT"!==t.target.tagName?t.preventDefault():"ArrowUp"!==t.key&&"ArrowDown"!==t.key||t.preventDefault())}),n.get(0).addEventListener("keydown",function(t){var e=(0,h.default)(t.target).closest("[data-prevent-default-keys]");if(0!==e.length){var r=e.data("prevent-default-keys").split(",");g.default.contains(t.key)(r)&&t.preventDefault()}},!0),t.next=7,(0,d.default)("todo-db");case 7:return t.t0=t.sent,t.next=10,(0,d.default)("project-db");case 10:return t.t1=t.sent,t.next=13,(0,d.default)("context-db");case 13:return t.t2=t.sent,i={"todo-db":t.t0,"project-db":t.t1,"context-db":t.t2},a=g.default.map(function(t){return t.findAll()})(i),t.t3=Date.now(),t.next=19,a["todo-db"];case 19:return t.t4=t.sent,t.next=22,a["project-db"];case 22:return t.t5=t.sent,t.next=25,a["context-db"];case 25:t.t6=t.sent,t.t7=localStorage.getItem("pouchdb.remote-sync-uri")||"",t.t8=S,t.t9=x,t.t10=e,f={now:t.t3,encodedTodoList:t.t4,encodedProjectList:t.t5,encodedContextList:t.t6,pouchDBRemoteSyncURI:t.t7,developmentMode:t.t8,appVersion:t.t9,deviceId:t.t10},l=r(547),p=l.Main.embed(document.getElementById("elm-app-container"),f),v=_.default.setup(p,g.default.values(i),e),g.default.mapObjIndexed(function(t,e){return t.onChange(function(t){return p.ports.pouchDBChanges.send([e,t])})})(i),p.ports.syncWithRemotePouch.subscribe(function(){var t=o(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:localStorage.setItem("pouchdb.remote-sync-uri",e),g.default.map(function(t){return t.startRemoteSync(e,"sgtd2-")})(i);case 2:case"end":return t.stop()}},t,m)}));return function(e){return t.apply(this,arguments)}}()),p.ports.pouchDBUpsert.subscribe(function(){var t=o(regeneratorRuntime.mark(function t(e){var r=c(e,3),n=r[0],o=r[1],u=r[2];return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i[n].upsert(o,u).catch(console.error);case 1:case"end":return t.stop()}},t,m)}));return function(e){return t.apply(this,arguments)}}()),y.default.setup(v,p).catch(console.error),p.ports.focusSelector.subscribe(function(t){requestAnimationFrame(function(){(0,h.default)(t).blur().focus()})}),p.ports.focusSelectorIfNoFocus.subscribe(function(t){0===(0,h.default)(":focus, [focused]").length&&(0,h.default)(t).focus()}),p.ports.positionPopupMenu.subscribe(function(t){requestAnimationFrame(function(){var e=(0,h.default)("#popup-menu");e.position({my:"right top",at:"right top",of:(0,h.default)(t),within:".fullbleed-capture",collision:"fit"}),e.find(".auto-focus").first().focus(),e.on("keydown",":focusable",function(t){if("Tab"===t.key){var r=e.find(":focusable"),n=r.first().get(0),o=r.last().get(0);t.shiftKey?this===n&&(t.preventDefault(),t.stopPropagation(),o.focus()):this===o&&(t.preventDefault(),t.stopPropagation(),n.focus())}})})}),p.ports.focusInput.subscribe(function(t){requestAnimationFrame(function(){(0,h.default)(".materialize-textarea.auto-focus").each(function(){(0,k.default)(this),this.focus()})}),setTimeout(function(){requestAnimationFrame(function(){var e=document.querySelector(t);e&&document.activeElement!==e&&e.focus(),e&&e.inputElement&&e.inputElement.focus()})},0)}),p.ports.startAlarm.subscribe(function(){s.default.start()}),p.ports.stopAlarm.subscribe(function(){s.default.stop()});case 44:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),a=r(190),s=n(a),f=r(321),_=n(f),l=r(324),d=n(l),p=r(74),h=n(p),v=r(87),g=n(v),m=r(323),y=n(m),b=r(189),w=n(b),T=r(320),k=n(T),S=!1;window.addEventListener("WebComponentsReady",function(){i().catch(console.error)});var E={PATH:"/Users/jigargosar/GitHub/elm-simple-gtd/node_modules/.bin:/Users/jigargosar/GitHub/elm-simple-gtd/node_modules/.bin:/Users/jigargosar/GitHub/elm-simple-gtd/node_modules/.bin:node_modules/.bin:/Users/jigargosar/.config/yarn/global/node_modules/.bin:/Users/jigargosar/.yarn/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin:/Applications/Racket v6.4/bin:/Users/jigargosar/libs/android-sdk-macosx/tools:/Users/jigargosar/libs/android-sdk-macosx/platform-tools",PWD:"/Users/jigargosar/GitHub/elm-simple-gtd",NODE_ENV:"production",npm_package_version:"0.18.15",SHLVL:"1",_:"/Users/jigargosar/GitHub/elm-simple-gtd/node_modules/.bin/webpack",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0"};console.log("env",E);var x=E.npm_package_version},320:function(t,e,r){var n,o,u;/*!
	Autosize 3.0.21
	license: MIT
	http://www.jacklmoore.com/autosize
*/
!function(r,c){o=[e,t],n=c,void 0!==(u="function"==typeof n?n.apply(e,o):n)&&(t.exports=u)}(0,function(t,e){"use strict";function r(t){function e(e){var r=t.style.width;t.style.width="0px",t.offsetWidth,t.style.width=r,t.style.overflowY=e}function r(t){for(var e=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&e.push({node:t.parentNode,scrollTop:t.parentNode.scrollTop}),t=t.parentNode;return e}function n(){var e=t.style.height,n=r(t),o=document.documentElement&&document.documentElement.scrollTop;t.style.height="auto";var u=t.scrollHeight+i;if(0===t.scrollHeight)return void(t.style.height=e);t.style.height=u+"px",a=t.clientWidth,n.forEach(function(t){t.node.scrollTop=t.scrollTop}),o&&(document.documentElement.scrollTop=o)}function o(){n();var r=Math.round(parseFloat(t.style.height)),o=window.getComputedStyle(t,null),u="content-box"===o.boxSizing?Math.round(parseFloat(o.height)):t.offsetHeight;if(u!==r?"hidden"===o.overflowY&&(e("scroll"),n(),u="content-box"===o.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight):"hidden"!==o.overflowY&&(e("hidden"),n(),u="content-box"===o.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight),s!==u){s=u;var i=c("autosize:resized");try{t.dispatchEvent(i)}catch(t){}}}if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!u.has(t)){var i=null,a=t.clientWidth,s=null,f=function(){t.clientWidth!==a&&o()},_=function(e){window.removeEventListener("resize",f,!1),t.removeEventListener("input",o,!1),t.removeEventListener("keyup",o,!1),t.removeEventListener("autosize:destroy",_,!1),t.removeEventListener("autosize:update",o,!1),Object.keys(e).forEach(function(r){t.style[r]=e[r]}),u.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",_,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",o,!1),window.addEventListener("resize",f,!1),t.addEventListener("input",o,!1),t.addEventListener("autosize:update",o,!1),t.style.overflowX="hidden",t.style.wordWrap="break-word",u.set(t,{destroy:_,update:o}),function(){var e=window.getComputedStyle(t,null);"vertical"===e.resize?t.style.resize="none":"both"===e.resize&&(t.style.resize="horizontal"),i="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(i)&&(i=0),o()}()}}function n(t){var e=u.get(t);e&&e.destroy()}function o(t){var e=u.get(t);e&&e.update()}var u="function"==typeof Map?new Map:function(){var t=[],e=[];return{has:function(e){return t.indexOf(e)>-1},get:function(r){return e[t.indexOf(r)]},set:function(r,n){-1===t.indexOf(r)&&(t.push(r),e.push(n))},delete:function(r){var n=t.indexOf(r);n>-1&&(t.splice(n,1),e.splice(n,1))}}}(),c=function(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch(t){c=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}var i=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(i=function(t){return t},i.destroy=function(t){return t},i.update=function(t){return t}):(i=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],function(t){return r(t)}),t},i.destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],n),t},i.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],o),t}),e.exports=i})},321:function(t,e,r){"use strict";function n(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){function n(o,u){try{var c=e[o](u),i=c.value}catch(t){return void r(t)}if(!c.done)return Promise.resolve(i).then(function(t){n("next",t)},function(t){n("throw",t)});t(i)}return n("next")})}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){var r=[],n=!0,o=!1,u=void 0;try{for(var c,i=t[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!e||r.length!==e);n=!0);}catch(t){o=!0,u=t}finally{try{!n&&i.return&&i.return()}finally{if(o)throw u}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=r(87),c=r(235),i=function(){return{apiKey:"AIzaSyDgqOiOMuTvK3PdzJ0Oz6ctEg-devcgZYc",authDomain:"simple-gtd-prod.firebaseapp.com",databaseURL:"https://simple-gtd-prod.firebaseio.com",projectId:"simple-gtd-prod",storageBucket:"simple-gtd-prod.appspot.com",messagingSenderId:"1061254169900"}}(),a=e.setup=function(t,e,r){function a(t){var e=t.deviceId;return!e||""===e||e===r}function s(t,e){var n="pouch-fire-sync."+e.name+".out.lastSeq",o=localStorage.getItem(n),i=parseInt(o,10)||0,s=e.changes({include_docs:!0,live:!0,since:i}),f=function(o){var c=function(){return localStorage.setItem(n,o.seq),o.seq};if(a(o.doc)){console.log("[PouchToFire]: sending local change: ",o,o.doc.deviceId,r);var i=u.compose(u.omit("_rev"),u.merge(o.doc))({firebaseServerPersistedAt:firebase.database.ServerValue.TIMESTAMP});return _.database().ref("/users/"+t+"/"+e.name+"/"+o.id).set(i).then(c)}return console.log("[PouchToFire]: ignoring non-local change: ",o,o.doc.deviceId,r),Promise.resolve(c())},l=c.fromEvents(s,"error"),d=c.fromEvents(s,"change");return c.merge([d,l]).map(f).flatMap(c.fromPromise).onValue(function(t){return console.log("[PouchToFire] ",t)}).onError(function(t){return console.error("[PouchToFire] ",t)}),s}function f(e,r){function n(t){localStorage.setItem(i,Math.min(t.firebaseServerPersistedAt,Date.now()))}var o=r.name,i="pouch-fire-sync."+o+".in.lastPersistedAt",s=function(e){t.ports.onFirebaseChange.send([o,e]),n(e)},f=localStorage.getItem(i),l=parseInt(f,10)||0,d=_.database().ref("/users/"+e+"/"+o).orderByChild("firebaseServerPersistedAt").startAt(l+1);c.merge([c.fromEvents(d,"child_changed"),c.fromEvents(d,"child_added")]).map(u.invoker(0,"val")).map(function(t){return r.getClean(t._id).then(function(){return a(t)?(n(t),"[FireToELm] ignoring local change: note we receive this message twice when online, since we are setting firebaseServerPersistedAt field."):(s(t),"[FireToELm] sending non-local change")}).catch(function(e){if(404===e.status)return s(t),"[FireToELm] docs not found locally, sending to elm";throw e})}).flatMap(c.fromPromise).onValue(function(t){return console.log(t)}).onError(function(t){console.error("[FireToELm] ",t)})}var _=firebase.initializeApp(i),l=[];return t.ports.signIn.subscribe(function(){var t=new firebase.auth.GoogleAuthProvider;t.setCustomParameters({prompt:"select_account"}),document.getElementById("firebase-auth").signInWithPopup(t).catch(console.error)}),t.ports.fireStartSync.subscribe(function(){var t=n(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u.map(function(t){return t.cancel()})(l),l=u.map(function(t){return f(r,t),s(r,t)})(e);case 2:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()),t.ports.firebaseSetupOnDisconnect.subscribe(function(t){var e=o(t,2),r=e[0],n=e[1];console.log("[FJS]:firebaseSetupOnDisconnect: called"),_.database().ref("/users/"+r+"/clients/"+n+"/connected").onDisconnect().set(!1)}),t.ports.firebaseRefSet.subscribe(function(t){var e=o(t,2),r=e[0],n=e[1];_.database().ref(r).set(n).catch(console.error)}),t.ports.firebaseRefPush.subscribe(function(t){var e=o(t,2),r=e[0],n=e[1];console.log("firebaseApp.database().ref(path).push(value)",{path:r,value:n}),_.database().ref(r).push(n)}),t.ports.signOut.subscribe(function(){document.getElementById("firebase-auth").signOut().catch(console.error)}),{ref:function(){var t;return(t=_.database()).ref.apply(t,arguments)}}};e.default={setup:a}},323:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){function n(o,u){try{var c=e[o](u),i=c.value}catch(t){return void r(t)}if(!c.done)return Promise.resolve(i).then(function(t){n("next",t)},function(t){n("throw",t)});t(i)}return n("next")})}}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){var t=o(regeneratorRuntime.mark(function t(e,r){var n,o,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(console.info("Setting up notification ports and sw registration"),!(!1 in navigator)){t.next=4;break}return console.warn("serviceWorker not found in navigator"),t.abrupt("return");case 4:return n="/service-worker.js",navigator.serviceWorker.addEventListener("message",function(t){var e=t.data;if(console.log("JS: serviceWorker.onMessage",t.data,t),e["firebase-messaging-msg-type"])console.info("FBJS: ignoring message event received",e,t);else if(e&&e.data&&e.data.notificationClickedPort){var n=e.data.notificationClickedPort;console.log("JS: sending to port: ",n,e),r.ports[n].send(e)}else console.log("JS: sending to port: notificationClicked ",e),r.ports.notificationClicked.send(e)}),console.info("navigator.serviceWorker.register: ",n),t.next=9,navigator.serviceWorker.register(n);case 9:o=t.sent,u=setInterval(function(){var t=document.getElementById("fb-messaging");if(!t)return void console.warn('document.getElementById("fb-messaging")',t);console.debug("messaging.activate(reg)"),t.activate(o),clearTimeout(u)},100),r.ports.showTodoReminderNotification.subscribe(d(e,o)),r.ports.closeNotification.subscribe(_(o)),r.ports.showRunningTodoNotification.subscribe(l(o));case 14:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),c=r(87),i=n(c),a=r(74),s=(n(a),r(190)),f=n(s);e.default={setup:u};var _=function(t){return function(){var e=o(regeneratorRuntime.mark(function e(r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i.default,e.t1=i.default.propEq("tag",r),e.next=4,t.getNotifications();case 4:e.t2=e.sent,n=e.t0.find.call(e.t0,e.t1,e.t2),n&&n.close();case 7:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()},l=function(t){return function(){var e=o(regeneratorRuntime.mark(function e(r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Notification.requestPermission();case 2:if(n=e.sent,f.default.start(),"granted"===n){e.next=6;break}return e.abrupt("return");case 6:t.showNotification(r.title,{tag:r.tag,requiresInteraction:!0,sticky:!0,renotify:!0,vibrate:[500,110,500,110,450,110,200,110,170,40,450,110,200,110,170,40,500],sound:"/alarm.ogg",icon:"/logo.png",actions:r.actions,body:r.body,data:r.data});case 7:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()},d=function(t,e){return function(){var t=o(regeneratorRuntime.mark(function t(r){var n,o,u,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.tag,o=r.title,u=r.data,t.next=3,Notification.requestPermission();case 3:if("granted"===(c=t.sent)){t.next=6;break}return t.abrupt("return");case 6:e.showNotification("",{tag:n,requiresInteraction:!0,sticky:!0,renotify:!0,vibrate:[500,110,500,110,450,110,200,110,170,40,450,110,200,110,170,40,500],sound:"/alarm.ogg",icon:"/logo.png",actions:[{title:"Mark Done",action:"mark-done"},{title:"Snooze",action:"snooze"}],body:o,data:u});case 7:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()}},324:function(t,e,r){"use strict";function n(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){function n(o,u){try{var c=e[o](u),i=c.value}catch(t){return void r(t)}if(!c.done)return Promise.resolve(i).then(function(t){n("next",t)},function(t){n("throw",t)});t(i)}return n("next")})}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(568),u=r(87);o.debug.disable(),o.plugin(r(570)),o.plugin(r(573));var c=function t(e){return u.when(u.is(Object),u.compose(u.map(t),u.reject(u.isNil)))(e)};e.default=function(){var t=n(regeneratorRuntime.mark(function t(e){var r,i,a,s,f,_,l,d,p,h=function(){var t=n(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=u,t.t1=u.prop("ddoc"),t.next=4,r.getIndexes();case 4:return t.t2=t.sent.indexes,e=t.t0.filter.call(t.t0,t.t1,t.t2),t.next=8,Promise.all(u.map(u.bind(r.deleteIndex,r),e));case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),v=function(){var t=n(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(t){return r.put(u.merge(t,{_deleted:!0}))},t.t0=Promise,t.t1=u,t.t2=e,t.next=6,d();case 6:return t.t3=t.sent,t.t4=t.t1.map.call(t.t1,t.t2,t.t3),t.abrupt("return",t.t0.all.call(t.t0,t.t4));case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return p=function(t){return r.changes({since:"now",live:!0,include_docs:!0}).on("change",function(e){t(e.doc)}).on("complete",function(t){}).on("error",function(t){console.log(t)})},d=function(){r.allDocs()},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http://localhost:12321",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,u=""+n+o;console.log("starting sync for "+u);var c=t+"/"+u;i&&i.cancel();var a=r.sync(c,{live:!0,retry:!0},function(t,e){t?console.error("PLDB: sync err "+o,t):console.info("PLDB: sync complete = ",e)});return i=a,a},f=function(t,e){return r.upsert(t,function(t){var r=function(t,e){var r=u.merge(u.__,{_rev:e._rev}),n=u.propSatisfies(u.isEmpty,"_rev");return u.compose(u.when(n,r),c)(t)}(e,t),n=c(t);if(!u.equals(r,n))return r}).then(u.tap(function(t){return console.log("upsert results: ",t)}))},s=function(t){return r.bulkDocs(t)},a=function(t){return r.createIndex(t)},r=new o(e),i=null,l=function(){var t=n(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.find(e);case 2:return t.abrupt("return",t.sent.docs);case 3:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}(),t.next=11,Promise.all(u.map(a,g));case 11:return t.abrupt("return",{find:l,deleteAllDocs:v,bulkDocs:s,_db:r,upsert:f,deleteIndices:h,allDocs:d,startRemoteSync:_,findAll:function(){return l({selector:{_id:{$ne:null}}})},onChange:p,changes:u.bind(r.changes,r),name:e,getClean:function(t){return r.get(t).then(c)}});case 12:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()},523:function(t,e,r){(function(n){function o(){return!("undefined"==typeof window||!window||void 0===window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document&&"WebkitAppearance"in document.documentElement.style||"undefined"!=typeof window&&window&&window.console&&(console.firebug||console.exception&&console.table)||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function u(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),r){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var o=0,u=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(o++,"%c"===t&&(u=o))}),t.splice(u,0,n)}}function c(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function i(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}}function a(){try{return e.storage.debug}catch(t){}if(void 0!==n&&"env"in n)return{PATH:"/Users/jigargosar/GitHub/elm-simple-gtd/node_modules/.bin:/Users/jigargosar/GitHub/elm-simple-gtd/node_modules/.bin:/Users/jigargosar/GitHub/elm-simple-gtd/node_modules/.bin:node_modules/.bin:/Users/jigargosar/.config/yarn/global/node_modules/.bin:/Users/jigargosar/.yarn/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin:/Applications/Racket v6.4/bin:/Users/jigargosar/libs/android-sdk-macosx/tools:/Users/jigargosar/libs/android-sdk-macosx/platform-tools",PWD:"/Users/jigargosar/GitHub/elm-simple-gtd",NODE_ENV:"production",npm_package_version:"0.18.15",SHLVL:"1",_:"/Users/jigargosar/GitHub/elm-simple-gtd/node_modules/.bin/webpack",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0"}.DEBUG}e=t.exports=r(524),e.log=c,e.formatArgs=u,e.save=i,e.load=a,e.useColors=o,e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(a())}).call(e,r(50))},524:function(t,e,r){function n(t){var r,n=0;for(r in t)n=(n<<5)-n+t.charCodeAt(r),n|=0;return e.colors[Math.abs(n)%e.colors.length]}function o(t){function r(){if(r.enabled){var t=r,n=+new Date,o=n-(s||n);t.diff=o,t.prev=s,t.curr=n,s=n;for(var u=new Array(arguments.length),c=0;c<u.length;c++)u[c]=arguments[c];u[0]=e.coerce(u[0]),"string"!=typeof u[0]&&u.unshift("%O");var i=0;u[0]=u[0].replace(/%([a-zA-Z%])/g,function(r,n){if("%%"===r)return r;i++;var o=e.formatters[n];if("function"==typeof o){var c=u[i];r=o.call(t,c),u.splice(i,1),i--}return r}),e.formatArgs.call(t,u);(r.log||e.log||console.log.bind(console)).apply(t,u)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=n(t),"function"==typeof e.init&&e.init(r),r}function u(t){e.save(t),e.names=[],e.skips=[];for(var r=(t||"").split(/[\s,]+/),n=r.length,o=0;o<n;o++)r[o]&&(t=r[o].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function c(){e.enable("")}function i(t){var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1}function a(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=o.debug=o.default=o,e.coerce=a,e.disable=c,e.enable=u,e.enabled=i,e.humanize=r(561),e.names=[],e.skips=[],e.formatters={};var s},547:function(t,e){(function(){"use strict";function e(t){function e(e){return function(r){return t(e,r)}}return e.arity=2,e.func=t,e}function r(t){function e(e){return function(r){return function(n){return t(e,r,n)}}}return e.arity=3,e.func=t,e}function n(t){function e(e){return function(r){return function(n){return function(o){return t(e,r,n,o)}}}}return e.arity=4,e.func=t,e}function o(t){function e(e){return function(r){return function(n){return function(o){return function(u){return t(e,r,n,o,u)}}}}}return e.arity=5,e.func=t,e}function u(t){function e(e){return function(r){return function(n){return function(o){return function(u){return function(c){return t(e,r,n,o,u,c)}}}}}}return e.arity=6,e.func=t,e}function c(t){function e(e){return function(r){return function(n){return function(o){return function(u){return function(c){return function(i){return t(e,r,n,o,u,c,i)}}}}}}}return e.arity=7,e.func=t,e}function i(t){function e(e){return function(r){return function(n){return function(o){return function(u){return function(c){return function(i){return function(a){return t(e,r,n,o,u,c,i,a)}}}}}}}}return e.arity=8,e.func=t,e}function a(t){function e(e){return function(r){return function(n){return function(o){return function(u){return function(c){return function(i){return function(a){return function(s){return t(e,r,n,o,u,c,i,a,s)}}}}}}}}}return e.arity=9,e.func=t,e}function s(t,e,r){return 2===t.arity?t.func(e,r):t(e)(r)}function f(t,e,r,n){return 3===t.arity?t.func(e,r,n):t(e)(r)(n)}function _(t,e,r,n,o){return 4===t.arity?t.func(e,r,n,o):t(e)(r)(n)(o)}function l(t,e,r,n,o,u){return 5===t.arity?t.func(e,r,n,o,u):t(e)(r)(n)(o)(u)}function d(t,e,r,n,o,u,c){return 6===t.arity?t.func(e,r,n,o,u,c):t(e)(r)(n)(o)(u)(c)}function p(t,e,r,n,o,u,c,i){return 7===t.arity?t.func(e,r,n,o,u,c,i):t(e)(r)(n)(o)(u)(c)(i)}var h=function(){function t(t,e){return t/e|0}function n(t,e){return t%e}function o(t,e){if(0===e)throw new Error("Cannot perform mod 0. Division by zero error.");var r=t%e,n=0===t?0:e>0?t>=0?r:r+e:-o(-t,-e);return n===e?0:n}function u(t,e){return Math.log(e)/Math.log(t)}function c(t){return-t}function i(t){return t<0?-t:t}function a(t,e){return v.cmp(t,e)<0?t:e}function s(t,e){return v.cmp(t,e)>0?t:e}function f(t,e,r){return v.cmp(r,t)<0?t:v.cmp(r,e)>0?e:r}function _(t,e){return{ctor:w[v.cmp(t,e)+1]}}function l(t,e){return t!==e}function d(t){return!t}function p(t){return t===1/0||t===-1/0}function h(t){return 0|t}function g(t){return t*Math.PI/180}function m(t){return 2*Math.PI*t}function y(t){var e=t._0,r=t._1;return v.Tuple2(e*Math.cos(r),e*Math.sin(r))}function b(t){var e=t._0,r=t._1;return v.Tuple2(Math.sqrt(e*e+r*r),Math.atan2(r,e))}var w=["LT","EQ","GT"];return{div:e(t),rem:e(n),mod:e(o),pi:Math.PI,e:Math.E,cos:Math.cos,sin:Math.sin,tan:Math.tan,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:e(Math.atan2),degrees:g,turns:m,fromPolar:y,toPolar:b,sqrt:Math.sqrt,logBase:e(u),negate:c,abs:i,min:e(a),max:e(s),clamp:r(f),compare:e(_),xor:e(l),not:d,truncate:h,ceiling:Math.ceil,floor:Math.floor,round:Math.round,toFloat:function(t){return t},isNaN:isNaN,isInfinite:p}}(),v=function(){function t(t,e){for(var n,o=[],u=r(t,e,0,o);u&&(n=o.pop());)u=r(n.x,n.y,0,o);return u}function r(t,e,n,o){if(n>100)return o.push({x:t,y:e}),!0;if(t===e)return!0;if("object"!=typeof t){if("function"==typeof t)throw new Error('Trying to use `(==)` on functions. There is no way to know if functions are "the same" in the Elm sense. Read more about this at http://package.elm-lang.org/packages/elm-lang/core/latest/Basics#== which describes why it is this way and what the better version will look like.');return!1}if(null===t||null===e)return!1;if(t instanceof Date)return t.getTime()===e.getTime();if(!("ctor"in t)){for(var u in t)if(!r(t[u],e[u],n+1,o))return!1;return!0}if("RBNode_elm_builtin"!==t.ctor&&"RBEmpty_elm_builtin"!==t.ctor||(t=nr(t),e=nr(e)),"Set_elm_builtin"===t.ctor&&(t=Xc(t),e=Xc(e)),"::"===t.ctor){for(var c=t,i=e;"::"===c.ctor&&"::"===i.ctor;){if(!r(c._0,i._0,n+1,o))return!1;c=c._1,i=i._1}return c.ctor===i.ctor}if("_Array"===t.ctor){var a=Ke.toJSArray(t),s=Ke.toJSArray(e);if(a.length!==s.length)return!1;for(var f=0;f<a.length;f++)if(!r(a[f],s[f],n+1,o))return!1;return!0}if(!r(t.ctor,e.ctor,n+1,o))return!1;for(var u in t)if(!r(t[u],e[u],n+1,o))return!1;return!0}function n(t,e){if("object"!=typeof t)return t===e?v:t<e?h:g;if(t instanceof String){var r=t.valueOf(),o=e.valueOf();return r===o?v:r<o?h:g}if("::"===t.ctor||"[]"===t.ctor){for(;"::"===t.ctor&&"::"===e.ctor;){var u=n(t._0,e._0);if(u!==v)return u;t=t._1,e=e._1}return t.ctor===e.ctor?v:"[]"===t.ctor?h:g}if("_Tuple"===t.ctor.slice(0,6)){var u,c=t.ctor.slice(6)-0;if(0===c)return v;if(c>=1){if((u=n(t._0,e._0))!==v)return u;if(c>=2){if((u=n(t._1,e._1))!==v)return u;if(c>=3){if((u=n(t._2,e._2))!==v)return u;if(c>=4){if((u=n(t._3,e._3))!==v)return u;if(c>=5){if((u=n(t._4,e._4))!==v)return u;if(c>=6){if((u=n(t._5,e._5))!==v)return u;if(c>=7)throw new Error("Comparison error: cannot compare tuples with more than 6 elements.")}}}}}}return v}throw new Error("Comparison error: comparison is only defined on ints, floats, times, chars, strings, lists of comparable values, and tuples of comparable values.")}function o(t,e){return{ctor:"_Tuple2",_0:t,_1:e}}function u(t){return new String(t)}function c(t){return y++}function i(t,e){var r={};for(var n in t)r[n]=t[n];for(var n in e)r[n]=e[n];return r}function a(t,e){return{ctor:"::",_0:t,_1:e}}function s(t,e){if("string"==typeof t)return t+e;if("[]"===t.ctor)return e;var r=a(t._0,b),n=r;for(t=t._1;"[]"!==t.ctor;)n._1=a(t._0,b),t=t._1,n=n._1;return n._1=e,r}function f(t,e){return function(r){throw new Error("Ran into a `Debug.crash` in module `"+t+"` "+l(e)+"\nThe message provided by the code author is:\n\n    "+r)}}function _(t,e,r){return function(n){throw new Error("Ran into a `Debug.crash` in module `"+t+"`\n\nThis was caused by the `case` expression "+l(e)+".\nOne of the branches ended with a crash and the following value got through:\n\n    "+d(r)+"\n\nThe message provided by the code author is:\n\n    "+n)}}function l(t){return t.start.line==t.end.line?"on line "+t.start.line:"between lines "+t.start.line+" and "+t.end.line}function d(t){var e=typeof t;if("function"===e)return"<function>";if("boolean"===e)return t?"True":"False";if("number"===e)return t+"";if(t instanceof String)return"'"+p(t,!0)+"'";if("string"===e)return'"'+p(t,!1)+'"';if(null===t)return"null";if("object"===e&&"ctor"in t){var r=t.ctor.substring(0,5);if("_Tupl"===r){var n=[];for(var o in t)"ctor"!==o&&n.push(d(t[o]));return"("+n.join(",")+")"}if("_Task"===r)return"<task>";if("_Array"===t.ctor){return"Array.fromList "+d(Ye(t))}if("<decoder>"===t.ctor)return"<decoder>";if("_Process"===t.ctor)return"<process:"+t.id+">";if("::"===t.ctor){var n="["+d(t._0);for(t=t._1;"::"===t.ctor;)n+=","+d(t._0),t=t._1;return n+"]"}if("[]"===t.ctor)return"[]";if("Set_elm_builtin"===t.ctor)return"Set.fromList "+d(Xc(t));if("RBNode_elm_builtin"===t.ctor||"RBEmpty_elm_builtin"===t.ctor)return"Dict.fromList "+d(nr(t));var n="";for(var u in t)if("ctor"!==u){var c=d(t[u]),i=c[0],a="{"===i||"("===i||"<"===i||'"'===i||c.indexOf(" ")<0;n+=" "+(a?c:"("+c+")")}return t.ctor+n}if("object"===e){if(t instanceof Date)return"<"+t.toString()+">";if(t.elm_web_socket)return"<websocket>";var n=[];for(var o in t)n.push(o+" = "+d(t[o]));return 0===n.length?"{}":"{ "+n.join(", ")+" }"}return"<internal structure>"}function p(t,e){var r=t.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return e?r.replace(/\'/g,"\\'"):r.replace(/\"/g,'\\"')}var h=-1,v=0,g=1,m={ctor:"_Tuple0"},y=0,b={ctor:"[]"};return{eq:t,cmp:n,Tuple0:m,Tuple2:o,chr:u,update:i,guid:c,append:e(s),crash:f,crashCase:_,toString:d}}(),g=function(t){for(;;){t=t._0}},m=e(function(t,e){var r=e;return s(t,r._0,r._1)}),y=r(function(t,e,r){return t({ctor:"_Tuple2",_0:e,_1:r})}),b=r(function(t,e,r){return s(t,r,e)}),w=e(function(t,e){return t}),T=function(t){return t},k=k||{};k["<|"]=e(function(t,e){return t(e)});var k=k||{};k["|>"]=e(function(t,e){return e(t)});var k=k||{};k[">>"]=r(function(t,e,r){return e(t(r))});var k=k||{};k["<<"]=r(function(t,e,r){return t(e(r))});var k=k||{};k["++"]=v.append;var S=v.toString,E=(h.isInfinite,h.isNaN),x=h.toFloat,A=h.ceiling,O=h.floor,C=h.truncate,I=h.round,N=h.not,k=(h.xor,k||{});k["||"]=h.or;var k=k||{};k["&&"]=h.and;var q=h.max,M=h.min,j=h.compare,k=k||{};k[">="]=h.ge;var k=k||{};k["<="]=h.le;var k=k||{};k[">"]=h.gt;var k=k||{};k["<"]=h.lt;var k=k||{};k["/="]=h.neq;var k=k||{};k["=="]=h.eq;var D=(h.e,h.pi,h.clamp),R=(h.logBase,h.abs),B=h.negate,k=(h.sqrt,h.atan2,h.atan,h.asin,h.acos,h.tan,h.sin,h.cos,k||{});k["^"]=h.exp;var k=k||{};k["%"]=h.mod;var P=h.rem,k=k||{};k["//"]=h.div;var k=k||{};k["/"]=h.floatDiv;var k=k||{};k["*"]=h.mul;var k=k||{};k["-"]=h.sub;var k=k||{};k["+"]=h.add;var L=(h.toPolar,h.fromPolar,h.turns,h.degrees,{ctor:"GT"}),F={ctor:"EQ"},$={ctor:"LT"},U=function(){function t(t,e){var r=t+": "+v.toString(e),n=n||{};return n.stdout?n.stdout.write(r):console.log(r),e}function r(t){throw new Error(t)}return{crash:r,log:e(t)}}(),V=(U.crash,U.log),J=e(function(t,e){var r=e;return"Just"===r.ctor?r._0:t}),z={ctor:"Nothing"},H=e(function(t,e){var r=e;return"Just"===r.ctor?t(r._0):z}),W=function(t){return{ctor:"Just",_0:t}},K=e(function(t,e){var r=e;return"Just"===r.ctor?W(t(r._0)):z}),G=r(function(t,e,r){var n={ctor:"_Tuple2",_0:e,_1:r};return"_Tuple2"===n.ctor&&"Just"===n._0.ctor&&"Just"===n._1.ctor?W(s(t,n._0._0,n._1._0)):z}),X=(n(function(t,e,r,n){var o={ctor:"_Tuple3",_0:e,_1:r,_2:n};return"_Tuple3"===o.ctor&&"Just"===o._0.ctor&&"Just"===o._1.ctor&&"Just"===o._2.ctor?W(f(t,o._0._0,o._1._0,o._2._0)):z}),o(function(t,e,r,n,o){var u={ctor:"_Tuple4",_0:e,_1:r,_2:n,_3:o};return"_Tuple4"===u.ctor&&"Just"===u._0.ctor&&"Just"===u._1.ctor&&"Just"===u._2.ctor&&"Just"===u._3.ctor?W(_(t,u._0._0,u._1._0,u._2._0,u._3._0)):z}),u(function(t,e,r,n,o,u){var c={ctor:"_Tuple5",_0:e,_1:r,_2:n,_3:o,_4:u};return"_Tuple5"===c.ctor&&"Just"===c._0.ctor&&"Just"===c._1.ctor&&"Just"===c._2.ctor&&"Just"===c._3.ctor&&"Just"===c._4.ctor?W(l(t,c._0._0,c._1._0,c._2._0,c._3._0,c._4._0)):z}),function(){function t(t,e){return{ctor:"::",_0:t,_1:e}}function c(e){for(var r=b,n=e.length;n--;)r=t(e[n],r);return r}function i(t){for(var e=[];"[]"!==t.ctor;)e.push(t._0),t=t._1;return e}function a(t,e,r){for(var n=i(r),o=e,u=n.length;u--;)o=s(t,n[u],o);return o}function d(t,e,r){for(var n=[];"[]"!==e.ctor&&"[]"!==r.ctor;)n.push(s(t,e._0,r._0)),e=e._1,r=r._1;return c(n)}function p(t,e,r,n){for(var o=[];"[]"!==e.ctor&&"[]"!==r.ctor&&"[]"!==n.ctor;)o.push(f(t,e._0,r._0,n._0)),e=e._1,r=r._1,n=n._1;return c(o)}function h(t,e,r,n,o){for(var u=[];"[]"!==e.ctor&&"[]"!==r.ctor&&"[]"!==n.ctor&&"[]"!==o.ctor;)u.push(_(t,e._0,r._0,n._0,o._0)),e=e._1,r=r._1,n=n._1,o=o._1;return c(u)}function g(t,e,r,n,o,u){for(var i=[];"[]"!==e.ctor&&"[]"!==r.ctor&&"[]"!==n.ctor&&"[]"!==o.ctor&&"[]"!==u.ctor;)i.push(l(t,e._0,r._0,n._0,o._0,u._0)),e=e._1,r=r._1,n=n._1,o=o._1,u=u._1;return c(i)}function m(t,e){return c(i(e).sort(function(e,r){return v.cmp(t(e),t(r))}))}function y(t,e){return c(i(e).sort(function(e,r){var n=t(e)(r).ctor;return"EQ"===n?0:"LT"===n?-1:1}))}var b={ctor:"[]"};return{Nil:b,Cons:t,cons:e(t),toArray:i,fromArray:c,foldr:r(a),map2:r(d),map3:n(p),map4:o(h),map5:u(g),sortBy:e(m),sortWith:e(y)}}()),Q=X.sortWith,Y=X.sortBy,Z=function(t){return{ctor:"::",_0:t,_1:{ctor:"[]"}}},tt=e(function(t,e){for(;;){if(v.cmp(t,0)<1)return e;var r=e;if("[]"===r.ctor)return e;var n=t-1,o=r._1;t=n,e=o}}),et=X.map5,rt=X.map4,nt=X.map3,ot=X.map2,ut=e(function(t,e){for(;;){var r=e;if("[]"===r.ctor)return!1;if(t(r._0))return!0;var n=t,o=r._1;t=n,e=o}}),ct=e(function(t,e){return!s(ut,function(e){return!t(e)},e)}),it=X.foldr,at=r(function(t,e,r){for(;;){var n=r;if("[]"===n.ctor)return e;var o=t,u=s(t,n._0,e),c=n._1;t=o,e=u,r=c}}),st=function(t){return f(at,e(function(t,e){return e+1}),0,t)},ft=function(t){return f(at,e(function(t,e){return t+e}),0,t)},_t=e(function(t,e){return s(ut,function(e){return v.eq(e,t)},e)}),lt=function(t){return"[]"===t.ctor},dt=function(t){var e=t;return"::"===e.ctor?W(e._1):z},pt=function(t){var e=t;return"::"===e.ctor?W(e._0):z},ht=ht||{};ht["::"]=X.cons;var vt=e(function(t,r){return f(it,e(function(e,r){return{ctor:"::",_0:t(e),_1:r}}),{ctor:"[]"},r)}),gt=e(function(t,r){var n=e(function(e,r){return t(e)?{ctor:"::",_0:e,_1:r}:r});return f(it,n,{ctor:"[]"},r)}),mt=r(function(t,e,r){var n=t(e);return"Just"===n.ctor?{ctor:"::",_0:n._0,_1:r}:r}),yt=e(function(t,e){return f(it,mt(t),{ctor:"[]"},e)}),bt=function(t){return f(at,e(function(t,e){return{ctor:"::",_0:t,_1:e}}),{ctor:"[]"},t)},wt=r(function(t,r,n){var o=e(function(e,r){var n=r;return"::"===n.ctor?{ctor:"::",_0:s(t,e,n._0),_1:r}:{ctor:"[]"}});return bt(f(at,o,{ctor:"::",_0:r,_1:{ctor:"[]"}},n))}),Tt=e(function(t,r){return"[]"===r.ctor?t:f(it,e(function(t,e){return{ctor:"::",_0:t,_1:e}}),r,t)}),kt=function(t){return f(it,Tt,{ctor:"[]"},t)},St=e(function(t,e){return kt(s(vt,t,e))}),Et=e(function(t,r){var n=e(function(e,r){var n=r,o=n._0,u=n._1;return t(e)?{ctor:"_Tuple2",_0:{ctor:"::",_0:e,_1:o},_1:u}:{ctor:"_Tuple2",_0:o,_1:{ctor:"::",_0:e,_1:u}}});return f(it,n,{ctor:"_Tuple2",_0:{ctor:"[]"},_1:{ctor:"[]"}},r)}),xt=(e(function(t,r){var n=r;if("[]"===n.ctor)return{ctor:"[]"};var o=e(function(e,r){return{ctor:"::",_0:t,_1:{ctor:"::",_0:e,_1:r}}}),u=f(it,o,{ctor:"[]"},n._1);return{ctor:"::",_0:n._0,_1:u}}),r(function(t,e,r){for(;;){if(v.cmp(t,0)<1)return r;var n=e;if("[]"===n.ctor)return r;var o=t-1,u=n._1,c={ctor:"::",_0:n._0,_1:r};t=o,e=u,r=c}})),At=e(function(t,e){return bt(f(xt,t,e,{ctor:"[]"}))}),Ot=r(function(t,e,r){if(v.cmp(e,0)<1)return{ctor:"[]"};var n={ctor:"_Tuple2",_0:e,_1:r};t:do{e:do{if("_Tuple2"!==n.ctor)break t;if("[]"===n._1.ctor)return r;if("::"!==n._1._1.ctor){if(1===n._0)break e;break t}switch(n._0){case 1:break e;case 2:return{ctor:"::",_0:n._1._0,_1:{ctor:"::",_0:n._1._1._0,_1:{ctor:"[]"}}};case 3:if("::"===n._1._1._1.ctor)return{ctor:"::",_0:n._1._0,_1:{ctor:"::",_0:n._1._1._0,_1:{ctor:"::",_0:n._1._1._1._0,_1:{ctor:"[]"}}}};break t;default:if("::"===n._1._1._1.ctor&&"::"===n._1._1._1._1.ctor){var o=n._1._1._1._0,u=n._1._1._0,c=n._1._0,i=n._1._1._1._1._0,a=n._1._1._1._1._1;return v.cmp(t,1e3)>0?{ctor:"::",_0:c,_1:{ctor:"::",_0:u,_1:{ctor:"::",_0:o,_1:{ctor:"::",_0:i,_1:s(At,e-4,a)}}}}:{ctor:"::",_0:c,_1:{ctor:"::",_0:u,_1:{ctor:"::",_0:o,_1:{ctor:"::",_0:i,_1:f(Ot,t+1,e-4,a)}}}}}break t}}while(!1);return{ctor:"::",_0:n._1._0,_1:{ctor:"[]"}}}while(!1);return r}),Ct=e(function(t,e){return f(Ot,0,t,e)}),It=r(function(t,e,r){for(;;){if(v.cmp(e,0)<1)return t;var n={ctor:"::",_0:r,_1:t},o=e-1,u=r;t=n,e=o,r=u}}),Nt=e(function(t,e){return f(It,{ctor:"[]"},t,e)}),qt=r(function(t,e,r){for(;;){if(!(v.cmp(t,e)<1))return r;var n=t,o=e-1,u={ctor:"::",_0:e,_1:r};t=n,e=o,r=u}}),Mt=e(function(t,e){return f(qt,t,e,{ctor:"[]"})}),jt=e(function(t,e){return f(ot,t,s(Mt,0,st(e)-1),e)}),Dt=function(t){var e=t;return"Ok"===e.ctor?W(e._0):z},Rt=e(function(t,e){var r=e;return"Ok"===r.ctor?r._0:t}),Bt=function(t){return{ctor:"Err",_0:t}},Pt=e(function(t,e){var r=e;return"Ok"===r.ctor?t(r._0):Bt(r._0)}),Lt=function(t){return{ctor:"Ok",_0:t}},Ft=e(function(t,e){var r=e;return"Ok"===r.ctor?Lt(t(r._0)):Bt(r._0)}),$t=r(function(t,e,r){var n={ctor:"_Tuple2",_0:e,_1:r};return"Ok"===n._0.ctor?"Ok"===n._1.ctor?Lt(s(t,n._0._0,n._1._0)):Bt(n._1._0):Bt(n._0._0)}),Ut=(n(function(t,e,r,n){var o={ctor:"_Tuple3",_0:e,_1:r,_2:n};return"Ok"===o._0.ctor?"Ok"===o._1.ctor?"Ok"===o._2.ctor?Lt(f(t,o._0._0,o._1._0,o._2._0)):Bt(o._2._0):Bt(o._1._0):Bt(o._0._0)}),o(function(t,e,r,n,o){var u={ctor:"_Tuple4",_0:e,_1:r,_2:n,_3:o};return"Ok"===u._0.ctor?"Ok"===u._1.ctor?"Ok"===u._2.ctor?"Ok"===u._3.ctor?Lt(_(t,u._0._0,u._1._0,u._2._0,u._3._0)):Bt(u._3._0):Bt(u._2._0):Bt(u._1._0):Bt(u._0._0)}),u(function(t,e,r,n,o,u){var c={ctor:"_Tuple5",_0:e,_1:r,_2:n,_3:o,_4:u};return"Ok"===c._0.ctor?"Ok"===c._1.ctor?"Ok"===c._2.ctor?"Ok"===c._3.ctor?"Ok"===c._4.ctor?Lt(l(t,c._0._0,c._1._0,c._2._0,c._3._0,c._4._0)):Bt(c._4._0):Bt(c._3._0):Bt(c._2._0):Bt(c._1._0):Bt(c._0._0)}),e(function(t,e){var r=e;return"Ok"===r.ctor?Lt(r._0):Bt(t(r._0))})),Vt=(e(function(t,e){var r=e;return"Just"===r.ctor?Lt(r._0):Bt(t)}),function(){function t(t){return 0===t.length}function n(t,e){return t+e}function o(t){var e=t[0];return e?W(v.Tuple2(v.chr(e),t.slice(1))):z}function u(t,e){return t+e}function c(t){return X.toArray(t).join("")}function i(t){return t.length}function a(t,e){for(var r=e.split(""),n=r.length;n--;)r[n]=t(v.chr(r[n]));return r.join("")}function f(t,e){return e.split("").map(v.chr).filter(t).join("")}function _(t){return t.split("").reverse().join("")}function l(t,e,r){for(var n=r.length,o=0;o<n;++o)e=s(t,v.chr(r[o]),e);return e}function d(t,e,r){for(var n=r.length;n--;)e=s(t,v.chr(r[n]),e);return e}function p(t,e){return X.fromArray(e.split(t))}function h(t,e){return X.toArray(e).join(t)}function g(t,e){for(var r="";t>0;)1&t&&(r+=e),t>>=1,e+=e;return r}function m(t,e,r){return r.slice(t,e)}function y(t,e){return t<1?"":e.slice(0,t)}function b(t,e){return t<1?"":e.slice(-t)}function w(t,e){return t<1?e:e.slice(t)}function T(t,e){return t<1?e:e.slice(0,-t)}function k(t,e,r){var n=(t-r.length)/2;return g(Math.ceil(n),e)+r+g(0|n,e)}function S(t,e,r){return r+g(t-r.length,e)}function E(t,e,r){return g(t-r.length,e)+r}function x(t){return t.trim()}function A(t){return t.replace(/^\s+/,"")}function O(t){return t.replace(/\s+$/,"")}function C(t){return X.fromArray(t.trim().split(/\s+/g))}function I(t){return X.fromArray(t.split(/\r\n|\r|\n/g))}function N(t){return t.toUpperCase()}function q(t){return t.toLowerCase()}function M(t,e){for(var r=e.length;r--;)if(t(v.chr(e[r])))return!0;return!1}function j(t,e){for(var r=e.length;r--;)if(!t(v.chr(e[r])))return!1;return!0}function D(t,e){return e.indexOf(t)>-1}function R(t,e){return 0===e.indexOf(t)}function B(t,e){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}function P(t,e){var r=t.length;if(r<1)return X.Nil;for(var n=0,o=[];(n=e.indexOf(t,n))>-1;)o.push(n),n+=r;return X.fromArray(o)}function L(t){var e=t.length;if(0===e)return F(t);var r=t[0];if("0"===r&&"x"===t[1]){for(var n=2;n<e;++n){var r=t[n];if(!("0"<=r&&r<="9"||"A"<=r&&r<="F"||"a"<=r&&r<="f"))return F(t)}return Lt(parseInt(t,16))}if(r>"9"||r<"0"&&"-"!==r&&"+"!==r)return F(t);for(var n=1;n<e;++n){var r=t[n];if(r<"0"||"9"<r)return F(t)}return Lt(parseInt(t,10))}function F(t){return Bt("could not convert string '"+t+"' to an Int")}function $(t){if(0===t.length||/[\sxbo]/.test(t))return U(t);var e=+t;return e===e?Lt(e):U(t)}function U(t){return Bt("could not convert string '"+t+"' to a Float")}function V(t){return X.fromArray(t.split("").map(v.chr))}function J(t){return X.toArray(t).join("")}return{isEmpty:t,cons:e(n),uncons:o,append:e(u),concat:c,length:i,map:e(a),filter:e(f),reverse:_,foldl:r(l),foldr:r(d),split:e(p),join:e(h),repeat:e(g),slice:r(m),left:e(y),right:e(b),dropLeft:e(w),dropRight:e(T),pad:r(k),padLeft:r(E),padRight:r(S),trim:x,trimLeft:A,trimRight:O,words:C,lines:I,toUpper:N,toLower:q,any:e(M),all:e(j),contains:e(D),startsWith:e(R),endsWith:e(B),indexes:e(P),toInt:L,toFloat:$,toList:V,fromList:J}}()),Jt=function(){return{fromCode:function(t){return v.chr(String.fromCharCode(t))},toCode:function(t){return t.charCodeAt(0)},toUpper:function(t){return v.chr(t.toUpperCase())},toLower:function(t){return v.chr(t.toLowerCase())},toLocaleUpper:function(t){return v.chr(t.toLocaleUpperCase())},toLocaleLower:function(t){return v.chr(t.toLocaleLowerCase())}}}(),zt=Jt.fromCode,Ht=Jt.toCode,Wt=(Jt.toLocaleLower,Jt.toLocaleUpper,Jt.toLower,Jt.toUpper,r(function(t,e,r){var n=Ht(r);return v.cmp(n,Ht(t))>-1&&v.cmp(n,Ht(e))<1})),Kt=(s(Wt,v.chr("A"),v.chr("Z")),s(Wt,v.chr("a"),v.chr("z")),s(Wt,v.chr("0"),v.chr("9")),s(Wt,v.chr("0"),v.chr("7")),Vt.fromList),Gt=Vt.toList,Xt=Vt.toFloat,Qt=Vt.toInt,Yt=(Vt.indexes,Vt.indexes),Zt=Vt.endsWith,te=Vt.startsWith,ee=(Vt.contains,Vt.all,Vt.any,Vt.toLower),re=Vt.toUpper,ne=(Vt.lines,Vt.words,Vt.trimRight,Vt.trimLeft,Vt.trim),oe=Vt.padRight,ue=Vt.padLeft,ce=(Vt.pad,Vt.dropRight),ie=Vt.dropLeft,ae=Vt.right,se=Vt.left,fe=Vt.slice,_e=(Vt.repeat,Vt.join),le=Vt.split,de=(Vt.foldr,Vt.foldl),pe=(Vt.reverse,Vt.filter,Vt.map,Vt.length),he=Vt.concat,ve=Vt.append,ge=Vt.uncons,me=Vt.cons,ye=function(t){return s(me,t,"")},be=Vt.isEmpty,we=e(function(t,e){var r=e;return{ctor:"_Tuple2",_0:r._0,_1:t(r._1)}}),Te=e(function(t,e){var r=e;return{ctor:"_Tuple2",_0:t(r._0),_1:r._1}}),ke=function(t){return t._1},Se=function(t){return t._0},Ee=function(){function t(t){return function(e){return function(e,r){e.worker=function(e){if(void 0!==e)throw new Error("The `"+r+"` module does not need flags.\nCall "+r+".worker() with no arguments and you should be all set!");return c(t.init,t.update,t.subscriptions,o)}}}}function n(t){return function(e){return function(r,n){r.worker=function(r){if(void 0===e)throw new Error("Are you trying to sneak a Never value into Elm? Trickster!\nIt looks like "+n+".main is defined with `programWithFlags` but has type `Program Never`.\nUse `program` instead if you do not want flags.");var u=s(Gr.run,e,r);if("Err"===u.ctor)throw new Error(n+".worker(...) was called with an unexpected argument.\nI tried to convert it to an Elm value, but ran into this problem:\n\n"+u._0);return c(t.init(u._0),t.update,t.subscriptions,o)}}}}function o(t,e){return function(t){}}function u(t){var r=g(X.Nil),n=v.Tuple2(v.Tuple0,r);return pi({init:n,view:function(t){return main},update:e(function(t,e){return n}),subscriptions:function(t){return r}})}function c(t,e,r,n){function o(t,n){return xe.nativeBinding(function(o){var u=s(e,t,n);n=u._0,c(n);var i=u._1,f=r(n);y(a,i,f),o(xe.succeed(n))})}function u(t){xe.rawSend(_,t)}var c,a={},f=xe.nativeBinding(function(e){var o=t._0;c=n(u,o);var i=t._1,s=r(o);y(a,i,s),e(xe.succeed(o))}),_=p(f,o),l=i(a,u);return l?{ports:l}:{}}function i(t,e){var r;for(var n in O){var o=O[n];o.isForeign&&(r=r||{},r[n]="cmd"===o.tag?E(n):A(n,e)),t[n]=a(o,e)}return r}function a(t,e){function r(t,e){if("self"===t.ctor)return f(c,n,t._0,e);var r=t._0;switch(o){case"cmd":return f(u,n,r.cmds,e);case"sub":return f(u,n,r.subs,e);case"fx":return _(u,n,r.cmds,r.subs,e)}}var n={main:e,self:void 0},o=t.tag,u=t.onEffects,c=t.onSelfMsg,i=p(t.init,r);return n.self=i,i}function l(t,e){return xe.nativeBinding(function(r){t.main(e),r(xe.succeed(v.Tuple0))})}function d(t,e){return s(xe.send,t.self,{ctor:"self",_0:e})}function p(t,e){function r(t){var o=xe.receive(function(r){return e(r,t)});return s(n,r,o)}var n=xe.andThen,o=s(n,r,t);return xe.rawSpawn(o)}function h(t){return function(e){return{type:"leaf",home:t,value:e}}}function g(t){return{type:"node",branches:t}}function m(t,e){return{type:"map",tagger:t,tree:e}}function y(t,e,r){var n={};b(!0,e,n,null),b(!1,r,n,null);for(var o in t){var u=o in n?n[o]:{cmds:X.Nil,subs:X.Nil};xe.rawSend(t[o],{ctor:"fx",_0:u})}}function b(t,e,r,n){switch(e.type){case"leaf":var o=e.home,u=w(t,o,n,e.value);return void(r[o]=T(t,u,r[o]));case"node":for(var c=e.branches;"[]"!==c.ctor;)b(t,c._0,r,n),c=c._1;return;case"map":return void b(t,e.tree,r,{tagger:e.tagger,rest:n})}}function w(t,e,r,n){function o(t){for(var e=r;e;)t=e.tagger(t),e=e.rest;return t}return s(t?O[e].cmdMap:O[e].subMap,o,n)}function T(t,e,r){return r=r||{cmds:X.Nil,subs:X.Nil},t?(r.cmds=X.Cons(e,r.cmds),r):(r.subs=X.Cons(e,r.subs),r)}function k(t){if(t in O)throw new Error("There can only be one port named `"+t+"`, but your program has multiple.")}function S(t,e){return k(t),O[t]={tag:"cmd",cmdMap:C,converter:e,isForeign:!0},h(t)}function E(t){function e(t,e,r){for(;"[]"!==e.ctor;){for(var n=u,o=c(e._0),a=0;a<n.length;a++)n[a](o);e=e._1}return i}function n(t){u.push(t)}function o(t){u=u.slice();var e=u.indexOf(t);e>=0&&u.splice(e,1)}var u=[],c=O[t].converter,i=xe.succeed(null);return O[t].init=i,O[t].onEffects=r(e),{subscribe:n,unsubscribe:o}}function x(t,e){return k(t),O[t]={tag:"sub",subMap:I,converter:e,isForeign:!0},h(t)}function A(t,e){function n(t,e,r){for(var n=o(t,e,r),u=0;u<f.length;u++)i(f[u]);return f=null,p=i,d=o,n}function o(t,e,r){return _=e,h}function u(t,e,r){return d(t,e,r)}function c(t){f.push(t)}function i(t){for(var r=_;"[]"!==r.ctor;)e(r._0(t)),r=r._1}function a(e){var r=s(an,l,e);if("Err"===r.ctor)throw new Error("Trying to send an unexpected type of value through port `"+t+"`:\n"+r._0);p(r._0)}var f=[],_=X.Nil,l=O[t].converter,d=n,p=c,h=xe.succeed(null);return O[t].init=h,O[t].onEffects=r(u),{send:a}}var O={},C=e(function(t,e){return e}),I=e(function(t,e){return function(r){return t(e(r))}});return{sendToApp:e(l),sendToSelf:e(d),effectManagers:O,outgoingPort:S,incomingPort:x,htmlToProgram:u,program:t,programWithFlags:n,initialize:c,leaf:h,batch:g,map:e(m)}}(),xe=function(){function t(t){return{ctor:"_Task_succeed",value:t}}function r(t){return{ctor:"_Task_fail",value:t}}function n(t){return{ctor:"_Task_nativeBinding",callback:t,cancel:null}}function o(t,e){return{ctor:"_Task_andThen",callback:t,task:e}}function u(t,e){return{ctor:"_Task_onError",callback:t,task:e}}function c(t){return{ctor:"_Task_receive",callback:t}}function i(t){var e={ctor:"_Process",id:v.guid(),root:t,stack:null,mailbox:[]};return p(e),e}function a(e){return n(function(r){r(t(i(e)))})}function s(t,e){t.mailbox.push(e),p(t)}function f(e,r){return n(function(n){s(e,r),n(t(v.Tuple0))})}function _(e){return n(function(r){var n=e.root;"_Task_nativeBinding"===n.ctor&&n.cancel&&n.cancel(),e.root=null,r(t(v.Tuple0))})}function l(e){return n(function(r){var n=setTimeout(function(){r(t(v.Tuple0))},e);return function(){clearTimeout(n)}})}function d(t,e){for(;t<g;){var r=e.root.ctor;if("_Task_succeed"!==r)if("_Task_fail"!==r)if("_Task_andThen"!==r)if("_Task_onError"!==r){if("_Task_nativeBinding"===r){e.root.cancel=e.root.callback(function(t){e.root=t,p(e)});break}if("_Task_receive"!==r)throw new Error(r);var n=e.mailbox;if(0===n.length)break;e.root=e.root.callback(n.shift()),++t}else e.stack={ctor:"_Task_onError",callback:e.root.callback,rest:e.stack},e.root=e.root.task,++t;else e.stack={ctor:"_Task_andThen",callback:e.root.callback,rest:e.stack},e.root=e.root.task,++t;else{for(;e.stack&&"_Task_andThen"===e.stack.ctor;)e.stack=e.stack.rest;if(null===e.stack)break;e.root=e.stack.callback(e.root.value),e.stack=e.stack.rest,++t}else{for(;e.stack&&"_Task_onError"===e.stack.ctor;)e.stack=e.stack.rest;if(null===e.stack)break;e.root=e.stack.callback(e.root.value),e.stack=e.stack.rest,++t}}return t<g?t+1:(p(e),t)}function p(t){y.push(t),m||(setTimeout(h,0),m=!0)}function h(){for(var t,e=0;e<g&&(t=y.shift());)t.root&&(e=d(e,t));if(!t)return void(m=!1);setTimeout(h,0)}var g=1e4,m=!1,y=[];return{succeed:t,fail:r,nativeBinding:n,andThen:e(o),onError:e(u),receive:c,spawn:a,kill:_,sleep:l,send:e(f),rawSpawn:i,rawSend:s}}(),Ae=Ee.batch,Oe=Ae({ctor:"[]"}),Ce=Ce||{};Ce["!"]=e(function(t,e){return{ctor:"_Tuple2",_0:t,_1:Ae(e)}});var Ie=Ee.map,Ne=Ee.batch,qe=Ne({ctor:"[]"}),Me=Ee.map,je=(xe.succeed,Ee.sendToSelf),De=Ee.sendToApp,Re=(Ee.programWithFlags,Ee.program,e(function(t,e){return function(r){return e(t(r))}}),w(Oe),e(function(t,e){return Ae(s(vt,function(t){return t(e)},t))}),r(function(t,e,r){return Ae({ctor:"::",_0:t(r),_1:{ctor:"::",_0:e(r),_1:{ctor:"[]"}}})}),function(){var t=e(function(t,e){var r=t,n=e;return s(Ce["!"],{ctor:"::",_0:r._0,_1:n._0},{ctor:"::",_0:r._1,_1:{ctor:"::",_0:n._1,_1:{ctor:"[]"}}})});s(it,t,{ctor:"_Tuple2",_0:{ctor:"[]"},_1:Oe})}(),e(function(t,e){var r=e;return{ctor:"_Tuple2",_0:r._0,_1:s(Ie,t,r._1)}}),e(function(t,e){var r=e,n=r._0;return s(Ce["!"],n,{ctor:"::",_0:r._1,_1:{ctor:"::",_0:t(n),_1:{ctor:"[]"}}})})),Be=e(function(t,e){var r=e;return s(Ce["!"],r._0,{ctor:"::",_0:t,_1:{ctor:"::",_0:r._1,_1:{ctor:"[]"}}})}),Pe=(y(T),e(function(t,e){var r=e,n=t(r._0),o=n._0,u=n._1;return s(Ce["!"],o,{ctor:"::",_0:r._1,_1:{ctor:"::",_0:u,_1:{ctor:"[]"}}})})),Le=Le||{};Le["<<<"]=r(function(t,e,r){return s(Pe,t,e(r))});var Le=Le||{};Le[">>>"]=b(e(function(t,e){return s(Le["<<<"],t,e)}));var Fe=(Pe(T),s(b,e(function(t,e){return{ctor:"_Tuple2",_0:t,_1:e}}),Oe)),$e=(u(function(t,e,r,n,o,u){var c=e,i=r,a=n,f=o,_=u;return s(Ce["!"],l(t,c._0,i._0,a._0,f._0,_._0),{ctor:"::",_0:c._1,_1:{ctor:"::",_0:i._1,_1:{ctor:"::",_0:a._1,_1:{ctor:"::",_0:f._1,_1:{ctor:"::",_0:_._1,_1:{ctor:"[]"}}}}}})}),o(function(t,e,r,n,o){var u=e,c=r,i=n,a=o;return s(Ce["!"],_(t,u._0,c._0,i._0,a._0),{ctor:"::",_0:u._1,_1:{ctor:"::",_0:c._1,_1:{ctor:"::",_0:i._1,_1:{ctor:"::",_0:a._1,_1:{ctor:"[]"}}}}})}),n(function(t,e,r,n){var o=e,u=r,c=n;return s(Ce["!"],f(t,o._0,u._0,c._0),{ctor:"::",_0:o._1,_1:{ctor:"::",_0:u._1,_1:{ctor:"::",_0:c._1,_1:{ctor:"[]"}}}})}),r(function(t,e,r){var n=e,o=r;return s(Ce["!"],s(t,n._0,o._0),{ctor:"::",_0:n._1,_1:{ctor:"::",_0:o._1,_1:{ctor:"[]"}}})}),r(function(t,e,r){var n=r;return{ctor:"_Tuple2",_0:e(n._0),_1:s(Ie,t,n._1)}}),e(function(t,e){var r=t,n=e;return s(Ce["!"],n._0(r._0),{ctor:"::",_0:n._1,_1:{ctor:"::",_0:r._1,_1:{ctor:"[]"}}})})),Ue=(y(b($e)),e(function(t,e){var r=e;return{ctor:"_Tuple2",_0:t(r._0),_1:r._1}})),Ve=T,Je=(s(at,e(function(t,e){return function(r){return e(t(r))}}),Ve),s(it,e(function(t,e){return function(r){return t(e(r))}}),Ve),e(function(t,e){var r=e,n=r._1,o=r._0;return"GT"===s(t,o,n).ctor?{ctor:"_Tuple2",_0:n,_1:o}:{ctor:"_Tuple2",_0:o,_1:n}}),e(function(t,e){var r=e,n=r._1,o=r._0;return v.cmp(t(o),t(n))>0?{ctor:"_Tuple2",_0:n,_1:o}:{ctor:"_Tuple2",_0:o,_1:n}}),function(t){var e=t;return{ctor:"_Tuple2",_0:e._1,_1:e._0}}),ze=e(function(t,e){var r=e;return{ctor:"_Tuple2",_0:t(r._0),_1:t(r._1)}}),He=(r(function(t,e,r){var n=r;return{ctor:"_Tuple2",_0:t(n._0),_1:e(n._1)}}),e(function(t,e){var r=e;return{ctor:"_Tuple2",_0:r._0,_1:t(r._1)}})),We=(e(function(t,e){var r=e;return{ctor:"_Tuple2",_0:t(r._0),_1:r._1}}),We||{});We["=>"]=e(function(t,e){return{ctor:"_Tuple2",_0:t,_1:e}});var Ke=function(){function t(t,e){if(t<0||t>=R(e))throw new Error("Index "+t+" is out of range. Check the length of your array first or use getMaybe or getWithDefault.");return n(t,e)}function n(t,e){for(var r=e.height;r>0;r--){for(var n=t>>5*r;e.lengths[n]<=t;)n++;n>0&&(t-=e.lengths[n-1]),e=e.table[n]}return e.table[t]}function o(t,e,r){return t<0||R(r)<=t?r:u(t,e,r)}function u(t,e,r){if(r=D(r),0===r.height)r.table[t]=e;else{var n=B(t,r);n>0&&(t-=r.lengths[n-1]),r.table[n]=u(t,e,r.table[n])}return r}function c(t,e){return t<=0?W:i(e,Math.floor(Math.log(t)/Math.log(z)),0,t)}function i(t,e,r,n){if(0===e){for(var o=new Array((n-r)%(z+1)),u=0;u<o.length;u++)o[u]=t(r+u);return{ctor:"_Array",height:0,table:o}}for(var c=Math.pow(z,e),o=new Array(Math.ceil((n-r)/c)),a=new Array(o.length),u=0;u<o.length;u++)o[u]=i(t,e-1,r+u*c,Math.min(r+(u+1)*c,n)),a[u]=R(o[u])+(u>0?a[u-1]:0);return{ctor:"_Array",height:e,table:o,lengths:a}}function a(t){if("[]"===t.ctor)return W;for(var e=new Array(z),r=[],n=0;"[]"!==t.ctor;)if(e[n]=t._0,t=t._1,++n===z){var o={ctor:"_Array",height:0,table:e};f(o,r),e=new Array(z),n=0}if(n>0){var o={ctor:"_Array",height:0,table:e.splice(0,n)};f(o,r)}for(var u=0;u<r.length-1;u++)r[u].table.length>0&&f(r[u],r);var c=r[r.length-1];return c.height>0&&1===c.table.length?c.table[0]:c}function f(t,e){var r=t.height;if(e.length===r){var n={ctor:"_Array",height:r+1,table:[],lengths:[]};e.push(n)}e[r].table.push(t);var o=R(t);e[r].lengths.length>0&&(o+=e[r].lengths[e[r].lengths.length-1]),e[r].lengths.push(o),e[r].table.length===z&&(f(e[r],e),e[r]={ctor:"_Array",height:r+1,table:[],lengths:[]})}function _(t,e){var r=l(t,e);return null!==r?r:F(e,P(t,e.height))}function l(t,e){if(0===e.height){if(e.table.length<z){var r={ctor:"_Array",height:0,table:e.table.slice()};return r.table.push(t),r}return null}var n=l(t,M(e));if(null!==n){var r=D(e);return r.table[r.table.length-1]=n,r.lengths[r.lengths.length-1]++,r}if(e.table.length<z){var o=P(t,e.height-1),r=D(e);return r.table.push(o),r.lengths.push(r.lengths[r.lengths.length-1]+R(o)),r}return null}function d(t){return p(X.Nil,t)}function p(t,e){for(var r=e.table.length-1;r>=0;r--)t=0===e.height?X.Cons(e.table[r],t):p(t,e.table[r]);return t}function h(t,e){var r={ctor:"_Array",height:e.height,table:new Array(e.table.length)};e.height>0&&(r.lengths=e.lengths);for(var n=0;n<e.table.length;n++)r.table[n]=0===e.height?t(e.table[n]):h(t,e.table[n]);return r}function v(t,e){return g(t,e,0)}function g(t,e,r){var n={ctor:"_Array",height:e.height,table:new Array(e.table.length)};e.height>0&&(n.lengths=e.lengths);for(var o=0;o<e.table.length;o++)n.table[o]=0===e.height?s(t,r+o,e.table[o]):g(t,e.table[o],0==o?r:r+e.lengths[o-1]);return n}function m(t,e,r){if(0===r.height)for(var n=0;n<r.table.length;n++)e=s(t,r.table[n],e);else for(var n=0;n<r.table.length;n++)e=m(t,e,r.table[n]);return e}function y(t,e,r){if(0===r.height)for(var n=r.table.length;n--;)e=s(t,r.table[n],e);else for(var n=r.table.length;n--;)e=y(t,e,r.table[n]);return e}function b(t,e,r){return t<0&&(t+=R(r)),e<0&&(e+=R(r)),T(t,w(e,r))}function w(t,e){if(t===R(e))return e;if(0===e.height){var r={ctor:"_Array",height:0};return r.table=e.table.slice(0,t),r}var n=B(t,e),o=w(t-(n>0?e.lengths[n-1]:0),e.table[n]);if(0===n)return o;var r={ctor:"_Array",height:e.height,table:e.table.slice(0,n),lengths:e.lengths.slice(0,n)};return o.table.length>0&&(r.table[n]=o,r.lengths[n]=R(o)+(n>0?r.lengths[n-1]:0)),r}function T(t,e){if(0===t)return e;if(0===e.height){var r={ctor:"_Array",height:0};return r.table=e.table.slice(t,e.table.length+1),r}var n=B(t,e),o=T(t-(n>0?e.lengths[n-1]:0),e.table[n]);if(n===e.table.length-1)return o;var r={ctor:"_Array",height:e.height,table:e.table.slice(n,e.table.length+1),lengths:new Array(e.table.length-n)};r.table[0]=o;for(var u=0,c=0;c<r.table.length;c++)u+=R(r.table[c]),r.lengths[c]=u;return r}function k(t,e){if(0===t.table.length)return e;if(0===e.table.length)return t;var r=S(t,e);if(r[0].table.length+r[1].table.length<=z){if(0===r[0].table.length)return r[1];if(0===r[1].table.length)return r[0];if(r[0].table=r[0].table.concat(r[1].table),r[0].height>0){for(var n=R(r[0]),o=0;o<r[1].lengths.length;o++)r[1].lengths[o]+=n;r[0].lengths=r[0].lengths.concat(r[1].lengths)}return r[0]}if(r[0].height>0){var u=A(t,e);u>H&&(r=q(r[0],r[1],u))}return F(r[0],r[1])}function S(t,e){if(0===t.height&&0===e.height)return[t,e];if(1!==t.height||1!==e.height)if(t.height===e.height){t=D(t),e=D(e);var r=S(M(t),j(e));E(t,r[1]),x(e,r[0])}else if(t.height>e.height){t=D(t);var r=S(M(t),e);E(t,r[0]),e=L(r[1],r[1].height+1)}else{e=D(e);var r=S(t,j(e)),n=0===r[0].table.length?0:1,o=0===n?1:0;x(e,r[n]),t=L(r[o],r[o].height+1)}if(0===t.table.length||0===e.table.length)return[t,e];var u=A(t,e);return u<=H?[t,e]:q(t,e,u)}function E(t,e){var r=t.table.length-1;t.table[r]=e,t.lengths[r]=R(e),t.lengths[r]+=r>0?t.lengths[r-1]:0}function x(t,e){if(e.table.length>0){t.table[0]=e,t.lengths[0]=R(e);for(var r=R(t.table[0]),n=1;n<t.lengths.length;n++)r+=R(t.table[n]),t.lengths[n]=r}else{t.table.shift();for(var n=1;n<t.lengths.length;n++)t.lengths[n]=t.lengths[n]-t.lengths[0];t.lengths.shift()}}function A(t,e){for(var r=0,n=0;n<t.table.length;n++)r+=t.table[n].table.length;for(var n=0;n<e.table.length;n++)r+=e.table[n].table.length;return t.table.length+e.table.length-(Math.floor((r-1)/z)+1)}function O(t,e,r){return r<t.length?t[r]:e[r-t.length]}function C(t,e,r,n){r<t.length?t[r]=n:e[r-t.length]=n}function I(t,e,r,n){C(t.table,e.table,r,n);var o=0===r||r===t.lengths.length?0:O(t.lengths,t.lengths,r-1);C(t.lengths,e.lengths,r,o+R(n))}function N(t,e){e<0&&(e=0);var r={ctor:"_Array",height:t,table:new Array(e)};return t>0&&(r.lengths=new Array(e)),r}function q(t,e,r){for(var n=N(t.height,Math.min(z,t.table.length+e.table.length-r)),o=N(t.height,n.table.length-(t.table.length+e.table.length-r)),u=0;O(t.table,e.table,u).table.length%z==0;)C(n.table,o.table,u,O(t.table,e.table,u)),C(n.lengths,o.lengths,u,O(t.lengths,e.lengths,u)),u++;for(var c=u,i=new N(t.height-1,0),a=0;u-c-(i.table.length>0?1:0)<r;){var s=O(t.table,e.table,u),f=Math.min(z-i.table.length,s.table.length);if(i.table=i.table.concat(s.table.slice(a,f)),i.height>0)for(var _=i.lengths.length,l=_;l<_+f-a;l++)i.lengths[l]=R(i.table[l]),i.lengths[l]+=l>0?i.lengths[l-1]:0;a+=f,s.table.length<=f&&(u++,a=0),i.table.length===z&&(I(n,o,c,i),i=N(t.height-1,0),c++)}for(i.table.length>0&&(I(n,o,c,i),c++);u<t.table.length+e.table.length;)I(n,o,c,O(t.table,e.table,u)),u++,c++;return[n,o]}function M(t){return t.table[t.table.length-1]}function j(t){return t.table[0]}function D(t){var e={ctor:"_Array",height:t.height,table:t.table.slice()};return t.height>0&&(e.lengths=t.lengths.slice()),e}function R(t){return 0===t.height?t.table.length:t.lengths[t.lengths.length-1]}function B(t,e){for(var r=t>>5*e.height;e.lengths[r]<=t;)r++;return r}function P(t,e){return 0===e?{ctor:"_Array",height:0,table:[t]}:{ctor:"_Array",height:e,table:[P(t,e-1)],lengths:[1]}}function L(t,e){return e===t.height?t:{ctor:"_Array",height:e,table:[L(t,e-1)],lengths:[R(t)]}}function F(t,e){return{ctor:"_Array",height:t.height+1,table:[t,e],lengths:[R(t),R(t)+R(e)]}}function $(t){var e=new Array(R(t));return U(e,0,t),e}function U(t,e,r){for(var n=0;n<r.table.length;n++)if(0===r.height)t[e+n]=r.table[n];else{var o=0===n?0:r.lengths[n-1];U(t,e+o,r.table[n])}}function V(t){return 0===t.length?W:J(t,Math.floor(Math.log(t.length)/Math.log(z)),0,t.length)}function J(t,e,r,n){if(0===e)return{ctor:"_Array",height:0,table:t.slice(r,n)};for(var o=Math.pow(z,e),u=new Array(Math.ceil((n-r)/o)),c=new Array(u.length),i=0;i<u.length;i++)u[i]=J(t,e-1,r+i*o,Math.min(r+(i+1)*o,n)),c[i]=R(u[i])+(i>0?c[i-1]:0);return{ctor:"_Array",height:e,table:u,lengths:c}}var z=32,H=2,W={ctor:"_Array",height:0,table:[]};return{empty:W,fromList:a,toList:d,initialize:e(c),append:e(k),push:e(_),slice:r(b),get:e(t),set:r(o),map:e(h),indexedMap:e(v),foldl:r(m),foldr:r(y),length:R,toJSArray:$,fromJSArray:V}}(),Ge=(Ke.append,Ke.length,Ke.slice,Ke.set,e(function(t,e){return v.cmp(0,t)<1&&v.cmp(t,Ke.length(e))<0?W(s(Ke.get,t,e)):z}),Ke.push),Xe=Ke.empty,Qe=(e(function(t,r){var n=e(function(e,r){return t(e)?s(Ke.push,e,r):r});return f(Ke.foldl,n,Ke.empty,r)}),Ke.foldr,Ke.foldl),Ye=(Ke.indexedMap,Ke.map,Ke.toList),Ze=(Ke.fromList,Ke.initialize),tr=(e(function(t,e){return s(Ze,t,w(e))}),r(function(t,e,r){for(;;){var n=r;if("RBEmpty_elm_builtin"===n.ctor)return e;var o=t,u=f(t,n._1,n._2,f(tr,t,e,n._4)),c=n._3;t=o,e=u,r=c}})),er=function(t){return f(tr,r(function(t,e,r){return{ctor:"::",_0:t,_1:r}}),{ctor:"[]"},t)},rr=function(t){return f(tr,r(function(t,e,r){return{ctor:"::",_0:e,_1:r}}),{ctor:"[]"},t)},nr=function(t){return f(tr,r(function(t,e,r){return{ctor:"::",_0:{ctor:"_Tuple2",_0:t,_1:e},_1:r}}),{ctor:"[]"},t)},or=r(function(t,e,r){for(;;){var n=r;if("RBEmpty_elm_builtin"===n.ctor)return e;var o=t,u=f(t,n._1,n._2,f(or,t,e,n._3)),c=n._4;t=o,e=u,r=c}}),ur=u(function(t,n,o,u,c,i){var a=r(function(e,r,u){for(;;){var c=u,i=c._1,a=c._0,s=a;if("[]"===s.ctor)return{ctor:"_Tuple2",_0:a,_1:f(o,e,r,i)};var l=s._1,d=s._0._1,p=s._0._0;if(!(v.cmp(p,e)<0))return v.cmp(p,e)>0?{ctor:"_Tuple2",_0:a,_1:f(o,e,r,i)}:{ctor:"_Tuple2",_0:l,_1:_(n,p,d,r,i)};var h=e,g=r,m={ctor:"_Tuple2",_0:l,_1:f(t,p,d,i)};e=h,r=g,u=m}}),s=f(or,a,{ctor:"_Tuple2",_0:nr(u),_1:i},c),l=s._0,d=s._1;return f(at,e(function(e,r){var n=e;return f(t,n._0,n._1,r)}),d,l)}),cr=n(function(t,e,r,n){return U.crash(he({ctor:"::",_0:"Internal red-black tree invariant violated, expected ",_1:{ctor:"::",_0:t,_1:{ctor:"::",_0:" and got ",_1:{ctor:"::",_0:S(e),_1:{ctor:"::",_0:"/",_1:{ctor:"::",_0:r,_1:{ctor:"::",_0:"/",_1:{ctor:"::",_0:n,_1:{ctor:"::",_0:"\nPlease report this bug to <https://github.com/elm-lang/core/issues>",_1:{ctor:"[]"}}}}}}}}}}))}),ir=function(t){var e=t;t:do{if("RBNode_elm_builtin"===e.ctor){if("BBlack"===e._0.ctor)return!0;break t}if("LBBlack"===e._0.ctor)return!0;break t}while(!1);return!1},ar=e(function(t,e){for(;;){var r=e;if("RBEmpty_elm_builtin"===r.ctor)return t;var n=s(ar,t+1,r._4),o=r._3;t=n,e=o}}),sr=e(function(t,e){t:for(;;){var r=e;if("RBEmpty_elm_builtin"===r.ctor)return z;var n=s(j,t,r._1);switch(n.ctor){case"LT":var o=t,u=r._3;t=o,e=u;continue t;case"EQ":return W(r._2);default:var c=t,i=r._4;t=c,e=i;continue t}}}),fr=e(function(t,e){return"Just"===s(sr,t,e).ctor}),_r=r(function(t,e,r){for(;;){var n=r;if("RBEmpty_elm_builtin"===n.ctor)return{ctor:"_Tuple2",_0:t,_1:e};var o=n._1,u=n._2,c=n._4;t=o,e=u,r=c}}),lr={ctor:"NBlack"},dr={ctor:"BBlack"},pr={ctor:"Black"},hr=function(t){var e=t;if("RBNode_elm_builtin"===e.ctor){var r=e._0;return v.eq(r,pr)||v.eq(r,dr)}return!0},vr={ctor:"Red"},gr=function(t){switch(t.ctor){case"Black":return dr;case"Red":return pr;case"NBlack":return vr;default:return U.crash("Can't make a double black node more black!")}},mr=function(t){switch(t.ctor){case"BBlack":return pr;case"Black":return vr;case"Red":return lr;default:return U.crash("Can't make a negative black node less black!")}},yr={ctor:"LBBlack"},br={ctor:"LBlack"},wr=function(t){return{ctor:"RBEmpty_elm_builtin",_0:t}},Tr=wr(br),kr=function(t){return v.eq(t,Tr)},Sr=o(function(t,e,r,n,o){return{ctor:"RBNode_elm_builtin",_0:t,_1:e,_2:r,_3:n,_4:o}}),Er=function(t){var e=t;return"RBNode_elm_builtin"===e.ctor&&"Red"===e._0.ctor?l(Sr,pr,e._1,e._2,e._3,e._4):t},xr=function(t){var e=t;return"RBNode_elm_builtin"===e.ctor?l(Sr,mr(e._0),e._1,e._2,e._3,e._4):wr(br)},Ar=function(t){return function(e){return function(r){return function(n){return function(o){return function(u){return function(c){return function(i){return function(a){return function(s){return function(f){return l(Sr,mr(t),n,o,l(Sr,pr,e,r,i,a),l(Sr,pr,u,c,s,f))}}}}}}}}}}},Or=function(t){var e=t;return"RBEmpty_elm_builtin"===e.ctor?wr(br):l(Sr,pr,e._1,e._2,e._3,e._4)},Cr=function(t){var e=t;return"RBEmpty_elm_builtin"===e.ctor?U.crash("can't make a Leaf red"):l(Sr,vr,e._1,e._2,e._3,e._4)},Ir=function(t){var e=t;t:do{e:do{r:do{n:do{o:do{u:do{c:do{if("RBNode_elm_builtin"!==e.ctor)break t;if("RBNode_elm_builtin"===e._3.ctor)if("RBNode_elm_builtin"===e._4.ctor)switch(e._3._0.ctor){case"Red":switch(e._4._0.ctor){case"Red":if("RBNode_elm_builtin"===e._3._3.ctor&&"Red"===e._3._3._0.ctor)break c;if("RBNode_elm_builtin"===e._3._4.ctor&&"Red"===e._3._4._0.ctor)break u;if("RBNode_elm_builtin"===e._4._3.ctor&&"Red"===e._4._3._0.ctor)break o;if("RBNode_elm_builtin"===e._4._4.ctor&&"Red"===e._4._4._0.ctor)break n;break t;case"NBlack":if("RBNode_elm_builtin"===e._3._3.ctor&&"Red"===e._3._3._0.ctor)break c;if("RBNode_elm_builtin"===e._3._4.ctor&&"Red"===e._3._4._0.ctor)break u;if("BBlack"===e._0.ctor&&"RBNode_elm_builtin"===e._4._3.ctor&&"Black"===e._4._3._0.ctor&&"RBNode_elm_builtin"===e._4._4.ctor&&"Black"===e._4._4._0.ctor)break r;break t;default:if("RBNode_elm_builtin"===e._3._3.ctor&&"Red"===e._3._3._0.ctor)break c;if("RBNode_elm_builtin"===e._3._4.ctor&&"Red"===e._3._4._0.ctor)break u;break t}case"NBlack":switch(e._4._0.ctor){case"Red":if("RBNode_elm_builtin"===e._4._3.ctor&&"Red"===e._4._3._0.ctor)break o;if("RBNode_elm_builtin"===e._4._4.ctor&&"Red"===e._4._4._0.ctor)break n;if("BBlack"===e._0.ctor&&"RBNode_elm_builtin"===e._3._3.ctor&&"Black"===e._3._3._0.ctor&&"RBNode_elm_builtin"===e._3._4.ctor&&"Black"===e._3._4._0.ctor)break e;break t;case"NBlack":if("BBlack"===e._0.ctor){if("RBNode_elm_builtin"===e._4._3.ctor&&"Black"===e._4._3._0.ctor&&"RBNode_elm_builtin"===e._4._4.ctor&&"Black"===e._4._4._0.ctor)break r;if("RBNode_elm_builtin"===e._3._3.ctor&&"Black"===e._3._3._0.ctor&&"RBNode_elm_builtin"===e._3._4.ctor&&"Black"===e._3._4._0.ctor)break e;break t}break t;default:if("BBlack"===e._0.ctor&&"RBNode_elm_builtin"===e._3._3.ctor&&"Black"===e._3._3._0.ctor&&"RBNode_elm_builtin"===e._3._4.ctor&&"Black"===e._3._4._0.ctor)break e;break t}default:switch(e._4._0.ctor){case"Red":if("RBNode_elm_builtin"===e._4._3.ctor&&"Red"===e._4._3._0.ctor)break o;if("RBNode_elm_builtin"===e._4._4.ctor&&"Red"===e._4._4._0.ctor)break n;break t;case"NBlack":if("BBlack"===e._0.ctor&&"RBNode_elm_builtin"===e._4._3.ctor&&"Black"===e._4._3._0.ctor&&"RBNode_elm_builtin"===e._4._4.ctor&&"Black"===e._4._4._0.ctor)break r;break t;default:break t}}else switch(e._3._0.ctor){case"Red":if("RBNode_elm_builtin"===e._3._3.ctor&&"Red"===e._3._3._0.ctor)break c;if("RBNode_elm_builtin"===e._3._4.ctor&&"Red"===e._3._4._0.ctor)break u;break t;case"NBlack":if("BBlack"===e._0.ctor&&"RBNode_elm_builtin"===e._3._3.ctor&&"Black"===e._3._3._0.ctor&&"RBNode_elm_builtin"===e._3._4.ctor&&"Black"===e._3._4._0.ctor)break e;break t;default:break t}else{if("RBNode_elm_builtin"!==e._4.ctor)break t;switch(e._4._0.ctor){case"Red":if("RBNode_elm_builtin"===e._4._3.ctor&&"Red"===e._4._3._0.ctor)break o;if("RBNode_elm_builtin"===e._4._4.ctor&&"Red"===e._4._4._0.ctor)break n;break t;case"NBlack":if("BBlack"===e._0.ctor&&"RBNode_elm_builtin"===e._4._3.ctor&&"Black"===e._4._3._0.ctor&&"RBNode_elm_builtin"===e._4._4.ctor&&"Black"===e._4._4._0.ctor)break r;break t;default:break t}}}while(!1);return Ar(e._0)(e._3._3._1)(e._3._3._2)(e._3._1)(e._3._2)(e._1)(e._2)(e._3._3._3)(e._3._3._4)(e._3._4)(e._4)}while(!1);return Ar(e._0)(e._3._1)(e._3._2)(e._3._4._1)(e._3._4._2)(e._1)(e._2)(e._3._3)(e._3._4._3)(e._3._4._4)(e._4)}while(!1);return Ar(e._0)(e._1)(e._2)(e._4._3._1)(e._4._3._2)(e._4._1)(e._4._2)(e._3)(e._4._3._3)(e._4._3._4)(e._4._4)}while(!1);return Ar(e._0)(e._1)(e._2)(e._4._1)(e._4._2)(e._4._4._1)(e._4._4._2)(e._3)(e._4._3)(e._4._4._3)(e._4._4._4)}while(!1);return l(Sr,pr,e._4._3._1,e._4._3._2,l(Sr,pr,e._1,e._2,e._3,e._4._3._3),l(Nr,pr,e._4._1,e._4._2,e._4._3._4,Cr(e._4._4)))}while(!1);return l(Sr,pr,e._3._4._1,e._3._4._2,l(Nr,pr,e._3._1,e._3._2,Cr(e._3._3),e._3._4._3),l(Sr,pr,e._1,e._2,e._3._4._4,e._4))}while(!1);return t},Nr=o(function(t,e,r,n,o){var u=l(Sr,t,e,r,n,o);return hr(u)?Ir(u):u}),qr=o(function(t,e,r,n,o){return ir(n)||ir(o)?l(Nr,gr(t),e,r,xr(n),xr(o)):l(Sr,t,e,r,n,o)}),Mr=o(function(t,e,r,n,o){var u=o;return"RBEmpty_elm_builtin"===u.ctor?f(jr,t,n,o):l(qr,t,e,r,n,l(Mr,u._0,u._1,u._2,u._3,u._4))}),jr=r(function(t,e,r){var n={ctor:"_Tuple2",_0:e,_1:r};if("RBEmpty_elm_builtin"!==n._0.ctor){if("RBEmpty_elm_builtin"===n._1.ctor){var o=n._1._0,u=n._0._0,c={ctor:"_Tuple3",_0:t,_1:u,_2:o};return"_Tuple3"===c.ctor&&"Black"===c._0.ctor&&"Red"===c._1.ctor&&"LBlack"===c._2.ctor?l(Sr,pr,n._0._1,n._0._2,n._0._3,n._0._4):_(cr,"Black/Red/LBlack",t,S(u),S(o))}var i=n._0._2,a=n._0._4,s=n._0._1,d=l(Mr,n._0._0,s,i,n._0._3,a),p=f(_r,s,i,a),h=p._0,v=p._1;return l(qr,t,h,v,d,r)}if("RBEmpty_elm_builtin"!==n._1.ctor){var g=n._1._0,m=n._0._0,y={ctor:"_Tuple3",_0:t,_1:m,_2:g};return"_Tuple3"===y.ctor&&"Black"===y._0.ctor&&"LBlack"===y._1.ctor&&"Red"===y._2.ctor?l(Sr,pr,n._1._1,n._1._2,n._1._3,n._1._4):_(cr,"Black/LBlack/Red",t,S(m),S(g))}switch(t.ctor){case"Red":return wr(br);case"Black":return wr(yr);default:return U.crash("cannot have bblack or nblack nodes at this point")}}),Dr=e(function(t,e){var r=e;if("RBEmpty_elm_builtin"===r.ctor)return wr(br);var n=r._1;return l(Sr,r._0,n,s(t,n,r._2),s(Dr,t,r._3),s(Dr,t,r._4))}),Rr={ctor:"Same"},Br={ctor:"Remove"},Pr={ctor:"Insert"},Lr=r(function(t,e,r){var n=function(r){var o=r;if("RBEmpty_elm_builtin"===o.ctor){var u=e(z);return"Nothing"===u.ctor?{ctor:"_Tuple2",_0:Rr,_1:Tr}:{ctor:"_Tuple2",_0:Pr,_1:l(Sr,vr,t,u._0,Tr,Tr)}}var c=o._2,i=o._4,a=o._3,_=o._1,d=o._0;switch(s(j,t,_).ctor){case"EQ":var p=e(W(c));return"Nothing"===p.ctor?{ctor:"_Tuple2",_0:Br,_1:f(jr,d,a,i)}:{ctor:"_Tuple2",_0:Rr,_1:l(Sr,d,_,p._0,a,i)};case"LT":var h=n(a),v=h._0,g=h._1;switch(v.ctor){case"Same":return{ctor:"_Tuple2",_0:Rr,_1:l(Sr,d,_,c,g,i)};case"Insert":return{ctor:"_Tuple2",_0:Pr,_1:l(Nr,d,_,c,g,i)};default:return{ctor:"_Tuple2",_0:Br,_1:l(qr,d,_,c,g,i)}}default:var m=n(i),v=m._0,y=m._1;switch(v.ctor){case"Same":return{ctor:"_Tuple2",_0:Rr,_1:l(Sr,d,_,c,a,y)};case"Insert":return{ctor:"_Tuple2",_0:Pr,_1:l(Nr,d,_,c,a,y)};default:return{ctor:"_Tuple2",_0:Br,_1:l(qr,d,_,c,a,y)}}}},o=n(r),u=o._0,c=o._1;switch(u.ctor){case"Same":return c;case"Insert":return Er(c);default:return Or(c)}}),Fr=r(function(t,e,r){return f(Lr,t,w(W(e)),r)}),$r=e(function(t,e){return f(Fr,t,e,Tr)}),Ur=e(function(t,e){return f(or,Fr,e,t)}),Vr=e(function(t,e){var n=r(function(e,r,n){return s(t,e,r)?f(Fr,e,r,n):n});return f(or,n,Tr,e)}),Jr=e(function(t,r){return s(Vr,e(function(t,e){return s(fr,t,r)}),t)}),zr=e(function(t,e){var n=r(function(e,r,n){var o=n,u=o._1,c=o._0;return s(t,e,r)?{ctor:"_Tuple2",_0:f(Fr,e,r,c),_1:u}:{ctor:"_Tuple2",_0:c,_1:f(Fr,e,r,u)}});return f(or,n,{ctor:"_Tuple2",_0:Tr,_1:Tr},e)}),Hr=function(t){return f(at,e(function(t,e){var r=t;return f(Fr,r._0,r._1,e)}),Tr,t)},Wr=e(function(t,e){return f(Lr,t,w(z),e)}),Kr=e(function(t,e){return f(or,r(function(t,e,r){return s(Wr,t,r)}),t,e)}),Gr=function(){function t(t){return{ctor:"<decoder>",tag:"succeed",msg:t}}function s(t){return{ctor:"<decoder>",tag:"fail",msg:t}}function f(t){return{ctor:"<decoder>",tag:t}}function _(t,e){return{ctor:"<decoder>",tag:t,decoder:e}}function l(t){return{ctor:"<decoder>",tag:"null",value:t}}function d(t,e){return{ctor:"<decoder>",tag:"field",field:t,decoder:e}}function p(t,e){return{ctor:"<decoder>",tag:"index",index:t,decoder:e}}function h(t){return{ctor:"<decoder>",tag:"key-value",decoder:t}}function g(t,e){return{ctor:"<decoder>",tag:"map-many",func:t,decoders:e}}function m(t,e){return{ctor:"<decoder>",tag:"andThen",decoder:e,callback:t}}function y(t){return{ctor:"<decoder>",tag:"oneOf",decoders:t}}function b(t,e){return g(t,[e])}function w(t,e,r){return g(t,[e,r])}function T(t,e,r,n){return g(t,[e,r,n])}function k(t,e,r,n,o){return g(t,[e,r,n,o])}function S(t,e,r,n,o,u){return g(t,[e,r,n,o,u])}function E(t,e,r,n,o,u,c){return g(t,[e,r,n,o,u,c])}function x(t,e,r,n,o,u,c,i){return g(t,[e,r,n,o,u,c,i])}function A(t,e,r,n,o,u,c,i,a){return g(t,[e,r,n,o,u,c,i,a])}function O(t){return{tag:"ok",value:t}}function C(t,e){return{tag:"primitive",type:t,value:e}}function I(t,e){return{tag:"index",index:t,rest:e}}function N(t,e){return{tag:"field",field:t,rest:e}}function I(t,e){return{tag:"index",index:t,rest:e}}function q(t){return{tag:"oneOf",problems:t}}function M(t){return{tag:"fail",msg:t}}function j(t){for(var e="_";t;)switch(t.tag){case"primitive":return"Expecting "+t.type+("_"===e?"":" at "+e)+" but instead got: "+D(t.value);case"index":e+="["+t.index+"]",t=t.rest;break;case"field":e+="."+t.field,t=t.rest;break;case"oneOf":for(var r=t.problems,n=0;n<r.length;n++)r[n]=j(r[n]);return"I ran into the following problems"+("_"===e?"":" at "+e)+":\n\n"+r.join("\n");case"fail":return"I ran into a `fail` decoder"+("_"===e?"":" at "+e)+": "+t.msg}}function D(t){return void 0===t?"undefined":JSON.stringify(t)}function R(t,e){var r;try{r=JSON.parse(e)}catch(t){return Bt("Given an invalid JSON: "+t.message)}return B(t,r)}function B(t,e){var r=P(t,e);return"ok"===r.tag?Lt(r.value):Bt(j(r))}function P(t,e){switch(t.tag){case"bool":return"boolean"==typeof e?O(e):C("a Bool",e);case"int":return"number"!=typeof e?C("an Int",e):-2147483647<e&&e<2147483647&&(0|e)===e?O(e):!isFinite(e)||e%1?C("an Int",e):O(e);case"float":return"number"==typeof e?O(e):C("a Float",e);case"string":return"string"==typeof e?O(e):e instanceof String?O(e+""):C("a String",e);case"null":return null===e?O(t.value):C("null",e);case"value":return O(e);case"list":if(!(e instanceof Array))return C("a List",e);for(var r=X.Nil,n=e.length;n--;){var o=P(t.decoder,e[n]);if("ok"!==o.tag)return I(n,o);r=X.Cons(o.value,r)}return O(r);case"array":if(!(e instanceof Array))return C("an Array",e);for(var u=e.length,c=new Array(u),n=u;n--;){var o=P(t.decoder,e[n]);if("ok"!==o.tag)return I(n,o);c[n]=o.value}return O(Ke.fromJSArray(c));case"maybe":var o=P(t.decoder,e);return O("ok"===o.tag?W(o.value):z);case"field":var i=t.field;if("object"!=typeof e||null===e||!(i in e))return C("an object with a field named `"+i+"`",e);var o=P(t.decoder,e[i]);return"ok"===o.tag?o:N(i,o);case"index":var a=t.index;if(!(e instanceof Array))return C("an array",e);if(a>=e.length)return C("a longer array. Need index "+a+" but there are only "+e.length+" entries",e);var o=P(t.decoder,e[a]);return"ok"===o.tag?o:I(a,o);case"key-value":if("object"!=typeof e||null===e||e instanceof Array)return C("an object",e);var s=X.Nil;for(var f in e){var o=P(t.decoder,e[f]);if("ok"!==o.tag)return N(f,o);var _=v.Tuple2(f,o.value);s=X.Cons(_,s)}return O(s);case"map-many":for(var l=t.func,d=t.decoders,n=0;n<d.length;n++){var o=P(d[n],e);if("ok"!==o.tag)return o;l=l(o.value)}return O(l);case"andThen":var o=P(t.decoder,e);return"ok"!==o.tag?o:P(t.callback(o.value),e);case"oneOf":for(var p=[],h=t.decoders;"[]"!==h.ctor;){var o=P(h._0,e);if("ok"===o.tag)return o;p.push(o),h=h._1}return q(p);case"fail":return M(t.msg);case"succeed":return O(t.msg)}}function L(t,e){if(t===e)return!0;if(t.tag!==e.tag)return!1;switch(t.tag){case"succeed":case"fail":return t.msg===e.msg;case"bool":case"int":case"float":case"string":case"value":return!0;case"null":return t.value===e.value;case"list":case"array":case"maybe":case"key-value":return L(t.decoder,e.decoder);case"field":return t.field===e.field&&L(t.decoder,e.decoder);case"index":return t.index===e.index&&L(t.decoder,e.decoder);case"map-many":return t.func===e.func&&F(t.decoders,e.decoders);case"andThen":return t.callback===e.callback&&L(t.decoder,e.decoder);case"oneOf":return F(t.decoders,e.decoders)}}function F(t,e){var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++)if(!L(t[n],e[n]))return!1;return!0}function $(t,e){return JSON.stringify(e,null,t)}function U(t){return t}function V(t){for(var e={};"[]"!==t.ctor;){var r=t._0;e[r._0]=r._1,t=t._1}return e}return{encode:e($),runOnString:e(R),run:e(B),decodeNull:l,decodePrimitive:f,decodeContainer:e(_),decodeField:e(d),decodeIndex:e(p),map1:e(b),map2:r(w),map3:n(T),map4:o(k),map5:u(S),map6:c(E),map7:i(x),map8:a(A),decodeKeyValuePairs:h,andThen:e(m),fail:s,succeed:t,oneOf:y,identity:U,encodeNull:null,encodeArray:Ke.toJSArray,encodeList:X.toArray,encodeObject:V,equality:L}}(),Xr=(Gr.encodeList,Gr.encodeArray,Gr.encodeObject),Qr=Gr.encodeNull,Yr=Gr.identity,Zr=Gr.identity,tn=Gr.identity,en=Gr.identity,rn=(Gr.encode,Gr.decodeNull),nn=Gr.decodePrimitive("value"),on=Gr.andThen,un=Gr.fail,cn=Gr.succeed,an=Gr.run,sn=Gr.runOnString,fn=(Gr.map8,Gr.map7,Gr.map6,Gr.map5,Gr.map4,Gr.map3,Gr.map2),_n=Gr.map1,ln=Gr.oneOf,dn=Gr.decodeIndex,pn=Gr.decodeField,hn=e(function(t,e){return f(it,pn,e,t)}),vn=(Gr.decodeKeyValuePairs,function(t){return s(Gr.decodeContainer,"list",t)}),gn=Gr.decodePrimitive("float"),mn=Gr.decodePrimitive("int"),yn=Gr.decodePrimitive("bool"),bn=Gr.decodePrimitive("string"),wn=cn,Tn=(on(T),fn(e(function(t,e){return e(t)}))),kn=r(function(t,e,r){var n=function(t){return ln({ctor:"::",_0:t,_1:{ctor:"::",_0:rn(r),_1:{ctor:"[]"}}})};return s(on,function(o){var u=s(an,t,o);if("Ok"===u.ctor){var c=s(an,n(e),u._0);return"Ok"===c.ctor?cn(c._0):un(c._0)}return cn(r)},nn)}),Sn=(n(function(t,e,r,n){return s(Tn,f(kn,s(hn,t,nn),e,r),n)}),n(function(t,e,r,n){return s(Tn,f(kn,s(pn,t,nn),e,r),n)})),En=(r(function(t,e,r){return s(Tn,s(hn,t,e),r)}),r(function(t,e,r){return s(Tn,s(pn,t,e),r)})),xn=(e(function(t,e){return{locale:t,includeSeconds:e}}),function(t){return{ctor:"AlmostXYears",_0:t}}),An=function(t){return{ctor:"OverXYears",_0:t}},On=function(t){return{ctor:"AboutXYears",_0:t}},Cn=function(t){return{ctor:"XMonths",_0:t}},In=function(t){return{ctor:"AboutXMonths",_0:t}},Nn=function(t){return{ctor:"XDays",_0:t}},qn=function(t){return{ctor:"AboutXHours",_0:t}},Mn=function(t){return{ctor:"XMinutes",_0:t}},jn=function(t){return{ctor:"LessThanXMinutes",_0:t}},Dn={ctor:"HalfAMinute"},Rn=function(t){return{ctor:"LessThanXSeconds",_0:t}},Bn=function(){function t(t){var e=new Date(t);return isNaN(e.getTime())?Bt("Unable to parse '"+t+"' as a date. Dates must be in the ISO 8601 format."):Lt(e)}var e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return{fromString:t,year:function(t){return t.getFullYear()},month:function(t){return{ctor:r[t.getMonth()]}},day:function(t){return t.getDate()},hour:function(t){return t.getHours()},minute:function(t){return t.getMinutes()},second:function(t){return t.getSeconds()},millisecond:function(t){return t.getMilliseconds()},toTime:function(t){return t.getTime()},fromTime:function(t){return new Date(t)},dayOfWeek:function(t){return{ctor:e[t.getDay()]}}}}(),Pn=xe.onError,Ln=xe.andThen,Fn=e(function(t,e){var r=e;return xe.spawn(s(Ln,De(t),r._0))}),$n=xe.fail,Un=(e(function(t,e){return s(Pn,function(e){return $n(t(e))},e)}),xe.succeed),Vn=e(function(t,e){return s(Ln,function(e){return Un(t(e))},e)}),Jn=r(function(t,e,r){return s(Ln,function(e){return s(Ln,function(r){return Un(s(t,e,r))},r)},e)}),zn=(n(function(t,e,r,n){return s(Ln,function(e){return s(Ln,function(r){return s(Ln,function(n){return Un(f(t,e,r,n))},n)},r)},e)}),o(function(t,e,r,n,o){return s(Ln,function(e){return s(Ln,function(r){return s(Ln,function(n){return s(Ln,function(o){return Un(_(t,e,r,n,o))},o)},n)},r)},e)}),u(function(t,e,r,n,o,u){return s(Ln,function(e){return s(Ln,function(r){return s(Ln,function(n){return s(Ln,function(o){return s(Ln,function(u){return Un(l(t,e,r,n,o,u))},u)},o)},n)},r)},e)}),function(t){var r=t;return"[]"===r.ctor?Un({ctor:"[]"}):f(Jn,e(function(t,e){return{ctor:"::",_0:t,_1:e}}),r._0,zn(r._1))}),Hn=r(function(t,e,r){return s(Vn,function(t){return{ctor:"_Tuple0"}},zn(s(vt,Fn(t),e)))}),Wn=Un({ctor:"_Tuple0"}),Kn=r(function(t,e,r){return Un({ctor:"_Tuple0"})}),Gn=Ee.leaf("Task"),Xn=function(t){return{ctor:"Perform",_0:t}},Qn=e(function(t,e){return Gn(Xn(s(Vn,t,e)))}),Yn=e(function(t,e){return Gn(Xn(s(Pn,function(e){return Un(t(Bt(e)))},s(Ln,function(e){return Un(t(Lt(e)))},e))))}),Zn=e(function(t,e){return Xn(s(Vn,t,e._0))});Ee.effectManagers.Task={pkg:"elm-lang/core",init:Wn,onEffects:Hn,onSelfMsg:Kn,tag:"cmd",cmdMap:Zn};var to=function(){function t(t,e){return xe.nativeBinding(function(r){var n=setInterval(function(){xe.rawSpawn(e)},t);return function(){clearInterval(n)}})}return{now:xe.nativeBinding(function(t){t(xe.succeed(Date.now()))}),setInterval_:e(t)}}(),eo=to.setInterval_,ro=r(function(t,e,r){var n=e;if("[]"===n.ctor)return Un(r);var o=n._0,u=function(e){return f(ro,t,n._1,f(Fr,o,e,r))},c=xe.spawn(s(eo,o,s(je,t,o)));return s(Ln,u,c)}),no=e(function(t,e){var r=t,n=r._1,o=r._0,u=s(sr,o,e);return"Nothing"===u.ctor?f(Fr,o,{ctor:"::",_0:n,_1:{ctor:"[]"}},e):f(Fr,o,{ctor:"::",_0:n,_1:u._0},e)}),oo=to.now,uo=r(function(t,e,r){var n=s(sr,e,r.taggers);if("Nothing"===n.ctor)return Un(r);var o=function(e){return zn(s(vt,function(r){return s(De,t,r(e))},n._0))};return s(Ln,function(t){return Un(r)},s(Ln,o,oo))}),co=Ee.leaf("Time"),io=e(function(t,e){return{taggers:t,processes:e}}),ao=Un(s(io,Tr,Tr)),so=r(function(t,e,o){var u=o,c=r(function(t,e,r){var n=r;return{ctor:"_Tuple3",_0:n._0,_1:n._1,_2:s(Ln,function(t){return n._2},xe.kill(e))}}),i=n(function(t,e,r,n){var o=n;return{ctor:"_Tuple3",_0:o._0,_1:f(Fr,t,r,o._1),_2:o._2}}),a=r(function(t,e,r){var n=r;return{ctor:"_Tuple3",_0:{ctor:"::",_0:t,_1:n._0},_1:n._1,_2:n._2}}),_=f(at,no,Tr,e),l=d(ur,a,i,c,_,u.processes,{ctor:"_Tuple3",_0:{ctor:"[]"},_1:Tr,_2:Un({ctor:"_Tuple0"})}),p=l._0,h=l._1,v=l._2;return s(Ln,function(t){return Un(s(io,_,t))},s(Ln,function(e){return f(ro,t,p,h)},v))}),fo=e(function(t,e){return{ctor:"Every",_0:t,_1:e}}),_o=e(function(t,e){return co(s(fo,t,e))}),lo=e(function(t,e){var r=e;return s(fo,r._0,function(e){return t(r._1(e))})});Ee.effectManagers.Time={pkg:"elm-lang/core",init:ao,onEffects:so,onSelfMsg:uo,tag:"sub",subMap:lo};var po=Bn.millisecond,ho=Bn.second,vo=Bn.minute,go=Bn.hour,mo=Bn.dayOfWeek,yo=Bn.day,bo=Bn.month,wo=Bn.year,To=Bn.fromTime,ko=Bn.toTime,So=Bn.fromString,Eo=(s(Vn,To,oo),{ctor:"Sun"}),xo={ctor:"Sat"},Ao={ctor:"Fri"},Oo={ctor:"Thu"},Co={ctor:"Wed"},Io={ctor:"Tue"},No={ctor:"Mon"},qo={ctor:"Dec"},Mo={ctor:"Nov"},jo={ctor:"Oct"},Do={ctor:"Sep"},Ro={ctor:"Aug"},Bo={ctor:"Jul"},Po={ctor:"Jun"},Lo={ctor:"May"},Fo={ctor:"Apr"},$o={ctor:"Mar"},Uo={ctor:"Feb"},Vo={ctor:"Jan"},Jo=function(t){switch(t.ctor){case"Mon":return 1;case"Tue":return 2;case"Wed":return 3;case"Thu":return 4;case"Fri":return 5;case"Sat":return 6;default:return 7}},zo=function(t){switch(t){case 1:return Vo;case 2:return Uo;case 3:return $o;case 4:return Fo;case 5:return Lo;case 6:return Po;case 7:return Bo;case 8:return Ro;case 9:return Do;case 10:return jo;case 11:return Mo;default:return qo}},Ho=function(t){switch(t.ctor){case"Jan":return 1;case"Feb":return 2;case"Mar":return 3;case"Apr":return 4;case"May":return 5;case"Jun":return 6;case"Jul":return 7;case"Aug":return 8;case"Sep":return 9;case"Oct":return 10;case"Nov":return 11;default:return 12}},Wo=function(t){return v.eq(s(k["%"],t,4),0)&&!v.eq(s(k["%"],t,100),0)||v.eq(s(k["%"],t,400),0)},Ko=e(function(t,e){switch(e.ctor){case"Jan":return 31;case"Feb":return Wo(t)?29:28;case"Mar":return 31;case"Apr":return 30;case"May":return 31;case"Jun":return 30;case"Jul":case"Aug":return 31;case"Sep":return 30;case"Oct":return 31;case"Nov":return 30;default:return 31}}),Go=e(function(t,e){switch(e.ctor){case"Jan":return 0;case"Feb":return 31;case"Mar":return Wo(t)?60:59;case"Apr":return Wo(t)?91:90;case"May":return Wo(t)?121:120;case"Jun":return Wo(t)?152:151;case"Jul":return Wo(t)?182:181;case"Aug":return Wo(t)?213:212;case"Sep":return Wo(t)?244:243;case"Oct":return Wo(t)?274:273;case"Nov":return Wo(t)?305:304;default:return Wo(t)?335:334}}),Xo=function(t){return 864e5*(t-719163)},Qo=function(t){var e=s(k["%"],t,7);return 0===e?7:e},Yo=function(t){return(t/4|0)-(t/100|0)+(t/400|0)},Zo=function(t){return 365*(t-1)+Yo(t-1)},tu=e(function(t,e){return Zo(t)+e}),eu=function(t){var e=s(tu,t,4);return e-Qo(e)+1},ru=r(function(t,e,r){return eu(t)-1+7*(e-1)+r}),nu=r(function(t,e,r){var n=s(Go,t,e);return Zo(t)+n+r}),ou=e(function(t,e){return{ctor:"_Tuple2",_0:t/e|0,_1:s(P,t,e)}}),uu=function(t){var e=s(ou,t,146097),r=e._0,n=e._1,o=s(ou,n,36524),u=o._0,c=o._1,i=s(ou,c,1461),a=i._0,f=i._1,_=s(ou,f,365),l=_._0,d=_._1;return 400*r+100*u+4*a+l+(v.eq(d,0)?0:1)},cu=function(t){var e=4-Qo(t);return uu(t+e)},iu=function(t){return 1+((t-eu(cu(t)))/7|0)},au=(e(function(t,e){for(;;){var r=e;if("[]"===r.ctor)return z;var n=r._0;if(t(n))return W(n);var o=t,u=r._1;t=o,e=u}}),r(function(t,e,r){return iu(f(nu,t,e,r))})),su=r(function(t,e,r){return cu(f(nu,t,e,r))}),fu=e(function(t,e){return Xo(s(tu,t,e))}),_u=r(function(t,e,r){return Xo(f(ru,t,e,r))}),lu=r(function(t,e,r){return Xo(f(nu,t,e,r))}),du=n(function(t,e,r,n){return n+1e3*r+6e4*e+36e5*t}),pu=c(function(t,e,r,n,o,u,c){return Xo(f(nu,t,e,r))+_(du,n,o,u,c)}),hu=function(t){var e=ko(t),r=x(p(pu,wo(t),bo(t),yo(t),go(t),vo(t),ho(t),po(t)));return O(r-e)},vu=function(t){return hu(t)/6e4|0},gu=function(t){return f(su,wo(t),bo(t),yo(t))},mu=function(t){return f(au,wo(t),bo(t),yo(t))},yu=function(t){return Jo(mo(t))},bu=function(t){var e=_(du,go(t),vo(t),ho(t),po(t));return x(e)/x(864e5)},wu=function(t){return s(Go,wo(t),bo(t))+yo(t)},Tu=function(t){return Ho(bo(t))},ku=function(t){return A(function(t){return t/3}(x(Tu(t))))},Su=function(){function t(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function o(t){return new RegExp(t.source,"gi")}function u(t){return new RegExp(t,"g")}function c(t,e){return null!==e.match(t)}function i(t,e,r){t="All"===t.ctor?1/0:t._0;for(var n,o=[],u=0,c=r,i=e.lastIndex,a=-1;u++<t&&(n=e.exec(c))&&a!==e.lastIndex;){for(var s=n.length-1,f=new Array(s);s>0;){var _=n[s];f[--s]=void 0===_?z:W(_)}o.push({match:n[0],submatches:X.fromArray(f),index:n.index,number:u}),a=e.lastIndex}return e.lastIndex=i,X.fromArray(o)}function a(t,e,r,n){function o(e){if(u++>=t)return e;for(var n=arguments.length-3,o=new Array(n);n>0;){var c=arguments[n];o[--n]=void 0===c?z:W(c)}return r({match:e,submatches:X.fromArray(o),index:arguments[arguments.length-2],number:u})}t="All"===t.ctor?1/0:t._0;var u=0;return n.replace(e,o)}function s(t,e,r){if((t="All"===t.ctor?1/0:t._0)===1/0)return X.fromArray(r.split(e));for(var n,o=r,u=[],c=e.lastIndex,i=e.lastIndex;t--&&(n=e.exec(o));)u.push(o.slice(c,n.index)),c=e.lastIndex;return u.push(o.slice(c)),e.lastIndex=i,X.fromArray(u)}return{regex:u,caseInsensitive:o,escape:t,contains:e(c),find:r(i),replace:n(a),split:r(s)}}(),Eu=(Su.split,Su.replace),xu=Su.find,Au=Su.contains,Ou=(Su.caseInsensitive,Su.regex),Cu=Su.escape,Iu=(n(function(t,e,r,n){return{match:t,submatches:e,index:r,number:n}}),function(t){return{ctor:"AtMost",_0:t}}),Nu={ctor:"All"},qu=function(t){return To(ko(t)-x(6e4*vu(t)))},Mu=function(t){switch(t){case 1:case 2:case 3:return"abbreviated";case 4:return"full";case 5:return"narrow";case 6:return"short";default:return"invalid"}},ju=Ou("([yYQMwdDEeabhHmsSXx])\\1*|'(?:[^']|'')*?'(?!')"),Du=r(function(t,e,r){var n=f(ue,2,v.chr("0"),S(s(k["%"],R(r),60))),o=f(ue,2,v.chr("0"),S(R(r)/60|0)),u=v.cmp(r,0)>-1?"+":"-";return e&&v.eq(n,"00")?s(k["++"],u,o):s(k["++"],u,s(k["++"],o,s(k["++"],t,n)))}),Ru=function(t){var e=s(k["%"],t,100);switch(s(M,v.cmp(e,20)<0?e:s(k["%"],e,10),4)){case 0:return"th";case 1:return"st";case 2:return"nd";case 3:return"rd";case 4:return"th";default:return""}},Bu=function(t){return s(k["++"],S(t),Ru(t))},Pu=function(t){var e=s(k["%"],go(t),12);return 0===e?12:e},Lu=function(t){switch(t.ctor){case"Mon":return"Monday";case"Tue":return"Tuesday";case"Wed":return"Wednesday";case"Thu":return"Thursday";case"Fri":return"Friday";case"Sat":return"Saturday";default:return"Sunday"}},Fu=function(t){switch(t.ctor){case"Jan":return"January";case"Feb":return"February";case"Mar":return"March";case"Apr":return"April";case"May":return"May";case"Jun":return"June";case"Jul":return"July";case"Aug":return"August";case"Sep":return"September";case"Oct":return"October";case"Nov":return"November";default:return"December"}},$u={ctor:"PM"},Uu={ctor:"Noon"},Vu={ctor:"AM"},Ju={ctor:"Midnight"},zu=function(t){var e=v.eq(vo(t),0)&&v.eq(ho(t),0)&&v.eq(po(t),0),r=go(t);return v.eq(r,0)&&e?Ju:v.cmp(r,12)<0?Vu:v.eq(r,12)&&e?Uu:$u},Hu=r(function(t,r,n){t:for(;;){var o=pe(n),u=s(se,1,n),c=u;switch(c){case"y":var i=o;return 2===i?s(ae,2,f(ue,o,v.chr("0"),S(wo(r)))):f(ue,o,v.chr("0"),S(wo(r)));case"Y":var a=o;return 2===a?s(ae,2,f(ue,o,v.chr("0"),S(gu(r)))):f(ue,o,v.chr("0"),S(gu(r)));case"Q":var l=o;switch(l){case 1:case 2:return S(ku(r));case 3:return s(e(function(t,e){return s(k["++"],t,e)}),"Q",S(ku(r)));case 4:return Bu(ku(r));case 5:return S(ku(r));default:return""}case"M":var d=o;switch(d){case 1:return S(Tu(r));case 2:return f(ue,2,v.chr("0"),S(Tu(r)));case 3:return s(se,3,Fu(bo(r)));case 4:return Fu(bo(r));case 5:return s(se,1,Fu(bo(r)));default:return""}case"w":var p=o;switch(p){case 1:return S(mu(r));case 2:return f(ue,2,v.chr("0"),S(mu(r)));default:return""}case"d":var h=o;switch(h){case 1:return S(yo(r));case 2:return f(ue,2,v.chr("0"),S(yo(r)));case 3:return Bu(yo(r));default:return""}case"D":var g=o;switch(g){case 1:return S(wu(r));case 2:return f(ue,2,v.chr("0"),S(wu(r)));case 3:return f(ue,3,v.chr("0"),S(wu(r)));default:return""}case"E":var m=Mu(o);switch(m){case"abbreviated":return s(se,3,Lu(mo(r)));case"full":return Lu(mo(r));case"narrow":return s(se,1,Lu(mo(r)));case"short":return s(se,2,Lu(mo(r)));default:return""}case"e":var y=o;switch(y){case 1:case 2:return S(yu(r));default:var b=t,w=r,T=re(n);t=b,r=w,n=T;continue t}case"a":var E=zu(r),x=v.eq(E,Ju)||v.eq(E,Vu)?"A":"P",A=Mu(o);switch(A){case"abbreviated":return s(k["++"],x,"M");case"full":return s(k["++"],x,".M.");case"narrow":return x;default:return""}case"b":var O=Mu(o);switch(O){case"abbreviated":var C=zu(r);switch(C.ctor){case"Midnight":return"mid.";case"AM":return"am";case"Noon":return"noon";default:return"pm"}case"full":var I=zu(r);switch(I.ctor){case"Midnight":return"midnight";case"AM":return"a.m.";case"Noon":return"noon";default:return"p.m."}case"narrow":var N=zu(r);switch(N.ctor){case"Midnight":return"md";case"AM":return"a";case"Noon":return"nn";default:return"p"}default:return""}case"h":var q=o;switch(q){case 1:return S(Pu(r));case 2:return f(ue,2,v.chr("0"),S(Pu(r)));default:return""}case"H":var M=o;switch(M){case 1:return S(go(r));case 2:return f(ue,2,v.chr("0"),S(go(r)));default:return""}case"m":var j=o;switch(j){case 1:return S(vo(r));case 2:return f(ue,2,v.chr("0"),S(vo(r)));default:return""}case"s":var D=o;switch(D){case 1:return S(ho(r));case 2:return f(ue,2,v.chr("0"),S(ho(r)));default:return""}case"S":return f(oe,o,v.chr("0"),s(se,o,f(ue,3,v.chr("0"),S(po(r)))));case"X":if(v.cmp(o,4)<0&&(t||v.eq(vu(r),0)))return"Z";var R=t,B=r,P=ee(n);t=R,r=B,n=P;continue t;case"x":var L=t?0:vu(r),F=o;switch(F){case 1:return f(Du,"",!0,L);case 2:return f(Du,"",!1,L);case 3:return f(Du,":",!1,L);default:return""}case"'":return v.eq(n,"''")?"'":_(Eu,Nu,Ou("''"),function(t){return"'"},f(fe,1,-1,n));default:return""}}}),Wu=r(function(t,e,r){var n=t?qu(r):r;return _(Eu,Nu,ju,function(e){return f(Hu,t,n,function(t){return t.match}(e))},e)}),Ku=(function(){Ou(s(k["++"],"^",s(k["++"],"(\\d{4})",s(k["++"],"(?:",s(k["++"],"(\\-)?(\\d{2})(?:\\2(\\d{2}))?",s(k["++"],"|",s(k["++"],"(\\-)?W(\\d{2})(?:\\5(\\d))?",s(k["++"],"|",s(k["++"],"\\-?(\\d{3})",s(k["++"],")?",s(k["++"],"(?:",s(k["++"],"T(\\d{2})(?:(\\:)?(\\d{2})(?:\\10(\\d{2}))?)?(\\.\\d+)?(?:(Z)|(?:([+\\-])(\\d{2})(?:\\:?(\\d{2}))?))?",")?$"))))))))))))}(),function(t){return Dt(Xt(t))}),Gu=(n(function(t,e,r,n){var o=s(J,0,s(H,Ku,n)),u=function(){var n=s(vt,H(Ku),{ctor:"::",_0:t,_1:{ctor:"::",_0:e,_1:{ctor:"::",_0:r,_1:{ctor:"[]"}}}});t:do{if("::"===n.ctor&&"Just"===n._0.ctor&&"::"===n._1.ctor){if("Just"===n._1._0.ctor){if("::"===n._1._1.ctor){if("Just"===n._1._1._0.ctor){if("[]"===n._1._1._1.ctor)return{ctor:"_Tuple3",_0:n._0._0,_1:n._1._0._0,_2:n._1._1._0._0+o};break t}if("[]"===n._1._1._1.ctor)return{ctor:"_Tuple3",_0:n._0._0,_1:n._1._0._0+o,_2:0};break t}break t}if("::"===n._1._1.ctor&&"Nothing"===n._1._1._0.ctor&&"[]"===n._1._1._1.ctor)return{ctor:"_Tuple3",_0:n._0._0+o,_1:0,_2:0};break t}break t}while(!1);return{ctor:"_Tuple3",_0:0,_1:0,_2:0}}(),c=u._0,i=u._1,a=u._2;return I(c*x(36e5)+i*x(6e4)+a*x(1e3))}),function(t){return Dt(Qt(t))}),Xu=(u(function(t,e,r,n,o,u){var c=s(J,1,Gu(t)),i={ctor:"_Tuple2",_0:e,_1:n};t:do{if("_Tuple2"===i.ctor){if("Just"===i._0.ctor){if("Nothing"===i._1.ctor)return f(lu,c,zo(s(J,1,s(H,Gu,e))),s(J,1,s(H,Gu,r)));break t}if("Just"===i._1.ctor)return f(_u,c,s(J,1,s(H,Gu,n)),s(J,1,s(H,Gu,o)));break t}break t}while(!1);return s(fu,c,s(J,1,s(H,Gu,u)))}),n(function(t,e,r,n){var o={ctor:"_Tuple2",_0:t,_1:e};t:do{if("_Tuple2"===o.ctor){if("Just"===o._0.ctor){if("Z"===o._0._0&&"Nothing"===o._1.ctor)return W(0);break t}if("Just"===o._1.ctor){var u=s(J,0,s(H,Gu,n)),c=s(J,0,s(H,Gu,r));return W((v.eq(o._1._0,"+")?1:-1)*(60*c+u))}break t}break t}while(!1);return z}),function(t){return{ctor:"_Tuple7",_0:wo(t),_1:bo(t),_2:yo(t),_3:go(t),_4:vo(t),_5:ho(t),_6:po(t)}}),Qu=function(t){switch(t){case 1:return Vo;case 2:return Fo;case 3:return Bo;default:return jo}},Yu=(r(function(t,e,r){return v.cmp(ko(r),ko(t))<0?t:v.cmp(ko(r),ko(e))>0?e:r}),r(function(t,e,r){return v.cmp(t,r)<1&&v.cmp(r,e)<1||v.cmp(e,r)<1&&v.cmp(r,t)<1})),Zu=(r(function(t,e,r){return f(Yu,ko(t),ko(e),ko(r))}),e(function(t,e){return s(j,ko(t),ko(e))})),tc=(e(function(t,e){return v.eq(ko(t),ko(e))}),vu),ec=gu,rc=mu,nc=yu,oc=e(function(t,e){return B(s(k["%"],nc(e)-Jo(t)+7,7))}),uc=bu,cc=ku,ic=Tu,ac=function(t){return 12*wo(t)+ic(t)},sc=e(function(t,e){var r=function(t){return(x(yo(t)-1)+uc(t))/31},n=function(t){return x(ac(t))+r(t)};return C(n(e)-n(t))}),fc=Wu(!0),_c=(fc("yyyy-MM-dd'T'HH:mm:ss.SSSXXX"),Wu(!1)),lc=(_c("yyyy-MM-dd'T'HH:mm:ss.SSSxxx"),function(t){return To(x(t))}),dc=function(t){var e=t,r=e._1,n=e._0;if("Just"===n.ctor)return lc(r-6e4*n._0);var o=tc(lc(r)),u=lc(r-6e4*o),c=tc(u);if(v.eq(o,c))return u;var i=lc(r-6e4*c),a=tc(i);return v.eq(c,a)?i:u},pc=c(function(t,e,r,n,o,u,c){return dc({ctor:"_Tuple2",_0:z,_1:p(pu,t,e,r,n,o,u,c)})}),hc=e(function(t,e){var r=ac(e)+t+-1,n=r/12|0,o=zo(s(k["%"],r,12)+1),u=Xu(e),c=(u._0,u._1,u._2),i=u._3,a=u._4,f=u._5,_=u._6,l=s(M,c,s(Ko,n,o));return p(pc,n,o,l,i,a,f,_)}),vc=r(function(t,e,r){var n=Xu(r),o=n._0,u=n._1,c=n._2,i=n._3,a=n._4,f=n._5,_=n._6;switch(t.ctor){case"Millisecond":return To(ko(r)+x(e));case"Second":return To(ko(r)+x(1e3*e));case"Minute":return To(ko(r)+x(6e4*e));case"Hour":return To(ko(r)+x(36e5*e));case"Day":return p(pc,o,u,c+e,i,a,f,_);case"Month":return s(hc,e,r);case"Year":return s(hc,12*e,r);case"Quarter":return s(hc,3*e,r);case"Week":default:return p(pc,o,u,c+7*e,i,a,f,_)}}),gc=o(function(t,e,r,n,o){for(;;){if(v.cmp(ko(o),ko(n))<0)return t;var u={ctor:"::",_0:o,_1:t},c=e,i=r,a=n,s=f(vc,e,r,o);t=u,e=c,r=i,n=a,o=s}}),mc=r(function(t,e,r){return dc({ctor:"_Tuple2",_0:z,_1:f(lu,t,e,r)})}),yc=e(function(t,e){var r=Xu(e),n=r._0,o=r._1,u=r._2,c=r._3,i=r._4,a=r._5;switch(t.ctor){case"Millisecond":return e;case"Second":return p(pc,n,o,u,c,i,a,0);case"Minute":return p(pc,n,o,u,c,i,0,0);case"Hour":return p(pc,n,o,u,c,0,0,0);case"Day":return f(mc,n,o,u);case"Month":return f(mc,n,o,1);case"Year":return f(mc,n,Vo,1);case"Quarter":return f(mc,n,Qu(cc(e)),1);case"Week":case"Monday":return f(mc,n,o,u+s(oc,No,e));case"Tuesday":return f(mc,n,o,u+s(oc,Io,e));case"Wednesday":return f(mc,n,o,u+s(oc,Co,e));case"Thursday":return f(mc,n,o,u+s(oc,Oo,e));case"Friday":return f(mc,n,o,u+s(oc,Ao,e));case"Saturday":return f(mc,n,o,u+s(oc,xo,e));default:return f(mc,n,o,u+s(oc,Eo,e))}}),bc=e(function(t,e){var r=s(yc,t,e);return v.eq(ko(e),ko(r))?e:f(vc,t,1,r)}),wc=(n(function(t,e,r,n){var o=B(s(q,1,e));return l(gc,{ctor:"[]"},t,o,r,s(bc,t,f(vc,t,o,n)))}),r(function(t,e,r){var n=t,o=e,u=r;return dc({ctor:"_Tuple2",_0:n._0,_1:u._0+o._0})}),function(t){return{ctor:"Offset",_0:t}}),Tc=(wc(W(0)),wc(z),function(t){return{ctor:"TimeMS",_0:t}}),kc=(Tc(0),n(function(t,e,r,n){return Tc(_(du,t,e,r,n))}),function(t){return{ctor:"DateMS",_0:t}}),Sc=(r(function(t,e,r){return kc(f(lu,t,e,r))}),e(function(t,e){return kc(s(fu,t,e))}),r(function(t,e,r){return kc(f(_u,t,e,r))}),{ctor:"Year"}),Ec={ctor:"Month"},xc={ctor:"Day"},Ac=r(function(t,e,r){var n=O(ko(r)-ko(e)),o=t;switch(o.ctor){case"Millisecond":return n;case"Second":return n/1e3|0;case"Minute":return n/6e4|0;case"Hour":return n/36e5|0;case"Day":return n/864e5|0;case"Month":return s(sc,e,r);case"Year":return s(sc,e,r)/12|0;case"Quarter":return s(sc,e,r)/3|0;case"Week":return f(Ac,xc,e,r)/7|0;default:var u=o;return f(Ac,xc,s(yc,u,e),s(yc,u,r))/7|0}}),Oc={ctor:"Hour"},Cc={ctor:"Minute"},Ic=r(function(t,e,r){t:for(;;){var n=t;switch(n.ctor){case"Millisecond":return v.eq(ko(e),ko(r));case"Second":return v.eq(ho(e),ho(r))&&f(Ic,Cc,e,r);case"Minute":return v.eq(vo(e),vo(r))&&f(Ic,Oc,e,r);case"Hour":return v.eq(go(e),go(r))&&f(Ic,xc,e,r);case"Day":return v.eq(yo(e),yo(r))&&f(Ic,Ec,e,r);case"Month":return v.eq(bo(e),bo(r))&&f(Ic,Sc,e,r);case"Year":return v.eq(wo(e),wo(r));case"Quarter":return v.eq(cc(e),cc(r))&&f(Ic,Sc,e,r);case"Week":return v.eq(rc(e),rc(r))&&v.eq(ec(e),ec(r));default:var o=n,u=xc,c=s(yc,o,e),i=s(yc,o,r);t=u,e=c,r=i;continue t}}}),Nc={ctor:"Second"},qc=function(t){return ee(S(t))},Mc=function(t){return"Minute"===t.ctor?s(k["++"],"a ",qc(t)):s(k["++"],"1 ",qc(t))},jc=r(function(t,e,r){return 1===r?s(k["++"],t,s(k["++"]," ",Mc(e))):s(k["++"],t,s(k["++"]," ",s(k["++"],S(r),s(k["++"]," ",s(k["++"],qc(e),"s")))))}),Dc=e(function(t,e){return 1===e?s(k["++"],"1 ",qc(t)):s(k["++"],S(e),s(k["++"]," ",s(k["++"],qc(t),"s")))}),Rc=function(t){var e=t;switch(e.ctor){case"LessThanXSeconds":return f(jc,"less than",Nc,e._0);case"HalfAMinute":return"half a minute";case"LessThanXMinutes":return f(jc,"less than",Cc,e._0);case"XMinutes":return s(Dc,Cc,e._0);case"AboutXHours":return f(jc,"about",Oc,e._0);case"XDays":return s(Dc,xc,e._0);case"AboutXMonths":return f(jc,"about",Ec,e._0);case"XMonths":return s(Dc,Ec,e._0);case"AboutXYears":return f(jc,"about",Sc,e._0);case"OverXYears":return f(jc,"over",Sc,e._0);default:return f(jc,"almost",Sc,e._0)}},Bc=r(function(t,e,r){var n=t,o=Rc(r);return n.addSuffix?v.eq(e,$)?s(k["++"],"in ",o):s(k["++"],o," ago"):o}),Pc=function(t){var e=I(x(t)/60);return qn(e)},Lc=function(t){return v.cmp(t,5)<0?Rn(5):v.cmp(t,10)<0?Rn(10):v.cmp(t,20)<0?Rn(20):v.cmp(t,40)<0?Dn:v.cmp(t,60)<0?jn(1):Mn(1)},Fc={locale:Bc({addSuffix:!1}),includeSeconds:!1},$c=function(t){var e=I(x(t)/43200);return In(e)},Uc=function(t){var e=I(x(t)/43200);return Cn(e)},Vc=r(function(t,e,r){var n=f(Ac,Ec,e,r);if(v.cmp(n,12)<0)return Uc(t);var o=O(x(n)/12),u=s(k["%"],n,12);return v.cmp(u,3)<0?On(o):v.cmp(u,9)<0?An(o):xn(o+1)}),Jc=function(t){var e=I(x(t)/1440);return Nn(e)},zc=r(function(t,e,r){var n=tc(e)-tc(r),o=f(Ac,Nc,e,r),u=I(x(o)/60)-n;return t&&v.cmp(u,2)<0?Lc(o):v.eq(u,0)?jn(1):v.cmp(u,2)<0?Mn(u):v.cmp(u,45)<0?Mn(u):v.cmp(u,90)<0?qn(1):v.cmp(u,1440)<0?Pc(u):v.cmp(u,2520)<0?Nn(1):v.cmp(u,43200)<0?Jc(u):v.cmp(u,86400)<0?$c(u):f(Vc,u,e,r)}),Hc=r(function(t,e,r){var n=t,o=s(Zu,e,r),u=v.eq(o,$)?{ctor:"_Tuple2",_0:e,_1:r}:{ctor:"_Tuple2",_0:r,_1:e},c=u._0,i=u._1,a=f(zc,n.includeSeconds,c,i);return n.locale(o)(a)}),Wc=(Hc(Fc),e(function(t,e){var r=e;return{ctor:"_Tuple2",_0:r._0,_1:s(Ie,t,r._1)}}),e(function(t,e){var r=e;return{ctor:"_Tuple2",_0:r._0,_1:Ae({ctor:"::",_0:r._1,_1:{ctor:"::",_0:t,_1:{ctor:"[]"}}})}}),e(function(t,e){var r=e;return{ctor:"_Tuple2",_0:t(r._0),_1:r._1}}),e(function(t,e){return t?e:T}),r(function(t,e,r){var n=r,o=s(t,e,n._0),u=o._0,c=o._1;return{ctor:"_Tuple2",_0:u,_1:Ae({ctor:"::",_0:n._1,_1:{ctor:"::",_0:c,_1:{ctor:"[]"}}})}})),Kc=r(function(t,e,r){var n=Wc(t);return f(at,n,r,e)}),Gc=(r(function(t,e,n){var o=n;return f(tr,r(function(e,r,n){return s(t,e,n)}),e,o._0)}),r(function(t,e,n){var o=n;return f(or,r(function(e,r,n){return s(t,e,n)}),e,o._0)})),Xc=function(t){return er(t._0)},Qc=e(function(t,e){return s(fr,t,e._0)}),Yc=function(t){return{ctor:"Set_elm_builtin",_0:t}},Zc=Yc(Tr),ti=function(t){return Yc(s($r,t,{ctor:"_Tuple0"}))},ei=e(function(t,e){return Yc(f(Fr,t,{ctor:"_Tuple0"},e._0))}),ri=function(t){return f(at,ei,Zc,t)},ni=(e(function(t,e){return ri(s(vt,t,Xc(e)))}),e(function(t,e){return Yc(s(Wr,t,e._0))})),oi=(e(function(t,e){var r=t,n=e;return Yc(s(Ur,r._0,n._0))}),e(function(t,e){var r=t,n=e;return Yc(s(Jr,r._0,n._0))}),e(function(t,e){var r=t,n=e;return Yc(s(Kr,r._0,n._0))}),e(function(t,r){var n=r;return Yc(s(Vr,e(function(e,r){return t(e)}),n._0))}),e(function(t,r){var n=r,o=s(zr,e(function(e,r){return t(e)}),n._0),u=o._0,c=o._1;return{ctor:"_Tuple2",_0:Yc(u),_1:Yc(c)}}),e(function(t,r){var n=function(t){var e=t,r=pt(e._1);return"Just"===r.ctor?{ctor:"::",_0:r._0(e._0),_1:{ctor:"[]"}}:{ctor:"[]"}};return s(e(function(t,r){for(;;){var o=t,u=o._0,c=o._1;if("Just"!==c.ctor)return r;var i=c._0,a={ctor:"_Tuple2",_0:u,_1:dt(i)},f=s(e(function(t,e){return s(k["++"],t,e)}),r,n({ctor:"_Tuple2",_0:u,_1:i}));t=a,r=f}}),{ctor:"_Tuple2",_0:r,_1:W(t)},{ctor:"[]"})})),ui=(e(function(t,e){var r=t;return{ctor:"_Tuple4",_0:r._0(e),_1:r._1(e),_2:r._2(e),_3:r._3(e)}}),e(function(t,e){var r=t;return{ctor:"_Tuple3",_0:r._0(e),_1:r._1(e),_2:r._2(e)}})),ci=e(function(t,e){var r=t;return{ctor:"_Tuple2",_0:r._0(e),_1:r._1(e)}}),ii=(e(function(t,e){var r=e;return _(t,r._0,r._1,r._2,r._3)}),e(function(t,e){var r=e;return f(t,r._0,r._1,r._2)})),ai=(o(function(t,e,r,n,o){return t({ctor:"_Tuple4",_0:e,_1:r,_2:n,_3:o})}),n(function(t,e,r,n){return t({ctor:"_Tuple3",_0:e,_1:r,_2:n})}),e(function(t,e){var r=e;return{ctor:"_Tuple4",_0:t(r._0),_1:t(r._1),_2:t(r._2),_3:t(r._3)}}),e(function(t,e){var r=e;return{ctor:"_Tuple3",_0:t(r._0),_1:t(r._1),_2:t(r._2)}}),e(function(t,e){var r=e;return{ctor:"_Tuple2",_0:t(r._0),_1:t(r._1)}}),e(function(t,e){return v.cmp(t,0)<0?z:pt(s(tt,t,e))}),e(function(t,r){var n=s(Ct,1,r);return"::"===n.ctor?"Ok"===n._0.ctor&&"[]"===n._1.ctor?s(Ft,e(function(t,e){return{ctor:"::",_0:t,_1:e}})(n._0._0),s(ai,t,s(tt,1,r))):Bt(t):Lt({ctor:"[]"})})),si=(e(function(t,e){var r=e;return"_Tuple4"===r.ctor&&"Ok"===r._0.ctor&&"Ok"===r._1.ctor&&"Ok"===r._2.ctor&&"Ok"===r._3.ctor?Lt({ctor:"_Tuple4",_0:r._0._0,_1:r._1._0,_2:r._2._0,_3:r._3._0}):Bt(t)}),e(function(t,e){var r=e;return"_Tuple3"===r.ctor&&"Ok"===r._0.ctor&&"Ok"===r._1.ctor&&"Ok"===r._2.ctor?Lt({ctor:"_Tuple3",_0:r._0._0,_1:r._1._0,_2:r._2._0}):Bt(t)}),e(function(t,e){var r=e;return"_Tuple2"===r.ctor&&"Ok"===r._0.ctor&&"Ok"===r._1.ctor?Lt({ctor:"_Tuple2",_0:r._0._0,_1:r._1._0}):Bt(t)}),function(t){var e=t;return"_Tuple2"===e.ctor&&"Just"===e._0.ctor&&"Just"===e._1.ctor?W({ctor:"_Tuple2",_0:e._0._0,_1:e._1._0}):z}),fi=(e(function(t,e){var r=t(e);return"Ok"===r.ctor?r._0:e}),e(function(t,e){var r=t;return v.cmp(e,r._0)>0&&v.cmp(e,r._1)<0}),e(function(t,e){var r=t;return v.cmp(e,r._0)>-1&&v.cmp(e,r._1)<1}),e(function(t,e){return s(_t,e,t)}),e(function(t,r){var n=x(s(e(function(t,e){return Math.pow(t,e)}),10,t));return f(b,e(function(t,e){return t/e}),n,x(I(s(e(function(t,e){return t*e}),n,r))))}),fi||{});fi["!+>"]=e(function(t,e){return s(Pt,e,t)});var fi=fi||{};fi["?+>"]=e(function(t,e){return s(H,e,t)});var fi=fi||{};fi["!|>"]=e(function(t,e){return s(Ft,e,t)});var fi=fi||{};fi["?|>"]=e(function(t,e){return s(K,e,t)});var fi=fi||{};fi["!="]=e(function(t,e){return s(Rt,e,t)});var fi=fi||{};fi["?="]=e(function(t,e){return s(J,e,t)});var fi=fi||{};fi["@@|>"]=e(function(t,e){return s(m,e,t)});var fi=fi||{};fi["..|>"]=e(function(t,e){var r=t;return{ctor:"_Tuple2",_0:e(r._0),_1:e(r._1)}});var fi=fi||{};fi[":|>"]=e(function(t,e){return e({ctor:"::",_0:t,_1:{ctor:"[]"}})});var fi=fi||{};fi[".|>"]=e(function(t,e){return s(vt,e,t)});var fi=fi||{};fi["||>"]=e(function(t,e){return e(t)});var fi=fi||{};fi["#"]=e(function(t,e){return s(b,t,e)});var fi=fi||{};fi[":|::"]=e(function(t,e){return{ctor:"::",_0:t,_1:{ctor:"::",_0:e,_1:{ctor:"[]"}}}});var fi=fi||{};fi[":|++"]=e(function(t,e){return{ctor:"::",_0:t,_1:e}});var fi=fi||{};fi["|::"]=e(function(t,e){return s(k["++"],t,{ctor:"::",_0:e,_1:{ctor:"[]"}})});var fi=fi||{};fi["|++"]=e(function(t,e){return s(k["++"],t,e)});var _i,li=function(){function t(t){return{type:"text",text:t}}function o(t){return e(function(e,r){return u(t,e,r)})}function u(t,e,r){for(var n=h(e),o=n.namespace,u=n.facts,c=[],i=0;"[]"!==r.ctor;){var a=r._0;i+=a.descendantsCount||0,c.push(a),r=r._1}return i+=c.length,{type:"node",tag:t,facts:u,children:c,namespace:o,descendantsCount:i}}function c(t,e,r){for(var n=h(e),o=n.namespace,u=n.facts,c=[],i=0;"[]"!==r.ctor;){var a=r._0;i+=a._1.descendantsCount||0,c.push(a),r=r._1}return i+=c.length,{type:"keyed-node",tag:t,facts:u,children:c,namespace:o,descendantsCount:i}}function i(t,e,r){return{type:"custom",facts:h(t).facts,model:e,impl:r}}function a(t,e){return{type:"tagger",tagger:t,node:e,descendantsCount:1+(e.descendantsCount||0)}}function _(t,e,r){return{type:"thunk",func:t,args:e,thunk:r,node:void 0}}function l(t,e){return _(t,[e],function(){return t(e)})}function d(t,e,r){return _(t,[e,r],function(){return s(t,e,r)})}function p(t,e,r,n){return _(t,[e,r,n],function(){return f(t,e,r,n)})}function h(t){for(var e,r={};"[]"!==t.ctor;){var n=t._0,o=n.key;if(o===dt||o===pt||o===lt){var u=r[o]||{};u[n.realKey]=n.value,r[o]=u}else if(o===_t){for(var c=r[o]||{},i=n.value;"[]"!==i.ctor;){var a=i._0;c[a._0]=a._1,i=i._1}r[o]=c}else if("namespace"===o)e=n.value;else if("className"===o){var s=r[o];r[o]=void 0===s?n.value:s+" "+n.value}else r[o]=n.value;t=t._1}return{facts:r,namespace:e}}function g(t){return{key:_t,value:t}}function m(t,e){return{key:t,value:e}}function y(t,e){return{key:dt,realKey:t,value:e}}function b(t,e,r){return{key:pt,realKey:e,value:{value:r,namespace:t}}}function w(t,e,r){return{key:lt,realKey:t,value:{options:e,decoder:r}}}function T(t,e){return(t.options===e.options||t.options.stopPropagation===e.options.stopPropagation&&t.options.preventDefault===e.options.preventDefault)&&Gr.equality(t.decoder,e.decoder)}function k(t,e){return e.key!==lt?e:w(e.realKey,e.value.options,s(_n,t,e.value.decoder))}function S(t,e){switch(t.type){case"thunk":return t.node||(t.node=t.thunk()),S(t.node,e);case"tagger":for(var r=t.node,n=t.tagger;"tagger"===r.type;)"object"!=typeof n?n=[n,r.tagger]:n.push(r.tagger),r=r.node;var o={tagger:n,parent:e},u=S(r,o);return u.elm_event_node_ref=o,u;case"text":return ht.createTextNode(t.text);case"node":var u=t.namespace?ht.createElementNS(t.namespace,t.tag):ht.createElement(t.tag);E(u,e,t.facts);for(var c=t.children,i=0;i<c.length;i++)u.appendChild(S(c[i],e));return u;case"keyed-node":var u=t.namespace?ht.createElementNS(t.namespace,t.tag):ht.createElement(t.tag);E(u,e,t.facts);for(var c=t.children,i=0;i<c.length;i++)u.appendChild(S(c[i]._1,e));return u;case"custom":var u=t.impl.render(t.model);return E(u,e,t.facts),u}}function E(t,e,r){for(var n in r){var o=r[n];switch(n){case _t:x(t,o);break;case lt:A(t,e,o);break;case dt:C(t,o);break;case pt:I(t,o);break;case"value":t[n]!==o&&(t[n]=o);break;default:t[n]=o}}}function x(t,e){var r=t.style;for(var n in e)r[n]=e[n]}function A(t,e,r){var n=t.elm_handlers||{};for(var o in r){var u=n[o],c=r[o];if(void 0===c)t.removeEventListener(o,u),n[o]=void 0;else if(void 0===u){var u=O(e,c);t.addEventListener(o,u),n[o]=u}else u.info=c}t.elm_handlers=n}function O(t,e){function r(e){var n=r.info,o=s(Gr.run,n.decoder,e);if("Ok"===o.ctor){var u=n.options;u.stopPropagation&&e.stopPropagation(),u.preventDefault&&e.preventDefault();for(var c=o._0,i=t;i;){var a=i.tagger;if("function"==typeof a)c=a(c);else for(var f=a.length;f--;)c=a[f](c);i=i.parent}}}return r.info=e,r}function C(t,e){for(var r in e){var n=e[r];void 0===n?t.removeAttribute(r):t.setAttribute(r,n)}}function I(t,e){for(var r in e){var n=e[r],o=n.namespace,u=n.value;void 0===u?t.removeAttributeNS(o,r):t.setAttributeNS(o,r,u)}}function N(t,e){var r=[];return M(t,e,r,0),r}function q(t,e,r){return{index:e,type:t,data:r,domNode:void 0,eventNode:void 0}}function M(t,e,r,n){if(t!==e){var o=t.type,u=e.type;if(o!==u)return void r.push(q("p-redraw",n,e));switch(u){case"thunk":for(var c=t.args,i=e.args,a=c.length,s=t.func===e.func&&a===i.length;s&&a--;)s=c[a]===i[a];if(s)return void(e.node=t.node);e.node=e.thunk();var f=[];return M(t.node,e.node,f,0),void(f.length>0&&r.push(q("p-thunk",n,f)));case"tagger":for(var _=t.tagger,l=e.tagger,d=!1,p=t.node;"tagger"===p.type;)d=!0,"object"!=typeof _?_=[_,p.tagger]:_.push(p.tagger),p=p.node;for(var h=e.node;"tagger"===h.type;)d=!0,"object"!=typeof l?l=[l,h.tagger]:l.push(h.tagger),h=h.node;return d&&_.length!==l.length?void r.push(q("p-redraw",n,e)):((d?j(_,l):_===l)||r.push(q("p-tagger",n,l)),void M(p,h,r,n+1));case"text":if(t.text!==e.text)return void r.push(q("p-text",n,e.text));return;case"node":if(t.tag!==e.tag||t.namespace!==e.namespace)return void r.push(q("p-redraw",n,e));var v=D(t.facts,e.facts);return void 0!==v&&r.push(q("p-facts",n,v)),void R(t,e,r,n);case"keyed-node":if(t.tag!==e.tag||t.namespace!==e.namespace)return void r.push(q("p-redraw",n,e));var v=D(t.facts,e.facts);return void 0!==v&&r.push(q("p-facts",n,v)),void B(t,e,r,n);case"custom":if(t.impl!==e.impl)return void r.push(q("p-redraw",n,e));var v=D(t.facts,e.facts);void 0!==v&&r.push(q("p-facts",n,v));var g=e.impl.diff(t,e);if(g)return void r.push(q("p-custom",n,g));return}}}function j(t,e){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function D(t,e,r){var n;for(var o in t)if(o!==_t&&o!==lt&&o!==dt&&o!==pt)if(o in e){var u=t[o],c=e[o];u===c&&"value"!==o||r===lt&&T(u,c)||(n=n||{},n[o]=c)}else n=n||{},n[o]=void 0===r?"string"==typeof t[o]?"":null:r===_t?"":r===lt||r===dt?void 0:{namespace:t[o].namespace,value:void 0};else{var i=D(t[o],e[o]||{},o);i&&(n=n||{},n[o]=i)}for(var a in e)a in t||(n=n||{},n[a]=e[a]);return n}function R(t,e,r,n){var o=t.children,u=e.children,c=o.length,i=u.length;c>i?r.push(q("p-remove-last",n,c-i)):c<i&&r.push(q("p-append",n,u.slice(c)));for(var a=n,s=c<i?c:i,f=0;f<s;f++){a++;var _=o[f];M(_,u[f],r,a),a+=_.descendantsCount||0}}function B(t,e,r,n){for(var o=[],u={},c=[],i=t.children,a=e.children,s=i.length,f=a.length,_=0,l=0,d=n;_<s&&l<f;){var p=i[_],h=a[l],v=p._0,g=h._0,m=p._1,y=h._1;if(v!==g){var b=_+1<s,w=l+1<f;if(b)var T=i[_+1],k=T._0,S=T._1,E=g===k;if(w)var x=a[l+1],A=x._0,O=x._1,C=v===A;if(b&&w&&C&&E)d++,M(m,O,o,d),P(u,o,v,y,l,c),d+=m.descendantsCount||0,d++,L(u,o,v,S,d),d+=S.descendantsCount||0,_+=2,l+=2;else if(w&&C)d++,P(u,o,g,y,l,c),M(m,O,o,d),d+=m.descendantsCount||0,_+=1,l+=2;else if(b&&E)d++,L(u,o,v,m,d),d+=m.descendantsCount||0,d++,M(S,y,o,d),d+=S.descendantsCount||0,_+=2,l+=1;else{if(!b||!w||k!==A)break;d++,L(u,o,v,m,d),P(u,o,g,y,l,c),d+=m.descendantsCount||0,d++,M(S,O,o,d),d+=S.descendantsCount||0,_+=2,l+=2}}else d++,M(m,y,o,d),d+=m.descendantsCount||0,_++,l++}for(;_<s;){d++;var p=i[_],m=p._1;L(u,o,p._0,m,d),d+=m.descendantsCount||0,_++}for(var I;l<f;){I=I||[];var h=a[l];P(u,o,h._0,h._1,void 0,I),l++}(o.length>0||c.length>0||void 0!==I)&&r.push(q("p-reorder",n,{patches:o,inserts:c,endInserts:I}))}function P(t,e,r,n,o,u){var c=t[r];if(void 0===c)return c={tag:"insert",vnode:n,index:o,data:void 0},u.push({index:o,entry:c}),void(t[r]=c);if("remove"===c.tag){u.push({index:o,entry:c}),c.tag="move";var i=[];return M(c.vnode,n,i,c.index),c.index=o,void(c.data.data={patches:i,entry:c})}P(t,e,r+vt,n,o,u)}function L(t,e,r,n,o){var u=t[r];if(void 0===u){var c=q("p-remove",o,void 0);return e.push(c),void(t[r]={tag:"remove",vnode:n,index:o,data:c})}if("insert"===u.tag){u.tag="move";var i=[];M(n,u.vnode,i,o);var c=q("p-remove",o,{patches:i,entry:u});return void e.push(c)}L(t,e,r+vt,n,o)}function F(t,e,r,n){$(t,e,r,0,0,e.descendantsCount,n)}function $(t,e,r,n,o,u,c){for(var i=r[n],a=i.index;a===o;){var s=i.type;if("p-thunk"===s)F(t,e.node,i.data,c);else if("p-reorder"===s){i.domNode=t,i.eventNode=c;var f=i.data.patches;f.length>0&&$(t,e,f,0,o,u,c)}else if("p-remove"===s){i.domNode=t,i.eventNode=c;var _=i.data;if(void 0!==_){_.entry.data=t;var f=_.patches;f.length>0&&$(t,e,f,0,o,u,c)}}else i.domNode=t,i.eventNode=c;if(n++,!(i=r[n])||(a=i.index)>u)return n}switch(e.type){case"tagger":for(var l=e.node;"tagger"===l.type;)l=l.node;return $(t,l,r,n,o+1,u,t.elm_event_node_ref);case"node":for(var d=e.children,p=t.childNodes,h=0;h<d.length;h++){o++;var v=d[h],g=o+(v.descendantsCount||0);if(o<=a&&a<=g&&(n=$(p[h],v,r,n,o,g,c),!(i=r[n])||(a=i.index)>u))return n;o=g}return n;case"keyed-node":for(var d=e.children,p=t.childNodes,h=0;h<d.length;h++){o++;var v=d[h]._1,g=o+(v.descendantsCount||0);if(o<=a&&a<=g&&(n=$(p[h],v,r,n,o,g,c),!(i=r[n])||(a=i.index)>u))return n;o=g}return n;case"text":case"thunk":throw new Error("should never traverse `text` or `thunk` nodes like this")}}function U(t,e,r,n){return 0===r.length?t:(F(t,e,r,n),V(t,r))}function V(t,e){for(var r=0;r<e.length;r++){var n=e[r],o=n.domNode,u=J(o,n);o===t&&(t=u)}return t}function J(t,e){switch(e.type){case"p-redraw":return z(t,e.data,e.eventNode);case"p-facts":return E(t,e.eventNode,e.data),t;case"p-text":return t.replaceData(0,t.length,e.data),t;case"p-thunk":return V(t,e.data);case"p-tagger":return void 0!==t.elm_event_node_ref?t.elm_event_node_ref.tagger=e.data:t.elm_event_node_ref={tagger:e.data,parent:e.eventNode},t;case"p-remove-last":for(var r=e.data;r--;)t.removeChild(t.lastChild);return t;case"p-append":for(var n=e.data,r=0;r<n.length;r++)t.appendChild(S(n[r],e.eventNode));return t;case"p-remove":var o=e.data;if(void 0===o)return t.parentNode.removeChild(t),t;var u=o.entry;return void 0!==u.index&&t.parentNode.removeChild(t),u.data=V(t,o.patches),t;case"p-reorder":return H(t,e);case"p-custom":var c=e.data;return c.applyPatch(t,c.data);default:throw new Error("Ran into an unknown patch!")}}function z(t,e,r){var n=t.parentNode,o=S(e,r);return void 0===o.elm_event_node_ref&&(o.elm_event_node_ref=t.elm_event_node_ref),n&&o!==t&&n.replaceChild(o,t),o}function H(t,e){var r=e.data,n=W(r.endInserts,e);t=V(t,r.patches);for(var o=r.inserts,u=0;u<o.length;u++){var c=o[u],i=c.entry,a="move"===i.tag?i.data:S(i.vnode,e.eventNode);t.insertBefore(a,t.childNodes[c.index])}return void 0!==n&&t.appendChild(n),t}function W(t,e){if(void 0!==t){for(var r=ht.createDocumentFragment(),n=0;n<t.length;n++){var o=t[n],u=o.entry;r.appendChild("move"===u.tag?u.data:S(u.vnode,e.eventNode))}return r}}function K(t){return e(function(e,r){return function(n){return function(o,u,c){var i=t(n,u);void 0===c?Z(r,o,u,i):rt(s(e,c,r),o,u,i)}}})}function G(t){var r=v.Tuple2(v.Tuple0,Oe);return s(gt,_i,{init:r,view:function(){return t},update:e(function(){return r}),subscriptions:function(){return qe}})()}function X(t,e){return function(t,r,n){if(void 0===r)return t;Y("The `"+e+"` module does not need flags.\nInitialize it with no arguments and you should be all set!",n)}}function Q(t,e){return function(r,n,o){if(void 0===t){var u="Are you trying to sneak a Never value into Elm? Trickster!\nIt looks like "+e+".main is defined with `programWithFlags` but has type `Program Never`.\nUse `program` instead if you do not want flags.";Y(u,o)}var c=s(Gr.run,t,n);if("Ok"===c.ctor)return r(c._0);var u="Trying to initialize the `"+e+"` module with an unexpected flag.\nI tried to convert it to an Elm value, but ran into this problem:\n\n"+c._0;Y(u,o)}}function Y(t,e){throw e&&(e.innerHTML='<div style="padding-left:1em;"><h2 style="font-weight:normal;"><b>Oops!</b> Something went wrong when starting your Elm program.</h2><pre style="padding-left:1em;">'+t+"</pre></div>"),new Error(t)}function Z(t,e,r,n){e.embed=function(e,r){for(;e.lastChild;)e.removeChild(e.lastChild);return Ee.initialize(n(t.init,r,e),t.update,t.subscriptions,tt(e,t.view))},e.fullscreen=function(e){return Ee.initialize(n(t.init,e,document.body),t.update,t.subscriptions,tt(document.body,t.view))}}function tt(t,e){return function(r,n){var o={tagger:r,parent:void 0},u=e(n),c=S(u,o);return t.appendChild(c),et(c,e,u,o)}}function et(t,e,r,n){function o(){switch(c){case"NO_REQUEST":throw new Error("Unexpected draw callback.\nPlease report this to <https://github.com/elm-lang/virtual-dom/issues>.");case"PENDING_REQUEST":yt(o),c="EXTRA_REQUEST";var r=e(u),a=N(i,r);return t=U(t,i,a,n),void(i=r);case"EXTRA_REQUEST":return void(c="NO_REQUEST")}}var u,c="NO_REQUEST",i=r;return function(t){"NO_REQUEST"===c&&yt(o),c="PENDING_REQUEST",u=t}}function rt(t,e,r,n){e.fullscreen=function(e){var o={doc:void 0};return Ee.initialize(n(t.init,e,document.body),t.update(nt(o)),t.subscriptions,ot(r,document.body,o,t.view,t.viewIn,t.viewOut))},e.embed=function(e,o){var u={doc:void 0};return Ee.initialize(n(t.init,o,e),t.update(nt(u)),t.subscriptions,ot(r,e,u,t.view,t.viewIn,t.viewOut))}}function nt(t){return xe.nativeBinding(function(e){var r=t.doc;if(r){var n=r.getElementsByClassName("debugger-sidebar-messages")[0];n&&(n.scrollTop=n.scrollHeight)}e(xe.succeed(v.Tuple0))})}function ot(t,e,r,n,o,u){return function(c,i){var a={tagger:c,parent:void 0},s={tagger:c,parent:void 0},f=n(i),_=S(f,a);e.appendChild(_);var l=et(_,n,f,a),d=o(i)._1,p=S(d,s);e.appendChild(p);var h=it(a,p,o),v=et(p,h,d,s),g=ut(i,u,s,e,t,r);return function(t){l(t),v(t),g(t)}}}function ut(t,e,r,n,o,u){var c,i;return function(t){if(t.isDebuggerOpen){if(!u.doc)return c=e(t),void(i=ct(o,u,c,r));ht=u.doc;var n=e(t),a=N(c,n);i=U(i,c,a,r),c=n,ht=document}}}function ct(t,e,r,n){function o(){e.doc=void 0,i.close()}var u=screen.width-900,c=screen.height-360,i=window.open("","","width=900,height=360,left="+u+",top="+c);ht=i.document,e.doc=ht,ht.title="Debugger - "+t,ht.body.style.margin="0",ht.body.style.padding="0";var a=S(r,n);return ht.body.appendChild(a),ht.addEventListener("keydown",function(t){t.metaKey&&82===t.which&&window.location.reload(),38===t.which&&(n.tagger({ctor:"Up"}),t.preventDefault()),40===t.which&&(n.tagger({ctor:"Down"}),t.preventDefault())}),window.addEventListener("unload",o),i.addEventListener("unload",function(){e.doc=void 0,window.removeEventListener("unload",o),n.tagger({ctor:"Close"})}),ht=document,a}function it(t,e,r){var n,o=ft(e),u="Normal",c=t.tagger,i=function(){};return function(e){var a=r(e),s=a._0.ctor;return t.tagger="Normal"===s?c:i,u!==s&&(at("removeEventListener",o,u),at("addEventListener",o,s),"Normal"===u&&(n=document.body.style.overflow,document.body.style.overflow="hidden"),"Normal"===s&&(document.body.style.overflow=n),u=s),a._1}}function at(t,e,r){switch(r){case"Normal":return;case"Pause":return st(t,e,bt);case"Message":return st(t,e,wt)}}function st(t,e,r){for(var n=0;n<r.length;n++)document.body[t](r[n],e,!0)}function ft(t){return function(e){if("keydown"!==e.type||!e.metaKey||82!==e.which){for(var r="scroll"===e.type||"wheel"===e.type,n=e.target;null!==n;){if("elm-overlay-message-details"===n.className&&r)return;if(n===t&&!r)return;n=n.parentNode}e.stopPropagation(),e.preventDefault()}}}var _t="STYLE",lt="EVENT",dt="ATTR",pt="ATTR_NS",ht="undefined"!=typeof document?document:{},vt="_elmW6BL",gt=K(X),mt=K(Q),yt="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:function(t){setTimeout(t,1e3/60)},bt=["click","dblclick","mousemove","mouseup","mousedown","mouseenter","mouseleave","touchstart","touchend","touchcancel","touchmove","pointerdown","pointerup","pointerover","pointerout","pointerenter","pointerleave","pointermove","pointercancel","dragstart","drag","dragend","dragenter","dragover","dragleave","drop","keyup","keydown","keypress","input","change","focus","blur"],wt=bt.concat("wheel","scroll");return{node:o,text:t,custom:i,map:e(a),on:r(w),style:g,property:e(m),attribute:e(y),attributeNS:r(b),mapProperty:e(k),lazy:e(l),lazy2:r(d),lazy3:n(p),keyedNode:r(c),program:gt,programWithFlags:mt,staticProgram:G}}(),di=function(t){return s(li.programWithFlags,void 0,t)},pi=function(t){return s(li.program,_i,t)},hi=li.keyedNode,vi=(li.lazy3,li.lazy2,li.lazy,{stopPropagation:!1,preventDefault:!1}),gi=li.on,mi=e(function(t,e){return f(gi,t,vi,e)}),yi=li.style,bi=li.mapProperty,wi=(li.attributeNS,li.attribute),Ti=li.property,ki=li.map,Si=li.text,Ei=li.node,xi=(e(function(t,e){return{stopPropagation:t,preventDefault:e}}),di),Ai=pi,Oi=ki,Ci=Si,Ii=Ei,Ni=(Ii("body"),Ii("section"),Ii("nav"),Ii("article"),Ii("aside"),Ii("h1"),Ii("h2")),qi=(Ii("h3"),Ii("h4"),Ii("h5")),Mi=(Ii("h6"),Ii("header"),Ii("footer"),Ii("address"),Ii("main"),Ii("p"),Ii("hr"),Ii("pre"),Ii("blockquote"),Ii("ol"),Ii("ul"),Ii("li")),ji=(Ii("dl"),Ii("dt"),Ii("dd"),Ii("figure"),Ii("figcaption"),Ii("div")),Di=Ii("a"),Ri=(Ii("em"),Ii("strong"),Ii("small"),Ii("s"),Ii("cite"),Ii("q"),Ii("dfn"),Ii("abbr"),Ii("time"),Ii("code"),Ii("var"),Ii("samp"),Ii("kbd"),Ii("sub"),Ii("sup"),Ii("i")),Bi=(Ii("b"),Ii("u"),Ii("mark"),Ii("ruby"),Ii("rt"),Ii("rp"),Ii("bdi"),Ii("bdo"),Ii("span")),Pi=(Ii("br"),Ii("wbr"),Ii("ins"),Ii("del"),Ii("img"),Ii("iframe"),Ii("embed"),Ii("object"),Ii("param"),Ii("video"),Ii("audio"),Ii("source"),Ii("track"),Ii("canvas"),Ii("math"),Ii("table"),Ii("caption"),Ii("colgroup"),Ii("col"),Ii("tbody"),Ii("thead"),Ii("tfoot"),Ii("tr"),Ii("td"),Ii("th"),Ii("form"),Ii("fieldset"),Ii("legend"),Ii("label")),Li=Ii("input"),Fi=(Ii("button"),Ii("select"),Ii("datalist"),Ii("optgroup"),Ii("option"),Ii("textarea")),$i=(Ii("keygen"),Ii("output"),Ii("progress"),Ii("meter"),Ii("details"),Ii("summary"),Ii("menuitem"),Ii("menu"),function(t){return Ii(s(k["++"],"app-",t))}),Ui=$i("drawer"),Vi=$i("drawer-layout"),Ji=$i("header"),zi=$i("header-layout"),Hi=($i("route"),$i("toolbar")),Wi=bi,Ki=wi,Gi=function(t){return s(Ki,"tabIndex",S(t))},Xi=Ti,Qi=e(function(t,e){return s(Xi,t,en(e))}),Yi=function(t){return s(Qi,"className",t)},Zi=function(t){return s(Qi,"id",t)},ta=function(t){return s(Qi,"title",t)},ea=function(t){return s(Qi,"type",t)},ra=function(t){return s(Qi,"value",t)},na=function(t){return s(Qi,"defaultValue",t)},oa=function(t){return s(Qi,"href",t)},ua=function(t){return s(Qi,"target",t)},ca=e(function(t,e){return s(Xi,t,Yr(e))}),ia=function(t){return s(ca,"checked",t)},aa=function(t){return s(ca,"autofocus",t)},sa=function(t){return Yi(s(_e," ",s(vt,Se,s(gt,ke,t))))},fa=yi,_a=e(function(t,e){return s(Xi,t,en(e))}),la=(_a("selected"),_a("path"),_a("label"),_a("icon")),da=(e(function(t,e){return s(Xi,t,Yr(e))}),_a("attrForSelected"),s(pn,"keyCode",mn)),pa=(s(hn,{ctor:"::",_0:"target",_1:{ctor:"::",_0:"checked",_1:{ctor:"[]"}}},yn),s(hn,{ctor:"::",_0:"target",_1:{ctor:"::",_0:"value",_1:{ctor:"[]"}}},bn)),ha=vi,va=gi,ga=mi,ma=function(t){return s(ga,"blur",cn(t))},ya=(v.update(ha,{preventDefault:!0}),function(t){return s(ga,"input",s(_n,t,pa))}),ba=function(t){return s(ga,"mousedown",cn(t))},wa=function(t){return s(ga,"click",cn(t))},Ta=(e(function(t,e){return{stopPropagation:t,preventDefault:e}}),s(hn,{ctor:"::",_0:"detail",_1:{ctor:"::",_0:"value",_1:{ctor:"[]"}}},bn)),ka=e(function(t,e){return s(ga,s(k["++"],t,"-changed"),s(_n,e,Ta))}),Sa=(ka("value"),ka("selected"),function(t){return Ii(s(k["++"],"paper-",t))}),Ea=(Sa("badge"),Sa("behaviors"),Sa("button")),xa=(Sa("card"),Sa("checkbox"),Sa("dialog")),Aa=(Sa("dialog-behavior"),Sa("dialog-scrollable"),Sa("drawer-panel"),Sa("dropdown-menu"),Sa("fab")),Oa=(Sa("header-panel"),Sa("icon-button")),Ca=Sa("input"),Ia=Sa("item"),Na=(Sa("icon-item"),Sa("item-body")),qa=Sa("listbox"),Ma=Sa("material"),ja=(Sa("menu"),Sa("menu-button")),Da=(Sa("progress"),Sa("radio-button"),Sa("radio-group"),Sa("ripple"),Sa("scroll-header-panel"),Sa("slider"),Sa("spinner"),Sa("styles"),Sa("tabs"),Sa("tab"),Sa("toast"),Sa("toggle-button")),Ra=(Sa("toolbar"),Sa("tooltip"),e(function(t,e){return f(or,r(function(e,r,n){return"Just"===n.ctor?n:s(t,e,r)?W({ctor:"_Tuple2",_0:e,_1:r}):z}),z,e)}),e(function(t,e){return f(or,r(function(e,r,n){var o=s(t,e,r);return"Just"===o.ctor?f(Fr,e,o._0,n):n}),Tr,e)}),e(function(t,e){return f(or,r(function(e,r,n){return f(Fr,t(e),r,n)}),Tr,e)}),e(function(t,r){return f(Gc,e(function(t,e){return s(J,e,s(K,function(r){return f(Fr,t,r,e)},s(sr,t,r)))}),Tr,t)})),Ba=(e(function(t,e){return f(Gc,Wr,e,t)}),e(function(t,r){return s(Vr,e(function(e,r){return!s(t,e,r)}),r)}),e(function(t,r){return f(at,e(function(e,r){return f(Fr,t(e),e,r)}),Tr,r)}),e(function(t,r){return f(it,e(function(r,n){return f(Lr,t(r),function(t){return W(s(J,{ctor:"::",_0:r,_1:{ctor:"[]"}},s(K,e(function(t,e){return{ctor:"::",_0:t,_1:e}})(r),t)))},n)}),Tr,r)})),Pa=e(function(t,e){return s(Xi,t,tn(e))}),La=e(function(t,e){return s(Xi,t,Zr(e))}),Fa=(La("volume"),e(function(t,e){return s(Xi,t,Yr(e))})),$a=e(function(t,e){return s(Xi,t,en(e))}),Ua=($a("low"),$a("high"),$a("optimum"),$a("innerHTML"),Wi(g),function(t){return s(ga,"keyup",s(on,function(e){return v.eq(e,13)?cn(t):un(S(e))},da))}),Va=function(t){return f(va,"click",v.update(ha,{stopPropagation:!0,preventDefault:!0}),cn(t))},Ja=function(t){return f(va,"click",v.update(ha,{stopPropagation:!0}),cn(t))},za=(s(hn,{ctor:"::",_0:"target",_1:{ctor:"::",_0:"selectedIndex",_1:{ctor:"[]"}}},s(_n,function(t){return v.eq(t,-1)?z:W(t)},mn)),s(hn,{ctor:"::",_0:"target",_1:{ctor:"::",_0:"valueAsNumber",_1:{ctor:"[]"}}},mn),e(function(t,e){return s(on,function(t){var e=t;return"Ok"===e.ctor?cn(e._0):un(e._0)},s(_n,e,t))})),Ha=s(za,s(hn,{ctor:"::",_0:"target",_1:{ctor:"::",_0:"valueAsNumber",_1:{ctor:"[]"}}},gn),function(t){return E(t)?Bt("Not a number"):Lt(t)}),Wa=s(za,pa,function(t){return Lt(v.eq(t,"")?z:W(t))}),Ka=(s(on,function(t){return"Nothing"===t.ctor?cn(z):s(_n,W,Ha)},Wa),function(){var t=e(function(t,e){var r=e;return"Nothing"===r.ctor?Lt(z):s(Ft,W,t(r._0))});s(za,Wa,t(Qt))}(),s(za,pa,Xt),s(za,pa,Qt),function(){var t=e(function(t,e){var r=e;return"Nothing"===r.ctor?Lt(z):s(Ft,W,t(r._0))});s(za,Wa,t(Xt))}(),function(){var t=e(function(t,e){var r=e;return"Nothing"===r.ctor?Lt(z):s(Ft,W,t(r._0))});s(za,Wa,t(Qt))}(),s(_n,function(t){return s(K,Se,ge(t))},s(pn,"charCode",bn)),function(t){return function(e){return s(J,Qr,s(K,t,e))}}),Ga=r(function(t,e,r){var n=v.cmp(st(r),0)>0,o=v.cmp(t,0)>0&&v.cmp(e,0)>0,u=s(tt,e,r),c=s(Ct,t,r);return o&&n?{ctor:"::",_0:c,_1:f(Ga,t,e,u)}:{ctor:"[]"}}),Xa=(e(function(t,e){return f(Ga,t,t,e)}),r(function(t,e,r){var n=v.cmp(t,0)>0&&v.cmp(e,0)>0,o=s(tt,e,r),u=s(Ct,t,r),c=v.eq(t,st(u));return n&&c?{ctor:"::",_0:u,_1:f(Xa,t,e,o)}:{ctor:"[]"}})),Qa=(e(function(t,e){return f(Xa,t,t,e)}),et(o(function(t,e,r,n,o){return{ctor:"_Tuple5",_0:t,_1:e,_2:r,_3:n,_4:o}})),rt(n(function(t,e,r,n){return{ctor:"_Tuple4",_0:t,_1:e,_2:r,_3:n}})),nt(r(function(t,e,r){return{ctor:"_Tuple3",_0:t,_1:e,_2:r}})),ot(e(function(t,e){return{ctor:"_Tuple2",_0:t,_1:e}})),e(function(t,e){var r={ctor:"_Tuple2",_0:t,_1:e};return"[]"===r._0.ctor||"[]"!==r._1.ctor&&(v.eq(r._0._0,r._1._0)&&s(Qa,r._0._1,r._1._1))})),Ya=(e(function(t,e){return s(Qa,bt(t),bt(e))}),function(t){var e=t;if("[]"===e.ctor)return{ctor:"[]"};var r=e._1,n=e._0;return{ctor:"::",_0:{ctor:"_Tuple2",_0:n,_1:r},_1:s(vt,function(t){var e=t;return{ctor:"_Tuple2",_0:e._0,_1:{ctor:"::",_0:n,_1:e._1}}},Ya(r))}}),Za=e(function(t,e){var r=e;if("::"===r.ctor){var n=r._0;return{ctor:"::",_0:{ctor:"::",_0:t,_1:n},_1:{ctor:"::",_0:n,_1:r._1}}}return{ctor:"[]"}}),ts=s(it,Za,{ctor:"::",_0:{ctor:"[]"},_1:{ctor:"[]"}}),es=(e(function(t,e){return s(ut,Qa(t),ts(e))}),s(it,e(function(t,r){return{ctor:"::",_0:{ctor:"[]"},_1:s(vt,e(function(t,e){return{ctor:"::",_0:t,_1:e}})(t),r)}}),{ctor:"::",_0:{ctor:"[]"},_1:{ctor:"[]"}}),e(function(t,e){var r=e;if("[]"===r.ctor)return{ctor:"[]"};if("[]"===r._1.ctor)return{ctor:"::",_0:{ctor:"::",_0:r._0,_1:{ctor:"[]"}},_1:{ctor:"[]"}};var n=r._0,o=s(es,t,r._1);return"::"===o.ctor?s(t,n,r._1._0)?{ctor:"::",_0:{ctor:"::",_0:n,_1:o._0},_1:o._1}:{ctor:"::",_0:{ctor:"::",_0:n,_1:{ctor:"[]"}},_1:o}:{ctor:"[]"}})),rs=(e(function(t,r){var n=e(function(t,e){var r=e;return"Nothing"===r.ctor?z:"[]"===r._0.ctor?z:v.eq(t,r._0._0)?W(r._0._1):z});return f(at,n,W(r),t)}),e(function(t,e){return{ctor:"_Tuple2",_0:s(Ct,t,e),_1:s(tt,t,e)}})),ns=r(function(t,e,r){for(;;){var n={ctor:"_Tuple2",_0:t,_1:e};{if("_Tuple2"!==n.ctor||"::"!==n._0.ctor||"::"!==n._1.ctor)return bt(r);var o=s(rs,n._0._0,e),u=o._0,c=o._1,i=n._0._1,a=c,f={ctor:"::",_0:u,_1:r};t=i,e=a,r=f}}}),os=(e(function(t,e){return f(ns,t,e,{ctor:"[]"})}),e(function(t,e){var r=t(e);return"Nothing"===r.ctor?{ctor:"[]"}:{ctor:"::",_0:r._0._0,_1:s(os,t,r._0._1)}})),us=e(function(t,e){var r=e;if("[]"===r.ctor)return{ctor:"[]"};if("[]"===r._1.ctor)return{ctor:"::",_0:r._0,_1:{ctor:"[]"}};var n=s(us,t,r._1);return"::"===n.ctor?{ctor:"::",_0:s(t,r._0,n._0),_1:n}:{ctor:"[]"}}),cs=r(function(t,e,r){var n=r;if("[]"===n.ctor)return{ctor:"::",_0:e,_1:{ctor:"[]"}};var o=f(cs,t,e,n._1);return"::"===o.ctor?{ctor:"::",_0:s(t,n._0,o._0),_1:o}:{ctor:"[]"}}),is=(e(function(t,e){var r=e;return"[]"===r.ctor?{ctor:"[]"}:f(wt,t,r._0,r._1)}),r(function(t,r,n){var o=e(function(e,r){var n=r,o=n._0;return{ctor:"_Tuple2",_0:o-1,_1:f(t,o,e,n._1)}});return ke(f(it,o,{ctor:"_Tuple2",_0:st(n)-1,_1:r},n))}),r(function(t,r,n){var o=e(function(e,r){var n=r,o=n._0;return{ctor:"_Tuple2",_0:o+1,_1:f(t,o,e,n._1)}});return ke(f(at,o,{ctor:"_Tuple2",_0:0,_1:r},n))}),e(function(t,r){var n=e(function(e,r){return W(function(){var n=r;return"Nothing"===n.ctor?e:s(t,e,n._0)}())});return f(it,n,z,r)}),e(function(t,r){var n=e(function(e,r){return W(function(){var n=r;return"Nothing"===n.ctor?e:s(t,n._0,e)}())});return f(at,n,z,r)})),as=r(function(t,e,r){t:for(;;){var n={ctor:"_Tuple2",_0:t,_1:e};e:do{if("::"===n._0.ctor){if("::"===n._1.ctor){var o=n._0._1,u=n._1._1,c=s(k["++"],r,{ctor:"::",_0:n._0._0,_1:{ctor:"::",_0:n._1._0,_1:{ctor:"[]"}}});t=o,e=u,r=c;continue t}break e}if("[]"===n._1.ctor)break e;return s(k["++"],r,n._1)}while(!1);return s(k["++"],r,n._0)}}),ss=(e(function(t,e){return f(as,t,e,{ctor:"[]"})}),function(t){var r=t;return"[]"===r.ctor?{ctor:"::",_0:{ctor:"[]"},_1:{ctor:"[]"}}:s(St,function(t){var r=t;return s(vt,e(function(t,e){return{ctor:"::",_0:t,_1:e}})(r._0),ss(r._1))},Ya(r))}),fs=(e(function(t,e){return s(_t,t,ss(e))}),function(t){var r=t;if("[]"===r.ctor)return{ctor:"[]"};var n=r._0,o=e(function(t,e){return{ctor:"::",_0:t,_1:{ctor:"::",_0:{ctor:"::",_0:n,_1:t},_1:e}}});return{ctor:"::",_0:{ctor:"::",_0:n,_1:{ctor:"[]"}},_1:f(it,o,{ctor:"[]"},fs(r._1))}}),_s=function(t){return{ctor:"::",_0:{ctor:"[]"},_1:fs(t)}},ls=(e(function(t,e){return s(_t,t,_s(e))}),e(function(t,e){return s(gt,function(e){return!t(e)},e)}),e(function(t,e){if(v.cmp(t,0)<0)return e;var r=dt(s(tt,t,e)),n=s(Ct,t,e),o=r;return"Nothing"===o.ctor?e:s(Tt,n,o._0)}),e(function(t,r){var n=e(function(e,r){var n=e,o=r,u=s(t,n._0,o._0);return"EQ"===u.ctor?s(j,n._1,o._1):u}),o=s(jt,e(function(t,e){return{ctor:"_Tuple2",_0:e,_1:t}}),r);return s(vt,Se,s(Q,n,o))}),r(function(t,e,r){if(v.cmp(t,0)<0)return z;var n=dt(s(tt,t,r)),o=s(Ct,t,r),u=n;return"Nothing"===u.ctor?z:W(s(Tt,o,{ctor:"::",_0:e,_1:u._0}))}),e(function(t,e){var r=e;if("[]"===r.ctor)return{ctor:"[]"};var n=r._1,o=r._0;return v.eq(t,o)?n:{ctor:"::",_0:o,_1:s(ls,t,n)}})),ds=r(function(t,r,n){return s(jt,e(function(e,n){return t(e)?r(n):n}),n)}),ps=(r(function(t,r,n){return v.cmp(t,0)<0||v.cmp(t,st(n))>-1?z:W(f(ds,e(function(t,e){return v.eq(t,e)})(t),r,n))}),r(function(t,e,r){return s(vt,function(r){return t(r)?e(r):r},r)})),hs=r(function(t,e,r){return f(ps,t,w(e),r)}),vs=function(t){return function(r){return s(vt,Se,s(gt,function(e){return t(e._1)},s(jt,e(function(t,e){return{ctor:"_Tuple2",_0:t,_1:e}}),r)))}},gs=function(t){return function(e){return pt(s(vs,t,e))}},ms=(e(function(t,e){return s(K,function(t){return s(rs,t,e)},s(gs,t,e))}),e(function(t,e){for(;;){var r=e;if("[]"===r.ctor)return z;var n=r._0;if(t(n))return W(n);var o=t,u=r._1;t=o,e=u}})),ys=St,bs=(r(function(t,e,r){return s(ys,function(e){return s(ys,function(r){return{ctor:"::",_0:s(t,e,r),_1:{ctor:"[]"}}},r)},e)}),n(function(t,e,r,n){return s(ys,function(e){return s(ys,function(r){return s(ys,function(n){return{ctor:"::",_0:f(t,e,r,n),_1:{ctor:"[]"}}},n)},r)},e)}),o(function(t,e,r,n,o){return s(ys,function(e){return s(ys,function(r){return s(ys,function(n){return s(ys,function(o){return{ctor:"::",_0:_(t,e,r,n,o),_1:{ctor:"[]"}}},o)},n)},r)},e)}),e(function(t,r){return f(ot,e(function(t,e){return t(e)}),r,t)}),r(function(t,e,r){for(;;){var n=r;if("[]"===n.ctor)return{ctor:"[]"};var o=n._1,u=n._0,c=t(u);{if(!s(Qc,c,e))return{ctor:"::",_0:u,_1:f(bs,t,s(ei,c,e),o)};var i=t,a=e,_=o;t=i,e=a,r=_}}})),ws=e(function(t,e){return f(bs,t,Zc,e)}),Ts=(e(function(t,e){return v.eq(st(e),st(s(ws,t,e)))}),function(t){return f(bs,T,Zc,t)}),ks=e(function(t,e){for(;;){var r=e;if("[]"===r.ctor)return{ctor:"[]"};{if(!t(r._0))return e;var n=t,o=r._1;t=n,e=o}}}),Ss=function(t){return e(function(e,r){for(;;){var n=r;if("[]"===n.ctor)return bt(e);var o=n._0;{if(!t(o))return bt(e);var u={ctor:"::",_0:o,_1:e},c=n._1;e=u,r=c}}})({ctor:"[]"})},Es=e(function(t,e){return{ctor:"_Tuple2",_0:s(Ss,t,e),_1:s(ks,t,e)}}),xs=e(function(t,e){var r=e;if("[]"===r.ctor)return{ctor:"[]"};var n=r._0,o=s(Es,t(n),r._1),u=o._0,c=o._1;return{ctor:"::",_0:{ctor:"::",_0:n,_1:u},_1:s(xs,t,c)}}),As=(xs(e(function(t,e){return v.eq(t,e)})),e(function(t,r){var n=e(function(e,r){var n=r,o=n._1,u=t(e);return v.cmp(u,o)<0?{ctor:"_Tuple2",_0:e,_1:u}:{ctor:"_Tuple2",_0:n._0,_1:o}}),o=r;if("::"===o.ctor){if("[]"===o._1.ctor)return W(o._0);var u=o._0;return W(Se(f(at,n,{ctor:"_Tuple2",_0:u,_1:t(u)},o._1)))}return z}),e(function(t,r){var n=e(function(e,r){var n=r,o=n._1,u=t(e);return v.cmp(u,o)>0?{ctor:"_Tuple2",_0:e,_1:u}:{ctor:"_Tuple2",_0:n._0,_1:o}}),o=r;if("::"===o.ctor){if("[]"===o._1.ctor)return W(o._0);var u=o._0;return W(Se(f(at,n,{ctor:"_Tuple2",_0:u,_1:t(u)},o._1)))}return z}),function(t){var e=t;return"[]"===e.ctor?z:W({ctor:"_Tuple2",_0:e._0,_1:e._1})}),Os=(r(function(t,r,n){for(;;){if(v.eq(t,r))return W(n);{if(!(v.cmp(t,r)>0)){if(v.cmp(t,0)<0)return z;var o=s(rs,t,n),u=o._0,c=o._1,i=s(rs,r-t,c),a=i._0,_=i._1;return f(G,e(function(t,e){var r=t,n=e;return kt({ctor:"::",_0:u,_1:{ctor:"::",_0:{ctor:"::",_0:n._0,_1:r._1},_1:{ctor:"::",_0:{ctor:"::",_0:r._0,_1:n._1},_1:{ctor:"[]"}}}})}),As(a),As(_))}var l=r,d=t,p=n;t=l,r=d,n=p}}}),e(function(t,e){var r=t(e);return"Just"===r.ctor?{ctor:"::",_0:e,_1:s(Os,t,r._0)}:{ctor:"::",_0:e,_1:{ctor:"[]"}}})),Cs=e(function(t,e){return v.cmp(t,0)<0?z:pt(s(tt,t,e))}),Is=Is||{};Is["!!"]=b(Cs);var Ns=(function(){var t=e(function(t,e){return function(r){return s(J,t,s(K,e,r))}});s(it,function(r){return function(n){return W(f(t,{ctor:"[]"},e(function(t,e){return{ctor:"::",_0:t,_1:e}})(r),n))}},z)}(),is(b(w)),e(function(t,e){var r=t;return"Nothing"===r.ctor?e:{ctor:"::",_0:r._0,_1:e}})),qs=(s(it,Ns,{ctor:"[]"}),e(function(t,e){var r=s(K,t,e);return"Just"===r.ctor&&!0===r._0?e:z}),function(t){var r=e(function(e,r){var n=t(e);return"Nothing"===n.ctor?z:s(K,Ge(n._0),r)});s(Qe,r,W(Xe))}(T),function(t){var r=e(function(r,n){var o=t(r);return"Nothing"===o.ctor?z:s(K,e(function(t,e){return{ctor:"::",_0:t,_1:e}})(o._0),n)});s(it,r,W({ctor:"[]"}))}(T),e(function(t,e){return"Nothing"===e.ctor?t:e})),Ms=e(function(t,e){return"Nothing"===e.ctor?t({ctor:"_Tuple0"}):e}),js=(e(function(t,e){return"Nothing"===t.ctor?e({ctor:"_Tuple0"}):t}),e(function(t,e){return"Nothing"===t.ctor?e:t}),G(w),G(b(w)),G(e(function(t,e){return e(t)})),r(function(t,e,r){var n=r;return"Nothing"===n.ctor?t({ctor:"_Tuple0"}):e(n._0)})),Ds=r(function(t,e,r){var n=r;return"Nothing"===n.ctor?t:e(n._0)}),Rs=function(t){return"Nothing"!==t.ctor},Bs=Bs||{};Bs["?"]=e(function(t,e){return s(J,e,t)});var Ps=(e(function(t,e){return"Err"===e.ctor?t:e}),e(function(t,e){return"Err"===e.ctor?t({ctor:"_Tuple0"}):e}),e(function(t,e){return"Err"===t.ctor?e({ctor:"_Tuple0"}):t}),e(function(t,e){return"Err"===t.ctor?e:t}),e(function(t,e){var r={ctor:"_Tuple2",_0:t,_1:e};return"Err"===r._1.ctor?Bt(r._1._0):s(Ft,r._1._0,r._0)}),s(it,$t(e(function(t,e){return{ctor:"::",_0:t,_1:e}})),Lt({ctor:"[]"})),r(function(t,e,r){var n=r;return"Ok"===n.ctor?Lt(e(n._0)):Bt(t(n._0))}),r(function(t,e,r){var n=r;return"Ok"===n.ctor?e(n._0):t(n._0)}),r(function(t,e,r){var n=r;return"Ok"===n.ctor?e(n._0):t}),e(function(t,e){var r=e;return"Ok"===r.ctor?r._0:t(r._0)}),function(){return{and:e(function(t,e){return t&e}),or:e(function(t,e){return t|e}),xor:e(function(t,e){return t^e}),complement:function(t){return~t},shiftLeftBy:e(function(t,e){return e<<t}),shiftRightBy:e(function(t,e){return e>>t}),shiftRightZfBy:e(function(t,e){return e>>>t})}}()),Ls=(Ps.shiftRightZfBy,Ps.shiftRightBy,Ps.shiftLeftBy,Ps.complement,Ps.xor,Ps.or,Ps.and,function(t){return be(t)?z:W(t)}),Fs=(e(function(t,e){return s(J,"",s(K,s(b,se,e),pt(bt(s(Yt,t,e)))))}),e(function(t,r){return s(J,"",s(K,function(n){return f(b,ie,r,s(e(function(t,e){return t+e}),pe(t),n))},pt(bt(s(Yt,t,r)))))}),e(function(t,e){for(;;){var r=e;if("[]"===r.ctor)return t;if("Just"===r._0.ctor)return r._0._0;var n=t,o=r._1;t=n,e=o}})),$s=function(t){return s(Fs,"",t)},Us=(e(function(t,e){return s(_e,"",s(vt,function(t){return $s(function(t){return t.submatches}(t))},f(xu,Iu(1),Ou(s(k["++"],"^(.*?)",Cu(t))),e)))}),e(function(t,e){return s(_e,"",s(vt,function(t){return $s(function(t){return t.submatches}(t))},f(xu,Iu(1),Ou(s(k["++"],Cu(t),"(.*)$")),e)))}),r(function(t,e,r){return v.eq(r,1)?s(k["++"],"1 ",t):s(k["++"],S(r),s(k["++"]," ",e))}),r(function(t,e,r){for(;;){var n=r;if("[]"===n.ctor)return e;if("[]"===n._1.ctor)return s(k["++"],e,s(k["++"],t,n._0));var o=t,u=s(k["++"],e,s(k["++"],", ",n._0)),c=n._1;t=o,e=u,r=c}}),r(function(t,e,r){return v.cmp(pe(r),t)<1?r:s(k["++"],s(se,t-pe(e),r),e)})),Vs=e(function(t,e){return f(Us,t,"...",e)}),Js=(e(function(t,e){return v.eq(pe(t),0)||v.eq(pe(e),0)?0:st(s(Yt,t,e))}),function(t){return ee(_(Eu,Nu,Ou("[_-\\s]+"),w("-"),_(Eu,Nu,Ou("([A-Z])"),function(t){return s(ve,"-",function(t){return t.match}(t))},ne(t))))}),zs=function(t){return ee(_(Eu,Nu,Ou("[_-\\s]+"),w("_"),_(Eu,Nu,Ou("([a-z\\d])([A-Z]+)"),function(t){return s(_e,"_",s(yt,T,function(t){return t.submatches}(t)))},ne(t))))},Hs=(e(function(t,e){if(s(te,t,e)&&s(Zt,t,e)){var r=pe(t);return s(ce,r,s(ie,r,e))}return e}),e(function(t,e){return s(k["++"],t,s(k["++"],e,t))}),function(t){return Ou(s(k["++"],".{1,",s(k["++"],S(t),"}(\\s+|$)|\\S+?(\\s+|$)")))}),Ws=(e(function(t,e){return v.cmp(pe(e),t)<1?e:f(b,ve,"...",_(Eu,Nu,Ou("([\\.,;:\\s])+$"),w(""),s(_e,"",s(vt,function(t){return t.match},f(xu,Iu(1),Hs(t),e)))))}),e(function(t,e){return v.cmp(t,0)<1?{ctor:"[]"}:s(vt,function(t){return t.match},f(xu,Nu,Hs(t),e))})),Ks=r(function(t,e,r){return s(_e,e,s(Ws,t,r))}),Gs=(e(function(t,e){return f(Ks,t,"\n",e)}),r(function(t,e,r){for(;;){if(""===e)return bt(r);var n=t,o=s(ie,t,e),u={ctor:"::",_0:f(fe,0,t,e),_1:r};t=n,e=o,r=u}})),Xs=e(function(t,e){return v.eq(t,0)||v.eq(e,"")?{ctor:"::",_0:e,_1:{ctor:"[]"}}:f(Gs,t,e,{ctor:"[]"})}),Qs=r(function(t,e,r){return s(_e,e,s(Xs,t,r))}),Ys=(e(function(t,e){return f(Qs,t,"\n",e)}),n(function(t,e,r,n){return s(k["++"],f(fe,0,e,n),s(k["++"],t,f(fe,r,pe(n),n)))})),Zs=(r(function(t,e,r){return _(Ys,t,e,e,r)}),r(function(t,e,r){return _(Eu,Nu,Ou(Cu(t)),function(t){return e},r)}),e(function(t,e){return s(J,"",s(K,function(e){var r=e;return s(me,t(r._0),r._1)},ge(e)))}),xe.kill),tf=(xe.sleep,xe.spawn),ef=function(){function t(t){return function(e,r,n){return xe.nativeBinding(function(o){function u(t){var e=s(an,r,t);"Ok"===e.ctor&&xe.rawSpawn(n(e._0))}return t.addEventListener(e,u),function(){t.removeEventListener(e,u)}})}}function n(t,e){return xe.nativeBinding(function(r){y(function(){var n=document.getElementById(t);if(null===n)return void r(xe.fail({ctor:"NotFound",_0:t}));r(xe.succeed(e(n)))})})}function o(t){return n(t,function(t){return t.focus(),v.Tuple0})}function u(t){return n(t,function(t){return t.blur(),v.Tuple0})}function c(t){return n(t,function(t){return t.scrollTop})}function i(t,e){return n(t,function(t){return t.scrollTop=e,v.Tuple0})}function a(t){return n(t,function(t){return t.scrollTop=t.scrollHeight,v.Tuple0})}function f(t){return n(t,function(t){return t.scrollLeft})}function _(t,e){return n(t,function(t){return t.scrollLeft=e,v.Tuple0})}function l(t){return n(t,function(t){return t.scrollLeft=t.scrollWidth,v.Tuple0})}function d(t,e){return n(e,function(e){switch(t.ctor){case"Content":return e.scrollWidth;case"VisibleContent":return e.clientWidth;case"VisibleContentWithBorders":return e.offsetWidth;case"VisibleContentWithBordersAndMargins":var r=e.getBoundingClientRect();return r.right-r.left}})}function p(t,e){return n(e,function(e){switch(t.ctor){case"Content":return e.scrollHeight;case"VisibleContent":return e.clientHeight;case"VisibleContentWithBorders":return e.offsetHeight;case"VisibleContentWithBordersAndMargins":var r=e.getBoundingClientRect();return r.bottom-r.top}})}var h={addEventListener:function(){},removeEventListener:function(){}},g=t("undefined"!=typeof document?document:h),m=t("undefined"!=typeof window?window:h),y="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:function(t){t()};return{onDocument:r(g),onWindow:r(m),focus:o,blur:u,getScrollTop:c,setScrollTop:e(i),getScrollLeft:f,setScrollLeft:e(_),toBottom:a,toRight:l,height:e(p),width:e(d)}}(),rf=(ef.blur,ef.focus,ef.onWindow),nf=ef.onDocument,of=hi,uf=(of("ol"),of("ul"),function(){function t(t){return encodeURIComponent(t)}function r(t){try{return W(decodeURIComponent(t))}catch(t){return z}}function n(t,e){return xe.nativeBinding(function(r){var n=new XMLHttpRequest;o(n,e),n.addEventListener("error",function(){r(xe.fail({ctor:"NetworkError"}))}),n.addEventListener("timeout",function(){r(xe.fail({ctor:"Timeout"}))}),n.addEventListener("load",function(){r(i(n,t.expect.responseToResult))});try{n.open(t.method,t.url,!0)}catch(e){return r(xe.fail({ctor:"BadUrl",_0:t.url}))}return u(n,t),c(n,t.body),function(){n.abort()}})}function o(t,e){"Nothing"!==e.ctor&&t.addEventListener("progress",function(t){t.lengthComputable&&xe.rawSpawn(e._0({bytes:t.loaded,bytesExpected:t.total}))})}function u(t,e){function r(e){t.setRequestHeader(e._0,e._1)}s(vt,r,e.headers),t.responseType=e.expect.responseType,t.withCredentials=e.withCredentials,"Just"===e.timeout.ctor&&(t.timeout=e.timeout._0)}function c(t,e){switch(e.ctor){case"EmptyBody":return void t.send();case"StringBody":return t.setRequestHeader("Content-Type",e._0),void t.send(e._1);case"FormDataBody":return void t.send(e._0)}}function i(t,e){var r=a(t);if(t.status<200||300<=t.status)return r.body=t.responseText,xe.fail({ctor:"BadStatus",_0:r});var n=e(r);return"Ok"===n.ctor?xe.succeed(n._0):(r.body=t.responseText,xe.fail({ctor:"BadPayload",_0:n._0,_1:r}))}function a(t){return{status:{code:t.status,message:t.statusText},headers:_(t.getAllResponseHeaders()),url:t.responseURL,body:t.response}}function _(t){var e=Tr;if(!t)return e;for(var r=t.split("\r\n"),n=r.length;n--;){var o=r[n],u=o.indexOf(": ");if(u>0){var c=o.substring(0,u),i=o.substring(u+2);e=f(Lr,c,function(t){return W("Just"===t.ctor?i+", "+t._0:i)},e)}}return e}function l(t){return{responseType:"text",responseToResult:t}}function d(t,e){return{responseType:e.responseType,responseToResult:function(r){var n=e.responseToResult(r);return s(Ft,t,n)}}}function p(t){for(var e=new FormData;"[]"!==t.ctor;){var r=t._0;e.append(r._0,r._1),t=t._1}return{ctor:"FormDataBody",_0:e}}return{toTask:e(n),expectStringResponse:l,mapExpect:e(d),multipart:p,encodeUri:t,decodeUri:r}}()),cf=(e(function(t,e){return v.update(e,{expect:s(uf.mapExpect,t,e.expect)})}),c(function(t,e,r,n,o,u,c){return{method:t,headers:e,url:r,body:n,expect:o,timeout:u,withCredentials:c}}),function(t){return{ctor:"Request",_0:t}}),af=(e(function(t,e){return{ctor:"StringBody",_0:t,_1:e}}),{ctor:"EmptyBody"}),sf=(e(function(t,e){return{ctor:"Header",_0:t,_1:e}}),uf.decodeUri),ff=uf.encodeUri,_f=uf.expectStringResponse,lf=function(t){return _f(function(e){return s(sn,t,e.body)})},df=(_f(function(t){return Lt(t.body)}),uf.multipart,af),pf=cf,hf=(r(function(t,e,r){return pf({method:"POST",headers:{ctor:"[]"},url:t,body:e,expect:lf(r),timeout:z,withCredentials:!1})}),e(function(t,e){return pf({method:"GET",headers:{ctor:"[]"},url:t,body:df,expect:lf(e),timeout:z,withCredentials:!1})}),function(t){var e=t;return s(uf.toTask,e._0,z)}),vf=(e(function(t,e){return s(Yn,t,hf(e))}),n(function(t,e,r,n){return{url:t,status:e,headers:r,body:n}}),e(function(t,e){return{ctor:"BadPayload",_0:t,_1:e}}),e(function(t,e){return{ctor:"StringPart",_0:t,_1:e}}),r(function(t,e,r){var n=e,o=s(sr,n.category,r);if("Nothing"===o.ctor)return Un(r);var u=function(e){return s(De,t,e(n.keyCode))};return s(Ln,function(t){return Un(r)},zn(s(vt,u,o._0.taggers)))})),gf=gf||{};gf["&>"]=e(function(t,e){return s(Ln,function(t){return e},t)});var mf=Un(Tr),yf=e(function(t,e){var r=e;return W("Nothing"===r.ctor?{ctor:"::",_0:t,_1:{ctor:"[]"}}:{ctor:"::",_0:t,_1:r._0})}),bf=e(function(t,e){for(;;){var r=t;if("[]"===r.ctor)return e;var n=r._1,o=f(Lr,r._0._0,yf(r._0._1),e);t=n,e=o}}),wf=function(t){return s(bf,t,Tr)},Tf=s(pn,"keyCode",mn),kf=Ee.leaf("Keyboard"),Sf=e(function(t,e){return{taggers:t,pid:e}}),Ef=e(function(t,e){return{category:t,keyCode:e}}),xf=r(function(t,e,o){var u=r(function(e,r,n){return s(Ln,function(n){return s(Ln,function(t){return Un(f(Fr,e,s(Sf,r,t),n))},tf(f(nf,e,Tf,function(r){return s(je,t,s(Ef,e,r))})))},n)}),c=n(function(t,e,r,n){return s(Vn,s(Fr,t,s(Sf,r,e.pid)),n)}),i=r(function(t,e,r){var n=e;return s(gf["&>"],Zs(n.pid),r)});return d(ur,i,c,u,o,wf(e),Un(Tr))}),Af=e(function(t,e){return{ctor:"MySub",_0:t,_1:e}}),Of=function(t){return kf(s(Af,"keydown",t))},Cf=function(t){return kf(s(Af,"keyup",t))},If=e(function(t,e){var r=e;return s(Af,r._0,function(e){return t(r._1(e))})});Ee.effectManagers.Keyboard={pkg:"elm-lang/keyboard",init:mf,onEffects:xf,onSelfMsg:vf,tag:"sub",subMap:If};var Nf=function(){function t(t){var e,r=!1;return function(n){return r||(e=t(n),r=!0),e}}return{memoize:t}}(),qf=function(t){return t._0({ctor:"_Tuple0"})},Mf=function(t){return{ctor:"Lazy",_0:t}},jf=function(t){return Mf(Nf.memoize(t))},Df=(e(function(t,e){return jf(function(r){return t(qf(e))})}),r(function(t,e,r){return jf(function(n){return s(t,qf(e),qf(r))})}),n(function(t,e,r,n){return jf(function(o){return f(t,qf(e),qf(r),qf(n))})}),o(function(t,e,r,n,o){return jf(function(u){return _(t,qf(e),qf(r),qf(n),qf(o))})}),u(function(t,e,r,n,o,u){return jf(function(c){return l(t,qf(e),qf(r),qf(n),qf(o),qf(u))})}),e(function(t,e){return jf(function(r){return s(qf,t,qf(e))})}),e(function(t,e){return jf(function(r){return qf(t(qf(e)))})}),function(){function t(t){return xe.nativeBinding(function(e){0!==t&&history.go(t),e(xe.succeed(v.Tuple0))})}function e(t){return xe.nativeBinding(function(e){history.pushState({},"",t),e(xe.succeed(u()))})}function r(t){return xe.nativeBinding(function(e){history.replaceState({},"",t),e(xe.succeed(u()))})}function n(t){return xe.nativeBinding(function(e){document.location.reload(t),e(xe.succeed(v.Tuple0))})}function o(t){return xe.nativeBinding(function(e){try{window.location=t}catch(t){document.location.reload(!1)}e(xe.succeed(v.Tuple0))})}function u(){var t=document.location;return{href:t.href,host:t.host,hostname:t.hostname,protocol:t.protocol,origin:t.origin,port_:t.port,pathname:t.pathname,search:t.search,hash:t.hash,username:t.username,password:t.password}}function c(){return-1!==window.navigator.userAgent.indexOf("Trident")}return{go:t,setLocation:o,reloadPage:n,pushState:e,replaceState:r,getLocation:u,isInternetExplorer11:c}}()),Rf=Df.replaceState,Bf=Df.pushState,Pf=Df.go,Lf=Df.reloadPage,Ff=Df.setLocation,$f=$f||{};$f["&>"]=e(function(t,e){return s(Ln,function(t){return e},t)});var Uf=r(function(t,e,r){var n=function(e){return s(De,t,e._0(r))};return s($f["&>"],zn(s(vt,n,e)),Un({ctor:"_Tuple0"}))}),Vf=r(function(t,e,r){var n=r;switch(n.ctor){case"Jump":return Pf(n._0);case"New":return s(Ln,s(Uf,t,e),Bf(n._0));case"Modify":return s(Ln,s(Uf,t,e),Rf(n._0));case"Visit":return Ff(n._0);default:return Lf(n._0)}}),Jf=function(t){var e=t;return"Normal"===e.ctor?Zs(e._0):s($f["&>"],Zs(e._0),Zs(e._1))},zf=r(function(t,e,r){return s($f["&>"],f(Uf,t,r.subs,e),Un(r))}),Hf=Ee.leaf("Navigation"),Wf=Ee.leaf("Navigation"),Kf=e(function(t,e){return{subs:t,popWatcher:e}}),Gf=Un(s(Kf,{ctor:"[]"},z)),Xf=function(t){return{ctor:"Reload",_0:t}},Qf=(Wf(Xf(!1)),Wf(Xf(!0)),function(t){return{ctor:"Visit",_0:t}}),Yf=function(t){return{ctor:"Modify",_0:t}},Zf=function(t){return Wf(Yf(t))},t_=function(t){return{ctor:"New",_0:t}},e_=function(t){return Wf(t_(t))},r_=function(t){return{ctor:"Jump",_0:t}},n_=e(function(t,e){var r=e;switch(r.ctor){case"Jump":return r_(r._0);case"New":return t_(r._0);case"Modify":return Yf(r._0);case"Visit":return Qf(r._0);default:return Xf(r._0)}}),o_=function(t){return{ctor:"Monitor",_0:t}},u_=(e(function(t,e){var r=e.init(Df.getLocation({ctor:"_Tuple0"})),n=function(r){return Ne({ctor:"::",_0:Hf(o_(t)),_1:{ctor:"::",_0:e.subscriptions(r),_1:{ctor:"[]"}}})};return Ai({init:r,view:e.view,update:e.update,subscriptions:n})}),e(function(t,e){var r=function(t){return s(e.init,t,Df.getLocation({ctor:"_Tuple0"}))},n=function(r){return Ne({ctor:"::",_0:Hf(o_(t)),_1:{ctor:"::",_0:e.subscriptions(r),_1:{ctor:"[]"}}})};return xi({init:r,view:e.view,update:e.update,subscriptions:n})})),c_=e(function(t,e){var r=e;return o_(function(e){return t(r._0(e))})}),i_=e(function(t,e){return{ctor:"InternetExplorer",_0:t,_1:e}}),a_=function(t){return{ctor:"Normal",_0:t}},s_=function(t){var e=function(e){return s(je,t,Df.getLocation({ctor:"_Tuple0"}))};return Df.isInternetExplorer11({ctor:"_Tuple0"})?f(Jn,i_,tf(f(rf,"popstate",nn,e)),tf(f(rf,"hashchange",nn,e))):s(Vn,a_,tf(f(rf,"popstate",nn,e)))},f_=n(function(t,e,r,n){var o=n,u=o.popWatcher,c=function(){var e={ctor:"_Tuple2",_0:r,_1:u};t:do{if("[]"===e._0.ctor){if("Just"===e._1.ctor)return s($f["&>"],Jf(e._1._0),Un(s(Kf,r,z)));break t}if("Nothing"===e._1.ctor)return s(Vn,function(t){return s(Kf,r,W(t))},s_(t));break t}while(!1);return Un(s(Kf,r,u))}();return s($f["&>"],zn(s(vt,s(Vf,t,r),e)),c)});Ee.effectManagers.Navigation={pkg:"elm-lang/navigation",init:Gf,onEffects:f_,onSelfMsg:zf,tag:"fx",cmdMap:n_,subMap:c_};var __=s(Ti,"namespace",en("http://www.w3.org/2000/svg")),l_=r(function(t,e,r){return f(Ei,t,{ctor:"::",_0:__,_1:e},r)}),d_=(l_("svg"),l_("foreignObject"),l_("animate"),l_("animateColor"),l_("animateMotion"),l_("animateTransform"),l_("mpath"),l_("set"),l_("a"),l_("defs"),l_("g"),l_("marker"),l_("mask"),l_("pattern"),l_("switch"),l_("symbol"),l_("desc"),l_("metadata"),l_("title"),l_("feBlend"),l_("feColorMatrix"),l_("feComponentTransfer"),l_("feComposite"),l_("feConvolveMatrix"),l_("feDiffuseLighting"),l_("feDisplacementMap"),l_("feFlood"),l_("feFuncA"),l_("feFuncB"),l_("feFuncG"),l_("feFuncR"),l_("feGaussianBlur"),l_("feImage"),l_("feMerge"),l_("feMergeNode"),l_("feMorphology"),l_("feOffset"),l_("feSpecularLighting"),l_("feTile"),l_("feTurbulence"),l_("font"),l_("linearGradient"),l_("radialGradient"),l_("stop"),l_("circle"),l_("ellipse"),l_("image"),l_("line"),l_("path"),l_("polygon"),l_("polyline"),l_("rect"),l_("use"),l_("feDistantLight"),l_("fePointLight"),l_("feSpotLight"),l_("altGlyph"),l_("altGlyphDef"),l_("altGlyphItem"),l_("glyph"),l_("glyphRef"),l_("textPath"),l_("text"),l_("tref"),l_("tspan"),l_("clipPath"),l_("colorProfile"),l_("cursor"),l_("filter"),l_("script"),l_("style"),l_("view"),mi),p_=e(function(t,e){return s(d_,t,cn(e))}),h_=(p_("begin"),p_("end"),p_("repeat"),p_("abort"),p_("error"),p_("resize"),p_("scroll"),p_("load"),p_("unload"),p_("zoom"),p_("activate"),p_("click"),p_("focusin")),v_=(p_("focusout"),p_("mousedown"),p_("mousemove"),p_("mouseout"),p_("mouseover"),p_("mouseup"),{date:{months:{jan:"January",feb:"February",mar:"March",apr:"April",may:"May",jun:"June",jul:"July",aug:"August",sep:"September",oct:"October",nov:"November",dec:"December"},monthsAbbrev:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"},wdays:{mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday",sun:"Sunday"},wdaysAbbrev:{mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat",sun:"Sun"},defaultFormat:z},time:{am:"am",pm:"pm",defaultFormat:z},timeZones:z,defaultFormat:z}),g_=(n(function(t,e,r,n){return{date:t,time:e,timeZones:r,defaultFormat:n}}),c(function(t,e,r,n,o,u,c){return{mon:t,tue:e,wed:r,thu:n,fri:o,sat:u,sun:c}}),function(t){return function(e){return f(ue,2,t,S(e))}}),m_=function(t){return v.eq(t,0)?12:t},y_=function(t){return s(k["%"],t,12)},b_=e(function(t,e){switch(e.ctor){case"Mon":return t.mon;case"Tue":return t.tue;case"Wed":return t.wed;case"Thu":return t.thu;case"Fri":return t.fri;case"Sat":return t.sat;default:return t.sun}}),w_=e(function(t,e){switch(e.ctor){case"Jan":return t.jan;case"Feb":return t.feb;case"Mar":return t.mar;case"Apr":return t.apr;case"May":return t.may;case"Jun":return t.jun;case"Jul":return t.jul;case"Aug":return t.aug;case"Sep":return t.sep;case"Oct":return t.oct;case"Nov":return t.nov;default:return t.dec}}),T_=function(t){switch(t.ctor){case"Jan":return 1;case"Feb":return 2;case"Mar":return 3;case"Apr":return 4;case"May":return 5;case"Jun":return 6;case"Jul":return 7;case"Aug":return 8;case"Sep":return 9;case"Oct":return 10;case"Nov":return 11;default:return 12}},k_=r(function(t,e,r){switch(function(){var t=r.submatches;return"::"===t.ctor&&"Just"===t._0.ctor&&"[]"===t._1.ctor?t._0._0:" "}()){case"%":return"%";case"Y":return S(wo(e));case"y":return s(ae,2,S(wo(e)));case"m":return f(ue,2,v.chr("0"),S(T_(bo(e))));case"B":return s(w_,t.date.months,bo(e));case"b":return s(w_,t.date.monthsAbbrev,bo(e));case"d":return s(g_,v.chr("0"),yo(e));case"e":return s(g_,v.chr(" "),yo(e));case"a":return s(b_,t.date.wdaysAbbrev,mo(e));case"A":return s(b_,t.date.wdays,mo(e));case"H":return s(g_,v.chr("0"),go(e));case"k":return s(g_,v.chr(" "),go(e));case"I":return s(g_,v.chr("0"),m_(y_(go(e))));case"l":return s(g_,v.chr(" "),m_(y_(go(e))));case"p":return re(v.cmp(go(e),12)<0?t.time.am:t.time.pm);case"P":return v.cmp(go(e),12)<0?t.time.am:t.time.pm;case"M":return s(g_,v.chr("0"),vo(e));case"S":return s(g_,v.chr("0"),ho(e));default:return""}}),S_=Ou("%(%|Y|y|m|B|b|d|e|a|A|H|k|I|l|p|P|M|S)"),E_=r(function(t,e,r){return _(Eu,Nu,S_,s(k_,t,r),e)}),x_=e(function(t,e){return f(E_,v_,t,e)}),A_=(x_("%Y-%m-%dT%H:%M:%SZ"),e(function(t,e){return s(x_,t,To(e))})),O_=e(function(t,e){var r=65535&e,n=65535&e>>>16,o=65535&t;return 0|o*r+((65535&t>>>16)*r+o*n<<16>>>0)}),C_=n(function(t,e,r,n){for(;;){if(v.cmp(e,1)<0)return{ctor:"_Tuple2",_0:t,_1:n};var o=r(n),u=o._0,c=o._1,i={ctor:"::",_0:u,_1:t},a=e-1,s=r,f=c;t=i,e=a,r=s,n=f}}),I_=function(t){var e=t,r=e._0,n=277803737*(r^r>>>4+(r>>>28));return(n>>>22^n)>>>0},N_=e(function(t,e){return t._0(e)}),q_=r(function(t,e,r){for(;;){var n=s(N_,t,r),o=n._0,u=n._1;if(e(o))return{ctor:"_Tuple2",_0:o,_1:u};var c=t,i=e,a=u;t=c,e=i,r=a}}),M_=function(t){return{ctor:"Generator",_0:t}},j_=e(function(t,e){var r=e;return M_(function(e){return _(C_,{ctor:"[]"},t,r._0,e)})}),D_=function(t){return M_(function(e){return{ctor:"_Tuple2",_0:t,_1:e}})},R_=e(function(t,e){var r=e;return M_(function(e){var n=r._0(e),o=n._0,u=n._1;return{ctor:"_Tuple2",_0:t(o),_1:u}})}),B_=r(function(t,e,r){var n=e,o=r;return M_(function(e){var r=n._0(e),u=r._0,c=r._1,i=o._0(c),a=i._0,f=i._1;return{ctor:"_Tuple2",_0:s(t,u,a),_1:f}})}),P_=(e(function(t,r){return f(B_,e(function(t,e){return{ctor:"_Tuple2",_0:t,_1:e}}),t,r)}),B_(e(function(t,e){return e(t)})),n(function(t,e,r,n){var o=e,u=r,c=n;return M_(function(e){var r=o._0(e),n=r._0,i=r._1,a=u._0(i),s=a._0,_=a._1,l=c._0(_),d=l._0,p=l._1;return{ctor:"_Tuple2",_0:f(t,n,s,d),_1:p}})})),L_=(o(function(t,e,r,n,o){var u=e,c=r,i=n,a=o;return M_(function(e){var r=u._0(e),n=r._0,o=r._1,s=c._0(o),f=s._0,l=s._1,d=i._0(l),p=d._0,h=d._1,v=a._0(h),g=v._0,m=v._1;return{ctor:"_Tuple2",_0:_(t,n,f,p,g),_1:m}})}),u(function(t,e,r,n,o,u){var c=e,i=r,a=n,s=o,f=u;return M_(function(e){var r=c._0(e),n=r._0,o=r._1,u=i._0(o),_=u._0,d=u._1,p=a._0(d),h=p._0,v=p._1,g=s._0(v),m=g._0,y=g._1,b=f._0(y),w=b._0,T=b._1;return{ctor:"_Tuple2",_0:l(t,n,_,h,m,w),_1:T}})}),e(function(t,e){var r=e;return M_(function(e){var n=r._0(e),o=n._0,u=n._1;return(0,t(o)._0)(u)})})),F_=(e(function(t,e){return s(L_,function(t){return t?s(R_,W,e):D_(z)},t)}),e(function(t,e){return M_(s(q_,e,t))}),e(function(t,e){return{ctor:"Seed",_0:t,_1:e}})),$_=function(t){var e=t,r=e._1;return s(F_,1664525*e._0+r>>>0,r)},U_=function(t){var e=$_(s(F_,0,1013904223)),r=e._0,n=e._1;return $_(s(F_,r+t>>>0,n))},V_=(e(function(t,e){return s(Qn,t,s(Vn,function(t){return Se(s(N_,e,U_(I(t))))},oo))}),e(function(t,e){return M_(function(r){var n=v.cmp(t,e)<0?{ctor:"_Tuple2",_0:t,_1:e}:{ctor:"_Tuple2",_0:e,_1:t},o=n._0,u=n._1,c=u-o+1;if(v.eq(c-1&c,0))return{ctor:"_Tuple2",_0:((c-1&I_(r))>>>0)+o,_1:$_(r)};var i=s(P,0-c>>>0,c)>>>0;return function(t){for(;;){var e=$_(t),r=I_(t);if(!(v.cmp(r,i)<0))return{ctor:"_Tuple2",_0:s(P,r,c)+o,_1:e};t=e}}(r)})})),J_=s(R_,e(function(t,e){return v.eq(t,e)})(1),s(V_,0,1)),z_=(e(function(t,e){return s(R_,function(r){return r?t:e},J_)}),function(){var t=e(function(t,e){for(;;){var r=e;if("[]"===r.ctor)return z;if(v.eq(t,0))return W(r._0);var n=t-1,o=r._1;t=n,e=o}})}(),e(function(t,e){return M_(function(r){var n=R(e-t),o=I_(r),u=1*x(67108863&o),c=$_(r),i=I_(c);return{ctor:"_Tuple2",_0:(134217728*u+1*x(134217727&i))/9007199254740992*n+t,_1:$_(c)}})})),H_=function(t){var r=e(function(t,e){for(;;){var r=t;{if("::"!==r.ctor||"_Tuple2"!==r._0.ctor)return v.crashCase("Random.Pcg",{start:{line:677,column:13},end:{line:685,column:77}},r)("Empty list passed to Random.Pcg.frequency!");var n=r._0._0;if(v.cmp(e,n)<1)return r._0._1;var o=r._1,u=e-n;t=o,e=u}}}),n=ft(s(vt,function(t){return R(Se(t))},t));return s(L_,r(t),s(z_,0,n))},W_=M_(function(t){var e=s(V_,0,4294967295),n=s(N_,_(P_,r(function(t,e,r){return{ctor:"_Tuple3",_0:t,_1:e,_2:r}}),e,e,e),t),o=n._0._0,u=n._0._1,c=n._0._2;return{ctor:"_Tuple2",_0:n._1,_1:$_(s(F_,o,1|u^c))}}),K_=(e(function(t,e){var r=e,n=r._1,o=u(function(e,r,n,o,u,c){t:for(;;){var i=u>>>1,a=s(O_,n,n),f=s(O_,n+1,o),_=v.eq(1&u,1)?{ctor:"_Tuple2",_0:s(O_,e,n),_1:s(O_,r,n)+o>>>0}:{ctor:"_Tuple2",_0:e,_1:r},l=_._0,d=_._1;if(v.eq(i,0)){if(v.cmp(t,0)<0&&c){var p=l,h=d,g=a,m=f;e=p,r=h,n=g,o=m,u=-1,c=!1;continue t}return{ctor:"_Tuple2",_0:l,_1:d}}var y=l,b=d,w=a,T=f,k=i,S=c;e=y,r=b,n=w,o=T,u=k,c=S}}),c=d(o,1,0,1664525,n,t,!0),i=c._0,a=c._1;return s(F_,s(O_,i,r._0)+a>>>0,n)}),ln({ctor:"::",_0:f(fn,F_,s(dn,0,mn),s(dn,1,mn)),_1:{ctor:"::",_0:s(_n,U_,mn),_1:{ctor:"[]"}}}),e(function(t,e){return{x:t,y:e}}),e(function(t,r){return s(gt,e(function(t,e){return!v.eq(t,e)})(t),r)})),G_=e(function(t,r){return s(e(function(t,e){return{ctor:"::",_0:t,_1:e}}),t,s(K_,t,r))}),X_=function(t){return{ctor:"Up",_0:t}},Q_=function(t){return{ctor:"Down",_0:t}},Y_=Ne({ctor:"::",_0:Of(Q_),_1:{ctor:"::",_0:Cf(X_),_1:{ctor:"[]"}}}),Z_=function(t){return{ctor:"State",_0:t}},tl=Z_({ctor:"[]"}),el=e(function(t,e){var r=e,n=r._0,o=t;return Z_("Down"===o.ctor?s(G_,o._0,n):s(K_,o._0,n))}),rl=function(t){return{ctor:"KeyUp",_0:t}},nl=function(t){return{ctor:"KeyDown",_0:t}},ol={ctor:"Other"},ul={ctor:"Altgr"},cl={ctor:"Meta"},il={ctor:"Quote"},al={ctor:"CloseBracket"},sl={ctor:"BackSlash"},fl={ctor:"OpenBracket"},_l={ctor:"BackQuote"},ll={ctor:"Slash"},dl={ctor:"Period"},pl={ctor:"Minus"},hl={ctor:"Comma"},vl={ctor:"VolumeUp"},gl={ctor:"VolumeDown"},ml={ctor:"VolumeMute"},yl={ctor:"Tilde"},bl={ctor:"CloseCurlyBracket"},wl={ctor:"OpenCurlyBracket"},Tl={ctor:"HyphenMinus"},kl={ctor:"Pipe"},Sl={ctor:"Plus"},El={ctor:"Asterisk"},xl={ctor:"CloseParen"},Al={ctor:"OpenParen"},Ol={ctor:"Underscore"},Cl={ctor:"Ampersand"},Il={ctor:"Percent"},Nl={ctor:"Dollar"},ql={ctor:"Hash"},Ml={ctor:"DoubleQuote"},jl={ctor:"Exclamation"},Dl={ctor:"Circumflex"},Rl={ctor:"ScrollLock"},Bl={ctor:"NumLock"},Pl={ctor:"F24"},Ll={ctor:"F23"},Fl={ctor:"F22"},$l={ctor:"F21"},Ul={ctor:"F20"},Vl={ctor:"F19"},Jl={ctor:"F18"},zl={ctor:"F17"},Hl={ctor:"F16"},Wl={ctor:"F15"},Kl={ctor:"F14"},Gl={ctor:"F13"},Xl={ctor:"F12"},Ql={ctor:"F11"},Yl={ctor:"F10"},Zl={ctor:"F9"},td={ctor:"F8"},ed={ctor:"F7"},rd={ctor:"F6"},nd={ctor:"F5"},od={ctor:"F4"},ud={ctor:"F3"},cd={ctor:"F2"},id={ctor:"F1"},ad={ctor:"Divide"},sd={ctor:"Decimal"},fd={ctor:"Subtract"},_d={ctor:"Separator"},ld={ctor:"Add"},dd={ctor:"Multiply"},pd={ctor:"Numpad9"},hd={ctor:"Numpad8"},vd={ctor:"Numpad7"},gd={ctor:"Numpad6"},md={ctor:"Numpad5"},yd={ctor:"Numpad4"},bd={ctor:"Numpad3"},wd={ctor:"Numpad2"},Td={ctor:"Numpad1"},kd={ctor:"Numpad0"},Sd={ctor:"Sleep"},Ed={ctor:"ContextMenu"},xd={ctor:"Super"},Ad={ctor:"CharZ"},Od={ctor:"CharY"},Cd={ctor:"CharX"},Id={ctor:"CharW"},Nd={ctor:"CharV"},qd={ctor:"CharU"},Md={ctor:"CharT"},jd={ctor:"CharS"},Dd={ctor:"CharR"},Rd={ctor:"CharQ"},Bd={ctor:"CharP"},Pd={ctor:"CharO"},Ld={ctor:"CharN"},Fd={ctor:"CharM"},$d={ctor:"CharL"},Ud={ctor:"CharK"},Vd={ctor:"CharJ"},Jd={ctor:"CharI"},zd={ctor:"CharH"},Hd={ctor:"CharG"},Wd={ctor:"CharF"},Kd={ctor:"CharE"},Gd={ctor:"CharD"},Xd={ctor:"CharC"},Qd={ctor:"CharB"},Yd={ctor:"CharA"},Zd={ctor:"At"},tp={ctor:"QuestionMark"},ep={ctor:"GreaterThan"},rp={ctor:"Equals"},np={ctor:"LessThan"},op={ctor:"Semicolon"},up={ctor:"Colon"},cp={ctor:"Number9"},ip={ctor:"Number8"},ap={ctor:"Number7"},sp={ctor:"Number6"},fp={ctor:"Number5"},_p={ctor:"Number4"},lp={ctor:"Number3"},dp={ctor:"Number2"},pp={ctor:"Number1"},hp={ctor:"Number0"},vp={ctor:"Delete"},gp={ctor:"Insert"},mp={ctor:"PrintScreen"},yp={ctor:"Execute"},bp={ctor:"Print"},wp={ctor:"Select"},Tp={ctor:"ArrowDown"},kp={ctor:"ArrowRight"},Sp={ctor:"ArrowUp"},Ep={ctor:"ArrowLeft"},xp={ctor:"Home"},Ap={ctor:"End"},Op={ctor:"PageDown"},Cp={ctor:"PageUp"},Ip={ctor:"Space"},Np={ctor:"ModeChange"},qp={ctor:"Accept"},Mp={ctor:"NonConvert"},jp={ctor:"Convert"},Dp={ctor:"Escape"},Rp={ctor:"CapsLock"},Bp={ctor:"Pause"},Pp={ctor:"Alt"},Lp={ctor:"Control"},Fp={ctor:"Shift"},$p={ctor:"Enter"},Up={ctor:"Clear"},Vp={ctor:"Tab"},Jp={ctor:"BackSpace"},zp={ctor:"Help"},Hp={ctor:"Cancel"},Wp={ctor:"::",_0:{ctor:"_Tuple2",_0:3,_1:Hp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:6,_1:zp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:8,_1:Jp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:9,_1:Vp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:12,_1:Up},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:13,_1:$p},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:16,_1:Fp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:17,_1:Lp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:18,_1:Pp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:19,_1:Bp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:20,_1:Rp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:27,_1:Dp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:28,_1:jp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:29,_1:Mp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:30,_1:qp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:31,_1:Np},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:32,_1:Ip},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:33,_1:Cp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:34,_1:Op},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:35,_1:Ap},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:36,_1:xp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:37,_1:Ep},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:38,_1:Sp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:39,_1:kp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:40,_1:Tp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:41,_1:wp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:42,_1:bp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:43,_1:yp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:44,_1:mp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:45,_1:gp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:46,_1:vp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:48,_1:hp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:49,_1:pp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:50,_1:dp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:51,_1:lp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:52,_1:_p},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:53,_1:fp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:54,_1:sp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:55,_1:ap},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:56,_1:ip},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:57,_1:cp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:58,_1:up},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:59,_1:op},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:60,_1:np},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:61,_1:rp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:62,_1:ep},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:63,_1:tp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:64,_1:Zd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:65,_1:Yd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:66,_1:Qd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:67,_1:Xd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:68,_1:Gd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:69,_1:Kd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:70,_1:Wd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:71,_1:Hd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:72,_1:zd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:73,_1:Jd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:74,_1:Vd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:75,_1:Ud},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:76,_1:$d},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:77,_1:Fd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:78,_1:Ld},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:79,_1:Pd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:80,_1:Bd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:81,_1:Rd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:82,_1:Dd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:83,_1:jd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:84,_1:Md},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:85,_1:qd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:86,_1:Nd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:87,_1:Id},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:88,_1:Cd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:89,_1:Od},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:90,_1:Ad},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:91,_1:xd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:93,_1:Ed},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:95,_1:Sd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:96,_1:kd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:97,_1:Td},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:98,_1:wd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:99,_1:bd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:100,_1:yd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:101,_1:md},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:102,_1:gd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:103,_1:vd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:104,_1:hd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:105,_1:pd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:106,_1:dd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:107,_1:ld},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:108,_1:_d},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:109,_1:fd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:110,_1:sd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:111,_1:ad},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:112,_1:id},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:113,_1:cd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:114,_1:ud},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:115,_1:od},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:116,_1:nd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:117,_1:rd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:118,_1:ed},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:119,_1:td},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:120,_1:Zl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:121,_1:Yl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:122,_1:Ql},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:123,_1:Xl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:124,_1:Gl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:125,_1:Kl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:126,_1:Wl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:127,_1:Hl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:128,_1:zl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:129,_1:Jl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:130,_1:Vl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:131,_1:Ul},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:132,_1:$l},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:133,_1:Fl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:134,_1:Ll},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:135,_1:Pl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:144,_1:Bl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:145,_1:Rl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:160,_1:Dl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:161,_1:jl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:162,_1:Ml},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:163,_1:ql},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:164,_1:Nl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:165,_1:Il},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:166,_1:Cl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:167,_1:Ol},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:168,_1:Al},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:169,_1:xl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:170,_1:El},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:171,_1:Sl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:172,_1:kl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:173,_1:Tl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:174,_1:wl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:175,_1:bl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:176,_1:yl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:181,_1:ml},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:182,_1:gl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:183,_1:vl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:186,_1:op},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:187,_1:rp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:188,_1:hl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:189,_1:pl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:190,_1:dl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:191,_1:ll},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:192,_1:_l},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:219,_1:fl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:220,_1:sl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:221,_1:al},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:222,_1:il},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:224,_1:cl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:225,_1:ul},_1:{ctor:"[]"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},Kp=function(t){return s(J,0,pt(s(vt,Se,s(gt,function(r){return s(e(function(t,e){return v.eq(t,e)}),t,ke(r))},Wp))))},Gp=(e(function(t,r){var n=r;return Z_(f(at,e(function(t,e){return s(K_,t,e)}),n._0,s(vt,Kp,t)))}),e(function(t,e){var r=e;return s(_t,Kp(t),r._0)})),Xp=Hr(Wp),Qp=function(t){return s(J,ol,s(sr,t,Xp))},Yp=(e(function(t,e){var r=e,n=r._0,o=t;if("Down"===o.ctor){var u=o._0,c=s(G_,u,n),i=v.eq(st(c),st(n))?z:W(nl(Qp(u)));return{ctor:"_Tuple2",_0:Z_(c),_1:i}}var a=o._0,c=s(K_,a,n),i=v.eq(st(c),st(n))?z:W(rl(Qp(a)));return{ctor:"_Tuple2",_0:Z_(c),_1:i}}),s(_n,Qp,s(pn,"keyCode",mn))),Zp=(e(function(t,e){var r=s(Tt,e.path,t);return v.update(e,{path:r})}),e(function(t,e){var r=s(Wr,t,e.query);return v.update(e,{query:r})}),r(function(t,e,r){var n=s($r,t,e);return v.update(r,{query:n})}),r(function(t,e,r){var n=be(e)?s(Wr,t,r.query):f(Fr,t,e,r.query);return v.update(r,{query:n})}),function(t){var e=nr(t.query),r=s(vt,function(t){var e=t;return{ctor:"_Tuple2",_0:ff(e._0),_1:ff(e._1)}},e),n=s(vt,function(t){var e=t;return s(k["++"],e._0,s(k["++"],"=",e._1))},r);return kr(t.query)?"":s(k["++"],"?",s(_e,"&",n))}),th=function(t){var e=s(le,"=",t),r=s(J,"",pt(e)),n=s(J,"",sf(r)),o=s(J,"",pt(s(tt,1,e)));return{ctor:"_Tuple2",_0:n,_1:s(J,"",sf(o))}},eh=function(t){var e=s(le,"&",t);return be(t)?{ctor:"[]"}:s(vt,th,e)},rh=function(t){return Hr(eh(t))},nh=function(t){return s(J,"",pt(s(le,"#",s(J,"",pt(s(tt,1,s(le,"?",t)))))))},oh=function(t){return rh(nh(t))},uh=function(t){return s(J,"",pt(s(tt,1,s(le,"#",t))))},ch=function(t){return uh(t)},ih=function(t){return s(le,".",t)},ah=function(t){var e=s(le,"://",t);return 1===st(e)?"":s(J,"",pt(e))},sh=function(t){var e=Ou(":\\d+"),r=f(xu,Iu(1),e,t);return function(e){var r=e;if("Ok"===r.ctor)return r._0;switch(ah(t)){case"http":return 80;case"https":return 443;case"ftp":return 21;case"sftp":return 22;default:return 0}}(Qt(s(ie,1,s(J,"",pt(s(vt,function(t){return t.match},r))))))},fh=(e(function(t,e){var r=s(le,t,e),n=pt(r);switch(st(r)){case 0:case 1:return"";default:return s(J,"",n)}}),e(function(t,e){var r=s(le,t,e);return s(J,"",pt(r))})),_h=e(function(t,e){var r=s(le,t,e);return s(J,"",pt(bt(r)))}),lh=function(t){var e=s(k["++"],"(",s(k["++"],"((\\w|-)+\\.)+(\\w|-)+",s(k["++"],"|",s(k["++"],"localhost",")"))));return s(J,"",pt(s(vt,function(t){return t.match},f(xu,Iu(1),Ou(e),s(fh,"/",s(_h,"//",t))))))},dh=function(t){return ih(lh(t))},ph=function(t){var e=lh(t);return _(Eu,Iu(1),Ou(":\\d+"),function(t){return""},_(Eu,Iu(1),Ou(e),function(t){return""},s(fh,"#",s(fh,"?",s(_h,"//",t)))))},hh=function(t){return s(Au,Ou("^/"),ph(t))},vh=function(t){return s(Au,Ou("/$"),ph(t))},gh=(e(function(t,e){var r=s(le,t,e);switch(st(r)){case 0:case 1:return"";default:return s(J,"",pt(bt(r)))}}),function(t){return!be(t)}),mh=function(t){return s(vt,J(""),s(vt,sf,s(gt,gh,s(le,"/",t))))},yh=function(t){return mh(ph(t))},bh=function(t){return{host:dh(t),hash:ch(t),password:"",path:yh(t),hasLeadingSlash:hh(t),hasTrailingSlash:vh(t),port_:sh(t),protocol:ah(t),query:oh(t),username:""}},wh=function(t){return s(k["++"],"/",s(k["++"],s(_e,"/",t.path),t.hasTrailingSlash&&!lt(t.path)?"/":""))},Th=e(function(t,e){return v.eq(t.path,e.path)&&v.eq(t.hasTrailingSlash,e.hasTrailingSlash)&&v.eq(t.hash,e.hash)&&v.eq(nr(t.query),nr(e.query))}),kh=e(function(t,e){return s(Th,bh(e.url),t)?z:W(e)}),Sh=e(function(t,e){return v.update(e,{url:t(e.url)})}),Eh=e(function(t,e){return s(Sh,s(te,"?",e.url)?function(e){return s(k["++"],wh(t),e)}:s(te,"#",e.url)?function(e){return s(k["++"],wh(t),s(k["++"],Zp(t),e))}:function(t){return t},e)}),xh=function(t){return function(){return"NewEntry"===t.entry.ctor?e_:Zf}()(t.url)},Ah=function(t){return s(u_,t.locationToMessage,{init:t.init,update:t.update,view:t.view,subscriptions:t.subscriptions})},Oh=(r(function(t,e,r){var n=r;return"RouterMsg"===n.ctor?t(n._0):e(n._0)}),function(t){return{delta2url:t.delta2url,location2messages:t.location2messages,update:t.update,subscriptions:t.subscriptions,view:t.view}}),Ch=(u(function(t,e,r,n,o,u){return{delta2url:t,location2messages:e,init:r,update:n,subscriptions:o,view:u}}),u(function(t,e,r,n,o,u){return{delta2url:t,location2messages:e,init:r,update:n,subscriptions:o,view:u}}),o(function(t,e,r,n,o){return{delta2url:t,location2messages:e,update:r,subscriptions:n,view:o}}),e(function(t,e){return{entry:t,url:e}}),e(function(t,e){return{reportedUrl:t,expectedUrlChanges:e}}),o(function(t,e,r,n,o){return{locationToMessage:t,init:e,update:r,view:n,subscriptions:o}}),o(function(t,e,r,n,o){return{locationToMessage:t,init:e,update:r,view:n,subscriptions:o}}),{ctor:"NewEntry"}),Ih=e(function(t,e){return{ctor:"WrappedModel",_0:t,_1:e}}),Nh=(e(function(t,e){var r=e;return s(Ih,t(r._0),r._1)}),function(t){return{ctor:"UserMsg",_0:t}}),qh=e(function(t,e){var r=e;return s(Oi,Nh,t.view(r._0))}),Mh=e(function(t,e){var r=e;return s(Me,Nh,t.subscriptions(r._0))}),jh=n(function(t,e,r,n){var o={expectedUrlChanges:0,reportedUrl:bh(n.href)},u=f(Kc,e.update,e.location2messages(n),t(r)),c=u._0,i=u._1;return{ctor:"_Tuple2",_0:s(Ih,c,o),_1:s(Ie,Nh,i)}}),Dh=(r(function(t,e,r){var n={expectedUrlChanges:0,reportedUrl:bh(r.href)},o=f(Kc,e.update,e.location2messages(r),t),u=o._0,c=o._1;return{ctor:"_Tuple2",_0:s(Ih,u,n),_1:s(Ie,Nh,c)}}),r(function(t,e,r){var n=r,o=n._0,u=n._1,c=e;if("RouterMsg"===c.ctor){var i=c._0,a={reportedUrl:bh(i.href),expectedUrlChanges:v.cmp(u.expectedUrlChanges,0)>0?u.expectedUrlChanges-1:0};if(v.cmp(u.expectedUrlChanges,0)>0)return{ctor:"_Tuple2",_0:s(Ih,o,a),_1:Oe};var _=f(Kc,t.update,t.location2messages(i),{ctor:"_Tuple2",_0:o,_1:Oe}),l=_._0,d=_._1;return{ctor:"_Tuple2",_0:s(Ih,l,a),_1:s(Ie,Nh,d)}}var p=s(t.update,c._0,o),l=p._0,h=p._1,g=s(H,kh(u.reportedUrl),s(K,Eh(u.reportedUrl),s(t.delta2url,o,l))),m=g;if("Just"===m.ctor){var y=m._0;return{ctor:"_Tuple2",_0:s(Ih,l,{reportedUrl:bh(y.url),expectedUrlChanges:u.expectedUrlChanges+1}),_1:s(Ie,Nh,Ae({ctor:"::",_0:xh(y),_1:{ctor:"::",_0:h,_1:{ctor:"[]"}}}))}}return{ctor:"_Tuple2",_0:s(Ih,l,u),_1:s(Ie,Nh,h)}})),Rh=function(t){return{ctor:"RouterMsg",_0:t}},Bh=function(t){var e=Oh(t);return{locationToMessage:Rh,init:s(jh,t.init,e),update:Dh(e),view:qh(e),subscriptions:Mh(e)}},Ph=e(function(t,e){var n=e,o=n._0,u=t?"$":"#",c=v.eq(o.hash,"")?"":s(k["++"],u,ff(o.hash)),i=r(function(t,e,r){return{ctor:"::",_0:s(k["++"],ff(t),s(k["++"],"=",ff(e))),_1:r}}),a=s(_e,"/",s(vt,ff,o.path)),_=t?"^":"?",l=kr(o.query)?"":s(k["++"],_,s(_e,"&",f(or,i,{ctor:"[]"},o.query))),d=t?"#!/":"/";return{entry:o.entry,url:s(k["++"],d,s(k["++"],a,s(k["++"],l,c)))}}),Lh=(Ph(!1),Ph(!0)),Fh=(e(function(t,e){return s(sr,t,e._0.query)}),function(t){return t._0.path}),$h=function(t){return{ctor:"Builder",_0:t}},Uh=$h({entry:Ch,path:{ctor:"[]"},query:Tr,hash:""}),Vh=(e(function(t,e){var r=e,n=r._0;return $h(v.update(n,{path:t(n.path)}))}),e(function(t,e){var r=e;return $h(v.update(r._0,{path:t}))})),Jh=e(function(t,e){var r=e,n=r._0;return $h(v.update(n,{query:t(n.query)}))}),zh=(e(function(t,e){return Jh(s(Fr,t,e))}),e(function(t,e){return Jh(s(Lr,t,e))}),e(function(t,e){var r=e;return $h(v.update(r._0,{query:t}))}),e(function(t,e){var r=e,n=r._0;return $h(v.update(n,{hash:t(n.hash)}))}),e(function(t,e){var r=e;return $h(v.update(r._0,{hash:t}))}),function(t){var e=bh(_(Eu,Iu(1),Ou("\\^"),w("?"),_(Eu,Iu(1),Ou("$"),w("#"),_(Eu,Iu(1),Ou("^!"),w(""),function(t){return t.hash}(bh(t))))));return $h({entry:Ch,path:e.path,query:e.query,hash:e.hash})}),Hh=function(t){return v.cmp(t,1)<1?Vo:v.eq(t,2)?Uo:v.eq(t,3)?$o:v.eq(t,4)?Fo:v.eq(t,5)?Lo:v.eq(t,6)?Po:v.eq(t,7)?Bo:v.eq(t,8)?Ro:v.eq(t,9)?Do:v.eq(t,10)?jo:v.eq(t,11)?Mo:qo},Wh=function(t){switch(t.ctor){case"Jan":return 1;case"Feb":return 2;case"Mar":return 3;case"Apr":return 4;case"May":return 5;case"Jun":return 6;case"Jul":return 7;case"Aug":return 8;case"Sep":return 9;case"Oct":return 10;case"Nov":return 11;default:return 12}},Kh=function(t){return v.eq(s(k["%"],t,4),0)&&!v.eq(s(k["%"],t,100),0)||v.eq(s(k["%"],t,400),0)},Gh=e(function(t,e){switch(e.ctor){case"Jan":return 31;case"Feb":return Kh(t)?29:28;case"Mar":return 31;case"Apr":return 30;case"May":return 31;case"Jun":return 30;case"Jul":case"Aug":return 31;case"Sep":return 30;case"Oct":return 31;case"Nov":return 30;default:return 31}}),Xh=function(t){return s(Gh,wo(t),bo(t))},Qh=function(t){return O(ko(t))},Yh=function(t){return To(x(t))},Zh=function(t){switch(t.ctor){case"Mon":return 1;case"Tue":return 2;case"Wed":return 3;case"Thu":return 4;case"Fri":return 5;case"Sat":return 6;default:return 7}},tv=O(1),ev=1e3*tv,rv=60*ev,nv=60*rv,ov=24*nv,uv=7*ov,cv=(e(function(t,e){var r=po(t)-po(e),n=ho(t)-ho(e),o=vo(t)-vo(e),u=go(t)-go(e),c=Qh(t)-Qh(e),i=c-u*nv-o*rv-n*ev-r*tv,a=i/ov|0,f=function(){if(v.cmp(a,0)<0){var t=R(a);return{ctor:"_Tuple2",_0:B(t/7|0),_1:B(s(k["%"],t,7))}}return{ctor:"_Tuple2",_0:a/7|0,_1:s(k["%"],a,7)}}();return{week:f._0,day:f._1,hour:u,minute:o,second:n,millisecond:r}}),r(function(t,r,n){return Yh(s(e(function(t,e){return t+e}),r*t,Qh(n)))})),iv=function(t){var e=t;switch(e.ctor){case"Millisecond":return tv;case"Second":return ev;case"Minute":return rv;case"Hour":return nv;case"Day":return ov;case"Week":return uv;default:var r=e._0;return tv*r.millisecond+ev*r.second+rv*r.minute+nv*r.hour+ov*r.day+uv*r.week}},av=function(t){return cv(iv(t))},sv=(u(function(t,e,r,n,o,u){return{week:t,day:e,hour:r,minute:n,second:o,millisecond:u}}),function(t){return{ctor:"Delta",_0:t}}),fv={ctor:"Week"},_v={ctor:"Day"},lv={ctor:"Hour"},dv={ctor:"Minute"},pv={ctor:"Second"},hv={ctor:"Millisecond"},vv=r(function(t,e,r){var n=((153*(e+(v.cmp(e,2)>0?-3:9))+2)/5|0)+r-1,o=t-(v.cmp(e,2)<1?1:0),u=(v.cmp(o,0)>-1?o:o-399)/400|0,c=o-400*u;return 146097*u+(365*c+(c/4|0)-(c/100|0)+n)-719468}),gv=c(function(t,e,r,n,o,u,c){var i=Wh(e),a=v.cmp(t,0)<0?0:t,_=f(D,1,s(Gh,a,e),r),l=f(vv,a,i,_);return iv(sv({millisecond:f(D,0,999,c),second:f(D,0,59,u),minute:f(D,0,59,o),hour:f(D,0,23,n),day:l,week:0}))}),mv=function(t){return p(gv,wo(t),bo(t),yo(t),go(t),vo(t),ho(t),po(t))},yv=function(t){var e=mv(t);return(O(ko(t))-e)/rv|0},bv=e(function(t,r){return Yh(s(e(function(t,e){return t+e}),t*rv,Qh(r)))}),wv=(e(function(t,e){return f(av,dv,yv(e)-yv(t),e)}),Qh),Tv=rv,kv=Wh,Sv=Zh,Ev=e(function(t,e){var r=Sv(e),n=Sv(t);return v.cmp(n,r)<0?7+n-r:n-r}),xv=Hh,Av=Yh,Ov=Xh,Cv=Gh,Iv=(n(function(t,e,r,n){var o=wv(n),u=wv(r),c=s(q,u,o),i=s(M,u,o),a=wv(e);switch(t.ctor){case"Between":return v.cmp(a,i)>0&&v.cmp(a,c)<0;case"BetweenOpenStart":return v.cmp(a,i)>-1&&v.cmp(a,c)<0;case"BetweenOpenEnd":return v.cmp(a,i)>0&&v.cmp(a,c)<1;default:return v.cmp(a,i)>-1&&v.cmp(a,c)<1}}),r(function(t,e,r){var n=wv(r),o=wv(e);switch(t.ctor){case"Before":return v.cmp(o,n)<0;case"After":return v.cmp(o,n)>0;case"Same":return v.eq(o,n);case"SameOrBefore":return v.cmp(o,n)<1;default:return v.cmp(o,n)>-1}})),Nv={ctor:"After"},qv=(e(function(t,e){return{i18n:t,format:e}}),e(function(t,e){var r=function(){switch(e){case 1:return"1st";case 21:return"21st";case 2:return"2nd";case 22:return"22nd";case 3:return"3rd";case 23:return"23rd";case 31:return"31st";default:return s(k["++"],S(e),"th")}}();return t?f(ue,4,v.chr(" "),r):r})),Mv=function(t){switch(t.ctor){case"Jan":return"January";case"Feb":return"February";case"Mar":return"March";case"Apr":return"April";case"May":return"May";case"Jun":return"June";case"Jul":return"July";case"Aug":return"August";case"Sep":return"September";case"Oct":return"October";case"Nov":return"November";default:return"December"}},jv=function(t){switch(t.ctor){case"Jan":return"Jan";case"Feb":return"Feb";case"Mar":return"Mar";case"Apr":return"Apr";case"May":return"May";case"Jun":return"Jun";case"Jul":return"Jul";case"Aug":return"Aug";case"Sep":return"Sep";case"Oct":return"Oct";case"Nov":return"Nov";default:return"Dec"}},Dv=function(t){switch(t.ctor){case"Mon":return"Monday";case"Tue":return"Tuesday";case"Wed":return"Wednesday";case"Thu":return"Thursday";case"Fri":return"Friday";case"Sat":return"Saturday";default:return"Sunday"}},Rv=function(t){switch(t.ctor){case"Mon":return"Mon";case"Tue":return"Tue";case"Wed":return"Wed";case"Thu":return"Thu";case"Fri":return"Fri";case"Sat":return"Sat";default:return"Sun"}},Bv={i18n:{dayShort:Rv,dayName:Dv,monthShort:jv,monthName:Mv,dayOfMonthWithSuffix:qv},format:{date:"%-m/%-d/%Y",longDate:"%A, %B %d, %Y",time:"%-H:%M %p",longTime:"%-H:%M:%S %p",dateTime:"%-m/%-d/%Y %-I:%M %p",firstDayOfWeek:Eo}},Pv=To(0),Lv=function(){var t=60*go(Pv)+vo(Pv);return v.eq(wo(Pv),1969)?0-(t-1440):0-t}(),Fv=yv,$v=function(t){var e=f(av,hv,t+Lv*Tv,Pv),r=Fv(e);return v.eq(r,Lv)?e:f(av,dv,r-Lv,e)},Uv=c(function(t,e,r,n,o,u,c){return $v(p(gv,t,e,r,n,o,u,c))}),Vv=(f(Uv,1970,Vo,1),function(t){return{ctor:"_Tuple2",_0:t/60|0,_1:s(k["%"],t,60)}}),Jv=e(function(t,e){return function(r){return f(ue,t,e,S(r))}}),zv=function(t){return function(e){return f(ue,2,t,S(e))}},Hv=function(t){return v.eq(s(k["%"],t,12),0)?12:s(k["%"],t,12)},Wv=e(function(t,e){var r=Vv(R(e)),n=r._0,o=r._1;return s(k["++"],v.cmp(e,0)<1?"+":"-",s(k["++"],s(zv,v.chr("0"),n),s(k["++"],t,s(zv,v.chr("0"),o))))}),Kv=function(t){return s(H,T,t)},Gv=n(function(t,e,r,n){var o=s(J," ",Kv(pt(n.submatches)));switch(o){case"Y":return f(Jv,4,v.chr("0"),wo(r));case"y":return s(ae,2,f(Jv,2,v.chr("0"),wo(r)));case"m":return s(zv,v.chr("0"),kv(bo(r)));case"_m":return s(zv,v.chr(" "),kv(bo(r)));case"-m":return S(kv(bo(r)));case"B":return t.i18n.monthName(bo(r));case"^B":return re(t.i18n.monthName(bo(r)));case"b":return t.i18n.monthShort(bo(r));case"^b":return re(t.i18n.monthShort(bo(r)));case"d":return s(zv,v.chr("0"),yo(r));case"-d":return S(yo(r));case"-@d":return s(t.i18n.dayOfMonthWithSuffix,!1,yo(r));case"e":return s(zv,v.chr(" "),yo(r));case"@e":return s(t.i18n.dayOfMonthWithSuffix,!0,yo(r));case"A":return t.i18n.dayName(mo(r));case"^A":return re(t.i18n.dayName(mo(r)));case"a":return t.i18n.dayShort(mo(r));case"^a":return re(t.i18n.dayShort(mo(r)));case"H":return s(zv,v.chr("0"),go(r));case"-H":return S(go(r));case"k":return s(zv,v.chr(" "),go(r));case"I":return s(zv,v.chr("0"),Hv(go(r)));case"-I":return S(Hv(go(r)));case"l":return s(zv,v.chr(" "),Hv(go(r)));case"p":return v.cmp(go(r),12)<0?"AM":"PM";case"P":return v.cmp(go(r),12)<0?"am":"pm";case"M":return s(zv,v.chr("0"),vo(r));case"S":return s(zv,v.chr("0"),ho(r));case"L":return f(Jv,3,v.chr("0"),po(r));case"%":return o;case"z":return s(Wv,"",e);case":z":return s(Wv,":",e);default:return""}}),Xv=Ou("%(y|Y|m|_m|-m|B|^B|b|^b|d|-d|-@d|e|@e|A|^A|a|^a|H|-H|k|I|-I|l|p|P|M|S|%|L|z|:z)"),Qv=n(function(t,e,r,n){var o=Fv(n);return _(Eu,Nu,Xv,f(Gv,t,e,s(bv,o-e,n)),r)}),Yv=r(function(t,e,r){return _(Qv,t,Fv(r),e,r)}),Zv=(r(function(t,e,r){return _(Qv,t,0,e,r)}),s(Yv,Bv,"%Y-%m-%dT%H:%M:%S.%L%:z"),s(Yv,Bv,"%Y-%m-%dT%H:%M:%S.%L"),r(function(t,e,r){var n=f(vv,wo(e),kv(bo(e)),yo(e));return(f(vv,wo(t),kv(bo(t)),yo(t))-n)*r})),tg=(e(function(t,e){return f(Iv,Nv,t,e)?f(Zv,t,e,1):f(Zv,e,t,-1)}),r(function(t,e,r){var o=n(function(t,e,r,n){return v.cmp(e,r)<0?{ctor:"_Tuple2",_0:t-1,_1:n+e-r}:{ctor:"_Tuple2",_0:t,_1:e-r}}),u=po(e),c=po(t),i=ho(e),a=ho(t),f=vo(e),l=vo(t),d=go(e),p=go(t),h=yo(e),g=yo(t),m=bo(e),y=kv(m),b=bo(t),w=kv(b),T=wo(e),k=s(Cv,T,m),S=wo(t),E=_(o,S-T,w,y,12),x=E._0,A=E._1,O=_(o,A,g,h,k),C=O._0,I=O._1,N=_(o,I,p,d,24),q=N._0,M=N._1,j=_(o,M,l,f,60),D=j._0,R=j._1,B=_(o,R,a,i,60),P=B._0,L=B._1,F=_(o,L,c,u,1e3);return{year:x*r,month:C*r,day:q*r,hour:D*r,minute:P*r,second:F._0*r,millisecond:F._1*r}})),eg=(e(function(t,e){return f(Iv,Nv,t,e)?f(tg,t,e,1):f(tg,e,t,-1)}),e(function(t,e){var r=yo(e),n=kv(bo(e)),o=n+t,u=s(k["%"],o,12),c=v.cmp(o,0)<0?(o/12|0)-1:o/12|0,i=wo(e),a=f(vv,i,n,r),_=i+c,l=s(M,s(Cv,_,xv(o)),r),d=f(vv,_,u,l);return f(av,_v,d-a,e)})),rg=e(function(t,e){return s(eg,12*t,e)}),ng=e(function(t,e){var r=Fv(e),n=Fv(t);if(v.eq(n,r))return e;var o=f(av,hv,(r-n)*Tv,e),u=Fv(o);return v.eq(u,r)?o:e}),og=function(t){var e=t;switch(e.ctor){case"Millisecond":case"Second":case"Minute":case"Hour":return!1;case"Day":case"Week":case"Month":case"Year":return!0;default:var r=e._0;return!v.eq(r.day,0)||!v.eq(r.month,0)||!v.eq(r.year,0)}},ug=(c(function(t,e,r,n,o,u,c){return{year:t,month:e,day:r,hour:n,minute:o,second:u,millisecond:c}}),{ctor:"Year"}),cg={ctor:"Month"},ig=r(function(t,e,r){var n=t;switch(n.ctor){case"Millisecond":return f(av,hv,e,r);case"Second":return f(av,pv,e,r);case"Minute":return f(av,dv,e,r);case"Hour":return f(av,lv,e,r);case"Day":return f(av,_v,e,r);case"Week":return f(av,fv,e,r);case"Month":return s(eg,e,r);case"Year":return s(rg,e,r);default:var o=n._0;return f(av,sv({week:0,day:o.day,hour:o.hour,minute:o.minute,second:o.second,millisecond:o.millisecond}),e,f(ig,cg,o.month,f(ig,ug,o.year,r)))}}),ag=r(function(t,e,r){var n=f(ig,t,e,r);return og(t)?s(ng,r,n):n}),sg={ctor:"Day"},fg={ctor:"Hour"},_g={ctor:"Minute"},lg={ctor:"Second"},dg={ctor:"Millisecond"},pg=r(function(t,e,r){var n=Sv(t),o=mo(r),u=s(Ev,o,e),c=Sv(o),i=n-c,a=v.cmp(u+i,0)<0?i+7:i;return f(ag,sg,a,r)}),hg=e(function(t,e){var r=kv(bo(e)),n=kv(t);return f(ag,cg,n-r,e)}),vg=e(function(t,e){var r=t;switch(r.ctor){case"Millisecond":return f(ag,dg,f(D,0,999,r._0)-po(e),e);case"Second":return f(ag,lg,f(D,0,59,r._0)-ho(e),e);case"Minute":return f(ag,_g,f(D,0,59,r._0)-vo(e),e);case"Hour":return f(ag,fg,f(D,0,23,r._0)-go(e),e);case"DayOfWeek":return f(pg,r._0._0,r._0._1,e);case"DayOfMonth":var n=Ov(e);return f(ag,sg,f(D,1,n,r._0)-yo(e),e);case"Month":return s(hg,r._0,e);default:var o=r._0,u=v.cmp(o,0)<0?0:o;return f(ag,ug,u-wo(e),e)}}),gg=(e(function(t,e){var r=t;switch(r.ctor){case"Millisecond":var n=r._0;return v.cmp(n,0)<0||v.cmp(n,999)>0?z:W(f(ag,dg,n-po(e),e));case"Second":var o=r._0;return v.cmp(o,0)<0||v.cmp(o,59)>0?z:W(f(ag,lg,o-ho(e),e));case"Minute":var u=r._0;return v.cmp(u,0)<0||v.cmp(u,59)>0?z:W(f(ag,_g,u-vo(e),e));case"Hour":var c=r._0;return v.cmp(c,0)<0||v.cmp(c,23)>0?z:W(f(ag,fg,c-go(e),e));case"DayOfWeek":return W(f(pg,r._0._0,r._0._1,e));case"DayOfMonth":var i=r._0,a=Ov(e);return v.cmp(i,1)<0||v.cmp(i,a)>0?z:W(f(ag,sg,i-yo(e),e));case"Month":return W(s(hg,r._0,e));default:var _=r._0;return v.cmp(_,0)<0?z:W(f(ag,ug,_-wo(e),e))}}),function(t){return{ctor:"Month",_0:t}}),mg=function(t){return{ctor:"DayOfMonth",_0:t}},yg=function(t){return{ctor:"Hour",_0:t}},bg=function(t){return{ctor:"Minute",_0:t}},wg=function(t){return{ctor:"Second",_0:t}},Tg=function(t){return{ctor:"Millisecond",_0:t}},kg={ctor:"Year"},Sg={ctor:"Month"},Eg={ctor:"Day"},xg={ctor:"Hour"},Ag={ctor:"Minute"},Og={ctor:"Second"},Cg=e(function(t,e){switch(t.ctor){case"Millisecond":return e;case"Second":return s(vg,Tg(0),e);case"Minute":return s(vg,wg(0),s(Cg,Og,e));case"Hour":return s(vg,bg(0),s(Cg,Ag,e));case"Day":return s(vg,yg(0),s(Cg,xg,e));case"Month":return s(vg,mg(1),s(Cg,Eg,e));default:return Ig(e)}}),Ig=function(t){var e=s(vg,mg(1),t),r=s(vg,gg(Vo),e),n=wv(e)-wv(r),o=Av(wv(t)-n);return s(Cg,Sg,o)},Ng=e(function(t,e){switch(t.ctor){case"Millisecond":return e;case"Second":return s(vg,Tg(999),e);case"Minute":return s(vg,wg(59),s(Ng,Og,e));case"Hour":return s(vg,bg(59),s(Ng,Ag,e));case"Day":return s(vg,yg(23),s(Ng,xg,e));case"Month":return s(vg,mg(31),s(Ng,Eg,e));default:var r=f(ag,ug,1,e),n=s(Cg,kg,r);return f(ag,dg,-1,n)}}),qg=e(function(t,e){for(;;){var r=e;if("[]"===r.ctor)return z;var n=r._0;if(t(n))return W(n);var o=t,u=r._1;t=o,e=u}}),Mg=function(t){var e=t;switch(e.ctor){case"KeyCombo":return e._1;case"KeyCombo2":return e._2;case"KeyCombo3":return e._3;default:return e._4}},jg=function(t){var e=t;switch(e.ctor){case"KeyCombo":return{ctor:"::",_0:e._0,_1:{ctor:"[]"}};case"KeyCombo2":return{ctor:"::",_0:e._0,_1:{ctor:"::",_0:e._1,_1:{ctor:"[]"}}};case"KeyCombo3":return{ctor:"::",_0:e._0,_1:{ctor:"::",_0:e._1,_1:{ctor:"::",_0:e._2,_1:{ctor:"[]"}}}};default:return{ctor:"::",_0:e._0,_1:{ctor:"::",_0:e._1,_1:{ctor:"::",_0:e._2,_1:{ctor:"::",_0:e._3,_1:{ctor:"[]"}}}}}}},Dg=e(function(t,e){return s(ct,function(e){return s(Gp,e,t)},e)}),Rg=function(t){return s(qg,function(e){return s(Dg,t.keys,jg(e))},t.combos)},Bg=function(t){return s(Qn,function(t){return t},Un(Mg(t)))},Pg=e(function(t,e){return v.eq(t,e.activeCombo)?{ctor:"[]"}:s(J,{ctor:"[]"},s(K,function(t){return{ctor:"::",_0:Bg(t),_1:{ctor:"[]"}}},t))}),Lg=function(t){var e=Rg(t);return s(Ce["!"],v.update(t,{activeCombo:e}),s(Pg,e,t))},Fg=jd,$g=Dd,Ug=Bd,Vg=Fp,Jg=e(function(t,e){return Lg(v.update(e,{keys:s(el,t,e.keys)}))}),zg=function(t){return s(Me,t.toMsg,Y_)},Hg=function(t){return{keys:tl,combos:t.combos,toMsg:t.toMsg,activeCombo:z}},Wg=(n(function(t,e,r,n){return{keys:t,combos:e,toMsg:r,activeCombo:n}}),o(function(t,e,r,n,o){return{ctor:"KeyCombo4",_0:t,_1:e,_2:r,_3:n,_4:o}})),Kg=(e(function(t,e){var r=t;return l(Wg,r._0,r._1,r._2,r._3,e)}),n(function(t,e,r,n){return{ctor:"KeyCombo3",_0:t,_1:e,_2:r,_3:n}})),Gg=(e(function(t,e){var r=t;return _(Kg,r._0,r._1,r._2,e)}),r(function(t,e,r){return{ctor:"KeyCombo2",_0:t,_1:e,_2:r}})),Xg=e(function(t,e){var r=t;return f(Gg,r._0,r._1,e)}),Qg=e(function(t,e){return{ctor:"KeyCombo",_0:t,_1:e}}),Yg=(e(function(t,e){return s(Qg,t,e)}),e(function(t,r){for(;;){var n=t;if("[]"===n.ctor)return r;var o=n._0,u=function(t){var r=pe(o),n=e(function(e,n){var o=n,u=o._0,c={ctor:"::",_0:f(fe,e,e+r,t),_1:{ctor:"[]"}},i=v.eq(u,e)?{ctor:"[]"}:{ctor:"::",_0:f(fe,u,e,t),_1:{ctor:"[]"}};return{ctor:"_Tuple2",_0:e+r,_1:s(k["++"],o._1,s(k["++"],i,c))}}),u=s(Yt,o,t),c=f(at,n,{ctor:"_Tuple2",_0:0,_1:{ctor:"[]"}},u),i=ke(c),a=Se(c),_=pe(t),l=v.eq(a,_)?{ctor:"[]"}:{ctor:"::",_0:f(fe,a,_,t),_1:{ctor:"[]"}};return s(k["++"],i,l)},c=f(at,e(function(t,e){return s(k["++"],e,u(t))}),{ctor:"[]"},r),i=n._1,a=c;t=i,r=a}})),Zg=function(t){var e=t;if("[]"===e.ctor)return{ctor:"_Tuple2",_0:0,_1:{ctor:"[]"}};var r=e._0,n=s(Et,function(t){return v.cmp(t,r)<0},e._1),o=Zg(Se(n)),u=lt(ke(o))?0:1,c=Zg(ke(n));return{ctor:"_Tuple2",_0:Se(o)+u+Se(c),_1:s(k["++"],ke(o),s(k["++"],{ctor:"::",_0:r,_1:{ctor:"[]"}},ke(c)))}},tm={ctor:"[]"},em=n(function(t,e,r,n){return{score:t,offset:e,length:r,keys:n}}),rm=r(function(t,r,n){var o=e(function(t,e){var r=s(Yt,ye(t),n),o=pt(s(gt,function(t){return!s(_t,t,e)},r)),u=o;return"Just"===u.ctor?s(k["++"],e,{ctor:"::",_0:u._0,_1:{ctor:"[]"}}):e}),u=f(de,o,tm,r),c=Zg(u),i=Se(c)*t.movePenalty,a=(pe(n)-st(u))*t.addPenalty,l=(pe(r)-st(u))*t.removePenalty;return _(em,i+a+l,0,pe(n),ke(c))}),nm=e(function(t,e){return{score:t,matches:e}}),om=r(function(t,e,r){return{addPenalty:t,movePenalty:e,removePenalty:r}}),um=f(om,1,100,1e3),cm=n(function(t,n,o,u){var c=s(nm,0,{ctor:"[]"}),i=r(function(t,n,o){var u=e(function(t,e){return s(k["++"],e,s(Nt,t-st(e),""))}),c=r(function(t,e,r){return s(Ct,st(r)-(t-e-1),r)});return f(r(function(t,r,n){return{ctor:"_Tuple2",_0:f(at,e(function(t,e){return pe(t)+e}),0,s(Ct,r,n)),_1:s(tt,r,n)}}),t,n,f(c,t,n,s(u,t,o)))}),a=s(Yg,n,{ctor:"::",_0:u,_1:{ctor:"[]"}}),l=s(Yg,n,{ctor:"::",_0:o,_1:{ctor:"[]"}}),d=e(function(t,e){var r=t;switch(r.ctor){case"AddPenalty":return v.update(e,{addPenalty:r._0});case"RemovePenalty":return v.update(e,{removePenalty:r._0});default:return v.update(e,{movePenalty:r._0})}}),p=f(at,d,um,t),h=e(function(t,r){var n=r,o=n._0,c=e(function(e,r){var n=r,o=n._1,u=n._0,c=o+pe(e),i=f(rm,p,t,e);return{ctor:"_Tuple2",_0:v.cmp(i.score,u.score)<0?v.update(i,{offset:o}):u,_1:c}}),i=pe(t)*p.removePenalty+pe(t)*p.movePenalty+pe(u)*p.addPenalty,a=_(em,i,o,0,{ctor:"[]"});return Se(f(at,c,{ctor:"_Tuple2",_0:a,_1:o},n._1))}),g=e(function(t,e){var r=e,n=r._0,o=r._1,u=s(h,t,f(i,st(l),o,a));return{ctor:"_Tuple2",_0:v.update(n,{score:u.score+n.score,matches:s(k["++"],n.matches,{ctor:"::",_0:u,_1:{ctor:"[]"}})}),_1:o+1}});return Se(f(at,g,{ctor:"_Tuple2",_0:c,_1:0},l))}),im=e(function(t,e){return t+e}),am=e(function(t,e){return t-e}),sm=(b(am),e(function(t,e){return!v.eq(t,e)})),fm=e(function(t,e){return v.eq(t,e)}),_m=e(function(t,e){return t&&e}),lm=(e(function(t,e){return t||e}),e(function(t,e){return v.cmp(t,e)<0}),e(function(t,e){return v.cmp(t,e)>0}),e(function(t,r){var n=e(function(e,r){return t(e)?r:{ctor:"::",_0:e,_1:r}});return f(it,n,{ctor:"[]"},r)})),dm=n(function(t,e,r,n){return t(n)?e(n):r(n)}),pm=(r(function(t,e,r){return _(dm,t,e,function(t){return r},r)}),r(function(t,e,r){return s(ii,e,s(ui,t,r))})),hm=(r(function(t,e,r){return s(m,e,s(ci,t,r))}),r(function(t,e,r){return s(fi["?="],s(fi["?|>"],t(r),s(fi["#"],e,r)),r)})),vm=(r(function(t,e,r){var n=t;return f(pm,{ctor:"_Tuple3",_0:n._0,_1:n._1,_2:T},e,r)}),r(function(t,e,r){return s(e,t(r),r)}),e(function(t,e){return e(t)})),gm=(e(function(t,e){return s(ct,vm(e),t)}),e(function(t,e){return s(ut,vm(e),t)})),mm=Ee.outgoingPort("focusInput",function(t){return t}),ym=function(t){return Be(mm(t))}(".auto-focus"),bm=Ee.outgoingPort("focusSelector",function(t){return t}),wm=Ee.outgoingPort("focusSelectorIfNoFocus",function(t){return t}),Tm=function(t){return Be(wm(t))},km=Ee.outgoingPort("positionPopupMenu",function(t){return t}),Sm=Sm||{};Sm[">>>>"]=o(function(t,e,r,n,o){return e(f(t,r,n,o))});var Sm=Sm||{};Sm["<<<<"]=b(e(function(t,e){return s(Sm[">>>>"],t,e)}));var Sm=Sm||{};Sm[">>>"]=n(function(t,e,r,n){return e(s(t,r,n))});var Sm=Sm||{};Sm["<<<"]=b(e(function(t,e){return s(Sm[">>>"],t,e)}));var Sm=Sm||{};Sm[">>?+"]=e(function(t,e){return function(r){return s(H,e,t(r))}});var Sm=Sm||{};Sm[">>?="]=e(function(t,e){return function(r){return s(J,e,t(r))}});var Sm=Sm||{};Sm[">>?"]=e(function(t,e){return function(r){return s(K,e,t(r))}});var Sm=Sm||{};Sm["?>>"]=e(function(t,e){return function(r){return s(K,e,t(r))}});var Sm=Sm||{};Sm[".#|>"]=b(jt);var Sm=Sm||{};Sm["=>"]=e(function(t,e){return{ctor:"_Tuple2",_0:t,_1:e}});var Em=(r(function(t,e,r){return{noOp:t,focus:e,logString:r}}),function(t){return{ctor:"LogString",_0:t}}),xm=function(t){return{ctor:"Focus",_0:t}},Am={ctor:"NoOp"},Om=function(t){t:for(;;){var e=t;switch(e.ctor){case"NoOp":return Be(Oe);case"Focus":return Be(bm(e._0));default:var r=(s(V,"CM:LogString",e._0),Am);t=r;continue t}}},Cm=function(t){return s(ga,"change",s(_n,t,pa))},Im=(s(xa,{ctor:"::",_0:s(Fa,"opened",!0),_1:{ctor:"::",_0:s(Fa,"alwaysOnTop",!0),_1:{ctor:"::",_0:s($a,"verticalAlign","top"),_1:{ctor:"::",_0:s($a,"horizontalAlign","left"),_1:{ctor:"::",_0:fa({ctor:"::",_0:s(Sm["=>"],"margin","0"),_1:{ctor:"::",_0:s(Sm["=>"],"position","absolute"),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}}}}}},{ctor:"::",_0:s(Ni,{ctor:"[]"},{ctor:"::",_0:Ci("Big Header"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}),e(function(t,e){return s(ga,s(k["++"],Js(t),"-changed"),s(_n,e,s(hn,{ctor:"::",_0:"detail",_1:{ctor:"::",_0:"value",_1:{ctor:"[]"}}},bn)))}),r(function(t,e,r){return s(ga,s(k["++"],Js(t),"-changed"),s(_n,r,s(hn,{ctor:"::",_0:"detail",_1:{ctor:"::",_0:"value",_1:{ctor:"[]"}}},e)))})),Nm=e(function(t,e){return s(ga,s(k["++"],Js(t),"-changed"),s(_n,e,s(hn,{ctor:"::",_0:"detail",_1:{ctor:"::",_0:"value",_1:{ctor:"[]"}}},yn)))}),qm=(s(Fa,"noLabelFloatP",!0),Ki("selected"),Ki("label"),s(Ki,"slot","dropdown-content")),Mm=s(Ki,"slot","dropdown-trigger"),jm=s(Fa,"dynamicAlign",!0),Dm=(s(Ki,"secondary","true"),Ii("paper-icon-button")),Rm=Ki("icon"),Bm=e(function(t,e){return s(Dm,s(k["++"],e,{ctor:"::",_0:Rm(t),_1:{ctor:"[]"}}),{ctor:"[]"})}),Pm=(Rm("done-all"),Ii("iron-icon")),Lm=e(function(t,e){return s(Pm,s(k["++"],e,{ctor:"::",_0:Rm(t),_1:{ctor:"[]"}}),{ctor:"[]"})}),Fm=r(function(t,e,r){return s(Ea,{ctor:"::",_0:Yi("icon-text font-caption"),_1:{ctor:"::",_0:Ja(r),_1:{ctor:"[]"}}},{ctor:"::",_0:s(Lm,t,{ctor:"::",_0:Yi("big"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:Ci(e),_1:{ctor:"[]"}}})}),$m=s(Fa,"customSw",!0),Um=e(function(t,e){return v.update(e,{token:t})}),Vm=e(function(t,e){return v.update(e,{connected:t})}),Jm=function(t){return Xr({ctor:"::",_0:s(Sm["=>"],"id",en(t.id)),_1:{ctor:"::",_0:s(Sm["=>"],"token",s(Ka,en,t.token)),_1:{ctor:"::",_0:s(Sm["=>"],"connected",Yr(t.connected)),_1:{ctor:"[]"}}}})},zm=(Ka(en),function(t){return t.photoURL}),Hm=function(t){var e=t;return"NotLoggedIn"===e.ctor?z:W(e._0.id)},Wm=function(t){var e=t;return"NotLoggedIn"===e.ctor?z:pt(e._0.providerData)},Km=Nm("data"),Gm=function(t){return ln({ctor:"::",_0:rn(z),_1:{ctor:"::",_0:s(_n,W,t),_1:{ctor:"[]"}}})}(bn),Xm=s(Im,"token",Gm),Qm=function(t){return{id:t,connected:!1,token:z}},Ym=Ee.outgoingPort("signIn",function(t){return null}),Zm=Ee.outgoingPort("signOut",function(t){return null}),ty=Ee.outgoingPort("firebaseRefSet",function(t){return[t._0,t._1]}),ey=e(function(t,e){return ty({ctor:"_Tuple2",_0:s(k["++"],"/users/",s(k["++"],e,s(k["++"],"/clients/",t.id))),_1:Jm(t)})}),ry=(Ee.outgoingPort("firebaseRefPush",function(t){return[t._0,t._1]}),Ee.outgoingPort("fireStartSync",function(t){return t})),ny=ry,oy=Ee.outgoingPort("firebaseSetupOnDisconnect",function(t){return[t._0,t._1]}),uy=e(function(t,e){return oy({ctor:"_Tuple2",_0:e,_1:t.id})}),cy=Ee.incomingPort("onFirebaseChange",s(on,function(t){return s(on,function(e){return cn({ctor:"_Tuple2",_0:t,_1:e})},s(dn,1,nn))},s(dn,0,bn))),iy=function(t){return cy(m(t))},ay=e(function(t,e){return{id:t,providerData:e}}),sy=o(function(t,e,r,n,o){return{displayName:t,email:e,photoURL:r,providerId:n,uid:o}}),fy=f(En,"uid",bn,f(En,"providerId",bn,f(En,"photoURL",bn,f(En,"email",bn,f(En,"displayName",bn,cn(sy)))))),_y=(r(function(t,e,r){return{id:t,connected:e,token:r}}),function(t){return{ctor:"LoggedIn",_0:t}}),ly={ctor:"NotLoggedIn"},dy=ln({ctor:"::",_0:s(_n,_y,f(En,"providerData",vn(fy),f(En,"uid",bn,cn(ay)))),_1:{ctor:"::",_0:cn(ly),_1:{ctor:"[]"}}}),py=s(Im,"user",dy),hy=function(t){return v.update(t,{deleted:!t.deleted})},vy=e(function(t,e){return v.update(e,{deviceId:t})}),gy=e(function(t,e){return v.update(e,{modifiedAt:t})}),my=(e(function(t,e){return v.update(e,{deleted:t})}),function(t){return t.deleted}),yy=function(t){return!my(t)},by=function(t){return{ctor:"::",_0:s(Sm["=>"],"_id",en(t.id)),_1:{ctor:"::",_0:s(Sm["=>"],"_rev",en(t.rev)),_1:{ctor:"::",_0:s(Sm["=>"],"createdAt",tn(I(t.createdAt))),_1:{ctor:"::",_0:s(Sm["=>"],"modifiedAt",tn(I(t.modifiedAt))),_1:{ctor:"::",_0:s(Sm["=>"],"deleted",Yr(t.deleted)),_1:{ctor:"::",_0:s(Sm["=>"],"deviceId",en(t.deviceId)),_1:{ctor:"[]"}}}}}}}},wy=e(function(t,e){return Xr(s(k["++"],by(e),t(e)))}),Ty=function(t){return _(Sn,"deviceId",bn,"",_(Sn,"deleted",yn,!1,_(Sn,"modifiedAt",gn,0,_(Sn,"createdAt",gn,0,_(Sn,"_rev",bn,"",f(En,"_id",bn,t))))))},ky=function(t){return t.id},Sy=function(t){return function(e){return s(fm,t,ky(e))}},Ey=e(function(t,e){return v.eq(ky(t),ky(e))}),xy=(u(function(t,e,r,n,o,u){return{id:t,rev:e,dirty:r,deleted:n,createdAt:o,modifiedAt:u}}),e(function(t,e){t(e);return e})),Ay=e(function(t,e){return xy(function(r){return s(V,e,t(r))})}),Oy=(b(e(function(t,e){return{ctor:"::",_0:t,_1:e}})),b(Cs)),Cy=function(t){return"[]"===t.ctor?0:st(t)-1},Iy=function(t){return s(fi["#"],function(t){return s(D,0,Cy(t))},t)},Ny=b(Iy),qy=function(t){return s(R_,t,W_)},My=function(t){return U_(I(t))},jy=s(R_,function(t){return zt(t+48)},s(V_,0,9)),Dy=s(R_,function(t){return zt(t+65)},s(V_,0,25)),Ry=s(R_,function(t){return zt(t+97)},s(V_,0,25)),By=H_({ctor:"::",_0:{ctor:"_Tuple2",_0:26,_1:Ry},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:26,_1:Dy},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:10,_1:jy},_1:{ctor:"[]"}}}}),Py=s(R_,Kt,s(j_,64,By)),Ly=function(t){return s(R_,t,Py)},Fy=e(function(t,e){return v.update(e,{list:t})}),$y=e(function(t,e){return s(Fy,t(e),e)}),Uy=function(t){return t.list},Vy=e(function(t,e){return v.update(e,{seed:t})}),Jy=(e(function(t,e){return s(Vy,t(e),e)}),function(t){return t.seed}),zy=function(t){return function(e){return s(ms,t,Uy(e))}},Hy=function(t){return zy(Sy(t))},Wy=function(t){return function(e){return s(lm,t,Uy(e))}},Ky=function(t){return function(e){return s(gt,t,Uy(e))}},Gy=function(t){return function(e){return s(vt,t,Uy(e))}},Xy=function(t){return Hr(s(Gy,ci({ctor:"_Tuple2",_0:ky,_1:T}),t))},Qy=(e(function(t,e){return rr(s(Ra,e,Xy(t)))}),function(t){return $y(function(r){return s(e(function(t,e){return{ctor:"::",_0:t,_1:e}}),t,Uy(r))})}),Yy=e(function(t,e){return s(we,s(fi["#"],Vy,e),s(N_,t,Jy(e)))}),Zy=e(function(t,e){return function(t){var e=t,r=v.update(e._0,{dirty:!0});return{ctor:"_Tuple2",_0:r,_1:s(Qy,r,e._1)}}(s(fi["#"],Yy,e)(Ly(t(e.deviceId))))}),tb=(e(function(t,e){var r=s(Qy,t,e),n=function(t){return e},o=ky(t);return s(fi["?="],s(fi["?|>"],s(Hy,o,e),n),r)}),e(function(t,e){return s(fi["#"],Fy,e)(rr(f(Fr,ky(t),t,Xy(e))))})),eb=e(function(t,e){return Dt(s(Ut,V(s(k["++"],"Store ",e.name)),s(an,e.decoder,t)))}),rb=e(function(t,e){return s(fi["?|>"],s(eb,t,e),function(t){return{ctor:"_Tuple2",_0:t,_1:s(tb,t,e)}})}),nb=r(function(t,e,r){return function(n){return s(vy,r.deviceId,s(gy,e,t(n)))}}),ob=e(function(t,e){var r=v.update(t,{dirty:!0});return s(fi["#"],Fy,e)(f(hs,Ey(t),r,e.list))}),ub=b(ob),cb=n(function(t,r,n,o){var u=f(nb,n,r,o),c=e(function(t,e){var r=e,n=u(t);return{ctor:"_Tuple2",_0:{ctor:"::",_0:{ctor:"_Tuple2",_0:t,_1:n},_1:r._0},_1:s(ub,r._1,n)}});return f(at,c,{ctor:"_Tuple2",_0:{ctor:"[]"},_1:o},s(gt,t,Uy(o)))}),ib=function(t){return cb(s(fi["#"],function(t){return Qc(ky(t))},t))},ab=(e(function(t,e){return s(wy,e.otherFieldsEncoder,t)}),function(t){return function(e){return s(yt,function(t){var e=t;if("Ok"===e.ctor)return W(e._0);s(V,"Error while decoding Project",e._0);return z},s(vt,an(t),e))}}),sb=u(function(t,e,r,n,o,u){return{seed:u,list:s(ab,r,o),name:t,otherFieldsEncoder:e,decoder:r,deviceId:n}}),fb=o(function(t,e,r,n,o){return qy(l(sb,t,e,r,n,o))}),_b=Ee.outgoingPort("pouchDBUpsert",function(t){return[t._0,t._1,t._2]}),lb=e(function(t,e){return _b({ctor:"_Tuple3",_0:t.name,_1:e.id,_2:s(wy,t.otherFieldsEncoder,e)})}),db=function(t){var e=s(fi["#"],Fy,t)(s(fi[".|>"],t.list,function(t){return v.update(t,{dirty:!1})})),r=s(gt,function(t){return t.dirty},t.list),n=s(fi[".|>"],r,lb(t));return s(Ce["!"],e,n)},pb=e(function(t,e){return s(fi["?="],s(fi["?|>"],s(eb,t,e),lb(e)),Oe)}),hb=Ee.incomingPort("pouchDBChanges",s(on,function(t){return s(on,function(e){return cn({ctor:"_Tuple2",_0:t,_1:e})},s(dn,1,nn))},s(dn,0,bn))),vb=function(t){return hb(m(t))},gb=(u(function(t,e,r,n,o,u){return{seed:t,list:e,otherFieldsEncoder:r,decoder:n,name:o,deviceId:u}}),e(function(t,e){return v.update(e,{name:t})})),mb=function(t){return t.name},yb=function(t){return{ctor:"::",_0:s(Sm["=>"],"name",en(mb(t))),_1:{ctor:"[]"}}},bb=c(function(t,e,r,n,o,u,c){return{id:t,rev:e,createdAt:r,modifiedAt:n,dirty:!1,deleted:o,deviceId:u,name:c}}),wb=n(function(t,e,r,n){return p(bb,n,"",e,e,!1,r,t)}),Tb=f(En,"name",bn,Ty(wn(bb))),kb=f(fb,"context-db",yb,Tb),Sb=p(bb,"","",0,0,!1,"","Inbox"),Eb=function(t){return s(gt,t,{ctor:"::",_0:Sb,_1:{ctor:"[]"}})},xb=fm(Sb),Ab=Q(e(function(t,e){var r={ctor:"_Tuple2",_0:xb(t),_1:xb(e)};return!0===r._0?!1===r._1?$:F:!0===r._1?L:s(j,mb(t),mb(e))})),Ob=e(function(t,e){return v.update(e,{fields:t})}),Cb=(e(function(t,e){return s(Ob,t(e),e)}),function(t){return t.fields}),Ib=e(function(t,e){return s(Ob,t(Cb(e)),e)}),Nb=(e(function(t,e){return Ib(s(Fr,t,e))}),r(function(t,e,r){return function(t){return v.update(t,{updatedAt:r})}(v.update(e,{input:t}))})),qb=r(function(t,e,r){var n=(v.cmp(t-r.updatedAt,1e3)>0?f(Eu,Iu(1),Ou(s(k["++"],"^",Cu(r.input))),function(t){return""}):T)(e);return f(Nb,n,r,t)}),Mb=function(t){return{input:"",updatedAt:t}},jb=(e(function(t,e){return{input:t,updatedAt:e}}),c(function(t,e,r,n,o,u,c){return{id:t,rev:e,deviceId:u,createdAt:r,modifiedAt:n,deleted:o,dirty:!1,name:c}})),Db=n(function(t,e,r,n){return p(jb,n,"",e,e,!1,r,t)}),Rb=p(jb,"","",0,0,!1,"","No Project"),Bb=function(t){return s(gt,t,{ctor:"::",_0:Rb,_1:{ctor:"[]"}})},Pb=fm(Rb),Lb=f(En,"name",bn,Ty(wn(jb))),Fb=e(function(t,e){return v.update(e,{name:t})}),$b=(e(function(t,e){return s(Fb,t(e),e)}),function(t){return t.name}),Ub=Q(e(function(t,e){var r={ctor:"_Tuple2",_0:Pb(t),_1:Pb(e)};return!0===r._0?!1===r._1?$:F:!0===r._1?L:s(j,$b(t),$b(e))})),Vb=function(t){return{ctor:"::",_0:s(Sm["=>"],"name",en($b(t))),_1:{ctor:"[]"}}},Jb=e(function(t,e){return v.update(e,{rev:t})}),zb=(e(function(t,e){return s(Jb,t(e),e)}),e(function(t,e){return v.update(e,{id:t})})),Hb=(e(function(t,e){return s(zb,t(e),e)}),f(fb,"project-db",Vb,Lb)),Wb=r(function(t,e,r){return s(t._0.set,e,r)}),Kb=r(function(t,e,r){return f(Wb,e,r,t)}),Gb=r(function(t,e,r){return s(fi["?="],s(fi["?|>"],e,s(Kb,r,t)),r)}),Xb=r(function(t,e,r){return f(Gb,e,r,t)}),Qb=e(function(t,e){return t._0.get(e)}),Yb=r(function(t,e,r){return f(Kb,r,t,e(s(Qb,t,r)))}),Zb=r(function(t,e,r){return s(fi["?="],s(fi["?|>"],e(s(Qb,t,r)),s(Kb,r,t)),r)}),tw=r(function(t,e,r){return s(we,s(Kb,r,t),e(s(Qb,t,r)))}),ew=r(function(t,e,r){return s(fi["?|>"],e(s(Qb,t,r)),we(s(Kb,r,t)))}),rw=r(function(t,e,r){return s(Te,s(Kb,r,t),e(s(Qb,t,r)))}),nw=(e(function(t,e){return{get:t,set:e}}),function(t){return{ctor:"Field",_0:t}}),ow=e(function(t,e){return nw({get:t,set:e})}),uw=function(t){var e=t;switch(e.ctor){case"NoReminder":return z;case"WithReminder":return W(e._1);default:return z}},cw=(e(function(t,e){return!v.eq(uw(t),uw(e))}),function(t){var e=t;switch(e.ctor){case"NoReminder":case"WithReminder":return W(e._0);default:return z}}),iw=function(t){var e=function(t){return s(Sm["=>"],"dueAt",Zr(t))},r=function(){var r=t;switch(r.ctor){case"NoReminder":return{ctor:"::",_0:e(r._0),_1:{ctor:"[]"}};case"WithReminder":return{ctor:"::",_0:e(r._0),_1:{ctor:"::",_0:s(Sm["=>"],"reminderAt",Zr(r._1)),_1:{ctor:"[]"}}};default:return{ctor:"[]"}}}();return Xr(r)},aw={ctor:"Unscheduled"},sw=aw,fw=e(function(t,e){return{ctor:"WithReminder",_0:t,_1:e}}),_w=function(t){return s(fw,t,t)},lw=function(t){return s(fi["?="],s(fi["?|>"],t,_w),sw)},dw=e(function(t,e){return s(fw,t,e)}),pw=e(function(t,e){var r=e;switch(r.ctor){case"NoReminder":case"WithReminder":return s(fw,r._0,t);default:return e}}),hw=function(t){return pw(t+9e5)},vw=function(t){return{ctor:"NoReminder",_0:t}},gw=function(t){return vw(t)},mw=function(){return s(on,function(t){return ln({ctor:"::",_0:s(on,function(e){return cn(s(dw,t,e))},s(hn,{ctor:"::",_0:"schedule",_1:{ctor:"::",_0:"reminderAt",_1:{ctor:"[]"}}},gn)),_1:{ctor:"::",_0:cn(gw(t)),_1:{ctor:"[]"}}})},s(hn,{ctor:"::",_0:"schedule",_1:{ctor:"::",_0:"dueAt",_1:{ctor:"[]"}}},gn))}(),yw=function(){return s(on,function(t){return ln({ctor:"::",_0:s(on,function(e){return cn(s(dw,t,e))},s(hn,{ctor:"::",_0:"reminder",_1:{ctor:"::",_0:"at",_1:{ctor:"[]"}}},gn)),_1:{ctor:"::",_0:cn(gw(t)),_1:{ctor:"[]"}}})},s(pn,"dueAt",gn))}(),bw=ln({ctor:"::",_0:mw,_1:{ctor:"::",_0:yw,_1:{ctor:"::",_0:cn(sw),_1:{ctor:"[]"}}}}),ww=function(t){var e=t;switch(e.ctor){case"WithReminder":return vw(e._0);case"NoReminder":default:return t}},Tw=function(t){return function(e){return s(ct,T,s(oi,t,e))}},kw=function(t){return t.contextId},Sw=function(t){return function(e){return s(fm,ky(t),kw(e))}},Ew=function(t){return t.done},xw=function(t){return!Ew(t)},Aw=function(t){return t.text},Ow=function(t){return{ctor:"::",_0:s(Sm["=>"],"done",Yr(Ew(t))),_1:{ctor:"::",_0:s(Sm["=>"],"text",en(Aw(t))),_1:{ctor:"::",_0:s(Sm["=>"],"projectId",en(t.projectId)),_1:{ctor:"::",_0:s(Sm["=>"],"contextId",en(t.contextId)),_1:{ctor:"::",_0:s(Sm["=>"],"schedule",iw(t.schedule)),_1:{ctor:"[]"}}}}}}},Cw=(e(function(t,e){return s(fi["?="],s(fi["?|>"],t,function(t){var r=e;return"None"===r.ctor?vw(t):s(fw,t,r._0)}),sw)}),function(t){return function(e){return function(r){return function(n){return function(o){return function(u){return function(c){return function(i){return function(a){return function(s){return function(f){return{id:t,rev:e,dirty:!1,createdAt:r,modifiedAt:n,deviceId:u,deleted:o,done:c,text:i,schedule:a,projectId:s,contextId:f}}}}}}}}}}}}),Iw=function(t){return _(Sn,"contextId",bn,"",_(Sn,"projectId",bn,"",s(Tn,bw,f(En,"text",bn,_(Sn,"done",yn,!1,t)))))}(Ty(wn(Cw))),Nw=n(function(t,e,r,n){return Cw(n)("")(t)(t)(!1)(r)(!1)(e)(sw)("")("")}),qw=s(ow,function(t){return t.deleted},e(function(t,e){return v.update(e,{deleted:t})})),Mw=s(ow,function(t){return t.contextId},e(function(t,e){return v.update(e,{contextId:t})})),jw=s(ow,function(t){return t.projectId},e(function(t,e){return v.update(e,{projectId:t})})),Dw=s(ow,function(t){return t.schedule},e(function(t,e){return v.update(e,{schedule:t})})),Rw=e(function(t,e){return f(Yb,Dw,t,e)}),Bw=s(ow,function(t){return t.text},e(function(t,e){return v.update(e,{text:t})})),Pw=s(ow,function(t){return t.done},e(function(t,e){return v.update(e,{done:t})})),Lw=function(t){return t.modifiedAt},Fw=function(t){return t.createdAt},$w=function(t){return t.projectId},Uw=function(t){return function(e){return s(fm,ky(t),$w(e))}},Vw=function(t){return t.deleted},Jw=Vw,zw=gm({ctor:"::",_0:Jw,_1:{ctor:"::",_0:Ew,_1:{ctor:"[]"}}}),Hw=function(t){return!zw(t)},Ww=function(t){return!Vw(t)},Kw=Tw({ctor:"::",_0:Ww,_1:{ctor:"::",_0:Ew,_1:{ctor:"[]"}}}),Gw=Tw({ctor:"::",_0:Vw,_1:{ctor:"[]"}}),Xw=function(t){return uw(function(t){return t.schedule}(t))},Qw=e(function(t,e){return!!Hw(e)&&function(e){return f(Ds,!1,function(e){return v.cmp(e,t)<1},Xw(e))}(e)}),Yw=function(t){return cw(function(t){return t.schedule}(t))},Zw=function(t){return s(qs,Yw(t),Xw(t))},tT=function(t){return s(fi["?="],s(fi["?|>"],si({ctor:"_Tuple2",_0:Xw(t),_1:Yw(t)}),m(sm)),!1)},eT=(o(function(t,e,r,n,o){return{done:t,text:e,schedule:r,projectId:n,contextId:o}}),function(t){return{ctor:"At",_0:t}}),rT=(f(En,"at",gn,wn(function(t){return eT(t)})),function(t){return{ctor:"AutoSnooze",_0:t}}),nT=function(t){return{ctor:"SnoozeTill",_0:t}},oT={ctor:"TurnReminderOff"},uT={ctor:"ToggleDeleted"},cT={ctor:"ToggleDone"},iT=function(t){return{ctor:"SetProject",_0:t}},aT=function(t){return{ctor:"CopyProjectAndContextId",_0:t}},sT=function(t){return{ctor:"SetProjectId",_0:t}},fT=function(t){return{ctor:"SetContext",_0:t}},_T=function(t){return{ctor:"SetScheduleFromMaybeTime",_0:t}},lT=function(t){return{ctor:"SetContextId",_0:t}},dT=function(t){var e=t;switch(e.ctor){case"SetText":return s(Wb,Bw,e._0);case"SetContextId":return s(Wb,Mw,e._0);case"SetProjectId":return s(Wb,jw,e._0);case"SetSchedule":return s(Wb,Dw,e._0);case"CopyProjectAndContextId":var r=e._0;return function(t){return s(dT,sT(r.projectId),s(dT,lT(r.contextId),t))};case"SetProject":return s(Wb,jw,ky(e._0));case"SetContext":return s(Wb,Mw,ky(e._0));case"ToggleDone":return s(Yb,Pw,N);case"MarkDone":return s(Wb,Pw,!0);case"ToggleDeleted":return s(Yb,qw,N);case"SetScheduleFromMaybeTime":return s(Wb,Dw,lw(e._0));case"TurnReminderOff":return Rw(ww);case"SnoozeTill":return Rw(pw(e._0));default:return Rw(hw(e._0))}},pT=function(t){return{ctor:"SetText",_0:t}},hT={ctor:"MarkDone"},vT=e(function(t,e){return{project:e,list:t(e)}}),gT=e(function(t,e){var r=function(t){return s(gt,Uw(t),e.list)},n=Ub(s(yt,T,s(fi[".|>"],Ts(s(fi[".|>"],e.list,$w)),t)));return s(fi[".|>"],n,vT(r))}),mT=e(function(t,e){return{context:e,list:t(e)}}),yT=e(function(t,e){var r=function(t){return s(gt,Sw(t),e.list)},n=Ab(s(yt,T,s(fi[".|>"],Ts(s(fi[".|>"],e.list,kw)),t)));return s(fi[".|>"],n,mT(r))}),bT=function(t){var e=t;switch(e.ctor){case"ContextsView":return{ctor:"::",_0:"lists",_1:{ctor:"::",_0:"contexts",_1:{ctor:"[]"}}};case"ProjectsView":return{ctor:"::",_0:"lists",_1:{ctor:"::",_0:"projects",_1:{ctor:"[]"}}};case"ProjectView":var r=e._0;return be(r)?{ctor:"::",_0:"project",_1:{ctor:"::",_0:"NotAssigned",_1:{ctor:"[]"}}}:{ctor:"::",_0:"project",_1:{ctor:"::",_0:r,_1:{ctor:"[]"}}};default:var n=e._0;return be(n)?{ctor:"::",_0:"Inbox",_1:{ctor:"[]"}}:{ctor:"::",_0:"context",_1:{ctor:"::",_0:n,_1:{ctor:"[]"}}}}},wT=e(function(t,e){var r=Ey,n={ctor:"_Tuple2",_0:t,_1:e};t:do{if("_Tuple2"!==n.ctor)break t;switch(n._0.ctor){case"ProjectEntity":if("ProjectEntity"===n._1.ctor)return s(r,n._0._0,n._1._0);break t;case"ContextEntity":if("ContextEntity"===n._1.ctor)return s(r,n._0._0,n._1._0);break t;default:if("TodoEntity"===n._1.ctor)return s(r,n._0._0,n._1._0);break t}}while(!1);return!1}),TT=r(function(t,e,r){return s(qs,pt(e),s(Oy,e,s(Ny,e,s(im,t,s(fi["?="],s(gs,wT(r),e),0)))))}),kT=function(t){var e=t;switch(e.ctor){case"TodoEntity":case"ProjectEntity":default:return ky(e._0)}},ST=(e(function(t,e){return{context:t,list:e}}),e(function(t,e){return{project:t,list:e}}),function(t){return{ctor:"TodoEntity",_0:t}}),ET=function(t){return{ctor:"ContextEntity",_0:t}},xT=function(t){return{ctor:"ProjectEntity",_0:t}},AT=function(t){return{ctor:"ProjectView",_0:t}},OT={ctor:"ProjectsView"},CT=function(t){return{ctor:"ContextView",_0:t}},IT=e(function(t,e){var r=AT($w(t)),n=CT(kw(t));switch(e.ctor){case"ProjectsView":case"ProjectView":return n;case"ContextsView":default:return r}}),NT=e(function(t,e){var r=e;switch(r.ctor){case"ContextEntity":return CT(ky(r._0));case"ProjectEntity":return AT(ky(r._0));default:var n=r._0;return s(fi["?="],s(fi["?|>"],t,IT(n)),CT(kw(n)))}}),qT={ctor:"ContextsView"},MT=qT,jT={ctor:"Goto"},DT={ctor:"ToggleSelected"},RT={ctor:"OnFocusIn"},BT=function(t){return{ctor:"NameChanged",_0:t}},PT={ctor:"Save"},LT={ctor:"ToggleDeleted"},FT={ctor:"StartEditing"},$T=function(t){return{ctor:"MultiProject",_0:t}},UT=e(function(t,e){return $T(s(fi[".|>"],e,vT(t)))}),VT=function(t){return{ctor:"MultiContext",_0:t}},JT=e(function(t,e){return VT(s(fi[".|>"],e,mT(t)))}),zT=function(t){var e=t;switch(e.ctor){case"SingleContext":return{ctor:"::",_0:ET(e._0.context),_1:zT($T(e._1))};case"SingleProject":return{ctor:"::",_0:xT(e._0.project),_1:zT(VT(e._1))};case"MultiContext":return s(St,function(t){return{ctor:"::",_0:ET(t.context),_1:s(fi[".|>"],t.list,ST)}},e._0);default:return s(St,function(t){return{ctor:"::",_0:xT(t.project),_1:s(fi[".|>"],t.list,ST)}},e._0)}},HT=e(function(t,e){return{ctor:"SingleProject",_0:t,_1:e}}),WT=r(function(t,e,r){return function(t){return s(HT,t,s(yT,e,t))}(s(vT,t,r))}),KT=e(function(t,e){return{ctor:"SingleContext",_0:t,_1:e}}),GT=r(function(t,e,r){return function(t){return s(KT,t,s(gT,e,t))}(s(mT,t,r))}),XT=e(function(t,e){return v.update(e,{text:t})}),QT=function(t){return t.text},YT=e(function(t,e){return{text:e,referenceEntity:t}}),ZT=(e(function(t,e){return{text:t,referenceEntity:e}}),e(function(t,e){return s(on,function(r){var n=s(an,e,r);return"Ok"===n.ctor?cn(n._0):un(s(V,t,n._0))},nn)})),tk=(Gp(xd),Gp(cl),Gp(Pp)),ek=(Gp(Lp),Gp(Fp),el),rk=function(t){return s(Me,t,Y_)},nk=tl,ok=function(t){return Cf(function(e){return t(Qp(e))})},uk=(e(function(t,e){return s(on,function(r){s(V,"actualKey, expectedKey",{ctor:"_Tuple2",_0:r,_1:t});return v.eq(t,r)?cn(e):un("Not intrested")},Yp)}),function(t){return t.isShiftDown||t.isMetaDown||t.isControlDown||t.isAltDown}),ck=function(t){return!uk(t)},ik=s(_n,Qp,s(pn,"keyCode",mn)),ak={stopPropagation:!0,preventDefault:!1},sk=u(function(t,e,r,n,o,u){return{key:t,isShiftDown:e,isMetaDown:r,isControlDown:n,isAltDown:o,keyString:u}}),fk=f(En,"key",bn,f(En,"altKey",yn,f(En,"ctrlKey",yn,f(En,"metaKey",yn,f(En,"shiftKey",yn,s(Tn,ik,cn(sk))))))),_k=function(t){return s(ga,"keyup",s(_n,t,s(ZT,"kd",fk)))},lk=function(t){return s(ga,"keydown",s(_n,t,s(ZT,"kd",fk)))},dk=function(t){return f(va,"keydown",ak,s(_n,t,s(ZT,"kd",fk)))},pk=function(t){return s(ji,{ctor:"::",_0:Yi("fullbleed-capture"),_1:{ctor:"::",_0:ba(t.onMouseDown),_1:{ctor:"[]"}}},t.children)},hk=(e(function(t,e){return{onMouseDown:t,children:e}}),function(t){return{ctor:"_Tuple2",_0:t.key,_1:s(Mi,{ctor:"::",_0:wa(t.onClick),_1:{ctor:"::",_0:Gi(t.tabIndexValue),_1:{ctor:"::",_0:dk(t.onKeyDown),_1:{ctor:"::",_0:sa({ctor:"::",_0:s(Sm["=>"],"auto-focus",t.isFocused),_1:{ctor:"::",_0:s(Sm["=>"],"collection-item",!0),_1:{ctor:"::",_0:s(Sm["=>"],"active",t.isSelected),_1:{ctor:"[]"}}}}),_1:{ctor:"[]"}}}}},{ctor:"::",_0:t.view,_1:{ctor:"[]"}})}}),vk=function(t){return t?0:-1},gk=r(function(t,e,r){return{key:t.itemKey(r),isSelected:t.isSelectedAt(e),isFocused:t.isFocusedAt(e),tabIndexValue:t.tabIndexValueAt(e),onClick:t.onSelect(r),view:t.itemView(r),onKeyDown:t.onKeyDownAt(e)}}),mk=function(t){return function(e){return s(m,Tt,Je(s(rs,t,e)))}},yk=e(function(t,e){return v.update(e,{maybeFocusKey:W(t)})}),bk=b(yk),wk=r(function(t,e,r){var n=function(t){return s(fi["?="],s(fi["?|>"],t,function(t){return r.onStateChanged(s(bk,e,r.itemKey(t)))}),r.noOp)},o=function(){var n=function(e){return s(gs,function(t){return s(fm,e,r.itemKey(t))},t)};return s(fi["?+>"],e.maybeFocusKey,s(Sm[">>?"],n,Ny(t)))}(),u=Ny(t),c=s(fi["?|>"],s(gs,r.isSelected,t),u),i=s(fi["?="],s(qs,c,o),0),a=function(e){var o=function(){var t=ye(e),n=ee;return function(e){return s(te,n(t),n(r.itemSearchText(e)))}}();return n(s(ms,o,s(mk,i+1,t)))},f=fm(i),_=function(e){var o=e,c=function(e){return n(s(fi["#"],Cs,t)(u(i+e)))};switch(o.key.ctor){case"Enter":return s(fi["?="],s(fi["?|>"],s(Cs,i,t),r.onSelect),r.noOp);case"ArrowUp":return c(-1);case"ArrowDown":return c(1);default:var f=Gt(o.keyString);return"::"===f.ctor&&"[]"===f._1.ctor?a(f._0):r.noOp}},l=function(t){return f(t)?_:function(t){return r.noOp}};return{isFocusedAt:f,isSelectedAt:s(fi["?="],s(fi["?|>"],c,fm),function(t){return!1}),tabIndexValueAt:function(t){return vk(f(t))},onKeyDownAt:l,onSelect:r.onSelect,itemView:r.itemView,itemKey:r.itemKey}}),Tk=r(function(t,e,r){var n=f(wk,t,e,r),o=s(Sm[".#|>"],t,s(Sm[">>>"],gk(n),hk));return pk({onMouseDown:r.onOutsideMouseDown,children:{ctor:"::",_0:f(of,"ul",{ctor:"::",_0:Zi("popup-menu"),_1:{ctor:"::",_0:Yi("collection z-depth-4"),_1:{ctor:"::",_0:s(Ki,"data-prevent-default-keys","Tab"),_1:{ctor:"[]"}}}},o),_1:{ctor:"[]"}}})}),kk={maybeFocusKey:z},Sk=(i(function(t,e,r,n,o,u,c,i){return{onSelect:t,itemKey:e,itemSearchText:r,itemView:n,isSelected:o,onStateChanged:u,noOp:c,onOutsideMouseDown:i}}),c(function(t,e,r,n,o,u,c){return{isFocusedAt:t,isSelectedAt:e,tabIndexValueAt:r,onKeyDownAt:n,onSelect:o,itemView:u,itemKey:c}}),c(function(t,e,r,n,o,u,c){return{key:t,isFocused:e,tabIndexValue:r,isSelected:n,onClick:o,onKeyDown:u,view:c}}),e(function(t,e){return v.update(e,{menuState:t})})),Ek=function(t){return{todo:t,menuState:kk}},xk=(e(function(t,e){return{todo:t,menuState:e}}),e(function(t,e){var r=t;return v.update(e,{todoText:r._0})})),Ak=function(t){return{id:ky(t),todoText:Aw(t)}},Ok=(e(function(t,e){return{id:t,todoText:e}}),function(t){return{ctor:"SetText",_0:t}}),Ck=function(t){var e=t,r=s(k["++"],e.date,s(k["++"]," ",e.time));return s(fi["!="],s(fi["!|>"],So(r),function(t){return W(ko(t))}),z)},Ik=e(function(t,e){var r=t;switch(r.ctor){case"SetDate":return v.update(e,{date:r._0});case"SetTime":return v.update(e,{time:r._0});default:return v.update(e,{menuState:r._0})}}),Nk=e(function(t,e){var r=s(fi["?="],Xw(t),e+36e5);return{id:ky(t),date:s(A_,"%Y-%m-%d",r),time:s(A_,"%H:%M",r),menuState:kk}}),qk=(n(function(t,e,r,n){return{id:t,date:e,time:r,menuState:n}}),function(t){return{ctor:"SetMenuState",_0:t}}),Mk=function(t){return{ctor:"SetTime",_0:t}},jk=function(t){return{ctor:"SetDate",_0:t}},Dk=(e(function(t,e){return{id:t,name:e}}),e(function(t,e){return{id:t,name:e}}),{ctor:"None"}),Rk=Dk,Bk=function(t){return{ctor:"EditSyncSettings",_0:t}},Pk=function(t){return{ctor:"LaunchBar",_0:t}},Lk=function(t){return{ctor:"EditTodoProject",_0:t}},Fk=function(t){return{ctor:"EditTodoContext",_0:t}},$k=function(t){return{ctor:"EditTodoReminder",_0:t}},Uk=function(t){return{ctor:"EditProject",_0:t}},Vk=function(t){return Uk({id:ky(t),name:$b(t)})},Jk=e(function(t,e){return Uk(v.update(e,{name:t}))}),zk=function(t){return{ctor:"EditContext",_0:t}},Hk=function(t){return zk({id:ky(t),name:mb(t)})},Wk=e(function(t,e){return zk(v.update(e,{name:t}))}),Kk=function(t){return{ctor:"EditTodo",_0:t}},Gk=function(t){return{ctor:"NewTodo",_0:t}},Xk=function(t){return function(e){return s(ct,T,s(oi,t,e))}},Qk=e(function(t,e){var r=e;return"SnoozeForMilli"===r.ctor?t+r._0:ko(f(vc,Oc,10,s(bc,xc,To(t))))}),Yk=e(function(t,e){return{id:t,text:e}}),Zk=function(t){return s(Yk,ky(t),Aw(t))},tS={ctor:"SnoozeView"},eS={ctor:"InitialView"},rS=e(function(t,e){return{ctor:"Active",_0:t,_1:e}}),nS=function(t){return s(rS,eS,Zk(t))},oS=rS(tS),uS=(s(rS,eS,s(Yk,"dummy-todo-id","dummy todo")),{ctor:"None"}),cS=uS,iS={ctor:"Close"},aS={ctor:"MarkDone"},sS={ctor:"Dismiss"},fS=function(t){return{ctor:"SnoozeTill",_0:t}},_S={ctor:"ShowSnoozeOptions"},lS={ctor:"SnoozeTillTomorrow"},dS=function(t){return{ctor:"SnoozeForMilli",_0:t}},pS=(e(function(t,e){return{action:t,data:e}}),o(function(t,e,r,n,o){return{tag:t,title:e,body:r,actions:n,data:o}}),e(function(t,e){return{ctor:"UpdateReminderForm",_0:t,_1:e}})),hS=function(t){return{ctor:"Upsert",_0:t}},vS={ctor:"UpdateTimeTracker"},gS={ctor:"GotoRunning"},mS=function(t){return{ctor:"RunningNotificationResponse",_0:t}},yS={ctor:"TogglePaused"},bS={ctor:"StopRunning"},wS=function(t){return{ctor:"InitRunning",_0:t}},TS=f(fb,"todo-db",Ow,Iw),kS=function(t){var e=t;switch(e.ctor){case"Project":return $b(e._0);case"Context":return mb(e._0);case"Projects":return"Projects";default:return"Contexts"}},SS=e(function(t,e){var r=function(t){return f(cm,{ctor:"[]"},{ctor:"[]"},t)},n=zs,o=function(t){return n(kS(t))}(e),u=n(t),c={ctor:"_Tuple2",_0:Gt(t),_1:e};t:do{if("_Tuple2"!==c.ctor||"::"!==c._0.ctor||"[]"!==c._0._1.ctor)break t;switch(c._0._0.valueOf()){case"#":if("Projects"===c._1.ctor)return{ctor:"_Tuple2",_0:e,_1:s(r,u,"#")};break t;case"@":if("Contexts"===c._1.ctor)return{ctor:"_Tuple2",_0:e,_1:s(r,u,"@")};break t;default:break t}}while(!1);return{ctor:"_Tuple2",_0:e,_1:s(r,u,o)}}),ES={ctor:"Contexts"},xS={ctor:"Projects"},AS=function(t){return{ctor:"Project",_0:t}},OS=function(t){return{ctor:"Context",_0:t}},CS=r(function(t,e,r){var n=s(fi[".|>"],r,AS),o=s(fi[".|>"],e,OS),u=s(k["++"],n,s(k["++"],o,{ctor:"::",_0:xS,_1:{ctor:"::",_0:ES,_1:{ctor:"[]"}}})),c=function(){var e=Gt(t);t:do{if("::"!==e.ctor)break t;switch(e._0.valueOf()){case"#":return s(k["++"],{ctor:"::",_0:xS,_1:{ctor:"[]"}},n);case"@":return s(k["++"],{ctor:"::",_0:ES,_1:{ctor:"[]"}},o);default:break t}}while(!1);return u}();return s(Y,function(t){return function(t){return t.score}(ke(t))},s(fi[".|>"],c,SS(t)))}),IS=OS(Sb),NS={ctor:"Open"},qS=e(function(t,e){return{ctor:"OnInputChanged",_0:t,_1:e}}),MS=function(t){return{ctor:"OnEnter",_0:t}},jS=e(function(t,e){return s(Di,s(k["++"],{ctor:"::",_0:Yi("btn-flat btn-floating x24 "),_1:{ctor:"[]"}},e),{ctor:"::",_0:s(Ri,{ctor:"::",_0:Yi("material-icons"),_1:{ctor:"[]"}},{ctor:"::",_0:Ci(t),_1:{ctor:"[]"}}),_1:{ctor:"[]"}})}),DS=e(function(t,e){return s(Di,s(k["++"],{ctor:"::",_0:Yi("btn-flat btn-floating"),_1:{ctor:"[]"}},e),{ctor:"::",_0:s(Ri,{ctor:"::",_0:Yi("material-icons"),_1:{ctor:"[]"}},{ctor:"::",_0:Ci(t),_1:{ctor:"[]"}}),_1:{ctor:"[]"}})}),RS=function(t){return s(Ds,!1,function(e){return s(Sy,e.todoId,t)})},BS=K,PS=BS(function(t){return t.todoId}),LS=W,FS=e(function(t,e){var r=e;if("Nothing"===r.ctor)return{ctor:"_Tuple2",_0:z,_1:e};var n=r._0;return s(we,LS,function(){if(v.cmp(t,n.nextAlarmAt)>-1){var e=v.update(n,{nextAlarmAt:t+6e5});return{ctor:"_Tuple2",_0:W(e),_1:e}}return{ctor:"_Tuple2",_0:z,_1:n}}())}),$S=z,US=(n(function(t,e,r,n){return{todoId:t,totalTime:e,state:r,nextAlarmAt:n}}),{ctor:"Paused"}),VS=function(t){return{ctor:"Running",_0:t}},JS=e(function(t,e){return LS({todoId:t,totalTime:0,state:VS(e),nextAlarmAt:e+6e5})}),zS=r(function(t,e,r){return"Nothing"===r.ctor?s(JS,t,e):$S}),HS=function(t){return BS(function(e){var r=e.state;return"Running"===r.ctor?v.update(e,{totalTime:e.totalTime+(t-r._0),state:US}):v.update(e,{state:VS(t)})})},WS=function(t){return Xy(function(t){return t.projectStore}(t))},KS=function(t){return Xy(function(t){return t.contextStore}(t))},GS=e(function(t,e){return s(qs,pt(t),s(ms,wT(e.focusInEntity),t))}),XS=e(function(t,e){return s(gs,wT(e.focusInEntity),t)}),QS=e(function(t,e){return v.update(e,{keyboardState:t})}),YS=(e(function(t,e){return s(QS,t(e),e)}),function(t){return t.keyboardState}),ZS=e(function(t,e){return s(QS,t(YS(e)),e)}),tE=(e(function(t,e){return v.update(e,{now:t(e)})}),e(function(t,e){return v.update(e,{now:t})})),eE=function(t){return t.now},rE=e(function(t,e){return v.update(e,{contextStore:t})}),nE=(b(rE),e(function(t,e){return s(rE,t(e),e)}),function(t){return t.contextStore}),oE=e(function(t,e){return v.update(e,{projectStore:t})}),uE=(b(oE),e(function(t,e){return s(oE,t(e),e)}),function(t){return t.projectStore}),cE=(e(function(t,e){return s(oE,t(uE(e)),e)}),e(function(t,e){return v.update(e,{todoStore:t})})),iE=function(t){return t.todoStore},aE=(e(function(t,e){return v.update(e,{todoStore:t(iE(e))})}),e(function(t,e){return v.update(e,{selectedEntityIdSet:t})})),sE=(e(function(t,e){return s(aE,t(e),e)}),function(t){return t.selectedEntityIdSet}),fE=e(function(t,e){return s(aE,t(sE(e)),e)}),_E=e(function(t,e){return s(Qc,t,e)?s(ni,t,e):s(ei,t,e)}),lE=e(function(t,e){return v.update(e,{layout:t})}),dE=(e(function(t,e){return s(lE,t(e),e)}),function(t){return t.layout}),pE=e(function(t,e){return s(lE,t(dE(e)),e)}),hE=function(t){var e=t.mainViewType;return"EntityListView"===e.ctor?W(e._0):z},vE=kT,gE=function(t){return fE(_E(vE(t)))},mE=function(t){return t.mainViewType},yE=e(function(t,e){switch(t){case"todo-db":return function(t){return s(pb,e,iE(t))};case"project-db":return function(t){return s(pb,e,uE(t))};case"context-db":return function(t){return s(pb,e,nE(t))};default:return function(t){return Oe}}}),bE=(e(function(t,e){return s(we,s(fi["#"],cE,e),t)}),function(t){return function(e){return s(Ms,function(e){return s(ms,Sy(t),{ctor:"::",_0:Sb,_1:{ctor:"[]"}})},s(Hy,t,function(t){return t.contextStore}(e)))}}),wE=function(t){return function(e){return s(Ms,function(e){return s(ms,Sy(t),{ctor:"::",_0:Rb,_1:{ctor:"[]"}})},s(Hy,t,function(t){return t.projectStore}(e)))}},TE=function(t){return function(e){return s(Hy,t,iE(e))}},kE=function(t){switch(mE(t).ctor){case"BinView":return function(t){return B(Lw(t))};case"DoneView":return function(t){return B(Lw(t))};default:return function(t){return B(Lw(t))}}},SE=function(t){var e=Tw({ctor:"::",_0:function(t){return!Ew(t)},_1:{ctor:"::",_0:function(e){return s(fm,t.showDeleted,Jw(e))},_1:{ctor:"[]"}}}),r=mE(t);switch(r.ctor){case"BinView":return Gw;case"DoneView":return Kw;case"EntityListView":var n=r._0;switch(n.ctor){case"ContextsView":return e;case"ContextView":return Tw({ctor:"::",_0:function(t){return s(fm,n._0,kw(t))},_1:{ctor:"::",_0:e,_1:{ctor:"[]"}}});case"ProjectsView":return e;default:return Tw({ctor:"::",_0:function(t){return s(fm,n._0,$w(t))},_1:{ctor:"::",_0:e,_1:{ctor:"[]"}}})}default:return w(!0)}},EE=function(t){var e=kE(t),r=function(t){return Uy(iE(t))}(t),n=SE(t);return s(Ct,50,s(Y,e,s(gt,n,r)))},xE=aE(Zc),AE=e(function(t,e){return xE(v.update(e,{mainViewType:t}))}),OE=e(function(t,e){return v.update(e,{editMode:t})}),CE=e(function(t,e){return s(OE,t(e),e)}),IE=function(t){return t.editMode},NE=OE(Rk),qE=e(function(t,e){var r=t;switch(r.ctor){case"ContextEntity":return Hk(r._0);case"ProjectEntity":return Vk(r._0);default:return Kk(Ak(r._0))}}),ME=function(t){return{uri:t.pouchDBRemoteSyncURI}},jE=function(t){var e=function(){var e=t.editMode;return"EditSyncSettings"===e.ctor?W(e._0):z}();return s(fi["?="],e,ME(t))},DE=r(function(t,e,r){var n=r.editMode;switch(n.ctor){case"EditContext":return s(OE,s(Wk,t,n._0),r);case"EditProject":return s(OE,s(Jk,t,n._0),r);default:return r}}),RE=e(function(t,e){return s(OE,s(qE,t,e),e)}),BE=function(t){return OE(Fk(Ek(t)))},PE=function(t){return OE(Lk(Ek(t)))},LE=function(t){return CE(function(e){return $k(s(Nk,t,function(t){return t.now}(e)))})},FE=function(t){return!tk(function(t){return t.keyboardState}(t))},$E=e(function(t,e){return v.update(e,{reminderOverlay:oS(t)})}),UE=function(t){return v.update(t,{reminderOverlay:cS})},VE=e(function(t,e){return v.update(e,{reminderOverlay:nS(t)})}),JE=function(t){return s(hm,TE(t),VE)},zE=function(t){return s(Wy,gm({ctor:"::",_0:Jw,_1:{ctor:"::",_0:Ew,_1:{ctor:"[]"}}}),function(t){return t.todoStore}(t))},HE=function(t){return function(e){return s(Ba,t,zE(e))}},WE=function(t){return t.showDeleted?my:yy},KE=e(function(t,e){return Ub(s(Tt,Bb(t),s(Ky,t,e.projectStore)))}),GE=function(t){return s(KE,WE(t),t)},XE=KE(yy),QE=e(function(t,e){return Ab(s(Tt,Eb(t),s(Ky,t,e.contextStore)))}),YE=function(t){return s(QE,WE(t),t)},ZE=QE(yy),tx=e(function(t,e){return s(Y,function(t){return B(Fw(t))},s(Ky,t,e.todoStore))}),ex=e(function(t,e){var r=function(t){return s(bE,t,e)},n=function(t){return s(wE,t,e)},o=e.showDeleted?my:Xk({ctor:"::",_0:Ww,_1:{ctor:"::",_0:xw,_1:{ctor:"[]"}}}),u=function(t){return s(tx,Xk({ctor:"::",_0:o,_1:{ctor:"::",_0:Sw(t),_1:{ctor:"[]"}}}),e)},c=function(t){return s(tx,Xk({ctor:"::",_0:o,_1:{ctor:"::",_0:Uw(t),_1:{ctor:"[]"}}}),e)},i=(e.showDeleted,t);switch(i.ctor){case"ContextsView":return s(JT,u,YE(e));case"ProjectsView":return s(UT,c,GE(e));case"ContextView":return f(GT,u,n,s(fi["?="],s(bE,i._0,e),Sb));default:return f(WT,c,r,s(fi["?="],s(wE,i._0,e),Rb))}}),rx=function(t){var e=t.mainViewType;return"EntityListView"===e.ctor?zT(s(ex,e._0,t)):{ctor:"[]"}},nx=function(t){return s(m,_m,s(ci,{ctor:"_Tuple2",_0:function(t){return!function(t){return t.forceNarrow}(t)},_1:function(t){return t.narrow}},dE(t)))},ox=function(t){return function(t){return t.forceNarrow}(function(t){return t.layout}(t))},ux=function(t){return pE(function(e){return v.update(e,{narrow:t})})},cx=pE(function(t){return v.update(t,{forceNarrow:!t.forceNarrow})}),ix=function(t){return Hm(function(t){return t.user}(t))},ax=function(t){return Wm(function(t){return t.user}(t))},sx=ET(Sb),fx=s(ow,function(t){return t.keyComboModel},e(function(t,e){return v.update(e,{keyComboModel:t})})),_x=function(t){return s(rw,fx,Jg(t))},lx=s(ow,function(t){return t.focusInEntity},e(function(t,e){return v.update(e,{focusInEntity:t})})),dx=function(t){return s(Wb,lx,t)},px=e(function(t,e){return s(fi["?="],s(fi["?|>"],si({ctor:"_Tuple2",_0:s(fi["?|>"],s(TE,t,e),ST),_1:W(e)}),m(dx)),e)}),hx=s(Sm[">>>"],TT,Zb(lx)),vx=e(function(t,e){var n=r(function(t,e,r){return f(Xb,r,lx,s(qs,pt(e),s(fi["#"],Cs,e)(s(Iy,t,e))))}),o=function(e){return s(n,e,rx(t))};return function(){var t=e;return"_Tuple2"===t.ctor&&"Just"===t._0.ctor&&"Nothing"===t._1.ctor?o(t._0._0):T}()(t)}),gx=e(function(t,e){return s(vx,e,s(ze,function(e){return s(fi["#"],XS,t)(rx(e))},{ctor:"_Tuple2",_0:t,_1:e}))}),mx=n(function(t,e,r,n){return s(Ue,gx(n),s(ci,{ctor:"_Tuple2",_0:ke,_1:function(t){return Oe}},f(tw,r,f(ib,t,n.now,e),n)))}),yx=s(ow,function(t){return t.user},e(function(t,e){return v.update(e,{user:t})})),bx=Wb(yx),wx=s(ow,function(t){return t.editMode},e(function(t,e){return v.update(e,{editMode:t})})),Tx=function(t){return s(Wb,wx,Pk(Mb(t)))},kx=r(function(t,e,r){return s(Wb,wx,Pk(f(qb,t,e,r)))}),Sx=function(t){return f(Wb,wx,Gk(s(YT,t.focusInEntity,"")),t)},Ex=s(Wb,wx,Gk(s(YT,sx,""))),xx=e(function(t,e){return s(Wb,wx,Gk(s(XT,e,t)))}),Ax=s(ow,function(t){return t.firebaseClient},e(function(t,e){return v.update(e,{firebaseClient:t})})),Ox=e(function(t,e){return f(Yb,Ax,Um(t),v.update(e,{fcmToken:t}))}),Cx=function(t){return s(Yb,Ax,Vm(t))},Ix=(s(ow,function(t){return t.now},e(function(t,e){return v.update(e,{now:t})})),s(ow,function(t){return t.keyboardState},e(function(t,e){return v.update(e,{keyboardState:t})})),s(ow,function(t){return t.todoStore},e(function(t,e){return v.update(e,{todoStore:t})}))),Nx=function(t){return s(tw,Ix,Zy(t))},qx=r(function(t,e,r){var n=dT(e);return Fe(function(t){return s(gx,r,ke(t))}(f(tw,Ix,f(cb,t,r.now,n),r)))}),Mx=e(function(t,e){return s(qx,Sy(e),t)}),jx=r(function(t,e,r){var n=s(Qk,r.now,t);return function(t){return s(Te,UE,f(Mx,nT(n),e,t))}(r)}),Dx=function(t){var e=function(e){return function(t){var r=t,n=r._0;return s(fi["?|>"],s(TE,e,n),function(t){return{ctor:"_Tuple2",_0:{ctor:"_Tuple2",_0:t,_1:n},_1:r._1}})}(f(Mx,rT(t.now),e,t))};return s(fi["?+>"],s(zy,Qw(t.now),t.todoStore),function(t){return e(ky(t))})},Rx=r(function(t,e,r){return f(qx,s(fi["#"],function(t){return Qc(ky(t))},e),t,r)}),Bx=r(function(t,e,r){var n=s(Qc,e,r.selectedEntityIdSet)?r.selectedEntityIdSet:ti(e);return f(Rx,t,n,r)}),Px=s(ow,function(t){return t.projectStore},e(function(t,e){return v.update(e,{projectStore:t})})),Lx=e(function(t,e){return f(mx,ti(t),e,Px)}),Fx=s(ow,function(t){return t.contextStore},e(function(t,e){return v.update(e,{contextStore:t})})),$x=e(function(t,e){switch(t){case"todo-db":return s(Sm[">>?"],s(ew,Ix,rb(e)),Te(ST));case"project-db":return s(Sm[">>?"],s(ew,Px,rb(e)),Te(xT));case"context-db":return s(Sm[">>?"],s(ew,Fx,rb(e)),Te(ET));default:return function(t){return z}}}),Ux=e(function(t,e){return f(mx,ti(t),e,Fx)}),Vx=function(t){var e=t.editMode;switch(e.ctor){case"EditContext":var r=e._0;return f(Ux,r.id,gb(r.name),t);case"EditProject":var n=e._0;return f(Lx,n.id,Fb(n.name),t);case"EditTodo":var o=e._0;return f(Mx,pT(o.todoText),o.id,t);case"EditTodoReminder":var u=e._0;return f(Mx,_T(Ck(u)),u.id,t);case"EditTodoContext":case"EditTodoProject":return Fe(t);case"NewTodo":var c=e._0;return s(m,function(t){return function(e){return s(Te,px(t),f(Mx,function(){var t=c.referenceEntity;switch(t.ctor){case"TodoEntity":return aT(t._0);case"ContextEntity":return fT(t._0);default:return iT(t._0)}}(),t,e))}},s(Te,ky,s(Nx,s(Nw,t.now,QT(c)),t)));case"EditSyncSettings":return Fe(v.update(t,{pouchDBRemoteSyncURI:e._0.uri}));case"LaunchBar":default:return Fe(t)}},Jx=e(function(t,e){var r=vE(t);return function(){switch(t.ctor){case"ContextEntity":return s(Ux,r,hy);case"ProjectEntity":return s(Lx,r,hy);default:return s(Mx,uT,r)}}()(e)}),zx=(e(function(t,e){return{narrow:t,forceNarrow:e}}),i(function(t,e,r,n,o,u,c,i){return{now:t,encodedTodoList:e,encodedProjectList:r,encodedContextList:n,pouchDBRemoteSyncURI:o,developmentMode:u,appVersion:c,deviceId:i}}),r(function(t,e,r){return{title:t,tag:e,data:r}}),e(function(t,e){return{action:t,data:e}}),{ctor:"OnSetDomFocusToFocusInEntity"}),Hx=function(t){return{ctor:"OnCloseNotification",_0:t}},Wx=function(t){return{ctor:"OnKeyCombo",_0:t}},Kx=e(function(t,e){return{ctor:"OnTodoMsgWithTime",_0:t,_1:e}}),Gx=function(t){return{ctor:"OnTodoMsg",_0:t}},Xx=function(t){return Gx(wS(t))},Qx=function(t){return Gx(mS(t))},Yx=Gx(bS),Zx=Gx(yS),tA=Gx(gS),eA={ctor:"::",_0:s(Xg,{ctor:"_Tuple2",_0:Vg,_1:Fg},Yx),_1:{ctor:"::",_0:s(Xg,{ctor:"_Tuple2",_0:Vg,_1:Ug},Zx),_1:{ctor:"::",_0:s(Xg,{ctor:"_Tuple2",_0:Vg,_1:$g},tA),_1:{ctor:"[]"}}}},rA=Gx(vS),nA=e(function(t,e){return{ctor:"OnLaunchBarMsgWithNow",_0:t,_1:e}}),oA=function(t){return{ctor:"OnLaunchBarMsg",_0:t}},uA=e(function(t,e){return{ctor:"OnEntityAction",_0:t,_1:e}}),cA=function(t){return{ctor:"OnGlobalKeyUp",_0:t}},iA=function(t){return{ctor:"OnKeyboardMsg",_0:t}},aA=function(t){return{ctor:"OnNowChanged",_0:t}},sA=function(t){return{ctor:"ShowReminderOverlayForTodoId",_0:t}},fA=function(t){return{ctor:"SetGroupByView",_0:t}},_A=function(t){return{ctor:"SwitchView",_0:t}},lA=e(function(t,e){return{ctor:"OnEntityListKeyDown",_0:t,_1:e}}),dA=e(function(t,e){return{ctor:"UpdateTodoForm",_0:t,_1:e}}),pA=e(function(t,e){return{ctor:"OnEditTodoContextMenuStateChanged",_0:t,_1:e}}),hA=e(function(t,e){return{ctor:"OnEditTodoProjectMenuStateChanged",_0:t,_1:e}}),vA=e(function(t,e){return{ctor:"UpdateRemoteSyncFormUri",_0:t,_1:e}}),gA={ctor:"SaveCurrentForm"},mA=function(t){return{ctor:"StartEditingProject",_0:t}},yA=function(t){return{ctor:"StartEditingContext",_0:t}},bA=function(t){return{ctor:"StartEditingReminder",_0:t}},wA=function(t){return{ctor:"NewTodoKeyUp",_0:t}},TA={ctor:"DeactivateEditingMode"},kA=e(function(t,e){return{ctor:"NewTodoTextChanged",_0:t,_1:e}}),SA={ctor:"NewContext"},EA={ctor:"NewProject"},xA={ctor:"NewTodoForInbox"},AA={ctor:"NewTodo"},OA=e(function(t,e){return{ctor:"SetTodoProject",_0:t,_1:e}}),CA=e(function(t,e){return{ctor:"SetTodoContext",_0:t,_1:e}}),IA=function(t){return{ctor:"ToggleTodoDone",_0:t}},NA=function(t){return{ctor:"OnLayoutNarrowChanged",_0:t}},qA={ctor:"ToggleDrawer"},MA={ctor:"ToggleShowDeletedEntity"},jA=function(t){return{ctor:"OnNotificationClicked",_0:t}},DA=function(t){return{ctor:"ReminderOverlayAction",_0:t}},RA=(e(function(t,e){return{ctor:"TodoAction",_0:t,_1:e}}),function(t){return{ctor:"RemotePouchSync",_0:t}}),BA={ctor:"SignOut"},PA={ctor:"SignIn"},LA=function(t){return{ctor:"OnFirebaseConnectionChanged",_0:t}},FA=function(t){return{ctor:"OnFCMTokenChanged",_0:t}},$A=function(t){return{ctor:"OnUserChanged",_0:t}},UA=e(function(t,e){return{ctor:"OnFirebaseChange",_0:t,_1:e}}),VA=function(t){return{ctor:"OnEntityUpsert",_0:t}},JA=e(function(t,e){return{ctor:"OnPouchDBChange",_0:t,_1:e}}),zA=function(t){return{ctor:"OnCommonMsg",_0:t}},HA=function(t){return{noOp:t(Am),focus:function(e){return t(xm(e))},logString:function(e){return t(Em(e))}}}(zA),WA={ctor:"SyncView"},KA={ctor:"BinView"},GA={ctor:"DoneView"},XA=function(t){return{ctor:"EntityListView",_0:t}},QA=function(t){var e=Qm(t.deviceId),n=t,o=n.now,u=n.encodedTodoList,c=n.encodedProjectList,i=n.encodedContextList,a=n.pouchDBRemoteSyncURI,f=_(P_,r(function(t,e,r){return{ctor:"_Tuple3",_0:t,_1:e,_2:r}}),s(TS,t.deviceId,u),s(Hb,t.deviceId,c),s(kb,t.deviceId,i)),l=s(N_,f,My(o)),d=l._0._0,p=l._0._1,h=l._0._2;l._1;return{now:o,todoStore:d,projectStore:p,contextStore:h,editMode:Rk,mainViewType:XA(MT),keyboardState:nk,showDeleted:!1,reminderOverlay:cS,pouchDBRemoteSyncURI:a,user:ly,fcmToken:z,developmentMode:t.developmentMode,selectedEntityIdSet:Zc,layout:{narrow:!1,forceNarrow:!1},appVersion:t.appVersion,deviceId:t.deviceId,focusInEntity:sx,timeTracker:$S,firebaseClient:e,keyComboModel:Hg({toMsg:Wx,combos:eA})}},YA=function(t){return XA(AT(ky(t)))},ZA=function(t){return AE(YA(t))},tO=function(t){return function(t){var e=t,r=e._0;return s(RE,xT(r),s(ZA,r,e._1))}(s(He,s(fi["#"],oE,t),s(Zy,s(Db,"<New Project>",t.now),t.projectStore)))},eO=function(t){return XA(CT(ky(t)))},rO=function(t){return AE(eO(t))},nO=function(t){return function(t){var e=t,r=e._0;return s(RE,ET(r),s(rO,r,e._1))}(s(He,s(fi["#"],rE,t),s(Zy,s(wb,"<New Context>",t.now),t.contextStore)))},oO=AE(XA(qT)),uO=function(t){return AE(XA(t))},cO=e(function(t,e){var r=hE(e);return s(fi["#"],uO,e)(s(NT,r,t))}),iO=r(function(t,e,r){var n=r.name,o=e.isNull(r),u=o?e.nullIcon:{name:e.defaultIconName,color:"#9e9e9e"},c={name:s(k["++"],e.namePrefix,n),backgroundColor:u.color},i=uA(e.entityWrapper(r)),a=o?HA.noOp:i(LT),f=i(FT),_=function(t){switch(t.key.ctor){case"CharE":return f;case"Delete":return a;default:return HA.noOp}},l=ky(r),d=t(l),p=st(d);return{id:l,name:n,isDeleted:my(r),todoList:d,isEmpty:v.eq(p,0),count:st(d),onActiveStateChanged:function(t){return t?_A(XA(e.getViewType(l))):HA.noOp},startEditingMsg:f,onDeleteClicked:a,onSaveClicked:i(PT),onNameChanged:function(t){return i(BT(t))},onCancelClicked:TA,icon:u,appHeader:c,onFocusIn:i(RT),onKeyDownMsg:_}}),aO=e(function(t,e){var r=t.filter(e),n=s(HE,t.groupByFn,e),o=function(t){return s(fi["?="],s(sr,t,n),{ctor:"[]"})};return s(fi[".|>"],r,s(iO,o,t))}),sO=function(t){return{entityList:s(aO,{groupByFn:kw,namePrefix:"@",filter:YE,entityWrapper:ET,nullEntity:Sb,isNull:xb,nullIcon:{name:"inbox",color:"#42a5f5"},defaultIconName:"av:fiber-manual-record",getViewType:CT},t),viewType:qT,title:"Contexts",showDeleted:t.showDeleted,onAddClicked:SA,icon:{name:"group-work",color:"rgb(68, 138, 255)"}}},fO=function(t){return{entityList:s(aO,{groupByFn:$w,namePrefix:"#",filter:GE,entityWrapper:xT,nullEntity:Rb,isNull:Pb,nullIcon:{name:"apps",color:"rgb(179, 157, 219)"},defaultIconName:"apps",getViewType:AT},t),viewType:OT,title:"Projects",showDeleted:t.showDeleted,onAddClicked:EA,icon:{name:"group-work",color:"rgb(124, 77, 255)"}}},_O=(e(function(t,e){return{name:t,color:e}}),u(function(t,e,r,n,o,u){return{entityList:t,viewType:e,title:r,showDeleted:n,onAddClicked:o,icon:u}}),a(function(t,e,r,n,o,u,c,i,a){return{groupByFn:t,namePrefix:e,filter:r,entityWrapper:n,nullEntity:o,isNull:u,nullIcon:c,defaultIconName:i,getViewType:a}}),function(t){return s(Ea,{ctor:"::",_0:wa(t),_1:{ctor:"[]"}},{ctor:"::",_0:Ci("Delete"),_1:{ctor:"[]"}})}),lO=function(t){return s(Ea,{ctor:"::",_0:wa(t),_1:{ctor:"[]"}},{ctor:"::",_0:Ci("Cancel"),_1:{ctor:"[]"}})},dO=function(t){return s(Ea,{ctor:"::",_0:wa(t),_1:{ctor:"[]"}},{ctor:"::",_0:Ci("Ok"),_1:{ctor:"[]"}})},pO=ji({ctor:"::",_0:Yi("layout horizontal-reverse"),_1:{ctor:"[]"}}),hO=e(function(t,e){return pO({ctor:"::",_0:dO(t),_1:{ctor:"::",_0:lO(e),_1:{ctor:"[]"}}})}),vO=r(function(t,e,r){return pO({ctor:"::",_0:dO(t),_1:{ctor:"::",_0:lO(e),_1:{ctor:"::",_0:_O(r),_1:{ctor:"[]"}}}})}),gO=function(t){return f(vO,gA,TA,t)},mO=s(hO,gA,TA),yO=(e(function(t,e){return s(ji,{ctor:"::",_0:Yi("hide-on-hover"),_1:{ctor:"[]"}},t?e:{ctor:"[]"})}),ji({ctor:"::",_0:Yi("show-on-hover"),_1:{ctor:"[]"}}),e(function(t,e){return s(Oa,{ctor:"::",_0:la(t),_1:{ctor:"::",_0:Ja(e),_1:{ctor:"[]"}}},{ctor:"[]"})})),bO=(yO("done"),yO("cancel"),yO("av:snooze"),yO("settings"),function(t){return s(ji,{ctor:"::",_0:Yi("layout horizontal center"),_1:{ctor:"[]"}},{ctor:"::",_0:s(ji,{ctor:"::",_0:Yi("ellipsis"),_1:{ctor:"[]"}},{ctor:"::",_0:Ci(t.name),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(ji,{ctor:"::",_0:fa({ctor:"::",_0:s(Sm["=>"],"padding","0 0 1rem 0.1rem "),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:Yi("text-secondary"),_1:{ctor:"[]"}}},{ctor:"::",_0:Ci(s(k["++"]," ",s(k["++"],S(t.count),""))),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}})}),wO=function(t){var e=eE(t),r=IE(t),n=function(t){var e=r;if("EditTodoReminder"===e.ctor){var n=e._0;return s(Sy,n.id,t)?W(n):z}return z},o=function(t){var e=r;if("EditTodo"===e.ctor){var n=e._0;return s(Sy,n.id,t)?W(n):z}return z};return{now:e,selectedEntityIdSet:t.selectedEntityIdSet,projectByIdDict:WS(t),contextByIdDict:KS(t),activeProjects:XE(t),activeContexts:ZE(t),getMaybeEditTodoFormForTodo:o,getMaybeTodoReminderFormForTodo:n,getTodoReminderForm:function(t){return f(js,function(r){return s(Nk,t,e)},T,n(t))},getMaybeEditEntityFormForEntityId:function(t){var e=r;switch(e.ctor){case"EditContext":var n=e._0;return v.eq(t,n.id)?W(n):z;case"EditProject":var o=e._0;return v.eq(t,o.id)?W(o):z;default:return z}},showDetails:FE(t)}},TO=r(function(t,e,r){return{ctor:"::",_0:s(ji,{ctor:"::",_0:Yi("layout vertical"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Ca,{ctor:"::",_0:Yi("auto-focus"),_1:{ctor:"::",_0:s($a,"label","Name"),_1:{ctor:"::",_0:ra(r.name),_1:{ctor:"::",_0:Ua(gA),_1:{ctor:"::",_0:ya(e.onNameChanged),_1:{ctor:"[]"}}}}}},{ctor:"[]"}),_1:{ctor:"::",_0:gO(e.onDeleteClicked),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}}}),kO=e(function(t,e){return{ctor:"::",_0:s(ji,{ctor:"::",_0:Yi("layout horizontal justified"),_1:{ctor:"[]"}},{ctor:"::",_0:s(ji,{ctor:"::",_0:Yi("title font-nowrap flex-auto"),_1:{ctor:"[]"}},{ctor:"::",_0:bO(e),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(Bm,"create",{ctor:"::",_0:Yi("flex-none"),_1:{ctor:"::",_0:wa(e.startEditingMsg),_1:{ctor:"::",_0:t,_1:{ctor:"[]"}}}}),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}}}),SO=e(function(t,e){var r=e.tabindexAV,n=v.eq(e.id,"")?z:t.getMaybeEditEntityFormForEntityId(e.id);return s(ji,{ctor:"::",_0:Yi("entity-item"),_1:{ctor:"::",_0:r,_1:{ctor:"::",_0:h_(e.onFocusIn),_1:{ctor:"::",_0:lk(e.onKeyDownMsg),_1:{ctor:"[]"}}}}},f(js,function(t){return s(kO,r,e)},s(TO,r,e),n))}),EO=e(function(t,e){return{ctor:"_Tuple2",_0:e.id,_1:s(SO,t.shared,e)}}),xO=r(function(t,e,r){var n=r.name,o=e.isNull(r),u=o?e.nullIcon:{name:e.defaultIconName,color:"#9e9e9e"},c=(s(k["++"],e.namePrefix,n),u.color,uA(e.entityWrapper(r))),i=o?HA.noOp:c(LT),a=c(FT),f=function(t){switch(t.key.ctor){case"CharE":return a;case"Delete":return i;case"CharG":return c(jT);default:return HA.noOp}};return{id:ky(r),name:n,count:0,isDeleted:my(r),startEditingMsg:a,onDeleteClicked:i,onSaveClicked:c(PT),onNameChanged:function(t){return c(BT(t))},onCancelClicked:TA,icon:u,onFocusIn:c(RT),onKeyDownMsg:f,tabindexAV:t}}),AO=e(function(t,e){return f(xO,t,{groupByFn:kw,namePrefix:"@",entityWrapper:ET,nullEntity:Sb,isNull:xb,nullIcon:{name:"inbox",color:"#42a5f5"},defaultIconName:"av:fiber-manual-record",getViewType:CT,tabindexAV:t},e)}),OO=e(function(t,e){return f(xO,t,{groupByFn:$w,namePrefix:"@",entityWrapper:xT,nullEntity:Rb,isNull:Pb,nullIcon:{name:"inbox",color:"#42a5f5"},defaultIconName:"av:fiber-manual-record",getViewType:AT,tabindexAV:t},e)}),CO=(e(function(t,e){return{name:t,color:e}}),a(function(t,e,r,n,o,u,c,i,a){return{groupByFn:t,namePrefix:e,entityWrapper:r,nullEntity:n,isNull:o,nullIcon:u,defaultIconName:c,getViewType:i,tabindexAV:a}}),e(function(t,e){return f(Ac,xc,s(bc,xc,t),s(bc,xc,e))})),IO=e(function(t,e){var r=s(CO,t,e),n=x_("%e %b"),o=ne(n(e)),u=x_("%l:%M%P"),c=ne(u(e));return v.eq(r,0)?c:v.eq(r,-1)?s(k["++"],"Yesterday ",c):v.eq(r,1)?s(k["++"],"Tomorrow ",c):v.cmp(r,1)>0&&v.cmp(r,7)<0?s(k["++"],s(x_,"%A ",e),c):s(k["++"],o,s(k["++"]," ",c))}),NO=function(t){var e=I(t),r=(s(k["%"],e,1e3),s(k["%"],e/1e3|0,60));return{ctor:"::",_0:e/36e5|0,_1:{ctor:"::",_0:s(k["%"],e/6e4|0,60),_1:{ctor:"::",_0:r,_1:{ctor:"[]"}}}}},qO=e(function(t,e){var r=To,n=r(t),o=r(e);return s(IO,n,o)}),MO=e(function(t,e){return s(CO,To(t),To(e))}),jO=function(){var t=function(t){var e=function(t){return S(R(t))}(t);return v.cmp(t,0)>0?s(k["++"],e," days left"):v.cmp(t,0)<0?s(k["++"],e," days ago"):""};return s(Sm[">>>"],MO,t)}(),DO=A_("%a %e %b %Y %l:%M%P"),RO=function(t){return s(_e,":",s(vt,function(t){return f(ue,2,v.chr("0"),S(t))},NO(t)))},BO=function(t){switch(t.valueOf()){case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\v":return"\\v";case"\b":return"[\\b]";default:return ye(t)}},PO=function(t){return v.eq(t,v.chr("\\"))?"\\\\":v.eq(t,v.chr("\b"))?"\\b":s(_t,t,{ctor:"::",_0:v.chr("["),_1:{ctor:"::",_0:v.chr("]"),_1:{ctor:"::",_0:v.chr("-"),_1:{ctor:"[]"}}}})?s(k["++"],"\\",ye(t)):BO(t)},LO={ctor:"::",_0:v.chr("-"),_1:{ctor:"::",_0:v.chr("/"),_1:{ctor:"::",_0:v.chr("\\"),_1:{ctor:"::",_0:v.chr("^"),_1:{ctor:"::",_0:v.chr("$"),_1:{ctor:"::",_0:v.chr("*"),_1:{ctor:"::",_0:v.chr("+"),_1:{ctor:"::",_0:v.chr("#"),_1:{ctor:"::",_0:v.chr("?"),_1:{ctor:"::",_0:v.chr("."),_1:{ctor:"::",_0:v.chr("("),_1:{ctor:"::",_0:v.chr(")"),_1:{ctor:"::",_0:v.chr("|"),_1:{ctor:"::",_0:v.chr("["),_1:{ctor:"::",_0:v.chr("]"),_1:{ctor:"::",_0:v.chr("{"),_1:{ctor:"::",_0:v.chr("}"),_1:{ctor:"[]"}}}}}}}}}}}}}}}}}},FO=function(t){return s(_t,t,LO)?s(k["++"],"\\",ye(t)):BO(t)},$O=function(t){var e=t;switch(e.ctor){case"ZeroPlus":return"*";case"OnePlus":return"+";case"ZeroOrOne":return"?";case"Exactly":return s(k["++"],"{",s(k["++"],S(e._0),"}"));case"Between":return s(k["++"],"{",s(k["++"],S(e._0),s(k["++"],",",s(k["++"],S(e._1),"}"))));case"LazyZeroPlus":return"*?";case"LazyOnePlus":return"+?";case"LazyZeroOrOne":return"??";default:return s(k["++"],"{",s(k["++"],S(e._0),s(k["++"],",",s(k["++"],S(e._1),"}?"))))}},UO={ctor:"Empty"},VO=function(t){var e=function(t){return ve(function(){return"Choice"===t.ctor?s(k["++"],"(?:",s(k["++"],VO(t),")")):VO(t)}())},r=t;switch(r.ctor){case"Remember":return s(e,r._1,s(k["++"],"(",s(k["++"],VO(r._0),")")));case"OneOf":return s(e,r._1,function(t){return s(k["++"],"[",s(k["++"],t,"]"))}(he(s(vt,PO,r._0))));case"NoneOf":return s(e,r._1,function(t){return s(k["++"],"[^",s(k["++"],t,"]"))}(he(s(vt,PO,r._0))));case"Choice":var n=r._0,o=r._1;return s(e,o,function(t){return!v.eq(o,UO)&&v.cmp(st(n),1)>0?s(k["++"],"(?:",s(k["++"],t,")")):t}(s(_e,"|",s(vt,VO,n))));case"Postfix":return s(e,r._2,s(JO,r._0,r._1));case"Lookahead":return s(k["++"],"(?:",s(k["++"],VO(r._1),s(k["++"],")(?=",s(k["++"],VO(r._0),")"))));case"NegativeLookahead":return s(k["++"],"(?:",s(k["++"],VO(r._1),s(k["++"],")(?!",s(k["++"],VO(r._0),")"))));case"Raw":return s(e,r._1,r._0);case"Unescaped":return s(e,r._1,FO(r._0));default:return""}},JO=e(function(t,e){return function(){var t=e;t:do{switch(t.ctor){case"Unescaped":case"Raw":if("Empty"===t._1.ctor)return!1;break t;case"Empty":return!1;case"NoneOf":case"OneOf":case"Remember":if("Empty"===t._1.ctor)return!1;break t;default:break t}}while(!1);return!0}()?s(k["++"],"(?:",s(k["++"],VO(e),s(k["++"],")",$O(t)))):s(k["++"],VO(e),$O(t))}),zO=(e(function(t,e){return{ctor:"Unescaped",_0:t,_1:e}}),e(function(t,e){return{ctor:"Raw",_0:t,_1:e}})),HO=(e(function(t,e){return{ctor:"NegativeLookahead",_0:t,_1:e}}),e(function(t,e){return{ctor:"Lookahead",_0:t,_1:e}}),r(function(t,e,r){return{ctor:"Postfix",_0:t,_1:e,_2:r}})),WO=(e(function(t,e){return{ctor:"Choice",_0:t,_1:e}}),e(function(t,e){return{ctor:"NoneOf",_0:t,_1:e}}),e(function(t,e){return{ctor:"OneOf",_0:t,_1:e}}),e(function(t,e){return{ctor:"Remember",_0:t,_1:e}}),e(function(t,e){return{ctor:"LazyBetween",_0:t,_1:e}})),KO=e(function(t,e){return{ctor:"Between",_0:t,_1:e}}),GO=function(t){return{ctor:"Exactly",_0:t}},XO={ctor:"ZeroOrOne"},QO={ctor:"OnePlus"},YO={ctor:"ZeroPlus"},ZO=function(t){return VO(t(UO))},tC=(zO("."),zO("\\S"),zO("\\s"),zO("\\D"),zO("\\d"),e(function(t,e){var r=t(UO);t:do{switch(r.ctor){case"Postfix":if("Empty"===r._2.ctor)return"OnePlus"===r._0.ctor?f(HO,QO,r._1,e):f(HO,YO,r._1,e);break t;case"Empty":return e;default:break t}}while(!1);return f(HO,QO,t(UO),e)}),e(function(t,e){var r=t(UO);t:do{switch(r.ctor){case"Postfix":if("Empty"===r._2.ctor)return"ZeroOrOne"===r._0.ctor?f(HO,XO,r._1,e):f(HO,YO,r._1,e);break t;case"Empty":return e;default:break t}}while(!1);return f(HO,XO,t(UO),e)}),r(function(t,e,r){return v.cmp(t,e)>0||v.cmp(t,0)<0||v.cmp(e,0)<0?T:v.eq(t,e)?s(HO,GO(t),r(UO)):s(HO,s(WO,t,e),r(UO))}),r(function(t,e,r){return v.cmp(t,e)>0||v.cmp(t,0)<0||v.cmp(e,0)<0?T:v.eq(t,e)?s(HO,GO(t),r(UO)):s(HO,s(KO,t,e),r(UO))}),e(function(t,e){return v.cmp(t,0)<1?T:s(HO,GO(t),e(UO))}),zO("\\B"),zO("\\b"),e(function(t,e){var r=t,n=r.alignEnd?"$":"",o=r.alignBeginning?"^":"";return s(k["++"],o,s(k["++"],ZO(e),n))}),e(function(t,e){return{alignBeginning:t,alignEnd:e}}),function(t){return function(e){return s(ve,t,s(ve,"-menu-key-",ky(e)))}}),eC=e(function(t,e){var r=t,n=r.todo;return{onSelect:s(fi["#"],CA,n),isSelected:Sy(kw(n)),itemKey:tC("context"),itemSearchText:mb,itemView:function(t){return Ci(mb(t))},onStateChanged:pA(r),noOp:HA.noOp,onOutsideMouseDown:TA}}),rC=e(function(t,e){return f(Tk,ZE(e),t.menuState,s(eC,t,e))}),nC=e(function(t,e){var r=t,n=r.todo;return{onSelect:s(fi["#"],OA,n),isSelected:Sy($w(n)),itemKey:tC("project"),itemSearchText:$b,itemView:function(t){return Ci($b(t))},onStateChanged:hA(r),noOp:HA.noOp,onOutsideMouseDown:TA}}),oC=e(function(t,e){return f(Tk,XE(e),t.menuState,s(nC,t,e))}),uC=(e(function(t,e){return{onSelect:function(t){return HA.noOp},isSelected:function(t){return!1},itemKey:T,itemSearchText:T,itemView:Ci,onStateChanged:function(e){return Gx(s(pS,t,qk(e)))},noOp:HA.noOp,onOutsideMouseDown:TA}}),e(function(t,e){var r=function(e){return Gx(s(pS,t,e))};return s(ji,{ctor:"::",_0:Yi("fullbleed-capture"),_1:{ctor:"::",_0:Ja(TA),_1:{ctor:"[]"}}},{ctor:"::",_0:s(ji,{ctor:"::",_0:Zi("popup-menu"),_1:{ctor:"::",_0:Yi("z-depth-4 static"),_1:{ctor:"::",_0:Ja(HA.noOp),_1:{ctor:"[]"}}}},{ctor:"::",_0:s(ji,{ctor:"::",_0:Yi("font-subhead"),_1:{ctor:"[]"}},{ctor:"::",_0:Ci("Select date and time"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(ji,{ctor:"::",_0:Yi("input-field"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Li,{ctor:"::",_0:ea("date"),_1:{ctor:"::",_0:Yi("auto-focus"),_1:{ctor:"::",_0:ra(t.date),_1:{ctor:"::",_0:Cm(function(t){return r(jk(t))}),_1:{ctor:"[]"}}}}},{ctor:"[]"}),_1:{ctor:"::",_0:s(Pi,{ctor:"::",_0:Yi("active"),_1:{ctor:"[]"}},{ctor:"::",_0:Ci("Date"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}),_1:{ctor:"::",_0:s(ji,{ctor:"::",_0:Yi("input-field"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Li,{ctor:"::",_0:ea("time"),_1:{ctor:"::",_0:ra(t.time),_1:{ctor:"::",_0:Cm(function(t){return r(Mk(t))}),_1:{ctor:"[]"}}}},{ctor:"[]"}),_1:{ctor:"::",_0:s(Pi,{ctor:"::",_0:Yi("active"),_1:{ctor:"[]"}},{ctor:"::",_0:Ci("Time"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}),_1:{ctor:"::",_0:mO,_1:{ctor:"[]"}}}}}),_1:{ctor:"[]"}})})),cC=rC,iC=oC,aC=function(t){return{ctor:"::",_0:s(ji,{ctor:"::",_0:Yi("vertical layout flex-auto"),_1:{ctor:"[]"}},{ctor:"::",_0:s(ji,{ctor:"::",_0:Yi("flex"),_1:{ctor:"[]"}},{ctor:"::",_0:s(ji,{ctor:"::",_0:Yi("input-field"),_1:{ctor:"::",_0:dk(function(t){return HA.noOp}),_1:{ctor:"[]"}}},{ctor:"::",_0:s(Fi,{ctor:"::",_0:Yi("materialize-textarea auto-focus"),_1:{ctor:"::",_0:na(t.todo.text),_1:{ctor:"::",_0:ya(t.onTodoTextChanged),_1:{ctor:"[]"}}}},{ctor:"[]"}),_1:{ctor:"::",_0:s(Pi,{ctor:"[]"},{ctor:"::",_0:Ci("Todo"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:gO(t.onDeleteClicked),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}}},sC=e(function(t,e){var r=dA(t);t.id;return{todo:{text:t.todoText},onTodoTextChanged:function(t){return r(Ok(t))},onDeleteClicked:s(uA,ST(e),LT)}}),fC=e(function(t,e){var r=Yw(e),n=(qO(t.now),function(e){To(t.now),To(e);return v.cmp(e,t.now)<0?"Overdue":s(qO,t.now,e)}),o=s(fi["?="],s(fi["?|>"],Zw(e),n),""),u=t.getMaybeTodoReminderFormForTodo(e),c=f(js,function(r){return s(Nk,e,t.now)},T,u),i=function(t){return Gx(s(pS,c,t))};return{isDropdownOpen:Rs(u),date:c.date,time:c.time,displayText:o,isOverDue:v.eq(o,"Overdue"),isSnoozed:tT(e),dueAtToolTipText:s(fi["?="],s(fi["?|>"],Yw(e),DO),""),dayDiffInWords:s(fi["?="],s(fi["?|>"],r,jO(t.now)),""),onDateChanged:function(t){return i(jk(t))},onTimeChanged:function(t){return i(Mk(t))},startEditingMsg:bA(e)}}),_C=function(t){var e=t.reminder;return s(ji,{ctor:"::",_0:Zi(s(k["++"],"edit-schedule-button-",t.key)),_1:{ctor:"::",_0:Yi("layout horizontal center-center"),_1:{ctor:"::",_0:wa(e.startEditingMsg),_1:{ctor:"[]"}}}},{ctor:"::",_0:s(ji,{ctor:"::",_0:sa({ctor:"::",_0:s(Sm["=>"],"overdue",e.isOverDue),_1:{ctor:"::",_0:s(Sm["=>"],"reminder-text",!0),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}},{ctor:"::",_0:Ci(e.displayText),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(jS,"schedule",{ctor:"::",_0:t.tabindexAV,_1:{ctor:"[]"}}),_1:{ctor:"[]"}}})},lC=function(t){return s(Ea,{ctor:"::",_0:Zi(s(k["++"],"edit-project-button-",t.key)),_1:{ctor:"::",_0:fa({ctor:"::",_0:s(Sm["=>"],"height","24px"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:Yi("small padding-0 margin-0 shrink"),_1:{ctor:"::",_0:t.tabindexAV,_1:{ctor:"::",_0:wa(t.showProjectDropdownMsg),_1:{ctor:"[]"}}}}}},{ctor:"::",_0:s(ji,{ctor:"::",_0:Yi("title primary-text-color"),_1:{ctor:"[]"}},{ctor:"::",_0:Ci(t.projectDisplayName),_1:{ctor:"[]"}}),_1:{ctor:"[]"}})},dC=function(t){return s(Ea,{ctor:"::",_0:Zi(s(k["++"],"edit-context-button-",t.key)),_1:{ctor:"::",_0:fa({ctor:"::",_0:s(Sm["=>"],"height","24px"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:Yi("small padding-0 margin-0 shrink"),_1:{ctor:"::",_0:t.tabindexAV,_1:{ctor:"::",_0:wa(t.showContextDropdownMsg),_1:{ctor:"[]"}}}}}},{ctor:"::",_0:s(ji,{ctor:"::",_0:Yi("title primary-text-color"),_1:{ctor:"[]"}},{ctor:"::",_0:Ci(t.contextDisplayName),_1:{ctor:"[]"}}),_1:{ctor:"[]"}})},pC=function(t){return s(Oa,{ctor:"::",_0:Yi(s(k["++"],"done-icon done-",S(t.isDone))),_1:{ctor:"::",_0:Ja(t.toggleDoneMsg),_1:{ctor:"::",_0:Rm("done"),_1:{ctor:"::",_0:t.tabindexAV,_1:{ctor:"[]"}}}}},{ctor:"[]"})},hC=function(t){return{ctor:"::",_0:s(ji,{ctor:"::",_0:Yi(""),_1:{ctor:"::",_0:wa(t.startEditingMsg),_1:{ctor:"[]"}}},{ctor:"::",_0:pC(t),_1:{ctor:"::",_0:s(Bi,{ctor:"::",_0:Yi("display-text"),_1:{ctor:"[]"}},{ctor:"::",_0:Ci(t.displayText),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}),_1:{ctor:"::",_0:s(ji,{ctor:"::",_0:Yi("layout horizontal end-justified"),_1:{ctor:"[]"}},{ctor:"::",_0:s(ji,{ctor:"::",_0:fa({ctor:"::",_0:s(Sm["=>"],"margin","0 8px"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}},{ctor:"::",_0:_C(t),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(ji,{ctor:"::",_0:fa({ctor:"::",_0:s(Sm["=>"],"padding","0 8px"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}},{ctor:"::",_0:dC(t),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(ji,{ctor:"::",_0:fa({ctor:"::",_0:s(Sm["=>"],"padding","0 8px"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}},{ctor:"::",_0:lC(t),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}}),_1:{ctor:"[]"}}}},vC=function(t){var e=s(Sm[">>?="],function(t){return Ls(ne(t))},"< empty >"),r=Ou("\\n\\n\\n(.|\n)*");return _(Eu,Iu(1),r,function(t){return"\n..."},e(Aw(t)))},gC=r(function(t,e,r){var n=t.getMaybeEditTodoFormForTodo(r),o=s(fi["?|>"],n,s(fi["#"],sC,r)),u=uA(ST(r)),c=u(FT),i=u(LT),a=kw(r),f=$w(r),_=Vs(15),l=s(ve,"#",_(s(fi["?="],s(Sm[">>?"],s(fi["#"],sr,t.projectByIdDict),$b)(f),""))),d=_(s(ve,"@",s(fi["?="],s(Sm[">>?"],s(fi["#"],sr,t.contextByIdDict),mb)(a),"Inbox"))),p=ky(r),h=IA(p),v=function(t){var e=t;if(!ck(e))return HA.noOp;switch(e.key.ctor){case"Space":return u(DT);case"CharE":return c;case"CharD":return h;case"Delete":return i;case"CharP":return mA(r);case"CharC":return yA(r);case"CharR":return bA(r);case"CharG":return u(jT);case"CharS":return Xx(p);default:return HA.noOp}};return{isDone:Ew(r),key:p,isDeleted:Vw(r),onKeyDownMsg:v,displayText:vC(r),projectDisplayName:l,contextDisplayName:d,setContextMsg:s(fi["#"],CA,r),setProjectMsg:s(fi["#"],OA,r),showContextDropdownMsg:yA(r),showProjectDropdownMsg:mA(r),startEditingMsg:c,toggleDoneMsg:h,reminder:s(fC,t,r),edit:o,isEditing:Rs(o),onDeleteClicked:i,onFocusIn:u(RT),tabindexAV:e,isSelected:s(Qc,p,t.selectedEntityIdSet)}}),mC=(e(function(t,e){var r=t;return s(Ea,{ctor:"::",_0:fa({ctor:"::",_0:s(Sm["=>"],"height","24px"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:Mm,_1:{ctor:"::",_0:Yi("small padding-0 margin-0 shrink"),_1:{ctor:"::",_0:r.tabindexAV,_1:{ctor:"[]"}}}}},{ctor:"::",_0:s(ji,{ctor:"::",_0:Yi("title primary-text-color"),_1:{ctor:"[]"}},{ctor:"::",_0:e,_1:{ctor:"[]"}}),_1:{ctor:"[]"}})}),function(t){return s(ji,{ctor:"::",_0:sa({ctor:"::",_0:s(Sm["=>"],"todo-item",!0),_1:{ctor:"::",_0:s(Sm["=>"],"selected",t.isSelected),_1:{ctor:"::",_0:s(Sm["=>"],"editing",t.isEditing),_1:{ctor:"[]"}}}}),_1:{ctor:"::",_0:h_(t.onFocusIn),_1:{ctor:"::",_0:t.tabindexAV,_1:{ctor:"::",_0:lk(t.onKeyDownMsg),_1:{ctor:"::",_0:s(Ki,"data-key",t.key),_1:{ctor:"[]"}}}}}},f(js,function(e){return hC(t)},aC,t.edit))}),yC=function(t){return{ctor:"_Tuple2",_0:t.key,_1:mC(t)}},bC=(r(function(t,e,r){return{todo:t,onTodoTextChanged:e,onDeleteClicked:r}}),r(function(t,e,r){var n=function(t){return ms(function(e){return s(fm,t,function(t){return t.id}(e))})},o=function(t){return function(e){return function(t){var e=t;return{ctor:"_Tuple2",_0:e.name,_1:e.backgroundColor}}(s(Sm[">>?="],s(Sm[">>?"],n(t),function(t){return t.appHeader}),{name:"o_O",backgroundColor:"rgb(68, 138, 255)"})(e))}},u=t;switch(u.ctor){case"EntityListView":var c=u._0;switch(c.ctor){case"ContextsView":return{ctor:"_Tuple2",_0:r.title,_1:r.icon.color};case"ContextView":return s(o,c._0,r.entityList);case"ProjectsView":return{ctor:"_Tuple2",_0:e.title,_1:e.icon.color};default:return s(o,c._0,e.entityList)}case"BinView":return{ctor:"_Tuple2",_0:"Bin",_1:"rgb(68, 138, 255)"};case"DoneView":return{ctor:"_Tuple2",_0:"Done",_1:"rgb(68, 138, 255)"};default:return{ctor:"_Tuple2",_0:"Custom Sync",_1:"rgb(68, 138, 255)"}}})),wC=function(t){var e=wO(t),r=t.mainViewType,n=fO(t),o=sO(t),u=f(bC,r,n,o);return{contexts:o,projects:n,viewName:u._0,mainViewType:r,header:{backgroundColor:u._1},shared:e,createTodoViewModel:gC(e)}},TC=(c(function(t,e,r,n,o,u,c){return{contexts:t,projects:e,viewName:r,mainViewType:n,header:o,shared:u,createTodoViewModel:c}}),u(function(t,e,r,n,o,u){return{id:t,onFocusIn:e,startEditingMsg:r,toggleDeleteMsg:n,startEditingMsg:o,tabIndexAV:u}}),function(t){return{ctor:"Todo",_0:t}}),kC=function(t){return{ctor:"Project",_0:t}},SC=function(t){return{ctor:"Context",_0:t}},EC=function(t){return function(e){var r=e;t:do{if("::"!==r.ctor||"::"!==r._1.ctor)break t;switch(r._0.ctor){case"Context":if("Project"===r._1._0.ctor){var n=function(t){return"Todo"===t.ctor},o=st(s(gt,n,t));return{ctor:"::",_0:SC(v.update(r._0._0,{count:o})),_1:{ctor:"::",_0:kC(r._1._0._0),_1:r._1._1}}}break t;case"Project":if("Context"===r._1._0.ctor){var n=function(t){return"Todo"===t.ctor},o=st(s(gt,n,t));return{ctor:"::",_0:kC(v.update(r._0._0,{count:o})),_1:{ctor:"::",_0:SC(r._1._0._0),_1:r._1._1}}}break t;default:break t}}while(!1);return e}(Se(f(it,e(function(t,e){var r=e,n=r._0,o=r._1,u=t;switch(u.ctor){case"Context":return{ctor:"_Tuple2",_0:{ctor:"::",_0:SC(v.update(u._0,{count:o})),_1:n},_1:0};case"Project":return{ctor:"_Tuple2",_0:{ctor:"::",_0:kC(v.update(u._0,{count:o})),_1:n},_1:0};default:return{ctor:"_Tuple2",_0:{ctor:"::",_0:TC(u._0),_1:n},_1:o+1}}}),{ctor:"_Tuple2",_0:{ctor:"[]"},_1:0},t)))},xC=r(function(t,e,r){var n=s(GS,t,r),o=function(t){return s(fi["?="],s(fi["?|>"],n,wT(t)),!1)},u=function(t){var e=o(t)?0:-1;return Gi(e)},c=function(t){var r=u(t),n=t;switch(n.ctor){case"ContextEntity":return SC(s(AO,r,n._0));case"ProjectEntity":return kC(s(OO,r,n._0));default:return TC(s(e.createTodoViewModel,r,n._0))}};return EC(s(fi[".|>"],t,c))}),AC=r(function(t,e,r){var n=function(t){var e=t;switch(e.ctor){case"Context":case"Project":return s(EO,r,e._0);default:return yC(e._0)}},o=zT(s(ex,t,e)),u=f(xC,o,r,e);return f(of,"div",{ctor:"::",_0:Yi("entity-list focusable-list"),_1:{ctor:"::",_0:lk(lA(o)),_1:{ctor:"[]"}}},s(fi[".|>"],u,n))}),OC=function(t){return Pe(function(e){return s(fi["?="],t(e),Fe(e))})},CC=(b(Pe),function(t){return Re(function(e){return s(fi["?="],t(e),Oe)})}),IC=(e(function(t,e){return Pe(function(r){return s(fi["?="],s(fi["?|>"],t(r),e),r)})}),e(function(t,e){return Pe(function(r){return s(e,t(r),r)})}),e(function(t,e){return Ue(function(r){return s(e,t(r),r)})}),e(function(t,e){return Pe(function(r){return s(e,t(r),Fe(r))})})),NC=(e(function(t,e){return Pe(function(r){return s(vm,Fe(r),s(fi["?="],s(fi["?|>"],t(r),e),T))})}),function(t){return s(ji,{ctor:"::",_0:Zi("firebase-container"),_1:{ctor:"[]"}},{ctor:"::",_0:f(Ii,"firebase-auth",{ctor:"::",_0:Zi("firebase-auth"),_1:{ctor:"::",_0:py($A),_1:{ctor:"[]"}}},{ctor:"[]"}),_1:{ctor:"::",_0:f(Ii,"firebase-messaging",{ctor:"::",_0:Zi("fb-messaging"),_1:{ctor:"::",_0:Xm(FA),_1:{ctor:"::",_0:$m,_1:{ctor:"[]"}}}},{ctor:"[]"}),_1:{ctor:"::",_0:f(Ii,"firebase-document",{ctor:"::",_0:s(Ki,"path",".info/connected"),_1:{ctor:"::",_0:Km(LA),_1:{ctor:"[]"}}},{ctor:"[]"}),_1:{ctor:"[]"}}}})}),qC=(vt(m(Ki)),e(function(t,e){var r=f(CS,t.input,ZE(e),XE(e)),n=s(fi["?="],s(fi["?|>"],pt(r),Se),IS),o=kS(n),u=function(t){return"Enter"===t.key.ctor?oA(MS(n)):HA.noOp};return s(ji,{ctor:"::",_0:Yi("fullbleed-capture"),_1:{ctor:"::",_0:dk(u),_1:{ctor:"::",_0:Ja(TA),_1:{ctor:"[]"}}}},{ctor:"::",_0:s(ji,{ctor:"::",_0:Zi("launch-bar-container"),_1:{ctor:"::",_0:Yi("layout horizontal"),_1:{ctor:"::",_0:s(Ki,"onclick","console.log('focusing');document.getElementById('hidden-input').focus(); event.stopPropagation(); event.preventDefault();"),_1:{ctor:"::",_0:ya(function(e){return oA(s(qS,t,e))}),_1:{ctor:"[]"}}}}},{ctor:"::",_0:s(ji,{ctor:"::",_0:Yi("flex-auto ellipsis"),_1:{ctor:"[]"}},{ctor:"::",_0:Ci(o),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(ji,{ctor:"::",_0:Yi("no-wrap input typing"),_1:{ctor:"[]"}},{ctor:"::",_0:Ci(t.input),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(Li,{ctor:"::",_0:Zi("hidden-input"),_1:{ctor:"::",_0:Yi("auto-focus"),_1:{ctor:"::",_0:aa(!0),_1:{ctor:"::",_0:ra(t.input),_1:{ctor:"[]"}}}}},{ctor:"[]"}),_1:{ctor:"[]"}}}}),_1:{ctor:"[]"}})})),MC=function(t){var e=Fh(t);t:do{if("::"!==e.ctor)break t;if("::"===e._1.ctor){if("[]"!==e._1._1.ctor)break t;switch(e._0){case"lists":switch(e._1._0){case"contexts":return{ctor:"::",_0:fA(qT),_1:{ctor:"[]"}};case"projects":return{ctor:"::",_0:fA(OT),_1:{ctor:"[]"}};case"bin":return{ctor:"::",_0:_A(KA),_1:{ctor:"[]"}};case"done":return{ctor:"::",_0:_A(GA),_1:{ctor:"[]"}};default:break t}case"context":return{ctor:"::",_0:fA(CT(e._1._0)),_1:{ctor:"[]"}};case"project":return"NotAssigned"===e._1._0?{ctor:"::",_0:fA(AT("")),_1:{ctor:"[]"}}:{ctor:"::",_0:fA(AT(e._1._0)),_1:{ctor:"[]"}};case"notification":return{ctor:"::",_0:sA(e._1._0),_1:{ctor:"[]"}};default:break t}}else switch(e._0){case"Inbox":return{ctor:"::",_0:fA(CT("")),_1:{ctor:"[]"}};case"custom-sync":return{ctor:"::",_0:_A(WA),_1:{ctor:"[]"}};default:break t}}while(!1);return{ctor:"[]"}},jC=function(t){return MC(zh(t.href))},DC=function(t){var e=mE(t);switch(e.ctor){case"EntityListView":return bT(e._0);case"BinView":return{ctor:"::",_0:"lists",_1:{ctor:"::",_0:"bin",_1:{ctor:"[]"}}};case"DoneView":return{ctor:"::",_0:"lists",_1:{ctor:"::",_0:"done",_1:{ctor:"[]"}}};default:return{ctor:"::",_0:"custom-sync",_1:{ctor:"[]"}}}},RC=e(function(t,e){return W(s(Vh,DC(e),Uh))}),BC=s(Sm[">>>"],RC,K(Lh)),PC=e(function(t,e){var r=s(ms,function(e){var r=e;return"TodoEntity"===r.ctor&&s(Sy,t,r._0)},rx(e));return f(js,function(r){return oO(s(px,t,e))},s(fi["#"],dx,e),r)}),LC=b(PC),FC=function(t){return s(fi["?="],s(fi["?|>"],PS(t.timeTracker),LC(t)),t)},$C=function(t){return s(Sm[">>?="],K(t),Oe)},UC=Pe,VC=Ue,JC=s(Sm[">>>"],Wb,Ue),zC=s(Sm[">>>"],Yb,Ue),HC=s(ow,function(t){return t.timeTracker},e(function(t,e){return v.update(e,{timeTracker:t})})),WC=Ee.outgoingPort("showTodoReminderNotification",function(t){return{title:t.title,tag:t.tag,data:{id:t.data.id}}}),KC=Ee.incomingPort("notificationClicked",s(on,function(t){return s(on,function(e){return cn({action:t,data:e})},s(pn,"data",s(on,function(t){return cn({id:t})},s(pn,"id",bn))))},s(pn,"action",bn))),GC=Ee.outgoingPort("showRunningTodoNotification",function(t){return{tag:t.tag,title:t.title,body:t.body,actions:X.toArray(t.actions).map(function(t){return{title:t.title,action:t.action}}),data:{id:t.data.id,notificationClickedPort:t.data.notificationClickedPort}}}),XC=function(t){var r=t,n=e(function(t,e){var r=ky(e);return{tag:r,title:"You are currently working on",body:Aw(e),actions:{ctor:"::",_0:{title:"Stop",action:"stop"},_1:{ctor:"::",_0:{title:"Mark Done",action:"mark-done"},_1:{ctor:"[]"}}},data:{id:r,notificationClickedPort:"onRunningTodoNotificationClicked"}}});return s($C,GC,s(fi["?+>"],r._0,function(t){return s(fi["?|>"],s(TE,t.todoId,r._1),n(t))}))},QC=function(t){return UC(function(e){return s(ci,{ctor:"_Tuple2",_0:ke,_1:XC},f(tw,HC,FS(t),e))})},YC=r(function(t,e,r){var n=r;switch(n.ctor){case"UpdateReminderForm":return Ue(function(t){return OE($k(t))}(s(Ik,n._1,n._0)));case"ToggleRunning":return s(zC,HC,s(zS,n._0,e));case"InitRunning":return s(JC,HC,s(JS,n._0,e));case"TogglePaused":return s(zC,HC,HS(e));case"StopRunning":return s(JC,HC,$S);case"GotoRunning":return function(e){return s(t,zx,s(VC,FC,e))};case"UpdateTimeTracker":return QC(e);case"Upsert":var o=n._0;return VC(function(t){return zw(o)&&s(RS,o,t.timeTracker)?f(Wb,HC,$S,t):t});default:var u=n._0,c=u.data.id;return function(e){return s(t,Hx(c),function(){var e=u.action;return t("stop"===e?Yx:tA)}()(e))}}}),ZC=Ee.incomingPort("onRunningTodoNotificationClicked",s(on,function(t){return s(on,function(e){return cn({action:t,data:e})},s(pn,"data",s(on,function(t){return cn({id:t})},s(pn,"id",bn))))},s(pn,"action",bn))),tI=function(t){return Ne({ctor:"::",_0:KC(jA),_1:{ctor:"::",_0:ZC(Qx),_1:{ctor:"[]"}}})},eI=function(t){return s(ji,{ctor:"::",_0:Yi("w100 layout vertical"),_1:{ctor:"[]"}},{ctor:"::",_0:s(ji,{ctor:"::",_0:Yi("flex-auto ellipsis"),_1:{ctor:"[]"}},{ctor:"::",_0:Ci(t.displayText),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(ji,{ctor:"::",_0:Yi("flex-auto layout horizontal"),_1:{ctor:"[]"}},{ctor:"::",_0:s(ji,{ctor:"::",_0:Yi("flex-auto"),_1:{ctor:"[]"}},{ctor:"::",_0:Ci(t.displayTime),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(ji,{ctor:"::",_0:Yi(""),_1:{ctor:"[]"}},{ctor:"::",_0:s(DS,t.playPauseIconName,{ctor:"::",_0:wa(t.onTogglePause),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(DS,"stop",{ctor:"::",_0:wa(t.onStop),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}}})},rI=e(function(t,e){var r=s(fi["?="],s(fi["?|>"],s(TE,e.todoId,t),Aw),e.todoId),n=function(){var r=e.state;return"Running"===r.ctor?{ctor:"_Tuple2",_0:e.totalTime+(t.now-r._0),_1:"pause"}:{ctor:"_Tuple2",_0:e.totalTime,_1:"play_arrow"}}(),o=n._0,u=n._1;return{displayText:r,displayTime:RO(o),playPauseIconName:u,onStop:Yx,onTogglePause:Zx}}),nI=function(t){return s(fi["?|>"],t.timeTracker,function(e){return eI(s(rI,t,e))})},oI=(e(function(t,e){return{displayText:t,displayTime:e}}),e(function(t,e){return s(Ia,{ctor:"[]"},{ctor:"::",_0:s(Na,{ctor:"[]"},{ctor:"::",_0:s(Di,{ctor:"::",_0:ua("_blank"),_1:{ctor:"::",_0:oa(t),_1:{ctor:"[]"}}},{ctor:"::",_0:Ci(e),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}),_1:{ctor:"[]"}})})),uI=function(t){var e=ax(t),r=s(fi["?="],s(fi["?|>"],e,function(t){return s(Ki,"src",zm(t))}),Rm("account-circle")),n=s(fi["?="],s(fi["?|>"],e,function(t){return s(Ia,{ctor:"::",_0:wa(BA),_1:{ctor:"[]"}},{ctor:"::",_0:Ci("SignOut"),_1:{ctor:"[]"}})}),s(Ia,{ctor:"::",_0:wa(PA),_1:{ctor:"[]"}},{ctor:"::",_0:Ci("SignIn"),_1:{ctor:"[]"}}));return s(ja,{ctor:"::",_0:jm,_1:{ctor:"::",_0:s(Fa,"noOverlap",!0),_1:{ctor:"::",_0:s(Fa,"closeOnActivate",!0),_1:{ctor:"[]"}}}},{ctor:"::",_0:f(Ii,"iron-icon",{ctor:"::",_0:r,_1:{ctor:"::",_0:Yi("account"),_1:{ctor:"::",_0:Mm,_1:{ctor:"[]"}}}},{ctor:"[]"}),_1:{ctor:"::",_0:s(qa,{ctor:"::",_0:Yi(""),_1:{ctor:"::",_0:qm,_1:{ctor:"[]"}}},{ctor:"::",_0:n,_1:{ctor:"::",_0:s(oI,"https://groups.google.com/forum/#!forum/simplegtd","Forums/Discuss"),_1:{ctor:"::",_0:s(oI,"https://github.com/jigargosar/elm-simple-gtd/blob/master/CHANGELOG.md",s(k["++"],"Changelog v",t.appVersion)),_1:{ctor:"::",_0:s(oI,"https://github.com/jigargosar/elm-simple-gtd","Github"),_1:{ctor:"[]"}}}}}),_1:{ctor:"[]"}}})},cI=e(function(t,e){return{ctor:"::",_0:s(Dm,{ctor:"::",_0:Rm("menu"),_1:{ctor:"::",_0:Gi(-1),_1:{ctor:"::",_0:s(Ki,"drawer-toggle",""),_1:{ctor:"::",_0:wa(qA),_1:{ctor:"::",_0:Yi("hide-when-wide"),_1:{ctor:"[]"}}}}}},{ctor:"[]"}),_1:{ctor:"::",_0:s(ji,{ctor:"::",_0:Yi("flex-auto"),_1:{ctor:"[]"}},t),_1:{ctor:"::",_0:uI(e),_1:{ctor:"[]"}}}}}),iI=e(function(t,e){var r=t.viewName;return{ctor:"::",_0:s(qi,{ctor:"::",_0:Yi("ellipsis title"),_1:{ctor:"::",_0:ta(r),_1:{ctor:"[]"}}},{ctor:"::",_0:Ci(r),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}),aI=function(t){return{ctor:"::",_0:s(ji,{ctor:"::",_0:Yi("new-todo input-field"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Li,{ctor:"::",_0:Yi("auto-focus"),_1:{ctor:"::",_0:ya(kA(t)),_1:{ctor:"::",_0:na(QT(t)),_1:{ctor:"::",_0:ma(TA),_1:{ctor:"::",_0:_k(wA),_1:{ctor:"[]"}}}}}},{ctor:"[]"}),_1:{ctor:"::",_0:s(Pi,{ctor:"::",_0:Yi("active"),_1:{ctor:"[]"}},{ctor:"::",_0:Ci("New Todo"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}}},sI=e(function(t,e){var r=function(){var r=e.editMode;return"NewTodo"===r.ctor?aI(r._0):s(fi["?="],s(fi["?|>"],nI(e),Z),s(iI,t,e))}();return s(cI,r,e)}),fI=e(function(t,e){var r=nx(e)?{ctor:"::",_0:s(Ki,"condenses",""),_1:{ctor:"::",_0:s(Ki,"reveals",""),_1:{ctor:"[]"}}}:{ctor:"::",_0:s(Ki,"fixed",""),_1:{ctor:"[]"}},n=s(k["++"],{ctor:"::",_0:Zi("main-header"),_1:{ctor:"::",_0:s(Ki,"slot","header"),_1:{ctor:"::",_0:s(Ki,"effects","waterfall"),_1:{ctor:"[]"}}}},r);return s(Ji,n,{ctor:"::",_0:s(Hi,{ctor:"::",_0:fa({ctor:"::",_0:s(Sm["=>"],"color","white"),_1:{ctor:"::",_0:s(Sm["=>"],"background-color",t.header.backgroundColor),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}},s(sI,t,e)),_1:{ctor:"[]"}})}),_I=e(function(t,e){var r=function(e){return yC(s(t.createTodoViewModel,Gi(-1),e))};return f(of,"paper-listbox",{ctor:"::",_0:s($a,"selected","0"),_1:{ctor:"::",_0:s($a,"selectedAttribute","selected"),_1:{ctor:"[]"}}},s(fi[".|>"],EE(e),r))}),lI=e(function(t,e){return s(ji,{ctor:"::",_0:Zi("main-view"),_1:{ctor:"[]"}},{ctor:"::",_0:function(){var r=mE(e);switch(r.ctor){case"EntityListView":return f(AC,r._0,e,t);case"BinView":case"DoneView":return s(_I,t,e);default:var n=jE(e);return s(Ma,{ctor:"::",_0:Yi("static layout vertical"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Ca,{ctor:"::",_0:s(Ki,"label","Cloudant URL or any CouchDB URL"),_1:{ctor:"::",_0:ra(n.uri),_1:{ctor:"::",_0:ya(vA(n)),_1:{ctor:"[]"}}}},{ctor:"[]"}),_1:{ctor:"::",_0:s(ji,{ctor:"[]"},{ctor:"::",_0:s(Ea,{ctor:"::",_0:function(t){return wa(RA(t))}(n),_1:{ctor:"[]"}},{ctor:"::",_0:Ci("Start Sync"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}})}}(),_1:{ctor:"[]"}})}),dI=r(function(t,e,r){return s(Ia,{ctor:"::",_0:wa(_A(e)),_1:{ctor:"[]"}},{ctor:"::",_0:f(Ii,"iron-icon",{ctor:"::",_0:Rm(t),_1:{ctor:"[]"}},{ctor:"[]"}),_1:{ctor:"::",_0:s(Na,{ctor:"[]"},{ctor:"::",_0:Ci(r),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}})}),pI=function(t){return s(ji,{ctor:"::",_0:Yi("big-paper-item-text"),_1:{ctor:"[]"}},{ctor:"::",_0:Ci(t),_1:{ctor:"[]"}})},hI=function(t){return s(Ia,{ctor:"::",_0:wa(t.onActiveStateChanged(!0)),_1:{ctor:"[]"}},{ctor:"::",_0:f(Ii,"iron-icon",{ctor:"::",_0:Rm(t.icon.name),_1:{ctor:"::",_0:fa({ctor:"::",_0:s(Sm["=>"],"color",t.icon.color),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}},{ctor:"[]"}),_1:{ctor:"::",_0:s(Na,{ctor:"[]"},{ctor:"::",_0:bO(t),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(ji,{ctor:"::",_0:Yi("show-on-hover"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Bm,"settings",{ctor:"::",_0:wa(t.startEditingMsg),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}})},vI=e(function(t,e){var r=t,n=r.icon;return s(k["++"],{ctor:"::",_0:s(Ia,{ctor:"::",_0:Yi("has-hover-elements"),_1:{ctor:"[]"}},{ctor:"::",_0:f(Ii,"iron-icon",{ctor:"::",_0:Rm(n.name),_1:{ctor:"::",_0:fa({ctor:"::",_0:s(Sm["=>"],"color",n.color),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}},{ctor:"[]"}),_1:{ctor:"::",_0:s(Na,{ctor:"::",_0:wa(_A(XA(r.viewType))),_1:{ctor:"[]"}},{ctor:"::",_0:pI(r.title),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(ji,{ctor:"::",_0:Yi("show-on-hover layout horizontal center"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Da,{ctor:"::",_0:ia(r.showDeleted),_1:{ctor:"::",_0:wa(MA),_1:{ctor:"[]"}}},{ctor:"[]"}),_1:{ctor:"::",_0:s(Lm,"delete",{ctor:"[]"}),_1:{ctor:"::",_0:s(Oa,{ctor:"::",_0:Rm("add"),_1:{ctor:"::",_0:Va(r.onAddClicked),_1:{ctor:"[]"}}},{ctor:"[]"}),_1:{ctor:"[]"}}}}),_1:{ctor:"[]"}}}}),_1:{ctor:"[]"}},s(vt,hI,r.entityList))}),gI=s(ji,{ctor:"::",_0:Yi("divider"),_1:{ctor:"[]"}},{ctor:"[]"}),mI=function(t){var e=t,r=e.projects,n=e.contexts,o=1+st(n.entityList),u=o+st(r.entityList),c=e.mainViewType;switch(c.ctor){case"EntityListView":var i=c._0;switch(i.ctor){case"ContextsView":return 0;case"ContextView":return 1+function(t){return s(Sm[">>?="],gs(function(e){return s(fm,t,function(t){return t.id}(e))}),0)(n.entityList)}(i._0);case"ProjectsView":return o;default:return 1+o+function(t){return s(Sm[">>?="],gs(function(e){return s(fm,t,function(t){return t.id}(e))}),0)(r.entityList)}(i._0)}case"BinView":return u+1;case"DoneView":return u+2;default:return u+3}},yI=e(function(t,e){var r=t,n=r.contexts,o=r.projects;return f(Ii,"paper-listbox",{ctor:"::",_0:s($a,"selectable","paper-item"),_1:{ctor:"::",_0:s(Pa,"selected",mI(t)),_1:{ctor:"[]"}}},s(k["++"],s(vI,n,e.mainViewType),s(k["++"],{ctor:"::",_0:gI,_1:{ctor:"[]"}},s(k["++"],s(vI,o,e.mainViewType),s(k["++"],{ctor:"::",_0:gI,_1:{ctor:"[]"}},{ctor:"::",_0:f(dI,"delete",KA,"Bin"),_1:{ctor:"::",_0:f(dI,"done",GA,"Done"),_1:{ctor:"::",_0:f(dI,"notification:sync",WA,"Custom Sync"),_1:{ctor:"[]"}}}})))))}),bI=function(t){var e=t.developmentMode?{ctor:"_Tuple2",_0:s(k["++"],"Dev v",t.appVersion),_1:""}:{ctor:"_Tuple2",_0:"SimpleGTD.com",_1:s(k["++"],"v",t.appVersion)},r=e._0,n=e._1;return s(ji,{ctor:"[]"},{ctor:"::",_0:s(ji,{ctor:"[]"},{ctor:"::",_0:Ci(r),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(ji,{ctor:"::",_0:Yi("small"),_1:{ctor:"[]"}},{ctor:"::",_0:Ci(n),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}})},wI=e(function(t,e){var r=t;r.contexts,r.projects;return s(Ui,{ctor:"::",_0:s(Fa,"swipeOpen",!0),_1:{ctor:"::",_0:s(Ki,"slot","drawer"),_1:{ctor:"[]"}}},{ctor:"::",_0:s(zi,{ctor:"::",_0:s(Ki,"has-scrolling-region",""),_1:{ctor:"[]"}},{ctor:"::",_0:s(Ji,{ctor:"::",_0:s(Fa,"fixed",!0),_1:{ctor:"::",_0:s(Ki,"slot","header"),_1:{ctor:"[]"}}},{ctor:"::",_0:s(Hi,{ctor:"::",_0:fa({ctor:"::",_0:s(Sm["=>"],"color","white"),_1:{ctor:"::",_0:s(Sm["=>"],"background-color",t.header.backgroundColor),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}},{ctor:"::",_0:s(ji,{ctor:"[]"},{ctor:"::",_0:s(Dm,{ctor:"::",_0:Rm("menu"),_1:{ctor:"::",_0:Gi(-1),_1:{ctor:"::",_0:s(Ki,"drawer-toggle",""),_1:{ctor:"::",_0:wa(qA),_1:{ctor:"[]"}}}}},{ctor:"[]"}),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:bI(e),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(yI,t,e),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}})}),TI=e(function(t,e){var r=DA(iS);return s(ji,{ctor:"::",_0:Yi("full-view fixed-top"),_1:{ctor:"::",_0:Ja(r),_1:{ctor:"[]"}}},{ctor:"::",_0:s(ji,{ctor:"::",_0:Yi("fixed-bottom top-shadow static"),_1:{ctor:"[]"}},{ctor:"::",_0:s(ji,{ctor:"::",_0:Yi("font-headline"),_1:{ctor:"[]"}},{ctor:"::",_0:Ci(t.text),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(ji,{ctor:"::",_0:Yi("layout horizontal flex-auto-children"),_1:{ctor:"[]"}},e),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}})}),kI=e(function(t,e){if("InitialView"===t.ctor){var r={onDismissClicked:DA(sS),onDoneClicked:DA(aS),onSnoozeClicked:DA(_S)};return s(TI,e,{ctor:"::",_0:f(Fm,"notification:do-not-disturb","dismiss",r.onDismissClicked),_1:{ctor:"::",_0:f(Fm,"av:snooze","snooze",r.onSnoozeClicked),_1:{ctor:"::",_0:f(Fm,"done","done!",r.onDoneClicked),_1:{ctor:"[]"}}}})}var n=function(t){return DA(fS(t))},r={snoozeFor15Min:n(dS(9e5)),snoozeFor1Hour:n(dS(36e5)),snoozeFor3Hours:n(dS(108e5)),snoozeTillTomorrow:n(lS)};return s(TI,e,{ctor:"::",_0:f(Fm,"av:snooze","15 min",r.snoozeFor15Min),_1:{ctor:"::",_0:f(Fm,"av:snooze","1 hour",r.snoozeFor1Hour),_1:{ctor:"::",_0:f(Fm,"av:snooze","3 hour",r.snoozeFor3Hours),_1:{ctor:"::",_0:f(Fm,"av:snooze","tomorrow",r.snoozeTillTomorrow),_1:{ctor:"[]"}}}}})}),SI=function(t){var e=t.reminderOverlay;return"Active"===e.ctor?W(s(kI,e._0,e._1)):z},EI=function(t){return s(Aa,{ctor:"::",_0:Zi("add-fab"),_1:{ctor:"::",_0:s(Ki,"icon","add"),_1:{ctor:"::",_0:s(Ki,"mini",""),_1:{ctor:"::",_0:wa(AA),_1:{ctor:"::",_0:Gi(-1),_1:{ctor:"[]"}}}}}},{ctor:"[]"})},xI=function(t){var e=ox(t),r=wC(t);return s(Vi,{ctor:"::",_0:s(Fa,"forceNarrow",e),_1:{ctor:"::",_0:s(Nm,"narrow",NA),_1:{ctor:"[]"}}},{ctor:"::",_0:s(wI,r,t),_1:{ctor:"::",_0:s(zi,{ctor:"::",_0:s(Ki,"has-scrolling-region",""),_1:{ctor:"[]"}},{ctor:"::",_0:s(fI,r,t),_1:{ctor:"::",_0:s(lI,r,t),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}}})},AI=(s(ji,{ctor:"::",_0:Yi("full-view"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Ma,{ctor:"::",_0:fa({ctor:"::",_0:s(Sm["=>"],"background-color","white"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:Yi("fixed-bottom"),_1:{ctor:"::",_0:s(Ki,"elevation","5"),_1:{ctor:"[]"}}}},{ctor:"::",_0:s(Ia,{ctor:"[]"},{ctor:"::",_0:Ci("bottom"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(Ia,{ctor:"[]"},{ctor:"::",_0:Ci("bottom"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(Ia,{ctor:"[]"},{ctor:"::",_0:Ci("bottom"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}}),_1:{ctor:"[]"}}),function(t){var e=function(){var e=IE(t);switch(e.ctor){case"LaunchBar":return s(qC,e._0,t);case"EditTodoContext":return s(cC,e._0,t);case"EditTodoProject":return s(iC,e._0,t);case"EditTodoReminder":return s(uC,e._0,t);default:return s(Bi,{ctor:"[]"},{ctor:"[]"})}}();return s(yt,T,{ctor:"::",_0:W(e),_1:{ctor:"::",_0:SI(t),_1:{ctor:"[]"}}})}),OI=function(t){var e=s(k["++"],{ctor:"::",_0:xI(t),_1:{ctor:"::",_0:EI(),_1:{ctor:"[]"}}},AI(t));return s(ji,{ctor:"::",_0:Zi("app-view"),_1:{ctor:"[]"}},e)},CI=function(t){return s(ji,{ctor:"::",_0:Zi("root"),_1:{ctor:"[]"}},{ctor:"::",_0:NC(),_1:{ctor:"::",_0:OI(t),_1:{ctor:"[]"}}})},II=function(t){return CC(s(Sm[">>?"],ix,ny))},NI=function(t){return km(s(k["++"],"#edit-schedule-button-",ky(t)))},qI=function(t){return km(s(k["++"],"#edit-project-button-",ky(t)))},MI=function(t){return km(s(k["++"],"#edit-context-button-",ky(t)))},jI=function(t){return s(fi["?|>"],ix(t),uy(t.firebaseClient))},DI=function(t){return s(fi["?|>"],ix(t),ey(t.firebaseClient))},RI=Be,BI=HA.focus(".entity-list > [tabindex=0]"),PI=e(function(t,e){return Pe(s(Bx,t,ky(e)))}),LI=function(t){return Pe(function(e){return s(Te,s(fi["#"],Wb(t),e),db(s(Qb,t,e)))})},FI=function(t){return s(LI,Fx,s(LI,Ix,s(LI,Px,t)))},$I=(s(Sm[">>>"],Ay,Ue),Ue),UI=function(t){return RI(s(Qn,t,oo))},VI=(s(Sm[">>>"],Wb,$I),s(Sm[">>>"],Yb,$I),function(t){return Ne({ctor:"::",_0:s(_o,1e3,aA),_1:{ctor:"::",_0:rk(iA),_1:{ctor:"::",_0:ok(cA),_1:{ctor:"::",_0:vb(JA),_1:{ctor:"::",_0:iy(UA),_1:{ctor:"::",_0:zg(t.keyComboModel),_1:{ctor:"::",_0:tI(),_1:{ctor:"[]"}}}}}}}})}),JI=function(t){return Fe(QA(t))},zI=function(t){var e=ky(t);return{title:Aw(t),tag:e,data:{id:e}}},HI=Ee.outgoingPort("closeNotification",function(t){return t}),WI=function(t){return Pe(function(e){return function(){var r=e.reminderOverlay;if("Active"!==r.ctor)return Fe;var n=r._1,o=n.id,u=t;switch(u.ctor){case"Dismiss":return function(t){return s(Be,HI(o),s(Te,UE,f(Mx,oT,o,t)))};case"ShowSnoozeOptions":return function(t){return Fe(s($E,n,t))};case"SnoozeTill":return function(t){return s(Be,HI(o),s(Pe,s(jx,u._0,o),Fe(t)))};case"Close":return function(t){return Fe(UE(t))};default:return function(t){return s(Be,HI(o),s(Te,UE,f(Mx,hT,o,t)))}}}()(e)})},KI=Ee.outgoingPort("syncWithRemotePouch",function(t){return t}),GI=Ee.outgoingPort("startAlarm",function(t){return null}),XI=function(t){var e=t,r={ctor:"::",_0:e._1,_1:{ctor:"::",_0:WC(zI(e._0._0)),_1:{ctor:"::",_0:GI({ctor:"_Tuple0"}),_1:{ctor:"[]"}}}};return s(Ce["!"],e._0._1,r)},QI=OC(s(Sm[">>?"],Dx,XI)),YI=function(t){return function(e){return s(ZI,rA,QI(s(Ue,tE(t),e)))}},ZI=function(t){return Pe(tN(t))},tN=function(t){return function(e){return FI(function(){var e=t;switch(e.ctor){case"OnCommonMsg":return Om(e._0);case"OnPouchDBChange":return OC(s(Sm[">>?"],s(Sm[">>?"],s($x,e._0,e._1),Te(VA)),m(tN)));case"OnEntityUpsert":var r=e._0;return"TodoEntity"===r.ctor?eN(hS(r._0)):T;case"OnFirebaseChange":return Re(s(yE,e._0,e._1));case"SignIn":return Be(Ym({ctor:"_Tuple0"}));case"SignOut":return Be(Zm({ctor:"_Tuple0"}));case"OnUserChanged":var n=e._0;return function(t){return s(II,n,s(CC,jI,s(CC,DI,s(Ue,bx(n),t))))};case"OnFCMTokenChanged":var o=e._0;s(V,"fcm: token",o);return function(t){return s(CC,DI,s(Ue,Ox(o),t))};case"OnFirebaseConnectionChanged":return function(t){return s(CC,DI,s(Ue,Cx(e._0),t))};case"OnSetDomFocusToFocusInEntity":return ZI(BI);case"OnEntityListKeyDown":var u=e._0;switch(e._1.key.ctor){case"ArrowUp":return function(t){return s(ZI,zx,s(Ue,s(hx,-1,u),t))};case"ArrowDown":return function(t){return s(ZI,zx,s(Ue,s(hx,1,u),t))};default:return T}case"ToggleDrawer":return Ue(cx);case"OnLayoutNarrowChanged":return Ue(ux(e._0));case"RemotePouchSync":return function(t){return s(Re,function(t){return KI(function(t){return t.pouchDBRemoteSyncURI}(t))},s(ZI,gA,t))};case"OnNotificationClicked":var c=e._0.data.id;return v.eq(e._0.action,"mark-done")?function(t){return s(RI,HI(c),s(Pe,s(Mx,hT,c),t))}:function(t){return ZI(sA(t))}(c);case"ToggleShowDeletedEntity":return Ue(function(t){return v.update(t,{showDeleted:!t.showDeleted})});case"TodoAction":return T;case"ReminderOverlayAction":return WI(e._0);case"ToggleTodoDone":return Pe(s(Mx,cT,e._0));case"SetTodoContext":return function(t){return s(ZI,TA,f(PI,fT(e._0),e._1,t))};case"SetTodoProject":return function(t){return s(ZI,TA,f(PI,iT(e._0),e._1,t))};case"NewTodoTextChanged":return Ue(s(xx,e._0,e._1));case"DeactivateEditingMode":return function(t){return s(ZI,BI,s(Ue,NE,t))};case"NewTodoKeyUp":return"Enter"===e._0.key.ctor?ZI(gA):T;case"StartEditingReminder":var i=e._0;return function(t){return s(Be,NI(i),s(Ue,LE(i),t))};case"StartEditingContext":var a=e._0;return function(t){return s(Be,MI(a),s(Ue,BE(a),t))};case"StartEditingProject":var _=e._0;return function(t){return s(Be,qI(_),s(Ue,PE(_),t))};case"UpdateTodoForm":return Ue(function(t){return OE(Kk(t))}(s(xk,e._1,e._0)));case"OnEditTodoProjectMenuStateChanged":return function(t){return ym(s(Ue,function(t){return OE(Lk(t))}(s(Sk,e._1,e._0)),t))};case"OnEditTodoContextMenuStateChanged":return function(t){return ym(s(Ue,function(t){return OE(Fk(t))}(s(Sk,e._1,e._0)),t))};case"UpdateRemoteSyncFormUri":return Ue(function(t){return OE(Bk(t))}(v.update(e._0,{uri:e._1})));case"SwitchView":return Ue(AE(e._0));case"SetGroupByView":return Ue(uO(e._0));case"ShowReminderOverlayForTodoId":return Ue(JE(e._0));case"OnNowChanged":return YI(e._0);case"OnKeyboardMsg":return function(t){return s(Tm,".entity-list > [tabindex=0]",s(Ue,ZS(ek(e._0)),t))};case"SaveCurrentForm":return function(t){return s(ZI,TA,s(Pe,Vx,t))};case"NewTodo":return function(t){return ym(s(Ue,Sx,t))};case"NewTodoForInbox":return function(t){return ym(s(Ue,Ex,t))};case"NewProject":return function(t){return ym(s(Ue,tO,t))};case"NewContext":return function(t){return ym(s(Ue,nO,t))};case"OnEntityAction":var l=e._0,d=e._1;switch(d.ctor){case"StartEditing":return function(t){return ym(s(Ue,RE(l),t))};case"NameChanged":return Ue(s(DE,d._0,l));case"Save":return ZI(gA);case"ToggleDeleted":return function(t){return s(ZI,TA,s(Pe,Jx(l),t))};case"OnFocusIn":return Ue(dx(l));case"ToggleSelected":return Ue(gE(l));default:return Ue(cO(l))}case"OnLaunchBarMsgWithNow":var p=e._1,h=e._0;switch(h.ctor){case"OnEnter":return function(t){return function(){var t=h._0;switch(t.ctor){case"Project":return $I(ZA(t._0));case"Projects":return $I(uO(OT));case"Context":return $I(rO(t._0));default:return $I(uO(qT))}}()(s(ZI,TA,t))};case"OnInputChanged":return $I(f(kx,p,h._1,h._0));default:return function(t){return ym(s($I,Tx(p),t))}}case"OnLaunchBarMsg":return UI(nA(e._0));case"OnCloseNotification":return RI(HI(e._0));case"OnGlobalKeyUp":return rN(e._0);case"OnKeyCombo":return Pe(_x(e._0));case"OnTodoMsg":return UI(Kx(e._0));default:return f(YC,ZI,e._1,e._0)}}()(Fe(e)))}},eN=function(t){return ZI(Gx(t))},rN=function(t){return s(IC,IE,function(e){var r={ctor:"_Tuple2",_0:t,_1:e};t:do{if("_Tuple2"!==r.ctor)break t;if("None"!==r._1.ctor){if("Escape"===r._0.ctor)return ZI(TA);break t}var n=r._0;switch(n.ctor){case"Escape":return Ue(xE);case"CharQ":return ZI(AA);case"CharI":return ZI(xA);case"Slash":return ZI(oA(NS));default:return T}}while(!1);return T})},nN=function(t){return Ah(Bh(t))}({delta2url:BC,location2messages:jC,init:JI,update:tN,view:CI,subscriptions:VI})(s(on,function(t){return s(on,function(e){return s(on,function(r){return s(on,function(n){return s(on,function(o){return s(on,function(u){return s(on,function(c){return s(on,function(i){return cn({appVersion:t,developmentMode:e,deviceId:r,encodedContextList:n,encodedProjectList:o,encodedTodoList:u,now:c,pouchDBRemoteSyncURI:i})},s(pn,"pouchDBRemoteSyncURI",bn))},s(pn,"now",gn))},s(pn,"encodedTodoList",vn(nn)))},s(pn,"encodedProjectList",vn(nn)))},s(pn,"encodedContextList",vn(nn)))},s(pn,"deviceId",bn))},s(pn,"developmentMode",yn))},s(pn,"appVersion",bn))),oN=(b(at(function(t){return Pe(tN(t))})),Ee.outgoingPort("stopAlarm",function(t){return null}),{});oN.Main=oN.Main||{},void 0!==nN&&nN(oN.Main,"Main",void 0);var uN=function(){};if(t.hot&&function(e){function r(){return++_}function n(t,e){var r=[];for(var o in t){var u=t[o],c=e?e+"."+o:o;"fullscreen"in u?r.push({path:c,module:u}):r=r.concat(n(u,c))}return r}function o(t,e){for(var r=e.split("."),n=t,o=0;o<r.length;++o){var u=r[o];if(u in n&&(n=n[u]),!n)return null}return n}function u(t,e,n,o){var u=r(),c={id:u,path:n,domNode:t,flags:e,portSubscribes:o,elmProxy:null,lastState:null,callbacks:[]};return c.subscribe=function(t){return c.callbacks.push(t),function(){c.callbacks.splice(c.callbacks.indexOf(t),1)}},c.dispatch=function(t){c.callbacks.forEach(function(e){e(t,{flags:c.flags,state:"_0"in c.lastState?c.lastState._0:c.lastState})})},f[u]=c}function c(t,e){var r=e.embed,n=e.fullscreen;e.embed=function(e,n){var o,c={};return d=u(e,n,t,c),o=r(e,n),a(o,c),o=d.elmProxy={ports:o.ports,hot:{subscribe:d.subscribe}},d=null,o},e.fullscreen=function(e){var r,o={};return d=u(document.body,e,t,o),r=n(e),a(r,o),r=d.elmProxy={ports:r.ports,hot:{subscribe:d.subscribe}},d=null,r}}function i(t,e){console.log("[elm-hot] Hot-swapping module: "+e.path),p=e;for(var r=e.domNode;r.lastChild;)r.removeChild(r.lastChild);var n,u=o(t,e.path);if(u){e.dispatch("swap");var c=e.flags;n=e.isFullscreen?u.fullscreen(c):u.embed(r,c),e.elmProxy.ports=n.ports,Object.keys(e.portSubscribes).forEach(function(t){if(t in n.ports&&"subscribe"in n.ports[t]){var r=e.portSubscribes[t];if(!r.length)return;console.log("[elm-hot] Reconnect "+r.length+" handler(s) to port '"+t+"' ("+e.path+")."),r.forEach(function(e){n.ports[t].subscribe(e)})}else delete e.portSubscribes[t],console.log("[elm-hot] Port was removed: "+t)})}else console.log("[elm-hot] Module was removed: "+e.path);p=null}function a(t,e){var r=Object.keys(t.ports||{});return r.length&&r.filter(function(e){return"subscribe"in t.ports[e]}).forEach(function(r){var n=t.ports[r],o=n.subscribe,u=n.unsubscribe;t.ports[r]=Object.assign(n,{subscribe:function(t){return console.log("[elm-hot] ports."+r+".subscribe called."),e[r]?e[r].push(t):e[r]=[t],o.call(n,t)},unsubscribe:function(t){console.log("[elm-hot] ports."+r+".unsubscribe called.");var o=e[r];return o&&-1!==o.indexOf(t)?o.splice(o.lastIndexOf(t),1):console.warn("[elm-hot] ports."+r+".unsubscribe: handler not subscribed"),u.call(n,t)}})}),e}var s=function(){try{if(Ee.initialize)return"0.18"}catch(t){}try{if(1===di.length)return"0.17"}catch(t){}return"unknown"}();if(console.log("[elm-hot] Elm version:",s),"0.17"===s)throw new Error("[elm-hot] Please use elm-hot-loader@0.4.x");if("0.18"!==s)throw new Error("[elm-hot] Elm version not supported.");"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var e=1;e<arguments.length;e++){var r=arguments[e];if(null!=r)for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t});var f=t.hot.data?t.hot.data.instances||{}:{},_=t.hot.data?t.hot.data.uid||0:0,l=[],d=null,p=null;t.hot.accept(),t.hot.dispose(function(t){if(t.instances=f,t.uid=_,xe.nativeBinding=function(){return xe.fail(new Error("[elm-hot] Inactive Elm instance."))},l.length){console.log("[elm-hot] Killing "+l.length+" running processes...");try{l.forEach(function(t){t()})}catch(t){console.warn("[elm-hot] Kill process error: "+t.message)}}});var h=Ee.initialize;Ee.initialize=function(t,e,r,n){function o(t){return t&&"object"==typeof t&&"boolean"==typeof t.isDebuggerOpen&&"state"in t}var u=d,c=p,i=!!p,a=!0,s=o(t._0);return p&&(s?t._0.state=p.lastState:t._0=p.lastState),h(t,e,function(t){var e;if(i){i=!1;try{e=r(t)}catch(t){throw new Error("[elm-hot] Hot-swapping is not possible, please reload page. Error: "+t.message)}}else e=r(t);return u?o(t)?u.lastState=t.state:u.lastState=t:u=c,a=!1,e},n)};var v=xe.nativeBinding;xe.nativeBinding=function(){var t=v.apply(this,arguments),e=t.callback;return t.callback=function(){var t=e.apply(this,arguments);return t?(l.push(t),function(){return l.splice(l.indexOf(t),1),t()}):t},t},uN=function(t){var e=[];for(var r in f){var o=f[r];o.domNode.parentNode?i(t,o):e.push(r)}e.forEach(function(t){delete o[t]}),n(t).forEach(function(t){c(t.path,t.module)})}}(),uN(oN),"function"==typeof define&&define.amd)return void define([],function(){return oN});if("object"==typeof t)return void(t.exports=oN);var cN=this.Elm;if(void 0===cN)return void(this.Elm=oN);for(var iN in oN){if(iN in cN)throw new Error("There are two Elm modules called `"+iN+"` on this page! Rename one of them.");cN[iN]=oN[iN]}}).call(this)},555:function(t,e,r){(function(r){var n,o;/*!
 *  howler.js v2.0.3
 *  howlerjs.com
 *
 *  (c) 2013-2017, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
!function(){"use strict";var u=function(){this.init()};u.prototype={init:function(){var t=this||c;return t._counter=0,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.mobileAutoEnable=!0,t._setup(),t},volume:function(t){var e=this||c;if(t=parseFloat(t),e.ctx||p(),void 0!==t&&t>=0&&t<=1){if(e._volume=t,e._muted)return e;e.usingWebAudio&&(e.masterGain.gain.value=t);for(var r=0;r<e._howls.length;r++)if(!e._howls[r]._webAudio)for(var n=e._howls[r]._getSoundIds(),o=0;o<n.length;o++){var u=e._howls[r]._soundById(n[o]);u&&u._node&&(u._node.volume=u._volume*t)}return e}return e._volume},mute:function(t){var e=this||c;e.ctx||p(),e._muted=t,e.usingWebAudio&&(e.masterGain.gain.value=t?0:e._volume);for(var r=0;r<e._howls.length;r++)if(!e._howls[r]._webAudio)for(var n=e._howls[r]._getSoundIds(),o=0;o<n.length;o++){var u=e._howls[r]._soundById(n[o]);u&&u._node&&(u._node.muted=!!t||u._muted)}return e},unload:function(){for(var t=this||c,e=t._howls.length-1;e>=0;e--)t._howls[e].unload();return t.usingWebAudio&&t.ctx&&void 0!==t.ctx.close&&(t.ctx.close(),t.ctx=null,p()),t},codecs:function(t){return(this||c)._codecs[t.replace(/^x-/,"")]},_setup:function(){var t=this||c;if(t.state=t.ctx?t.ctx.state||"running":"running",t._autoSuspend(),!t.usingWebAudio)if("undefined"!=typeof Audio)try{var e=new Audio;void 0===e.oncanplaythrough&&(t._canPlayEvent="canplay")}catch(e){t.noAudio=!0}else t.noAudio=!0;try{var e=new Audio;e.muted&&(t.noAudio=!0)}catch(t){}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||c,e=null;try{e="undefined"!=typeof Audio?new Audio:null}catch(e){return t}if(!e||"function"!=typeof e.canPlayType)return t;var r=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n=t._navigator&&t._navigator.userAgent.match(/OPR\/([0-6].)/g),o=n&&parseInt(n[0].split("/")[1],10)<33;return t._codecs={mp3:!(o||!r&&!e.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!r,opus:!!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!e.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!e.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(e.canPlayType("audio/x-mp4;")||e.canPlayType("audio/mp4;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(e.canPlayType("audio/x-flac;")||e.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_enableMobileAudio:function(){var t=this||c,e=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(t._navigator&&t._navigator.userAgent),r=!!("ontouchend"in window||t._navigator&&t._navigator.maxTouchPoints>0||t._navigator&&t._navigator.msMaxTouchPoints>0);if(!t._mobileEnabled&&t.ctx&&(e||r)){t._mobileEnabled=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var n=function(){var e=t.ctx.createBufferSource();e.buffer=t._scratchBuffer,e.connect(t.ctx.destination),void 0===e.start?e.noteOn(0):e.start(0),e.onended=function(){e.disconnect(0),t._mobileEnabled=!0,t.mobileAutoEnable=!1,document.removeEventListener("touchend",n,!0)}};return document.addEventListener("touchend",n,!0),t}},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&void 0!==t.ctx.suspend&&c.usingWebAudio){for(var e=0;e<t._howls.length;e++)if(t._howls[e]._webAudio)for(var r=0;r<t._howls[e]._sounds.length;r++)if(!t._howls[e]._sounds[r]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout(function(){t.autoSuspend&&(t._suspendTimer=null,t.state="suspending",t.ctx.suspend().then(function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())}))},3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&void 0!==t.ctx.resume&&c.usingWebAudio)return"running"===t.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state?(t.state="resuming",t.ctx.resume().then(function(){t.state="running";for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("resume")}),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var c=new u,i=function(t){var e=this;if(!t.src||0===t.src.length)return void console.error("An array of source files must be passed with any new Howl.");e.init(t)};i.prototype={init:function(t){var e=this;return c.ctx||p(),e._autoplay=t.autoplay||!1,e._format="string"!=typeof t.format?t.format:[t.format],e._html5=t.html5||!1,e._muted=t.mute||!1,e._loop=t.loop||!1,e._pool=t.pool||5,e._preload="boolean"!=typeof t.preload||t.preload,e._rate=t.rate||1,e._sprite=t.sprite||{},e._src="string"!=typeof t.src?t.src:[t.src],e._volume=void 0!==t.volume?t.volume:1,e._duration=0,e._state="unloaded",e._sounds=[],e._endTimers={},e._queue=[],e._onend=t.onend?[{fn:t.onend}]:[],e._onfade=t.onfade?[{fn:t.onfade}]:[],e._onload=t.onload?[{fn:t.onload}]:[],e._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],e._onpause=t.onpause?[{fn:t.onpause}]:[],e._onplay=t.onplay?[{fn:t.onplay}]:[],e._onstop=t.onstop?[{fn:t.onstop}]:[],e._onmute=t.onmute?[{fn:t.onmute}]:[],e._onvolume=t.onvolume?[{fn:t.onvolume}]:[],e._onrate=t.onrate?[{fn:t.onrate}]:[],e._onseek=t.onseek?[{fn:t.onseek}]:[],e._onresume=[],e._webAudio=c.usingWebAudio&&!e._html5,void 0!==c.ctx&&c.ctx&&c.mobileAutoEnable&&c._enableMobileAudio(),c._howls.push(e),e._autoplay&&e._queue.push({event:"play",action:function(){e.play()}}),e._preload&&e.load(),e},load:function(){var t=this,e=null;if(c.noAudio)return void t._emit("loaderror",null,"No audio support.");"string"==typeof t._src&&(t._src=[t._src]);for(var r=0;r<t._src.length;r++){var n,o;if(t._format&&t._format[r])n=t._format[r];else{if("string"!=typeof(o=t._src[r])){t._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}n=/^data:audio\/([^;,]+);/i.exec(o),n||(n=/\.([^.]+)$/.exec(o.split("?",1)[0])),n&&(n=n[1].toLowerCase())}if(n||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),n&&c.codecs(n)){e=t._src[r];break}}return e?(t._src=e,t._state="loading","https:"===window.location.protocol&&"http:"===e.slice(0,5)&&(t._html5=!0,t._webAudio=!1),new a(t),t._webAudio&&f(t),t):void t._emit("loaderror",null,"No codec support for selected audio sources.")},play:function(t,e){var r=this,n=null;if("number"==typeof t)n=t,t=null;else{if("string"==typeof t&&"loaded"===r._state&&!r._sprite[t])return null;if(void 0===t){t="__default";for(var o=0,u=0;u<r._sounds.length;u++)r._sounds[u]._paused&&!r._sounds[u]._ended&&(o++,n=r._sounds[u]._id);1===o?t=null:n=null}}var i=n?r._soundById(n):r._inactiveSound();if(!i)return null;if(n&&!t&&(t=i._sprite||"__default"),"loaded"!==r._state&&!r._sprite[t])return r._queue.push({event:"play",action:function(){r.play(r._soundById(i._id)?i._id:void 0)}}),i._id;if(n&&!i._paused)return e||setTimeout(function(){r._emit("play",i._id)},0),i._id;r._webAudio&&c._autoResume();var a=Math.max(0,i._seek>0?i._seek:r._sprite[t][0]/1e3),s=Math.max(0,(r._sprite[t][0]+r._sprite[t][1])/1e3-a),f=1e3*s/Math.abs(i._rate);i._paused=!1,i._ended=!1,i._sprite=t,i._seek=a,i._start=r._sprite[t][0]/1e3,i._stop=(r._sprite[t][0]+r._sprite[t][1])/1e3,i._loop=!(!i._loop&&!r._sprite[t][2]);var _=i._node;if(r._webAudio){var l=function(){r._refreshBuffer(i);var t=i._muted||r._muted?0:i._volume;_.gain.setValueAtTime(t,c.ctx.currentTime),i._playStart=c.ctx.currentTime,void 0===_.bufferSource.start?i._loop?_.bufferSource.noteGrainOn(0,a,86400):_.bufferSource.noteGrainOn(0,a,s):i._loop?_.bufferSource.start(0,a,86400):_.bufferSource.start(0,a,s),f!==1/0&&(r._endTimers[i._id]=setTimeout(r._ended.bind(r,i),f)),e||setTimeout(function(){r._emit("play",i._id)},0)},d="running"===c.state;if("loaded"===r._state&&d)l();else{var p=d||"loaded"!==r._state?"load":"resume";r.once(p,l,d?i._id:null),r._clearTimer(i._id)}}else{var h=function(){_.currentTime=a,_.muted=i._muted||r._muted||c._muted||_.muted,_.volume=i._volume*c.volume(),_.playbackRate=i._rate,_.play(),f!==1/0&&(r._endTimers[i._id]=setTimeout(r._ended.bind(r,i),f)),e||r._emit("play",i._id)},v="loaded"===r._state&&(window&&window.ejecta||!_.readyState&&c._navigator.isCocoonJS);if(4===_.readyState||v)h();else{var g=function(){h(),_.removeEventListener(c._canPlayEvent,g,!1)};_.addEventListener(c._canPlayEvent,g,!1),r._clearTimer(i._id)}}return i._id},pause:function(t){var e=this;if("loaded"!==e._state)return e._queue.push({event:"pause",action:function(){e.pause(t)}}),e;for(var r=e._getSoundIds(t),n=0;n<r.length;n++){e._clearTimer(r[n]);var o=e._soundById(r[n]);if(o&&!o._paused&&(o._seek=e.seek(r[n]),o._rateSeek=0,o._paused=!0,e._stopFade(r[n]),o._node))if(e._webAudio){if(!o._node.bufferSource)return e;void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),e._cleanBuffer(o._node)}else isNaN(o._node.duration)&&o._node.duration!==1/0||o._node.pause();arguments[1]||e._emit("pause",o?o._id:null)}return e},stop:function(t,e){var r=this;if("loaded"!==r._state)return r._queue.push({event:"stop",action:function(){r.stop(t)}}),r;for(var n=r._getSoundIds(t),o=0;o<n.length;o++){r._clearTimer(n[o]);var u=r._soundById(n[o]);if(u&&(u._seek=u._start||0,u._rateSeek=0,u._paused=!0,u._ended=!0,r._stopFade(n[o]),u._node))if(r._webAudio){if(!u._node.bufferSource)return e||r._emit("stop",u._id),r;void 0===u._node.bufferSource.stop?u._node.bufferSource.noteOff(0):u._node.bufferSource.stop(0),r._cleanBuffer(u._node)}else isNaN(u._node.duration)&&u._node.duration!==1/0||(u._node.currentTime=u._start||0,u._node.pause());u&&!e&&r._emit("stop",u._id)}return r},mute:function(t,e){var r=this;if("loaded"!==r._state)return r._queue.push({event:"mute",action:function(){r.mute(t,e)}}),r;if(void 0===e){if("boolean"!=typeof t)return r._muted;r._muted=t}for(var n=r._getSoundIds(e),o=0;o<n.length;o++){var u=r._soundById(n[o]);u&&(u._muted=t,r._webAudio&&u._node?u._node.gain.setValueAtTime(t?0:u._volume,c.ctx.currentTime):u._node&&(u._node.muted=!!c._muted||t),r._emit("mute",u._id))}return r},volume:function(){var t,e,r=this,n=arguments;if(0===n.length)return r._volume;if(1===n.length||2===n.length&&void 0===n[1]){r._getSoundIds().indexOf(n[0])>=0?e=parseInt(n[0],10):t=parseFloat(n[0])}else n.length>=2&&(t=parseFloat(n[0]),e=parseInt(n[1],10));var o;if(!(void 0!==t&&t>=0&&t<=1))return o=e?r._soundById(e):r._sounds[0],o?o._volume:0;if("loaded"!==r._state)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,n)}}),r;void 0===e&&(r._volume=t),e=r._getSoundIds(e);for(var u=0;u<e.length;u++)(o=r._soundById(e[u]))&&(o._volume=t,n[2]||r._stopFade(e[u]),r._webAudio&&o._node&&!o._muted?o._node.gain.setValueAtTime(t,c.ctx.currentTime):o._node&&!o._muted&&(o._node.volume=t*c.volume()),r._emit("volume",o._id));return r},fade:function(t,e,r,n){var o=this,u=Math.abs(t-e),i=t>e?"out":"in",a=u/.01,s=a>0?r/a:r;if(s<4&&(a=Math.ceil(a/(4/s)),s=4),"loaded"!==o._state)return o._queue.push({event:"fade",action:function(){o.fade(t,e,r,n)}}),o;o.volume(t,n);for(var f=o._getSoundIds(n),_=0;_<f.length;_++){var l=o._soundById(f[_]);if(l){if(n||o._stopFade(f[_]),o._webAudio&&!l._muted){var d=c.ctx.currentTime,p=d+r/1e3;l._volume=t,l._node.gain.setValueAtTime(t,d),l._node.gain.linearRampToValueAtTime(e,p)}var h=t;l._interval=setInterval(function(r,u){a>0&&(h+="in"===i?.01:-.01),h=Math.max(0,h),h=Math.min(1,h),h=Math.round(100*h)/100,o._webAudio?(void 0===n&&(o._volume=h),u._volume=h):o.volume(h,r,!0),(e<t&&h<=e||e>t&&h>=e)&&(clearInterval(u._interval),u._interval=null,o.volume(e,r),o._emit("fade",r))}.bind(o,f[_],l),s)}}return o},_stopFade:function(t){var e=this,r=e._soundById(t);return r&&r._interval&&(e._webAudio&&r._node.gain.cancelScheduledValues(c.ctx.currentTime),clearInterval(r._interval),r._interval=null,e._emit("fade",t)),e},loop:function(){var t,e,r,n=this,o=arguments;if(0===o.length)return n._loop;if(1===o.length){if("boolean"!=typeof o[0])return!!(r=n._soundById(parseInt(o[0],10)))&&r._loop;t=o[0],n._loop=t}else 2===o.length&&(t=o[0],e=parseInt(o[1],10));for(var u=n._getSoundIds(e),c=0;c<u.length;c++)(r=n._soundById(u[c]))&&(r._loop=t,n._webAudio&&r._node&&r._node.bufferSource&&(r._node.bufferSource.loop=t,t&&(r._node.bufferSource.loopStart=r._start||0,r._node.bufferSource.loopEnd=r._stop)));return n},rate:function(){var t,e,r=this,n=arguments;if(0===n.length)e=r._sounds[0]._id;else if(1===n.length){var o=r._getSoundIds(),u=o.indexOf(n[0]);u>=0?e=parseInt(n[0],10):t=parseFloat(n[0])}else 2===n.length&&(t=parseFloat(n[0]),e=parseInt(n[1],10));var i;if("number"!=typeof t)return i=r._soundById(e),i?i._rate:r._rate;if("loaded"!==r._state)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,n)}}),r;void 0===e&&(r._rate=t),e=r._getSoundIds(e);for(var a=0;a<e.length;a++)if(i=r._soundById(e[a])){i._rateSeek=r.seek(e[a]),i._playStart=r._webAudio?c.ctx.currentTime:i._playStart,i._rate=t,r._webAudio&&i._node&&i._node.bufferSource?i._node.bufferSource.playbackRate.value=t:i._node&&(i._node.playbackRate=t);var s=r.seek(e[a]),f=(r._sprite[i._sprite][0]+r._sprite[i._sprite][1])/1e3-s,_=1e3*f/Math.abs(i._rate);!r._endTimers[e[a]]&&i._paused||(r._clearTimer(e[a]),r._endTimers[e[a]]=setTimeout(r._ended.bind(r,i),_)),r._emit("rate",i._id)}return r},seek:function(){var t,e,r=this,n=arguments;if(0===n.length)e=r._sounds[0]._id;else if(1===n.length){var o=r._getSoundIds(),u=o.indexOf(n[0]);u>=0?e=parseInt(n[0],10):(e=r._sounds[0]._id,t=parseFloat(n[0]))}else 2===n.length&&(t=parseFloat(n[0]),e=parseInt(n[1],10));if(void 0===e)return r;if("loaded"!==r._state)return r._queue.push({event:"seek",action:function(){r.seek.apply(r,n)}}),r;var i=r._soundById(e);if(i){if(!("number"==typeof t&&t>=0)){if(r._webAudio){var a=r.playing(e)?c.ctx.currentTime-i._playStart:0,s=i._rateSeek?i._rateSeek-i._seek:0;return i._seek+(s+a*Math.abs(i._rate))}return i._node.currentTime}var f=r.playing(e);f&&r.pause(e,!0),i._seek=t,i._ended=!1,r._clearTimer(e),f&&r.play(e,!0),!r._webAudio&&i._node&&(i._node.currentTime=t),r._emit("seek",e)}return r},playing:function(t){var e=this;if("number"==typeof t){var r=e._soundById(t);return!!r&&!r._paused}for(var n=0;n<e._sounds.length;n++)if(!e._sounds[n]._paused)return!0;return!1},duration:function(t){var e=this,r=e._duration,n=e._soundById(t);return n&&(r=e._sprite[n._sprite][1]/1e3),r},state:function(){return this._state},unload:function(){for(var t=this,e=t._sounds,r=0;r<e.length;r++){e[r]._paused||t.stop(e[r]._id),t._webAudio||(e[r]._node.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA",e[r]._node.removeEventListener("error",e[r]._errorFn,!1),e[r]._node.removeEventListener(c._canPlayEvent,e[r]._loadFn,!1)),delete e[r]._node,t._clearTimer(e[r]._id);var n=c._howls.indexOf(t);n>=0&&c._howls.splice(n,1)}var o=!0;for(r=0;r<c._howls.length;r++)if(c._howls[r]._src===t._src){o=!1;break}return s&&o&&delete s[t._src],c.noAudio=!1,t._state="unloaded",t._sounds=[],t=null,null},on:function(t,e,r,n){var o=this,u=o["_on"+t];return"function"==typeof e&&u.push(n?{id:r,fn:e,once:n}:{id:r,fn:e}),o},off:function(t,e,r){var n=this,o=n["_on"+t],u=0;if(e){for(u=0;u<o.length;u++)if(e===o[u].fn&&r===o[u].id){o.splice(u,1);break}}else if(t)n["_on"+t]=[];else{var c=Object.keys(n);for(u=0;u<c.length;u++)0===c[u].indexOf("_on")&&Array.isArray(n[c[u]])&&(n[c[u]]=[])}return n},once:function(t,e,r){var n=this;return n.on(t,e,r,1),n},_emit:function(t,e,r){for(var n=this,o=n["_on"+t],u=o.length-1;u>=0;u--)o[u].id&&o[u].id!==e&&"load"!==t||(setTimeout(function(t){t.call(this,e,r)}.bind(n,o[u].fn),0),o[u].once&&n.off(t,o[u].fn,o[u].id));return n},_loadQueue:function(){var t=this;if(t._queue.length>0){var e=t._queue[0];t.once(e.event,function(){t._queue.shift(),t._loadQueue()}),e.action()}return t},_ended:function(t){var e=this,r=t._sprite,n=!(!t._loop&&!e._sprite[r][2]);if(e._emit("end",t._id),!e._webAudio&&n&&e.stop(t._id,!0).play(t._id),e._webAudio&&n){e._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=c.ctx.currentTime;var o=1e3*(t._stop-t._start)/Math.abs(t._rate);e._endTimers[t._id]=setTimeout(e._ended.bind(e,t),o)}return e._webAudio&&!n&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,e._clearTimer(t._id),e._cleanBuffer(t._node),c._autoSuspend()),e._webAudio||n||e.stop(t._id),e},_clearTimer:function(t){var e=this;return e._endTimers[t]&&(clearTimeout(e._endTimers[t]),delete e._endTimers[t]),e},_soundById:function(t){for(var e=this,r=0;r<e._sounds.length;r++)if(t===e._sounds[r]._id)return e._sounds[r];return null},_inactiveSound:function(){var t=this;t._drain();for(var e=0;e<t._sounds.length;e++)if(t._sounds[e]._ended)return t._sounds[e].reset();return new a(t)},_drain:function(){var t=this,e=t._pool,r=0,n=0;if(!(t._sounds.length<e)){for(n=0;n<t._sounds.length;n++)t._sounds[n]._ended&&r++;for(n=t._sounds.length-1;n>=0;n--){if(r<=e)return;t._sounds[n]._ended&&(t._webAudio&&t._sounds[n]._node&&t._sounds[n]._node.disconnect(0),t._sounds.splice(n,1),r--)}}},_getSoundIds:function(t){var e=this;if(void 0===t){for(var r=[],n=0;n<e._sounds.length;n++)r.push(e._sounds[n]._id);return r}return[t]},_refreshBuffer:function(t){var e=this;return t._node.bufferSource=c.ctx.createBufferSource(),t._node.bufferSource.buffer=s[e._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop),t._node.bufferSource.playbackRate.value=t._rate,e},_cleanBuffer:function(t){var e=this;if(e._scratchBuffer){t.bufferSource.onended=null,t.bufferSource.disconnect(0);try{t.bufferSource.buffer=e._scratchBuffer}catch(t){}}return t.bufferSource=null,e}};var a=function(t){this._parent=t,this.init()};a.prototype={init:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._muted=e._muted,t._rate=e._rate,t._seek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++c._counter,e._sounds.push(t),t.create(),t},create:function(){var t=this,e=t._parent,r=c._muted||t._muted||t._parent._muted?0:t._volume;return e._webAudio?(t._node=void 0===c.ctx.createGain?c.ctx.createGainNode():c.ctx.createGain(),t._node.gain.setValueAtTime(r,c.ctx.currentTime),t._node.paused=!0,t._node.connect(c.masterGain)):(t._node=new Audio,t._errorFn=t._errorListener.bind(t),t._node.addEventListener("error",t._errorFn,!1),t._loadFn=t._loadListener.bind(t),t._node.addEventListener(c._canPlayEvent,t._loadFn,!1),t._node.src=e._src,t._node.preload="auto",t._node.volume=r*c.volume(),t._node.load()),t},reset:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._muted=e._muted,t._rate=e._rate,t._seek=0,t._rateSeek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++c._counter,t},_errorListener:function(){var t=this;t._parent._emit("loaderror",t._id,t._node.error?t._node.error.code:0),t._node.removeEventListener("error",t._errorListener,!1)},_loadListener:function(){var t=this,e=t._parent;e._duration=Math.ceil(10*t._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),t._node.removeEventListener(c._canPlayEvent,t._loadFn,!1)}};var s={},f=function(t){var e=t._src;if(s[e])return t._duration=s[e].duration,void d(t);if(/^data:[^;]+;base64,/.test(e)){for(var r=atob(e.split(",")[1]),n=new Uint8Array(r.length),o=0;o<r.length;++o)n[o]=r.charCodeAt(o);l(n.buffer,t)}else{var u=new XMLHttpRequest;u.open("GET",e,!0),u.responseType="arraybuffer",u.onload=function(){var e=(u.status+"")[0];if("0"!==e&&"2"!==e&&"3"!==e)return void t._emit("loaderror",null,"Failed loading audio file with status: "+u.status+".");l(u.response,t)},u.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete s[e],t.load())},_(u)}},_=function(t){try{t.send()}catch(e){t.onerror()}},l=function(t,e){c.ctx.decodeAudioData(t,function(t){t&&e._sounds.length>0&&(s[e._src]=t,d(e,t))},function(){e._emit("loaderror",null,"Decoding audio data failed.")})},d=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue())},p=function(){try{"undefined"!=typeof AudioContext?c.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?c.ctx=new webkitAudioContext:c.usingWebAudio=!1}catch(t){c.usingWebAudio=!1}var t=/iP(hone|od|ad)/.test(c._navigator&&c._navigator.platform),e=c._navigator&&c._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),r=e?parseInt(e[1],10):null;if(t&&r&&r<9){var n=/safari/.test(c._navigator&&c._navigator.userAgent.toLowerCase());(c._navigator&&c._navigator.standalone&&!n||c._navigator&&!c._navigator.standalone&&!n)&&(c.usingWebAudio=!1)}c.usingWebAudio&&(c.masterGain=void 0===c.ctx.createGain?c.ctx.createGainNode():c.ctx.createGain(),c.masterGain.gain.value=1,c.masterGain.connect(c.ctx.destination)),c._setup()};n=[],void 0!==(o=function(){return{Howler:c,Howl:i}}.apply(e,n))&&(t.exports=o),e.Howler=c,e.Howl=i,"undefined"!=typeof window?(window.HowlerGlobal=u,window.Howler=c,window.Howl=i,window.Sound=a):void 0!==r&&(r.HowlerGlobal=u,r.Howler=c,r.Howl=i,r.Sound=a)}(),/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.0.3
 *  howlerjs.com
 *
 *  (c) 2013-2017, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var e=this;if(!e.ctx||!e.ctx.listener)return e;for(var r=e._howls.length-1;r>=0;r--)e._howls[r].stereo(t);return e},HowlerGlobal.prototype.pos=function(t,e,r){var n=this;return n.ctx&&n.ctx.listener?(e="number"!=typeof e?n._pos[1]:e,r="number"!=typeof r?n._pos[2]:r,"number"!=typeof t?n._pos:(n._pos=[t,e,r],n.ctx.listener.setPosition(n._pos[0],n._pos[1],n._pos[2]),n)):n},HowlerGlobal.prototype.orientation=function(t,e,r,n,o,u){var c=this;if(!c.ctx||!c.ctx.listener)return c;var i=c._orientation;return e="number"!=typeof e?i[1]:e,r="number"!=typeof r?i[2]:r,n="number"!=typeof n?i[3]:n,o="number"!=typeof o?i[4]:o,u="number"!=typeof u?i[5]:u,"number"!=typeof t?i:(c._orientation=[t,e,r,n,o,u],c.ctx.listener.setOrientation(t,e,r,n,o,u),c)},Howl.prototype.init=function(t){return function(e){var r=this;return r._orientation=e.orientation||[1,0,0],r._stereo=e.stereo||null,r._pos=e.pos||null,r._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:0,distanceModel:void 0!==e.distanceModel?e.distanceModel:"inverse",maxDistance:void 0!==e.maxDistance?e.maxDistance:1e4,panningModel:void 0!==e.panningModel?e.panningModel:"HRTF",refDistance:void 0!==e.refDistance?e.refDistance:1,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:1},r._onstereo=e.onstereo?[{fn:e.onstereo}]:[],r._onpos=e.onpos?[{fn:e.onpos}]:[],r._onorientation=e.onorientation?[{fn:e.onorientation}]:[],t.call(this,e)}}(Howl.prototype.init),Howl.prototype.stereo=function(e,r){var n=this;if(!n._webAudio)return n;if("loaded"!==n._state)return n._queue.push({event:"stereo",action:function(){n.stereo(e,r)}}),n;var o=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===r){if("number"!=typeof e)return n._stereo;n._stereo=e,n._pos=[e,0,0]}for(var u=n._getSoundIds(r),c=0;c<u.length;c++){var i=n._soundById(u[c]);if(i){if("number"!=typeof e)return i._stereo;i._stereo=e,i._pos=[e,0,0],i._node&&(i._pannerAttr.panningModel="equalpower",i._panner&&i._panner.pan||t(i,o),"spatial"===o?i._panner.setPosition(e,0,0):i._panner.pan.value=e),n._emit("stereo",i._id)}}return n},Howl.prototype.pos=function(e,r,n,o){var u=this;if(!u._webAudio)return u;if("loaded"!==u._state)return u._queue.push({event:"pos",action:function(){u.pos(e,r,n,o)}}),u;if(r="number"!=typeof r?0:r,n="number"!=typeof n?-.5:n,void 0===o){if("number"!=typeof e)return u._pos;u._pos=[e,r,n]}for(var c=u._getSoundIds(o),i=0;i<c.length;i++){var a=u._soundById(c[i]);if(a){if("number"!=typeof e)return a._pos;a._pos=[e,r,n],a._node&&(a._panner&&!a._panner.pan||t(a,"spatial"),a._panner.setPosition(e,r,n)),u._emit("pos",a._id)}}return u},Howl.prototype.orientation=function(e,r,n,o){var u=this;if(!u._webAudio)return u;if("loaded"!==u._state)return u._queue.push({event:"orientation",action:function(){u.orientation(e,r,n,o)}}),u;if(r="number"!=typeof r?u._orientation[1]:r,n="number"!=typeof n?u._orientation[2]:n,void 0===o){if("number"!=typeof e)return u._orientation;u._orientation=[e,r,n]}for(var c=u._getSoundIds(o),i=0;i<c.length;i++){var a=u._soundById(c[i]);if(a){if("number"!=typeof e)return a._orientation;a._orientation=[e,r,n],a._node&&(a._panner||(a._pos||(a._pos=u._pos||[0,0,-.5]),t(a,"spatial")),a._panner.setOrientation(e,r,n)),u._emit("orientation",a._id)}}return u},Howl.prototype.pannerAttr=function(){var e,r,n,o=this,u=arguments;if(!o._webAudio)return o;if(0===u.length)return o._pannerAttr;if(1===u.length){if("object"!=typeof u[0])return n=o._soundById(parseInt(u[0],10)),n?n._pannerAttr:o._pannerAttr;e=u[0],void 0===r&&(o._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:o._coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:o._coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:o._coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:o._distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:o._maxDistance,panningModel:void 0!==e.panningModel?e.panningModel:o._panningModel,refDistance:void 0!==e.refDistance?e.refDistance:o._refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:o._rolloffFactor})}else 2===u.length&&(e=u[0],r=parseInt(u[1],10));for(var c=o._getSoundIds(r),i=0;i<c.length;i++)if(n=o._soundById(c[i])){var a=n._pannerAttr;a={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:a.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:a.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:a.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:a.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:a.maxDistance,panningModel:void 0!==e.panningModel?e.panningModel:a.panningModel,refDistance:void 0!==e.refDistance?e.refDistance:a.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:a.rolloffFactor};var s=n._panner;s?(s.coneInnerAngle=a.coneInnerAngle,s.coneOuterAngle=a.coneOuterAngle,s.coneOuterGain=a.coneOuterGain,s.distanceModel=a.distanceModel,s.maxDistance=a.maxDistance,s.panningModel=a.panningModel,s.refDistance=a.refDistance,s.rolloffFactor=a.rolloffFactor):(n._pos||(n._pos=o._pos||[0,0,-.5]),t(n,"spatial"))}return o},Sound.prototype.init=function(t){return function(){var e=this,r=e._parent;e._orientation=r._orientation,e._stereo=r._stereo,e._pos=r._pos,e._pannerAttr=r._pannerAttr,t.call(this),e._stereo?r.stereo(e._stereo):e._pos&&r.pos(e._pos[0],e._pos[1],e._pos[2],e._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var e=this,r=e._parent;return e._orientation=r._orientation,e._pos=r._pos,e._pannerAttr=r._pannerAttr,t.call(this)}}(Sound.prototype.reset);var t=function(t,e){e=e||"spatial","spatial"===e?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.panningModel=t._pannerAttr.panningModel,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.value=t._stereo),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id)}}()}).call(e,r(31))},561:function(t,e){function r(t){if(t=String(t),!(t.length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return r*f;case"days":case"day":case"d":return r*s;case"hours":case"hour":case"hrs":case"hr":case"h":return r*a;case"minutes":case"minute":case"mins":case"min":case"m":return r*i;case"seconds":case"second":case"secs":case"sec":case"s":return r*c;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function n(t){return t>=s?Math.round(t/s)+"d":t>=a?Math.round(t/a)+"h":t>=i?Math.round(t/i)+"m":t>=c?Math.round(t/c)+"s":t+"ms"}function o(t){return u(t,s,"day")||u(t,a,"hour")||u(t,i,"minute")||u(t,c,"second")||t+" ms"}function u(t,e,r){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+r:Math.ceil(t/e)+" "+r+"s"}var c=1e3,i=60*c,a=60*i,s=24*a,f=365.25*s;t.exports=function(t,e){e=e||{};var u=typeof t;if("string"===u&&t.length>0)return r(t);if("number"===u&&!1===isNaN(t))return e.long?o(t):n(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},567:function(t,e,r){"use strict";function n(){this.promise=new _(function(t){t()})}function o(t){if(!t)return"undefined";switch(typeof t){case"function":case"string":return t.toString();default:return JSON.stringify(t)}}function u(t,e){return o(t)+o(e)+"undefined"}function c(t,e,r,n,o,c){var i,a=u(r,n);if(!o&&(i=t._cachedViews=t._cachedViews||{},i[a]))return i[a];var s=t.info().then(function(u){function s(t){t.views=t.views||{};var r=e;-1===r.indexOf("/")&&(r=e+"/"+e);var n=t.views[r]=t.views[r]||{};if(!n[f])return n[f]=!0,t}var f=u.db_name+"-mrview-"+(o?"temp":v.stringMd5(a));return d.upsert(t,"_local/"+c,s).then(function(){return t.registerDependentDatabase(f).then(function(e){var o=e.db;o.auto_compaction=!0;var u={name:f,db:o,sourceDB:t,adapter:t.adapter,mapFun:r,reduceFun:n};return u.db.get("_local/lastSeq").catch(function(t){if(404!==t.status)throw t}).then(function(t){return u.seq=t?t.seq:0,i&&u.db.once("destroyed",function(){delete i[a]}),u})})})});return i&&(i[a]=s),s}function i(t){return-1===t.indexOf("/")?[t,t]:t.split("/")}function a(t){return 1===t.length&&/^1-/.test(t[0].rev)}function s(t,e){try{t.emit("error",e)}catch(t){d.guardedConsole("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),d.guardedConsole("error",e)}}function f(t,e,r,o){function u(t,e,r){try{e(r)}catch(e){s(t,e)}}function f(t,e,r,n,o){try{return{output:e(r,n,o)}}catch(e){return s(t,e),{error:e}}}function v(t,e){var r=h.collate(t.key,e.key);return 0!==r?r:h.collate(t.value,e.value)}function w(t,e,r){return r=r||0,"number"==typeof e?t.slice(r,e+r):r>0?t.slice(r):t}function T(t){var e=t.value;return e&&"object"==typeof e&&e._id||t.id}function k(t){t.rows.forEach(function(t){var e=t.doc&&t.doc._attachments;e&&Object.keys(e).forEach(function(t){var r=e[t];e[t].data=p.base64StringToBlobOrBuffer(r.data,r.content_type)})})}function S(t){return function(e){return t.include_docs&&t.attachments&&t.binary&&k(e),e}}function E(t,e,r,n){var o=e[t];void 0!==o&&(n&&(o=encodeURIComponent(JSON.stringify(o))),r.push(t+"="+o))}function x(t){if(void 0!==t){var e=Number(t);return isNaN(e)||e!==parseInt(t,10)?t:e}}function A(t){return t.group_level=x(t.group_level),t.limit=x(t.limit),t.skip=x(t.skip),t}function O(t){if(t){if("number"!=typeof t)return new g.QueryParseError('Invalid value for integer: "'+t+'"');if(t<0)return new g.QueryParseError('Invalid value for positive integer: "'+t+'"')}}function C(t,e){var r=t.descending?"endkey":"startkey",n=t.descending?"startkey":"endkey";if(void 0!==t[r]&&void 0!==t[n]&&h.collate(t[r],t[n])>0)throw new g.QueryParseError("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(e.reduce&&!1!==t.reduce){if(t.include_docs)throw new g.QueryParseError("{include_docs:true} is invalid for reduce");if(t.keys&&t.keys.length>1&&!t.group&&!t.group_level)throw new g.QueryParseError("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(e){var r=O(t[e]);if(r)throw r})}function I(t,e,r){var n,o=[],u="GET";if(E("reduce",r,o),E("include_docs",r,o),E("attachments",r,o),E("limit",r,o),E("descending",r,o),E("group",r,o),E("group_level",r,o),E("skip",r,o),E("stale",r,o),E("conflicts",r,o),E("startkey",r,o,!0),E("start_key",r,o,!0),E("endkey",r,o,!0),E("end_key",r,o,!0),E("inclusive_end",r,o),E("key",r,o,!0),o=o.join("&"),o=""===o?"":"?"+o,void 0!==r.keys){var c="keys="+encodeURIComponent(JSON.stringify(r.keys));c.length+o.length+1<=2e3?o+=("?"===o[0]?"&":"?")+c:(u="POST","string"==typeof e?n={keys:r.keys}:e.keys=r.keys)}if("string"==typeof e){var a=i(e);return t.request({method:u,url:"_design/"+a[0]+"/_view/"+a[1]+o,body:n}).then(S(r))}return n=n||{},Object.keys(e).forEach(function(t){Array.isArray(e[t])?n[t]=e[t]:n[t]=e[t].toString()}),t.request({method:"POST",url:"_temp_view"+o,body:n}).then(S(r))}function N(t,e,r){return new _(function(n,o){t._query(e,r,function(t,e){if(t)return o(t);n(e)})})}function q(t){return new _(function(e,r){t._viewCleanup(function(t,n){if(t)return r(t);e(n)})})}function M(t){return function(e){if(404===e.status)return t;throw e}}function j(t,e,r){function n(t){return t.keys.length?e.db.allDocs({keys:t.keys,include_docs:!0}):_.resolve({rows:[]})}function o(t,e){for(var r=[],n=new l.Set,o=0,u=e.rows.length;o<u;o++){var c=e.rows[o],i=c.doc;if(i&&(r.push(i),n.add(i._id),i._deleted=!s.has(i._id),!i._deleted)){var a=s.get(i._id);"value"in a&&(i.value=a.value)}}var f=g.mapToKeysArray(s);return f.forEach(function(t){if(!n.has(t)){var e={_id:t},o=s.get(t);"value"in o&&(e.value=o.value),r.push(e)}}),t.keys=g.uniq(f.concat(t.keys)),r.push(t),r}var u="_local/doc_"+t,c={_id:u,keys:[]},i=r.get(t),s=i[0],f=i[1];return function(){return a(f)?_.resolve(c):e.db.get(u).catch(M(c))}().then(function(t){return n(t).then(function(e){return o(t,e)})})}function D(t,e,r){return t.db.get("_local/lastSeq").catch(M({_id:"_local/lastSeq",seq:0})).then(function(n){var o=g.mapToKeysArray(e);return _.all(o.map(function(r){return j(r,t,e)})).then(function(e){var o=d.flatten(e);return n.seq=r,o.push(n),t.db.bulkDocs({docs:o})})})}function R(t){var e="string"==typeof t?t:t.name,r=m[e];return r||(r=m[e]=new n),r}function B(t){return g.sequentialize(R(t),function(){return P(t)})()}function P(t){function r(t,e){var r={id:_._id,key:h.normalizeKey(t)};void 0!==e&&null!==e&&(r.value=h.normalizeKey(e)),f.push(r)}function o(e,r){return function(){return D(t,e,r)}}function c(){return t.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:p,limit:b}).then(i)}function i(t){var e=t.results;if(e.length){var r=a(e);if(g.add(o(r,p)),!(e.length<b))return c()}}function a(e){for(var r=new l.Map,n=0,o=e.length;n<o;n++){var c=e[n];if("_"!==c.doc._id[0]){f=[],_=c.doc,_._deleted||u(t.sourceDB,d,_),f.sort(v);var i=s(f);r.set(c.doc._id,[i,c.changes])}p=c.seq}return r}function s(t){for(var e,r=new l.Map,n=0,o=t.length;n<o;n++){var u=t[n],c=[u.key,u.id];n>0&&0===h.collate(u.key,e)&&c.push(n),r.set(h.toIndexableString(c),u),e=u.key}return r}var f,_,d=e(t.mapFun,r),p=t.seq||0,g=new n;return c().then(function(){return g.finish()}).then(function(){t.seq=p})}function L(t,e,n){0===n.group_level&&delete n.group_level;var o=n.group||n.group_level,u=r(t.reduceFun),c=[],i=isNaN(n.group_level)?Number.POSITIVE_INFINITY:n.group_level;e.forEach(function(t){var e=c[c.length-1],r=o?t.key:null;if(o&&Array.isArray(r)&&(r=r.slice(0,i)),e&&0===h.collate(e.groupKey,r))return e.keys.push([t.key,t.id]),void e.values.push(t.value);c.push({keys:[[t.key,t.id]],values:[t.value],groupKey:r})}),e=[];for(var a=0,s=c.length;a<s;a++){var _=c[a],l=f(t.sourceDB,u,_.keys,_.values,!1);if(l.error&&l.error instanceof g.BuiltInError)throw l.error;e.push({value:l.error?null:l.output,key:_.groupKey})}return{rows:w(e,n.limit,n.skip)}}function F(t,e){return g.sequentialize(R(t),function(){return $(t,e)})()}function $(t,e){function r(e){return e.include_docs=!0,t.db.allDocs(e).then(function(t){return o=t.total_rows,t.rows.map(function(t){if("value"in t.doc&&"object"==typeof t.doc.value&&null!==t.doc.value){var e=Object.keys(t.doc.value).sort(),r=["id","key","value"];if(!(e<r||e>r))return t.doc.value}var n=h.parseIndexableString(t.doc._id);return{key:n[0],id:n[1],value:"value"in t.doc?t.doc.value:null}})})}function n(r){var n;if(n=u?L(t,r,e):{total_rows:o,offset:c,rows:r},e.include_docs){var i=g.uniq(r.map(T));return t.sourceDB.allDocs({keys:i,include_docs:!0,conflicts:e.conflicts,attachments:e.attachments,binary:e.binary}).then(function(t){var e=new l.Map;return t.rows.forEach(function(t){e.set(t.id,t.doc)}),r.forEach(function(t){var r=T(t),n=e.get(r);n&&(t.doc=n)}),n})}return n}var o,u=t.reduceFun&&!1!==e.reduce,c=e.skip||0;if(void 0===e.keys||e.keys.length||(e.limit=0,delete e.keys),void 0!==e.keys){var i=e.keys,a=i.map(function(t){return r({startkey:h.toIndexableString([t]),endkey:h.toIndexableString([t,{}])})});return _.all(a).then(d.flatten).then(n)}var s,f,p={descending:e.descending};if("start_key"in e&&(s=e.start_key),"startkey"in e&&(s=e.startkey),"end_key"in e&&(f=e.end_key),"endkey"in e&&(f=e.endkey),void 0!==s&&(p.startkey=e.descending?h.toIndexableString([s,{}]):h.toIndexableString([s])),void 0!==f){var v=!1!==e.inclusive_end;e.descending&&(v=!v),p.endkey=h.toIndexableString(v?[f,{}]:[f])}if(void 0!==e.key){var m=h.toIndexableString([e.key]),y=h.toIndexableString([e.key,{}]);p.descending?(p.endkey=m,p.startkey=y):(p.startkey=m,p.endkey=y)}return u||("number"==typeof e.limit&&(p.limit=e.limit),p.skip=c),r(p).then(n)}function U(t){return t.request({method:"POST",url:"_view_cleanup"})}function V(e){return e.get("_local/"+t).then(function(t){var r=new l.Map;Object.keys(t.views).forEach(function(t){var e=i(t),n="_design/"+e[0],o=e[1],u=r.get(n);u||(u=new l.Set,r.set(n,u)),u.add(o)});var n={keys:g.mapToKeysArray(r),include_docs:!0};return e.allDocs(n).then(function(n){var o={};n.rows.forEach(function(e){var n=e.key.substring(8);r.get(e.key).forEach(function(r){var u=n+"/"+r;t.views[u]||(u=r);var c=Object.keys(t.views[u]),i=e.doc&&e.doc.views&&e.doc.views[r];c.forEach(function(t){o[t]=o[t]||i})})});var u=Object.keys(o).filter(function(t){return!o[t]}),c=u.map(function(t){return g.sequentialize(R(t),function(){return new e.constructor(t,e.__opts).destroy()})()});return _.all(c).then(function(){return{ok:!0}})})},M({ok:!0}))}function J(e,r,n){if("function"==typeof e._query)return N(e,r,n);if(d.isRemote(e))return I(e,r,n);if("string"!=typeof r)return C(n,r),y.add(function(){return c(e,"temp_view/temp_view",r.map,r.reduce,!0,t).then(function(t){return g.fin(B(t).then(function(){return F(t,n)}),function(){return t.db.destroy()})})}),y.finish();var u=r,a=i(u),s=a[0],f=a[1];return e.get("_design/"+s).then(function(r){var i=r.views&&r.views[f];if(!i)throw new g.NotFoundError("ddoc "+r._id+" has no view named "+f);return o(r,f),C(n,i),c(e,u,i.map,i.reduce,!1,t).then(function(t){return"ok"===n.stale||"update_after"===n.stale?("update_after"===n.stale&&d.nextTick(function(){B(t)}),F(t,n)):B(t).then(function(){return F(t,n)})})})}function z(t,e,r){var n=this;"function"==typeof e&&(r=e,e={}),e=e?A(e):{},"function"==typeof t&&(t={map:t});var o=_.resolve().then(function(){return J(n,t,e)});return g.promisedCallback(o,r),o}return{query:z,viewCleanup:g.callbackify(function(){var t=this;return"function"==typeof t._viewCleanup?q(t):d.isRemote(t)?U(t):V(t)})}}var _=function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(r(113)),l=r(164),d=r(114),p=r(240),h=r(163),v=r(241),g=r(571);n.prototype.add=function(t){return this.promise=this.promise.catch(function(){}).then(function(){return t()}),this.promise},n.prototype.finish=function(){return this.promise};var m={},y=new n,b=50;t.exports=f},568:function(t,e,r){"use strict";(function(e){function n(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function o(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer||"undefined"!=typeof Blob&&t instanceof Blob}function u(t){if("function"==typeof t.slice)return t.slice(0);var e=new ArrayBuffer(t.byteLength),r=new Uint8Array(e),n=new Uint8Array(t);return r.set(n),e}function c(t){if(t instanceof ArrayBuffer)return u(t);var e=t.size,r=t.type;return"function"==typeof t.slice?t.slice(0,e,r):t.webkitSlice(0,e,r)}function i(t){var e=Object.getPrototypeOf(t);if(null===e)return!0;var r=e.constructor;return"function"==typeof r&&r instanceof r&&vo.call(r)==go}function a(t){var e,r,n;if(!t||"object"!=typeof t)return t;if(Array.isArray(t)){for(e=[],r=0,n=t.length;r<n;r++)e[r]=a(t[r]);return e}if(t instanceof Date)return t.toISOString();if(o(t))return c(t);if(!i(t))return t;e={};for(r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var u=a(t[r]);void 0!==u&&(e[r]=u)}return e}function s(t){var e=!1;return io(function(r){if(e)throw new Error("once called more than once");e=!0,t.apply(this,r)})}function f(t){return io(function(e){e=a(e);var r=this,n="function"==typeof e[e.length-1]&&e.pop(),o=new ho(function(n,o){var u;try{var c=s(function(t,e){t?o(t):n(e)});e.push(c),u=t.apply(r,e),u&&"function"==typeof u.then&&n(u)}catch(t){o(t)}});return n&&o.then(function(t){n(null,t)},n),o})}function _(t,e,r){if(t.constructor.listeners("debug").length){for(var n=["api",t.name,e],o=0;o<r.length-1;o++)n.push(r[o]);t.constructor.emit("debug",n);var u=r[r.length-1];r[r.length-1]=function(r,n){var o=["api",t.name,e];o=o.concat(r?["error",r]:["success",n]),t.constructor.emit("debug",o),u(r,n)}}}function l(t,e){return f(io(function(r){if(this._closed)return ho.reject(new Error("database is closed"));if(this._destroyed)return ho.reject(new Error("database is destroyed"));var n=this;return _(n,t,r),this.taskqueue.isReady?e.apply(this,r):new ho(function(e,o){n.taskqueue.addTask(function(u){u?o(u):e(n[t].apply(n,r))})})}))}function d(t){return"$"+t}function p(t){return t.substring(1)}function h(){this._store={}}function v(t){if(this._store=new h,t&&Array.isArray(t))for(var e=0,r=t.length;e<r;e++)this.add(t[e])}function g(t,e){for(var r={},n=0,o=e.length;n<o;n++){var u=e[n];u in t&&(r[u]=t[u])}return r}function m(t){return t}function y(t){return[{ok:t}]}function b(t,e,r){function n(){var t=[];l.forEach(function(e){e.docs.forEach(function(r){t.push({id:e.id,docs:[r]})})}),r(null,{results:t})}function o(){++_===f&&n()}function u(t,e,r){l[t]={id:e,docs:r},o()}function c(){if(!(p>=d.length)){var t=Math.min(p+wo,d.length),e=d.slice(p,t);i(e,p),p+=e.length}}function i(r,n){r.forEach(function(r,o){var i=n+o,a=s.get(r),f=g(a[0],["atts_since","attachments"]);f.open_revs=a.map(function(t){return t.rev}),f.open_revs=f.open_revs.filter(m);var _=m;0===f.open_revs.length&&(delete f.open_revs,_=y),["revs","attachments","binary","ajax","latest"].forEach(function(t){t in e&&(f[t]=e[t])}),t.get(r,f,function(t,e){var n;n=t?[{error:t}]:_(e),u(i,r,n),c()})})}var a=e.docs,s=new yo;a.forEach(function(t){s.has(t.id)?s.get(t.id).push(t):s.set(t.id,[t])});var f=s.size,_=0,l=new Array(f),d=[];s.forEach(function(t,e){d.push(e)});var p=0;c()}function w(){return"undefined"!=typeof chrome&&void 0!==chrome.storage&&void 0!==chrome.storage.local}function T(){return bo}function k(t){w()?chrome.storage.onChanged.addListener(function(e){null!=e.db_name&&t.emit(e.dbName.newValue)}):T()&&("undefined"!=typeof addEventListener?addEventListener("storage",function(e){t.emit(e.key)}):window.attachEvent("storage",function(e){t.emit(e.key)}))}function S(){ao.EventEmitter.call(this),this._listeners={},k(this)}function E(t){if("undefined"!==console&&t in console){var e=Array.prototype.slice.call(arguments,1);console[t].apply(console,e)}}function x(t,e){return t=parseInt(t,10)||0,e=parseInt(e,10),e!==e||e<=t?e=(t||1)<<1:e+=1,e>6e5&&(t=3e5,e=6e5),~~((e-t)*Math.random()+t)}function A(t){var e=0;return t||(e=2e3),x(t,e)}function O(t,e){E("info","The above "+t+" is totally normal. "+e)}function C(t,e,r){Error.call(this,r),this.status=t,this.name=e,this.message=r,this.error=!0}function I(t,e){function r(e){for(var r in t)"function"!=typeof t[r]&&(this[r]=t[r]);void 0!==e&&(this.reason=e)}return r.prototype=C.prototype,new r(e)}function N(t){if("object"!=typeof t){var e=t;t=Io,t.data=e}return"error"in t&&"conflict"===t.error&&(t.name="conflict",t.status=409),"name"in t||(t.name=t.error||"unknown"),"status"in t||(t.status=500),"message"in t||(t.message=t.message||t.reason),t}function q(t,e,r){try{return!t(e,r)}catch(t){var n="Filter function threw: "+t.toString();return I(jo,n)}}function M(t){var e={},r=t.filter&&"function"==typeof t.filter;return e.query=t.query_params,function(n){n.doc||(n.doc={});var o=r&&q(t.filter,n.doc,e);if("object"==typeof o)return o;if(o)return!1;if(t.include_docs){if(!t.attachments)for(var u in n.doc._attachments)n.doc._attachments.hasOwnProperty(u)&&(n.doc._attachments[u].stub=!0)}else delete n.doc;return!0}}function j(t){for(var e=[],r=0,n=t.length;r<n;r++)e=e.concat(t[r]);return e}function D(){}function R(t){var e;if(t?"string"!=typeof t?e=I(Ao):/^_/.test(t)&&!/^_(design|local)/.test(t)&&(e=I(Co)):e=I(Oo),e)throw e}function B(t){return"boolean"==typeof t._remote?t._remote:"function"==typeof t.type&&(E("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===t.type())}function P(t,e){return"listenerCount"in t?t.listenerCount(e):ao.EventEmitter.listenerCount(t,e)}function L(t){if(!t)return null;var e=t.split("/");return 2===e.length?e:1===e.length?[t,t]:null}function F(t){var e=L(t);return e?e.join("/"):null}function $(t){for(var e=Jo.exec(t),r={},n=14;n--;){var o=$o[n],u=e[n]||"",c=-1!==["user","password"].indexOf(o);r[o]=c?decodeURIComponent(u):u}return r[Uo]={},r[$o[12]].replace(Vo,function(t,e,n){e&&(r[Uo][e]=n)}),r}function U(t,e){var r=[],n=[];for(var o in e)e.hasOwnProperty(o)&&(r.push(o),n.push(e[o]));return r.push(t),Function.apply(null,r).apply(null,n)}function V(t,e,r){return new ho(function(n,o){t.get(e,function(u,c){if(u){if(404!==u.status)return o(u);c={}}var i=c._rev,a=r(c);if(!a)return n({updated:!1,rev:i});a._id=e,a._rev=i,n(J(t,a,r))})})}function J(t,e,r){return t.put(e).then(function(t){return{updated:!0,rev:t.rev}},function(n){if(409!==n.status)throw n;return V(t,e._id,r)})}function z(t){return 0|Math.random()*t}function H(t,e){e=e||zo.length;var r="",n=-1;if(t){for(;++n<t;)r+=zo[z(e)];return r}for(;++n<36;)switch(n){case 8:case 13:case 18:case 23:r+="-";break;case 19:r+=zo[3&z(16)|8];break;default:r+=zo[z(16)]}return r}function W(t){for(var e,r,n,o,u=t.rev_tree.slice();o=u.pop();){var c=o.ids,i=c[2],a=o.pos;if(i.length)for(var s=0,f=i.length;s<f;s++)u.push({pos:a+1,ids:i[s]});else{var _=!!c[1].deleted,l=c[0];e&&!(n!==_?n:r!==a?r<a:e<l)||(e=l,r=a,n=_)}}return r+"-"+e}function K(t,e){for(var r,n=t.slice();r=n.pop();)for(var o=r.pos,u=r.ids,c=u[2],i=e(0===c.length,o,u[0],r.ctx,u[1]),a=0,s=c.length;a<s;a++)n.push({pos:o+1,ids:c[a],ctx:i})}function G(t,e){return t.pos-e.pos}function X(t){var e=[];K(t,function(t,r,n,o,u){t&&e.push({rev:r+"-"+n,pos:r,opts:u})}),e.sort(G).reverse();for(var r=0,n=e.length;r<n;r++)delete e[r].pos;return e}function Q(t){for(var e=W(t),r=X(t.rev_tree),n=[],o=0,u=r.length;o<u;o++){var c=r[o];c.rev===e||c.opts.deleted||n.push(c.rev)}return n}function Y(t){var e=[];return K(t.rev_tree,function(t,r,n,o,u){"available"!==u.status||t||(e.push(r+"-"+n),u.status="missing")}),e}function Z(t){for(var e,r=[],n=t.slice();e=n.pop();){var o=e.pos,u=e.ids,c=u[0],i=u[1],a=u[2],s=0===a.length,f=e.history?e.history.slice():[];f.push({id:c,opts:i}),s&&r.push({pos:o+1-f.length,ids:f});for(var _=0,l=a.length;_<l;_++)n.push({pos:o+1,ids:a[_],history:f})}return r.reverse()}function tt(t,e){return t.pos-e.pos}function et(t,e,r){for(var n,o=0,u=t.length;o<u;)n=o+u>>>1,r(t[n],e)<0?o=n+1:u=n;return o}function rt(t,e,r){var n=et(t,e,r);t.splice(n,0,e)}function nt(t,e){for(var r,n,o=e,u=t.length;o<u;o++){var c=t[o],i=[c.id,c.opts,[]];n?(n[2].push(i),n=i):r=n=i}return r}function ot(t,e){return t[0]<e[0]?-1:1}function ut(t,e){for(var r=[{tree1:t,tree2:e}],n=!1;r.length>0;){var o=r.pop(),u=o.tree1,c=o.tree2;(u[1].status||c[1].status)&&(u[1].status="available"===u[1].status||"available"===c[1].status?"available":"missing");for(var i=0;i<c[2].length;i++)if(u[2][0]){for(var a=!1,s=0;s<u[2].length;s++)u[2][s][0]===c[2][i][0]&&(r.push({tree1:u[2][s],tree2:c[2][i]}),a=!0);a||(n="new_branch",rt(u[2],c[2][i],ot))}else n="new_leaf",u[2][0]=c[2][i]}return{conflicts:n,tree:t}}function ct(t,e,r){var n,o=[],u=!1,c=!1;if(!t.length)return{tree:[e],conflicts:"new_leaf"};for(var i=0,a=t.length;i<a;i++){var s=t[i];if(s.pos===e.pos&&s.ids[0]===e.ids[0])n=ut(s.ids,e.ids),o.push({pos:s.pos,ids:n.tree}),u=u||n.conflicts,c=!0;else if(!0!==r){var f=s.pos<e.pos?s:e,_=s.pos<e.pos?e:s,l=_.pos-f.pos,d=[],p=[];for(p.push({ids:f.ids,diff:l,parent:null,parentIdx:null});p.length>0;){var h=p.pop();if(0!==h.diff)for(var v=h.ids[2],g=0,m=v.length;g<m;g++)p.push({ids:v[g],diff:h.diff-1,parent:h.ids,parentIdx:g});else h.ids[0]===_.ids[0]&&d.push(h)}var y=d[0];y?(n=ut(y.ids,_.ids),y.parent[2][y.parentIdx]=n.tree,o.push({pos:f.pos,ids:f.ids}),u=u||n.conflicts,c=!0):o.push(s)}else o.push(s)}return c||o.push(e),o.sort(tt),{tree:o,conflicts:u||"internal_node"}}function it(t,e){for(var r,n,o=Z(t),u=0,c=o.length;u<c;u++){var i,a=o[u],s=a.ids;if(s.length>e){r||(r={});var f=s.length-e;i={pos:a.pos+f,ids:nt(s,f)};for(var _=0;_<f;_++){var l=a.pos+_+"-"+s[_].id;r[l]=!0}}else i={pos:a.pos,ids:nt(s,0)};n=n?ct(n,i,!0).tree:[i]}return r&&K(n,function(t,e,n){delete r[e+"-"+n]}),{tree:n,revs:r?Object.keys(r):[]}}function at(t,e,r){var n=ct(t,e),o=it(n.tree,r);return{tree:o.tree,stemmedRevs:o.revs,conflicts:n.conflicts}}function st(t,e){for(var r,n=t.slice(),o=e.split("-"),u=parseInt(o[0],10),c=o[1];r=n.pop();){if(r.pos===u&&r.ids[0]===c)return!0;for(var i=r.ids[2],a=0,s=i.length;a<s;a++)n.push({pos:r.pos+1,ids:i[a]})}return!1}function ft(t){return t.ids}function _t(t,e){e||(e=W(t));for(var r,n=e.substring(e.indexOf("-")+1),o=t.rev_tree.map(ft);r=o.pop();){if(r[0]===n)return!!r[1].deleted;o=o.concat(r[2])}}function lt(t){return/^_local/.test(t)}function dt(t,e){for(var r,n=e.rev_tree.slice();r=n.pop();){var o=r.pos,u=r.ids,c=u[0],i=u[1],a=u[2],s=0===a.length,f=r.history?r.history.slice():[];if(f.push({id:c,pos:o,opts:i}),s)for(var _=0,l=f.length;_<l;_++){var d=f[_],p=d.pos+"-"+d.id;if(p===t)return o+"-"+c}for(var h=0,v=a.length;h<v;h++)n.push({pos:o+1,ids:a[h],history:f})}throw new Error("Unable to resolve latest revision for id "+e.id+", rev "+t)}function pt(t,e){try{t.emit("change",e)}catch(t){E("error",'Error in .on("change", function):',t)}}function ht(t,e,r){function n(){o.cancel()}ao.EventEmitter.call(this);var o=this;this.db=t,e=e?a(e):{};var u=e.complete=s(function(e,r){e?P(o,"error")>0&&o.emit("error",e):o.emit("complete",r),o.removeAllListeners(),t.removeListener("destroyed",n)});r&&(o.on("complete",function(t){r(null,t)}),o.on("error",r)),t.once("destroyed",n),e.onChange=function(t){o.isCancelled||pt(o,t)};var c=new ho(function(t,r){e.complete=function(e,n){e?r(e):t(n)}});o.once("cancel",function(){t.removeListener("destroyed",n),e.complete(null,{status:"cancelled"})}),this.then=c.then.bind(c),this.catch=c.catch.bind(c),this.then(function(t){u(null,t)},u),t.taskqueue.isReady?o.validateChanges(e):t.taskqueue.addTask(function(t){t?e.complete(t):o.isCancelled?o.emit("cancel"):o.validateChanges(e)})}function vt(t,e,r){var n=[{rev:t._rev}];"all_docs"===r.style&&(n=X(e.rev_tree).map(function(t){return{rev:t.rev}}));var o={id:e.id,changes:n,doc:t};return _t(e,t._rev)&&(o.deleted=!0),r.conflicts&&(o.doc._conflicts=Q(e),o.doc._conflicts.length||delete o.doc._conflicts),o}function gt(t,e){return t<e?-1:t>e?1:0}function mt(t){return function(e,r){e||r[0]&&r[0].error?t(e||r[0]):t(null,r.length?r[0]:r)}}function yt(t){for(var e=0;e<t.length;e++){var r=t[e];if(r._deleted)delete r._attachments;else if(r._attachments)for(var n=Object.keys(r._attachments),o=0;o<n.length;o++){var u=n[o];r._attachments[u]=g(r._attachments[u],["data","digest","content_type","length","revpos","stub"])}}}function bt(t,e){var r=gt(t._id,e._id);return 0!==r?r:gt(t._revisions?t._revisions.start:0,e._revisions?e._revisions.start:0)}function wt(t){var e={},r=[];return K(t,function(t,n,o,u){var c=n+"-"+o;return t&&(e[c]=0),void 0!==u&&r.push({from:u,to:c}),c}),r.reverse(),r.forEach(function(t){void 0===e[t.from]?e[t.from]=1+e[t.to]:e[t.from]=Math.min(e[t.from],1+e[t.to])}),e}function Tt(t,e,r){var n="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;if(e.descending&&n.reverse(),!n.length)return t._allDocs({limit:0},r);var o={offset:e.skip};return ho.all(n.map(function(r){var n=ko({key:r,deleted:"ok"},e);return["limit","skip","keys"].forEach(function(t){delete n[t]}),new ho(function(e,u){t._allDocs(n,function(t,n){if(t)return u(t);o.total_rows=n.total_rows,e(n.rows[0]||{key:r,error:"not_found"})})})})).then(function(t){return o.rows=t,o})}function kt(t){var e=t._compactionQueue[0],r=e.opts,n=e.callback;t.get("_local/compaction").catch(function(){return!1}).then(function(e){e&&e.last_seq&&(r.last_seq=e.last_seq),t._compact(r,function(e,r){e?n(e):n(null,r),fo(function(){t._compactionQueue.shift(),t._compactionQueue.length&&kt(t)})})})}function St(t){return"_"===t.charAt(0)&&t+" is not a valid attachment name, attachment names cannot start with '_'"}function Et(){ao.EventEmitter.call(this)}function xt(){this.isReady=!1,this.failed=!1,this.queue=[]}function At(t,e){var r=t.match(/([a-z\-]*):\/\/(.*)/);if(r)return{name:/https?/.test(r[1])?r[1]+"://"+r[2]:r[2],adapter:r[1]};var n=Ct.adapters,o=Ct.preferredAdapters,u=Ct.prefix,c=e.adapter;if(!c)for(var i=0;i<o.length;++i){c=o[i];{if(!("idb"===c&&"websql"in n&&T()&&localStorage["_pouch__websqldb_"+u+t]))break;E("log",'PouchDB is downgrading "'+t+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.')}}var a=n[c];return{name:a&&"use_prefix"in a&&!a.use_prefix?t:u+t,adapter:c}}function Ot(t){function e(){t.removeListener("closed",n),t.constructor.emit("destroyed",t.name)}function r(){t.removeListener("destroyed",e),t.removeListener("closed",n),t.emit("destroyed")}function n(){t.removeListener("destroyed",e),o.delete(t.name)}var o=t.constructor._destructionListeners;t.once("destroyed",e),t.once("closed",n),o.has(t.name)||o.set(t.name,[]),o.get(t.name).push(r)}function Ct(t,e){if(!(this instanceof Ct))return new Ct(t,e);var r=this;if(e=e||{},t&&"object"==typeof t&&(e=t,t=e.name,delete e.name),this.__opts=e=a(e),r.auto_compaction=e.auto_compaction,r.prefix=Ct.prefix,"string"!=typeof t)throw new Error("Missing/invalid DB name");var n=(e.prefix||"")+t,o=At(n,e);if(e.name=o.name,e.adapter=e.adapter||o.adapter,r.name=t,r._adapter=e.adapter,Ct.emit("debug",["adapter","Picked adapter: ",e.adapter]),!Ct.adapters[e.adapter]||!Ct.adapters[e.adapter].valid())throw new Error("Invalid Adapter: "+e.adapter);Et.call(r),r.taskqueue=new xt,r.adapter=e.adapter,Ct.adapters[e.adapter].call(r,e,function(t){if(t)return r.taskqueue.fail(t);Ot(r),r.emit("created",r),Ct.emit("created",r.name),r.taskqueue.ready(r)})}function It(t){t.debug=_o;var e={};t.on("debug",function(t){var r=t[0],n=t.slice(1);e[r]||(e[r]=_o("pouchdb:"+r)),e[r].apply(null,n)})}function Nt(t,e){for(var r=t,n=0,o=e.length;n<o;n++){if(!(r=r[e[n]]))break}return r}function qt(t,e){return t<e?-1:t>e?1:0}function Mt(t){for(var e=[],r="",n=0,o=t.length;n<o;n++){var u=t[n];"."===u?n>0&&"\\"===t[n-1]?r=r.substring(0,r.length-1)+".":(e.push(r),r=""):r+=u}return e.push(r),e}function jt(t){return Wo.indexOf(t)>-1}function Dt(t){return Object.keys(t)[0]}function Rt(t){return t[Dt(t)]}function Bt(t){var e={};return t.forEach(function(t){Object.keys(t).forEach(function(r){var n=t[r];if("object"!=typeof n&&(n={$eq:n}),jt(r))n instanceof Array?e[r]=n.map(function(t){return Bt([t])}):e[r]=Bt([n]);else{var o=e[r]=e[r]||{};Object.keys(n).forEach(function(t){var e=n[t];return"$gt"===t||"$gte"===t?Pt(t,e,o):"$lt"===t||"$lte"===t?Lt(t,e,o):"$ne"===t?Ft(e,o):"$eq"===t?$t(e,o):void(o[t]=e)})}})}),e}function Pt(t,e,r){void 0===r.$eq&&(void 0!==r.$gte?"$gte"===t?e>r.$gte&&(r.$gte=e):e>=r.$gte&&(delete r.$gte,r.$gt=e):void 0!==r.$gt?"$gte"===t?e>r.$gt&&(delete r.$gt,r.$gte=e):e>r.$gt&&(r.$gt=e):r[t]=e)}function Lt(t,e,r){void 0===r.$eq&&(void 0!==r.$lte?"$lte"===t?e<r.$lte&&(r.$lte=e):e<=r.$lte&&(delete r.$lte,r.$lt=e):void 0!==r.$lt?"$lte"===t?e<r.$lt&&(delete r.$lt,r.$lte=e):e<r.$lt&&(r.$lt=e):r[t]=e)}function Ft(t,e){"$ne"in e?e.$ne.push(t):e.$ne=[t]}function $t(t,e){delete e.$gt,delete e.$gte,delete e.$lt,delete e.$lte,delete e.$ne,e.$eq=t}function Ut(t){var e=a(t),r=!1;"$and"in e&&(e=Bt(e.$and),r=!0),["$or","$nor"].forEach(function(t){t in e&&e[t].forEach(function(t){for(var e=Object.keys(t),r=0;r<e.length;r++){var n=e[r],o=t[n];"object"==typeof o&&null!==o||(t[n]={$eq:o})}})}),"$not"in e&&(e.$not=Bt([e.$not]));for(var n=Object.keys(e),o=0;o<n.length;o++){var u=n[o],c=e[u];"object"!=typeof c||null===c?c={$eq:c}:"$ne"in c&&!r&&(c.$ne=[c.$ne]),e[u]=c}return e}function Vt(t,e,r){for(var n="",o=r-t.length;n.length<o;)n+=e;return n}function Jt(t,e,r){return Vt(t,e,r)+t}function zt(t,e){if(t===e)return 0;t=Ht(t),e=Ht(e);var r=ee(t),n=ee(e);if(r-n!=0)return r-n;switch(typeof t){case"number":return t-e;case"boolean":return t<e?-1:1;case"string":return Zt(t,e)}return Array.isArray(t)?Yt(t,e):te(t,e)}function Ht(t){switch(typeof t){case"undefined":return null;case"number":return t===1/0||t===-1/0||isNaN(t)?null:t;case"object":var e=t;if(Array.isArray(t)){var r=t.length;t=new Array(r);for(var n=0;n<r;n++)t[n]=Ht(e[n])}else{if(t instanceof Date)return t.toJSON();if(null!==t){t={};for(var o in e)if(e.hasOwnProperty(o)){var u=e[o];void 0!==u&&(t[o]=Ht(u))}}}}return t}function Wt(t){if(null!==t)switch(typeof t){case"boolean":return t?1:0;case"number":return re(t);case"string":return t.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var e=Array.isArray(t),r=e?t:Object.keys(t),n=-1,o=r.length,u="";if(e)for(;++n<o;)u+=Kt(r[n]);else for(;++n<o;){var c=r[n];u+=Kt(c)+Kt(t[c])}return u}return""}function Kt(t){return t=Ht(t),ee(t)+Xo+Wt(t)+"\0"}function Gt(t,e){var r,n=e;if("1"===t[e])r=0,e++;else{var o="0"===t[e];e++;var u="",c=t.substring(e,e+Go),i=parseInt(c,10)+Ko;for(o&&(i=-i),e+=Go;;){var a=t[e];if("\0"===a)break;u+=a,e++}u=u.split("."),r=1===u.length?parseInt(u,10):parseFloat(u[0]+"."+u[1]),o&&(r-=10),0!==i&&(r=parseFloat(r+"e"+i))}return{num:r,length:e-n}}function Xt(t,e){var r=t.pop();if(e.length){var n=e[e.length-1];r===n.element&&(e.pop(),n=e[e.length-1]);var o=n.element,u=n.index;if(Array.isArray(o))o.push(r);else if(u===t.length-2){var c=t.pop();o[c]=r}else t.push(r)}}function Qt(t){for(var e=[],r=[],n=0;;){var o=t[n++];if("\0"!==o)switch(o){case"1":e.push(null);break;case"2":e.push("1"===t[n]),n++;break;case"3":var u=Gt(t,n);e.push(u.num),n+=u.length;break;case"4":for(var c="";;){var i=t[n];if("\0"===i)break;c+=i,n++}c=c.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),e.push(c);break;case"5":var a={element:[],index:e.length};e.push(a.element),r.push(a);break;case"6":var s={element:{},index:e.length};e.push(s.element),r.push(s);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+o)}else{if(1===e.length)return e.pop();Xt(e,r)}}}function Yt(t,e){for(var r=Math.min(t.length,e.length),n=0;n<r;n++){var o=zt(t[n],e[n]);if(0!==o)return o}return t.length===e.length?0:t.length>e.length?1:-1}function Zt(t,e){return t===e?0:t>e?1:-1}function te(t,e){for(var r=Object.keys(t),n=Object.keys(e),o=Math.min(r.length,n.length),u=0;u<o;u++){var c=zt(r[u],n[u]);if(0!==c)return c;if(0!==(c=zt(t[r[u]],e[n[u]])))return c}return r.length===n.length?0:r.length>n.length?1:-1}function ee(t){var e=["boolean","number","string","object"],r=e.indexOf(typeof t);return~r?null===t?1:Array.isArray(t)?5:r<3?r+2:r+3:Array.isArray(t)?5:void 0}function re(t){if(0===t)return"1";var e=t.toExponential().split(/e\+?/),r=parseInt(e[1],10),n=t<0,o=n?"0":"2",u=(n?-r:r)-Ko,c=Jt(u.toString(),"0",Go);o+=Xo+c;var i=Math.abs(parseFloat(e[0]));n&&(i=10-i);var a=i.toFixed(20);return a=a.replace(/\.?0+$/,""),o+=Xo+a}function ne(t){function e(e){return t.map(function(t){var r=Dt(t),n=Mt(r);return Nt(e,n)})}return function(t,r){var n=e(t.doc),o=e(r.doc),u=zt(n,o);return 0!==u?u:qt(t.doc._id,r.doc._id)}}function oe(t,e,r){if(t=t.filter(function(t){return ue(t.doc,e.selector,r)}),e.sort){var n=ne(e.sort);t=t.sort(n),"string"!=typeof e.sort[0]&&"desc"===Rt(e.sort[0])&&(t=t.reverse())}if("limit"in e||"skip"in e){var o=e.skip||0,u=("limit"in e?e.limit:t.length)+o;t=t.slice(o,u)}return t}function ue(t,e,r){return r.every(function(r){if(ce(t))return!1;var n=e[r],o=Mt(r),u=Nt(t,o);return jt(r)?ae(r,n,t):ie(n,t,o,u)})}function ce(t){return/^_design\//.test(t._id)}function ie(t,e,r,n){return!t||Object.keys(t).every(function(o){var u=t[o];return se(o,e,u,r,n)})}function ae(t,e,r){return"$or"===t?e.some(function(t){return ue(r,t,Object.keys(t))}):"$not"===t?!ue(r,e,Object.keys(e)):!e.find(function(t){return ue(r,t,Object.keys(t))})}function se(t,e,r,n,o){if(!Qo[t])throw new Error('unknown operator "'+t+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type or $all');return Qo[t](e,r,n,o)}function fe(t){return void 0!==t&&null!==t}function _e(t){return void 0!==t}function le(t,e){var r=e[0],n=e[1];if(0===r)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(r,10)!==r)throw new Error("Divisor is not an integer");if(parseInt(n,10)!==n)throw new Error("Modulus is not an integer");return parseInt(t,10)===t&&t%r===n}function de(t,e){return e.some(function(e){return t instanceof Array?t.indexOf(e)>-1:t===e})}function pe(t,e){return e.every(function(e){return t.indexOf(e)>-1})}function he(t,e){return t.length===e}function ve(t,e){return new RegExp(e).test(t)}function ge(t,e){switch(e){case"null":return null===t;case"boolean":return"boolean"==typeof t;case"number":return"number"==typeof t;case"string":return"string"==typeof t;case"array":return t instanceof Array;case"object":return"[object Object]"==={}.toString.call(t)}throw new Error(e+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}function me(t,e){if("object"!=typeof e)throw"Selector error: expected a JSON object";e=Ut(e);var r={doc:t},n=oe([r],{selector:e},Object.keys(e));return n&&1===n.length}function ye(t){return U('"use strict";\nreturn '+t+";",{})}function be(t){return U(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+t+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{})}function we(t,e){if(t.selector&&t.filter&&"_selector"!==t.filter){var r="string"==typeof t.filter?t.filter:"function";return e(new Error('selector invalid for filter "'+r+'"'))}e()}function Te(t){t.view&&!t.filter&&(t.filter="_view"),t.selector&&!t.filter&&(t.filter="_selector"),t.filter&&"string"==typeof t.filter&&("_view"===t.filter?t.view=F(t.view):t.filter=F(t.filter))}function ke(t,e){return e.filter&&"string"==typeof e.filter&&!e.doc_ids&&!B(t.db)}function Se(t,e){var r=e.complete;if("_view"===e.filter){if(!e.view||"string"!=typeof e.view){var n=I(jo,"`view` filter parameter not found or invalid.");return r(n)}var o=L(e.view);t.db.get("_design/"+o[0],function(n,u){if(t.isCancelled)return r(null,{status:"cancelled"});if(n)return r(N(n));var c=u&&u.views&&u.views[o[1]]&&u.views[o[1]].map;if(!c)return r(I(Eo,u.views?"missing json key: "+o[1]:"missing json key: views"));e.filter=be(c),t.doChanges(e)})}else if(e.selector)e.filter=function(t){return me(t,e.selector)},t.doChanges(e);else{var u=L(e.filter);t.db.get("_design/"+u[0],function(n,o){if(t.isCancelled)return r(null,{status:"cancelled"});if(n)return r(N(n));var c=o&&o.filters&&o.filters[u[1]];if(!c)return r(I(Eo,o&&o.filters?"missing json key: "+u[1]:"missing json key: filters"));e.filter=ye(c),t.doChanges(e)})}}function Ee(t){t._changesFilterPlugin={validate:we,normalize:Te,shouldFilter:ke,filter:Se}}function xe(t){return t.reduce(function(t,e){return t[e]=!0,t},{})}function Ae(t){if(!/^\d+\-./.test(t))return I(Po);var e=t.indexOf("-"),r=t.substring(0,e),n=t.substring(e+1);return{prefix:parseInt(r,10),id:n}}function Oe(t,e){for(var r=t.start-t.ids.length+1,n=t.ids,o=[n[0],e,[]],u=1,c=n.length;u<c;u++)o=[n[u],{status:"missing"},[o]];return[{pos:r,ids:o}]}function Ce(t,e){var r,n,o,u={status:"available"};if(t._deleted&&(u.deleted=!0),e)if(t._id||(t._id=H()),n=H(32,16).toLowerCase(),t._rev){if(o=Ae(t._rev),o.error)return o;t._rev_tree=[{pos:o.prefix,ids:[o.id,{status:"missing"},[[n,u,[]]]]}],r=o.prefix+1}else t._rev_tree=[{pos:1,ids:[n,u,[]]}],r=1;else if(t._revisions&&(t._rev_tree=Oe(t._revisions,u),r=t._revisions.start,n=t._revisions.ids[0]),!t._rev_tree){if(o=Ae(t._rev),o.error)return o;r=o.prefix,n=o.id,t._rev_tree=[{pos:r,ids:[n,u,[]]}]}R(t._id),t._rev=r+"-"+n;var c={metadata:{},data:{}};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var a="_"===i[0];if(a&&!Zo[i]){var s=I(Mo,i);throw s.message=Mo.message+": "+i,s}a&&!tu[i]?c.metadata[i.slice(1)]=t[i]:c.data[i]=t[i]}return c}function Ie(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(u){if("TypeError"!==u.name)throw u;for(var r="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,n=new r,o=0;o<t.length;o+=1)n.append(t[o]);return n.getBlob(e.type)}}function Ne(t){for(var e=t.length,r=new ArrayBuffer(e),n=new Uint8Array(r),o=0;o<e;o++)n[o]=t.charCodeAt(o);return r}function qe(t,e){return Ie([Ne(t)],{type:e})}function Me(t,e){return qe(eu(t),e)}function je(t){for(var e="",r=new Uint8Array(t),n=r.byteLength,o=0;o<n;o++)e+=String.fromCharCode(r[o]);return e}function De(t,e){if("undefined"==typeof FileReader)return e(je((new FileReaderSync).readAsArrayBuffer(t)));var r=new FileReader,n="function"==typeof r.readAsBinaryString;r.onloadend=function(t){var r=t.target.result||"";if(n)return e(r);e(je(r))},n?r.readAsBinaryString(t):r.readAsArrayBuffer(t)}function Re(t,e){De(t,function(t){e(t)})}function Be(t,e){Re(t,function(t){e(ru(t))})}function Pe(t,e){if("undefined"==typeof FileReader)return e((new FileReaderSync).readAsArrayBuffer(t));var r=new FileReader;r.onloadend=function(t){var r=t.target.result||new ArrayBuffer(0);e(r)},r.readAsArrayBuffer(t)}function Le(t){return ru(t)}function Fe(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.slice(e,r)}function $e(t,e,r,n,o){(r>0||n<e.size)&&(e=Fe(e,r,n)),Pe(e,function(e){t.append(e),o()})}function Ue(t,e,r,n,o){(r>0||n<e.length)&&(e=e.substring(r,n)),t.appendBinary(e),o()}function Ve(t,e){function r(){nu(o)}function n(){var t=f.end(!0),r=Le(t);e(r),f.destroy()}function o(){var e=s*i,o=e+i;s++,s<a?_(f,t,e,o,r):_(f,t,e,o,n)}var u="string"==typeof t,c=u?t.length:t.size,i=Math.min(ou,c),a=Math.ceil(c/i),s=0,f=u?new lo:new lo.ArrayBuffer,_=u?Ue:$e;o()}function Je(t){return lo.hash(t)}function ze(t){try{return eu(t)}catch(t){var e=I(No,"Attachment is not a valid base64 string");return{error:e}}}function He(t,e,r){var n=ze(t.data);if(n.error)return r(n.error);t.length=n.length,t.data="blob"===e?qe(n,t.content_type):"base64"===e?ru(n):n,Ve(n,function(e){t.digest="md5-"+e,r()})}function We(t,e,r){Ve(t.data,function(n){t.digest="md5-"+n,t.length=t.data.size||t.data.length||0,"binary"===e?Re(t.data,function(e){t.data=e,r()}):"base64"===e?Be(t.data,function(e){t.data=e,r()}):r()})}function Ke(t,e,r){if(t.stub)return r();"string"==typeof t.data?He(t,e,r):We(t,e,r)}function Ge(t,e,r){function n(){u++,t.length===u&&(o?r(o):r())}if(!t.length)return r();var o,u=0;t.forEach(function(t){function r(t){o=t,++c===u.length&&n()}var u=t.data&&t.data._attachments?Object.keys(t.data._attachments):[],c=0;if(!u.length)return n();for(var i in t.data._attachments)t.data._attachments.hasOwnProperty(i)&&Ke(t.data._attachments[i],e,r)})}function Xe(t,e,r,n,o,u,c,i){if(st(e.rev_tree,r.metadata.rev))return n[o]=r,u();var a=e.winningRev||W(e),s="deleted"in e?e.deleted:_t(e,a),f="deleted"in r.metadata?r.metadata.deleted:_t(r.metadata),_=/^1-/.test(r.metadata.rev);if(s&&!f&&i&&_){var l=r.data;l._rev=a,l._id=r.metadata.id,r=Ce(l,i)}var d=at(e.rev_tree,r.metadata.rev_tree[0],t);if(i&&(s&&f&&"new_leaf"!==d.conflicts||!s&&"new_leaf"!==d.conflicts||s&&!f&&"new_branch"===d.conflicts)){var p=I(xo);return n[o]=p,u()}var h=r.metadata.rev;r.metadata.rev_tree=d.tree,r.stemmedRevs=d.stemmedRevs||[],e.rev_map&&(r.metadata.rev_map=e.rev_map);var v,g=W(r.metadata),m=_t(r.metadata,g),y=s===m?0:s<m?-1:1;v=h===g?m:_t(r.metadata,h),c(r,g,m,v,!0,y,o,u)}function Qe(t){return"missing"===t.metadata.rev_tree[0].ids[1].status}function Ye(t,e,r,n,o,u,c,i,a){function s(t,e,r){var n=W(t.metadata),o=_t(t.metadata,n);if("was_delete"in i&&o)return u[e]=I(Eo,"deleted"),r();if(_&&Qe(t)){var a=I(xo);return u[e]=a,r()}c(t,n,o,o,!1,o?0:1,e,r)}function f(){++d===p&&a&&a()}t=t||1e3;var _=i.new_edits,l=new yo,d=0,p=e.length;e.forEach(function(t,e){if(t._id&&lt(t._id)){var n=t._deleted?"_removeLocal":"_putLocal";return void r[n](t,{ctx:o},function(t,r){u[e]=t||r,f()})}var c=t.metadata.id;l.has(c)?(p--,l.get(c).push([t,e])):l.set(c,[[t,e]])}),l.forEach(function(e,r){function o(){++a<e.length?i():f()}function i(){var i=e[a],f=i[0],l=i[1];if(n.has(r))Xe(t,n.get(r),f,u,l,o,c,_);else{var d=at([],f.metadata.rev_tree[0],t);f.metadata.rev_tree=d.tree,f.stemmedRevs=d.stemmedRevs||[],s(f,l,o)}}var a=0;i()})}function Ze(t){try{return JSON.parse(t)}catch(e){return po.parse(t)}}function tr(t){try{return JSON.stringify(t)}catch(e){return po.stringify(t)}}function er(t){return function(e){var r="unknown_error";e.target&&e.target.error&&(r=e.target.error.name||e.target.error.message),t(I(Ro,r,e.type))}}function rr(t,e,r){return{data:tr(t),winningRev:e,deletedOrLocal:r?"1":"0",seq:t.seq,id:t.id}}function nr(t){if(!t)return null;var e=Ze(t.data);return e.winningRev=t.winningRev,e.deleted="1"===t.deletedOrLocal,e.seq=t.seq,e}function or(t){if(!t)return t;var e=t._doc_id_rev.lastIndexOf(":");return t._id=t._doc_id_rev.substring(0,e-1),t._rev=t._doc_id_rev.substring(e+1),delete t._doc_id_rev,t}function ur(t,e,r,n){r?n(t?"string"!=typeof t?t:Me(t,e):Ie([""],{type:e})):t?"string"!=typeof t?De(t,function(t){n(ru(t))}):n(t):n("")}function cr(t,e,r,n){function o(){++i===c.length&&n&&n()}function u(t,e){var n=t._attachments[e],u=n.digest;r.objectStore(au).get(u).onsuccess=function(t){n.body=t.target.result.body,o()}}var c=Object.keys(t._attachments||{});if(!c.length)return n&&n();var i=0;c.forEach(function(r){e.attachments&&e.include_docs?u(t,r):(t._attachments[r].stub=!0,o())})}function ir(t,e){return ho.all(t.map(function(t){if(t.doc&&t.doc._attachments){var r=Object.keys(t.doc._attachments);return ho.all(r.map(function(r){var n=t.doc._attachments[r];if("body"in n){var o=n.body,u=n.content_type;return new ho(function(c){ur(o,u,e,function(e){t.doc._attachments[r]=ko(g(n,["digest","content_type"]),{data:e}),c()})})}}))}}))}function ar(t,e,r){function n(){--s||o()}function o(){u.length&&u.forEach(function(t){a.index("digestSeq").count(IDBKeyRange.bound(t+"::",t+"::￿",!1,!1)).onsuccess=function(e){e.target.result||i.delete(t)}})}var u=[],c=r.objectStore(iu),i=r.objectStore(au),a=r.objectStore(su),s=t.length;t.forEach(function(t){var r=c.index("_doc_id_rev"),o=e+"::"+t;r.getKey(o).onsuccess=function(t){var e=t.target.result;if("number"!=typeof e)return n();c.delete(e),a.index("seq").openCursor(IDBKeyRange.only(e)).onsuccess=function(t){var e=t.target.result;if(e){var r=e.value.digestSeq.split("::")[0];u.push(r),a.delete(e.primaryKey),e.continue()}else n()}}})}function sr(t,e,r){try{return{txn:t.transaction(e,r)}}catch(t){return{error:t}}}function fr(t,e,r,n,o,u){function c(){var t=[cu,iu,au,_u,su,fu],e=sr(o,t,"readwrite");if(e.error)return u(e.error);y=e.txn,y.onabort=er(u),y.ontimeout=er(u),y.oncomplete=_,b=y.objectStore(cu),w=y.objectStore(iu),T=y.objectStore(au),k=y.objectStore(su),S=y.objectStore(fu),S.get(fu).onsuccess=function(t){x=t.target.result,s()},d(function(t){if(t)return R=!0,u(t);f()})}function i(){q=!0,s()}function a(){Ye(t.revs_limit,A,n,D,y,j,p,r,i)}function s(){x&&q&&(x.docCount+=M,S.put(x))}function f(){function t(){++r===A.length&&a()}function e(e){var r=nr(e.target.result);r&&D.set(r.id,r),t()}if(A.length)for(var r=0,n=0,o=A.length;n<o;n++){var u=A[n];if(u._id&&lt(u._id))t();else{var c=b.get(u.metadata.id);c.onsuccess=e}}}function _(){R||(du.notify(n._meta.name),u(null,j))}function l(t,e){T.get(t).onsuccess=function(r){if(r.target.result)e();else{var n=I(Lo,"unknown stub attachment with digest "+t);n.status=412,e(n)}}}function d(t){function e(){++o===r.length&&t(n)}var r=[];if(A.forEach(function(t){t.data&&t.data._attachments&&Object.keys(t.data._attachments).forEach(function(e){var n=t.data._attachments[e];n.stub&&r.push(n.digest)})}),!r.length)return t();var n,o=0;r.forEach(function(t){l(t,function(t){t&&!n&&(n=t),e()})})}function p(t,e,r,n,o,u,c,i){t.metadata.winningRev=e,t.metadata.deleted=r;var a=t.data;if(a._id=t.metadata.id,a._rev=t.metadata.rev,n&&(a._deleted=!0),a._attachments&&Object.keys(a._attachments).length)return v(t,e,r,o,c,i);M+=u,s(),h(t,e,r,o,c,i)}function h(t,e,r,o,u,c){function i(u){var c=t.stemmedRevs||[];o&&n.auto_compaction&&(c=c.concat(Y(t.metadata))),c&&c.length&&ar(c,t.metadata.id,y),_.seq=u.target.result;var i=rr(_,e,r);b.put(i).onsuccess=s}function a(t){t.preventDefault(),t.stopPropagation(),w.index("_doc_id_rev").getKey(f._doc_id_rev).onsuccess=function(t){w.put(f,t.target.result).onsuccess=i}}function s(){j[u]={ok:!0,id:_.id,rev:_.rev},D.set(t.metadata.id,t.metadata),g(t,_.seq,c)}var f=t.data,_=t.metadata;f._doc_id_rev=_.id+"::"+_.rev,delete f._id,delete f._rev;var l=w.put(f);l.onsuccess=i,l.onerror=a}function v(t,e,r,n,o,u){function c(){s===f.length&&h(t,e,r,n,o,u)}function i(){s++,c()}var a=t.data,s=0,f=Object.keys(a._attachments);f.forEach(function(r){var n=t.data._attachments[r];if(n.stub)s++,c();else{var o=n.data;delete n.data,n.revpos=parseInt(e,10);m(n.digest,o,i)}})}function g(t,e,r){function n(){++o===u.length&&r()}var o=0,u=Object.keys(t.data._attachments||{});if(!u.length)return r();for(var c=0;c<u.length;c++)!function(r){var o=t.data._attachments[r].digest,u=k.put({seq:e,digestSeq:o+"::"+e});u.onsuccess=n,u.onerror=function(t){t.preventDefault(),t.stopPropagation(),n()}}(u[c])}function m(t,e,r){T.count(t).onsuccess=function(n){if(n.target.result)return r();var o={digest:t,body:e};T.put(o).onsuccess=r}}for(var y,b,w,T,k,S,E,x,A=e.docs,O=0,C=A.length;O<C;O++){var N=A[O];N._id&&lt(N._id)||(N=A[O]=Ce(N,r.new_edits),N.error&&!E&&(E=N))}if(E)return u(E);var q=!1,M=0,j=new Array(A.length),D=new yo,R=!1,B=n._meta.blobSupport?"blob":"base64";Ge(A,B,function(t){if(t)return u(t);c()})}function _r(t,e,r,n,o){function u(t){f=t.target.result,s&&o(s,f,_)}function c(t){s=t.target.result,f&&o(s,f,_)}function i(){if(!s.length)return o();var r,i=s[s.length-1];if(e&&e.upper)try{r=IDBKeyRange.bound(i,e.upper,!0,e.upperOpen)}catch(t){if("DataError"===t.name&&0===t.code)return o()}else r=IDBKeyRange.lowerBound(i,!0);e=r,s=null,f=null,t.getAll(e,n).onsuccess=u,t.getAllKeys(e,n).onsuccess=c}function a(t){var e=t.target.result;if(!e)return o();o([e.key],[e.value],e)}var s,f,_,l="function"==typeof t.getAll&&"function"==typeof t.getAllKeys&&n>1&&!r;l?(_={continue:i},t.getAll(e,n).onsuccess=u,t.getAllKeys(e,n).onsuccess=c):r?t.openCursor(e,"prev").onsuccess=a:t.openCursor(e).onsuccess=a}function lr(t,e,r){function n(t){var e=t.target.result;e?(o.push(e.value),e.continue()):r({target:{result:o}})}if("function"==typeof t.getAll)return void(t.getAll(e).onsuccess=r);var o=[];t.openCursor(e).onsuccess=n}function dr(t,e,r,n,o){try{if(t&&e)return o?IDBKeyRange.bound(e,t,!r,!1):IDBKeyRange.bound(t,e,!1,!r);if(t)return o?IDBKeyRange.upperBound(t):IDBKeyRange.lowerBound(t);if(e)return o?IDBKeyRange.lowerBound(e,!r):IDBKeyRange.upperBound(e,!r);if(n)return IDBKeyRange.only(n)}catch(t){return{error:t}}return null}function pr(t,e,r){function n(e,r,n){var o=e.id+"::"+n;E.get(o).onsuccess=function(n){if(r.doc=or(n.target.result),t.conflicts){var o=Q(e);o.length&&(r.doc._conflicts=o)}cr(r.doc,t,b)}}function o(e,r){var o={id:r.id,key:r.id,value:{rev:e}},u=r.deleted;"ok"===t.deleted?(x.push(o),u?(o.value.deleted=!0,o.doc=null):t.include_docs&&n(r,o,e)):!u&&d--<=0&&(x.push(o),t.include_docs&&n(r,o,e))}function u(t){for(var e=0,r=t.length;e<r&&x.length!==p;e++){var n=t[e],u=nr(n);o(u.winningRev,u)}}function c(t,e,r){r&&(u(e),x.length<p&&r.continue())}function i(e){var r=e.target.result;t.descending&&(r=r.reverse()),u(r)}function a(){r(null,{total_rows:w,offset:t.skip,rows:x})}function s(){t.attachments?ir(x,t.binary).then(a):a()}var f="startkey"in t&&t.startkey,_="endkey"in t&&t.endkey,l="key"in t&&t.key,d=t.skip||0,p="number"==typeof t.limit?t.limit:-1,h=!1!==t.inclusive_end,v=dr(f,_,h,l,t.descending),g=v&&v.error;if(g&&("DataError"!==g.name||0!==g.code))return r(I(Ro,g.name,g.message));var m=[cu,iu,fu];t.attachments&&m.push(au);var y=sr(e,m,"readonly");if(y.error)return r(y.error);var b=y.txn;b.oncomplete=s,b.onabort=er(r);var w,T=b.objectStore(cu),k=b.objectStore(iu),S=b.objectStore(fu),E=k.index("_doc_id_rev"),x=[];return S.get(fu).onsuccess=function(t){w=t.target.result.docCount},g||0===p?void 0:-1===p?lr(T,v,i):void _r(T,v,t.descending,p+d,c)}function hr(t){return new ho(function(e){var r=Ie([""]);t.objectStore(lu).put(r,"key").onsuccess=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),r=navigator.userAgent.match(/Edge\//);e(r||!t||parseInt(t[1],10)>=43)},t.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)}}).catch(function(){return!1})}function vr(t,e){t.objectStore(cu).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(t){e(t.target.result)}}function gr(t,e,r,n){try{t(e,r)}catch(e){n.emit("error",e)}}function mr(){!pu&&hu.length&&(pu=!0,hu.shift()())}function yr(t,e,r){hu.push(function(){t(function(t,n){gr(e,t,n,r),pu=!1,fo(function(){mr(r)})})}),mr()}function br(t,e,r,n){function o(e,r,n){function o(e,r){var n=t.processChange(r,e,t);l=n.seq=e.seq;var o=w(n);if("object"==typeof o)return t.complete(o);o&&(b++,p&&y.push(n),t.attachments&&t.include_docs?cr(r,t,h,function(){ir([n],t.binary).then(function(){t.onChange(n)})}):t.onChange(n))}function u(){for(var t=0,e=i.length;t<e&&b!==d;t++){var r=i[t];if(r){o(a[t],r)}}b!==d&&n.continue()}if(n&&e.length){var i=new Array(e.length),a=new Array(e.length),s=0;r.forEach(function(t,r){c(or(t),e[r],function(t,n){a[r]=t,i[r]=n,++s===e.length&&u()})})}}function u(t,e,r,n){if(r.seq!==e)return n();if(r.winningRev===t._rev)return n(r,t);var o=t._id+"::"+r.winningRev;m.get(o).onsuccess=function(t){n(r,or(t.target.result))}}function c(t,e,r){if(_&&!_.has(t._id))return r();var n=T.get(t._id);if(n)return u(t,e,n,r);g.get(t._id).onsuccess=function(o){n=nr(o.target.result),T.set(t._id,n),u(t,e,n,r)}}function i(){t.complete(null,{results:y,last_seq:l})}function s(){!t.continuous&&t.attachments?ir(y).then(i):i()}if(t=a(t),t.continuous){var f=r+":"+H();return du.addListener(r,f,e,t),du.notify(r),{cancel:function(){du.removeListener(r,f)}}}var _=t.doc_ids&&new mo(t.doc_ids);t.since=t.since||0;var l=t.since,d="limit"in t?t.limit:-1;0===d&&(d=1);var p;p="return_docs"in t?t.return_docs:!("returnDocs"in t)||t.returnDocs;var h,v,g,m,y=[],b=0,w=M(t),T=new yo,k=[cu,iu];t.attachments&&k.push(au);var S=sr(n,k,"readonly");if(S.error)return t.complete(S.error);h=S.txn,h.onabort=er(t.complete),h.oncomplete=s,v=h.objectStore(iu),g=h.objectStore(cu),m=v.index("_doc_id_rev"),_r(v,t.since&&!t.descending?IDBKeyRange.lowerBound(t.since,!0):null,t.descending,d,o)}function wr(t,e){var r=this;yr(function(e){Tr(r,t,e)},e,r.constructor)}function Tr(t,e,r){function n(t){var e=t.createObjectStore(cu,{keyPath:"id"});t.createObjectStore(iu,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),t.createObjectStore(au,{keyPath:"digest"}),t.createObjectStore(fu,{keyPath:"id",autoIncrement:!1}),t.createObjectStore(lu),e.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),t.createObjectStore(_u,{keyPath:"_id"});var r=t.createObjectStore(su,{autoIncrement:!0});r.createIndex("seq","seq"),r.createIndex("digestSeq","digestSeq",{unique:!0})}function o(t,e){var r=t.objectStore(cu);r.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),r.openCursor().onsuccess=function(t){var n=t.target.result;if(n){var o=n.value,u=_t(o);o.deletedOrLocal=u?"1":"0",r.put(o),n.continue()}else e()}}function u(t){t.createObjectStore(_u,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function c(t,e){var r=t.objectStore(_u),n=t.objectStore(cu),o=t.objectStore(iu);n.openCursor().onsuccess=function(t){var u=t.target.result;if(u){var c=u.value,i=c.id,a=lt(i),s=W(c);if(a){var f=i+"::"+s,_=i+"::",l=i+"::~",d=o.index("_doc_id_rev"),p=IDBKeyRange.bound(_,l,!1,!1),h=d.openCursor(p);h.onsuccess=function(t){if(h=t.target.result){var e=h.value;e._doc_id_rev===f&&r.put(e),o.delete(h.primaryKey),h.continue()}else n.delete(u.primaryKey),u.continue()}}else u.continue()}else e&&e()}}function i(t){var e=t.createObjectStore(su,{autoIncrement:!0});e.createIndex("seq","seq"),e.createIndex("digestSeq","digestSeq",{unique:!0})}function a(t,e){var r=t.objectStore(iu),n=t.objectStore(au),o=t.objectStore(su);n.count().onsuccess=function(t){if(!t.target.result)return e();r.openCursor().onsuccess=function(t){var r=t.target.result;if(!r)return e();for(var n=r.value,u=r.primaryKey,c=Object.keys(n._attachments||{}),i={},a=0;a<c.length;a++)i[n._attachments[c[a]].digest]=!0;var s=Object.keys(i);for(a=0;a<s.length;a++){var f=s[a];o.put({seq:u,digestSeq:f+"::"+u})}r.continue()}}}function s(t){function e(t){return t.data?nr(t):(t.deleted="1"===t.deletedOrLocal,t)}var r=t.objectStore(iu),n=t.objectStore(cu);n.openCursor().onsuccess=function(t){function o(){var t=rr(c,c.winningRev,c.deleted);n.put(t).onsuccess=function(){u.continue()}}var u=t.target.result;if(u){var c=e(u.value);if(c.winningRev=c.winningRev||W(c),c.seq)return o();!function(){var t=c.id+"::",e=c.id+"::￿",n=r.index("_doc_id_rev").openCursor(IDBKeyRange.bound(t,e)),u=0;n.onsuccess=function(t){var e=t.target.result;if(!e)return c.seq=u,o();var r=e.primaryKey;r>u&&(u=r),e.continue()}}()}}}var _=e.name,l=null;t._meta=null,t._remote=!1,t.type=function(){return"idb"},t._id=f(function(e){e(null,t._meta.instanceId)}),t._bulkDocs=function(r,n,o){fr(e,r,n,t,l,o)},t._get=function(t,e,r){function n(){r(c,{doc:o,metadata:u,ctx:i})}var o,u,c,i=e.ctx;if(!i){var a=sr(l,[cu,iu,au],"readonly");if(a.error)return r(a.error);i=a.txn}i.objectStore(cu).get(t).onsuccess=function(t){if(!(u=nr(t.target.result)))return c=I(Eo,"missing"),n();var r;if(e.rev)r=e.latest?dt(e.rev,u):e.rev;else{r=u.winningRev;if(_t(u))return c=I(Eo,"deleted"),n()}var a=i.objectStore(iu),s=u.id+"::"+r;a.index("_doc_id_rev").get(s).onsuccess=function(t){if(o=t.target.result,o&&(o=or(o)),!o)return c=I(Eo,"missing"),n();n()}}},t._getAttachment=function(t,e,r,n,o){var u;if(n.ctx)u=n.ctx;else{var c=sr(l,[cu,iu,au],"readonly");if(c.error)return o(c.error);u=c.txn}var i=r.digest,a=r.content_type;u.objectStore(au).get(i).onsuccess=function(t){ur(t.target.result.body,a,n.binary,function(t){o(null,t)})}},t._info=function(e){var r,n,o=sr(l,[fu,iu],"readonly");if(o.error)return e(o.error);var u=o.txn;u.objectStore(fu).get(fu).onsuccess=function(t){n=t.target.result.docCount},u.objectStore(iu).openCursor(null,"prev").onsuccess=function(t){var e=t.target.result;r=e?e.key:0},u.oncomplete=function(){e(null,{doc_count:n,update_seq:r,idb_attachment_format:t._meta.blobSupport?"binary":"base64"})}},t._allDocs=function(t,e){pr(t,l,e)},t._changes=function(e){br(e,t,_,l)},t._close=function(t){l.close(),vu.delete(_),t()},t._getRevisionTree=function(t,e){var r=sr(l,[cu],"readonly");if(r.error)return e(r.error);r.txn.objectStore(cu).get(t).onsuccess=function(t){var r=nr(t.target.result);r?e(null,r.rev_tree):e(I(Eo))}},t._doCompaction=function(t,e,r){var n=[cu,iu,au,su],o=sr(l,n,"readwrite");if(o.error)return r(o.error);var u=o.txn;u.objectStore(cu).get(t).onsuccess=function(r){var n=nr(r.target.result);K(n.rev_tree,function(t,r,n,o,u){var c=r+"-"+n;-1!==e.indexOf(c)&&(u.status="missing")}),ar(e,t,u);var o=n.winningRev,c=n.deleted;u.objectStore(cu).put(rr(n,o,c))},u.onabort=er(r),u.oncomplete=function(){r()}},t._getLocal=function(t,e){var r=sr(l,[_u],"readonly");if(r.error)return e(r.error);var n=r.txn,o=n.objectStore(_u).get(t);o.onerror=er(e),o.onsuccess=function(t){var r=t.target.result;r?(delete r._doc_id_rev,e(null,r)):e(I(Eo))}},t._putLocal=function(t,e,r){"function"==typeof e&&(r=e,e={}),delete t._revisions;var n=t._rev,o=t._id;t._rev=n?"0-"+(parseInt(n.split("-")[1],10)+1):"0-1";var u,c=e.ctx;if(!c){var i=sr(l,[_u],"readwrite");if(i.error)return r(i.error);c=i.txn,c.onerror=er(r),c.oncomplete=function(){u&&r(null,u)}}var a,s=c.objectStore(_u);n?(a=s.get(o),a.onsuccess=function(o){var c=o.target.result;if(c&&c._rev===n){s.put(t).onsuccess=function(){u={ok:!0,id:t._id,rev:t._rev},e.ctx&&r(null,u)}}else r(I(xo))}):(a=s.add(t),a.onerror=function(t){r(I(xo)),t.preventDefault(),t.stopPropagation()},a.onsuccess=function(){u={ok:!0,id:t._id,rev:t._rev},e.ctx&&r(null,u)})},t._removeLocal=function(t,e,r){"function"==typeof e&&(r=e,e={});var n=e.ctx;if(!n){var o=sr(l,[_u],"readwrite");if(o.error)return r(o.error);n=o.txn,n.oncomplete=function(){u&&r(null,u)}}var u,c=t._id,i=n.objectStore(_u),a=i.get(c);a.onerror=er(r),a.onsuccess=function(n){var o=n.target.result;o&&o._rev===t._rev?(i.delete(c),u={ok:!0,id:c,rev:"0-0"},e.ctx&&r(null,u)):r(I(Eo))}},t._destroy=function(t,e){du.removeAllListeners(_);var r=gu.get(_);r&&r.result&&(r.result.close(),vu.delete(_));var n=indexedDB.deleteDatabase(_);n.onsuccess=function(){gu.delete(_),T()&&_ in localStorage&&delete localStorage[_],e(null,{ok:!0})},n.onerror=er(e)};var d=vu.get(_);if(d)return l=d.idb,t._meta=d.global,fo(function(){r(null,t)});var p;p=e.storage?kr(_,e.storage):indexedDB.open(_,uu),gu.set(_,p),p.onupgradeneeded=function(t){function e(){var t=_[l-1];l++,t&&t(f,e)}var r=t.target.result;if(t.oldVersion<1)return n(r);var f=t.currentTarget.transaction;t.oldVersion<3&&u(r),t.oldVersion<4&&i(r);var _=[o,c,a,s],l=t.oldVersion;e()},p.onsuccess=function(e){function n(){void 0!==i&&f&&(t._meta={name:_,instanceId:a,blobSupport:i},vu.set(_,{idb:l,global:t._meta}),r(null,t))}function o(){if(void 0!==c&&void 0!==u){var t=_+"_id";t in u?a=u[t]:u[t]=a=H(),u.docCount=c,s.objectStore(fu).put(u)}}l=e.target.result,l.onversionchange=function(){l.close(),vu.delete(_)},l.onabort=function(t){E("error","Database has a global failure",t.target.error),l.close(),vu.delete(_)};var u,c,i,a,s=l.transaction([fu,lu,cu],"readwrite"),f=!1;s.objectStore(fu).get(fu).onsuccess=function(t){u=t.target.result||{id:fu},o()},vr(s,function(t){c=t,o()}),Yo||(Yo=hr(s)),Yo.then(function(t){i=t,n()}),s.oncomplete=function(){f=!0,n()}},p.onerror=function(){var t="Failed to open indexedDB, are you in private browsing mode?";E("error",t),r(I(Ro,t))}}function kr(t,e){try{return indexedDB.open(t,{version:uu,storage:e})}catch(e){return indexedDB.open(t,uu)}}function Sr(t){return decodeURIComponent(escape(t))}function Er(t){return t<65?t-48:t-55}function xr(t,e,r){for(var n="";e<r;)n+=String.fromCharCode(Er(t.charCodeAt(e++))<<4|Er(t.charCodeAt(e++)));return n}function Ar(t,e,r){for(var n="";e<r;)n+=String.fromCharCode(Er(t.charCodeAt(e+2))<<12|Er(t.charCodeAt(e+3))<<8|Er(t.charCodeAt(e))<<4|Er(t.charCodeAt(e+1))),e+=4;return n}function Or(t,e){return"UTF-8"===e?Sr(xr(t,0,t.length)):Ar(t,0,t.length)}function Cr(t){return"'"+t+"'"}function Ir(t){return t.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"")}function Nr(t){return t.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,"")}function qr(t){return delete t._id,delete t._rev,JSON.stringify(t)}function Mr(t,e,r){return t=JSON.parse(t),t._id=e,t._rev=r,t}function jr(t){for(var e="(";t--;)e+="?",t&&(e+=",");return e+")"}function Dr(t,e,r,n,o){return"SELECT "+t+" FROM "+("string"==typeof e?e:e.join(" JOIN "))+(r?" ON "+r:"")+(n?" WHERE "+("string"==typeof n?n:n.join(" AND ")):"")+(o?" ORDER BY "+o:"")}function Rr(t,e,r){function n(){++u===t.length&&o()}function o(){if(c.length){var t="SELECT DISTINCT digest AS digest FROM "+Eu+" WHERE seq IN "+jr(c.length);r.executeSql(t,c,function(t,e){for(var r=[],n=0;n<e.rows.length;n++)r.push(e.rows.item(n).digest);if(r.length){var o="DELETE FROM "+Eu+" WHERE seq IN ("+c.map(function(){return"?"}).join(",")+")";t.executeSql(o,c,function(t){var e="SELECT digest FROM "+Eu+" WHERE digest IN ("+r.map(function(){return"?"}).join(",")+")";t.executeSql(e,r,function(t,e){for(var n=new mo,o=0;o<e.rows.length;o++)n.add(e.rows.item(o).digest);r.forEach(function(e){n.has(e)||(t.executeSql("DELETE FROM "+Eu+" WHERE digest=?",[e]),t.executeSql("DELETE FROM "+Tu+" WHERE digest=?",[e]))})})})}})}}if(t.length){var u=0,c=[];t.forEach(function(t){var o="SELECT seq FROM "+wu+" WHERE doc_id=? AND rev=?";r.executeSql(o,[e,t],function(t,e){if(!e.rows.length)return n();var r=e.rows.item(0).seq;c.push(r),t.executeSql("DELETE FROM "+wu+" WHERE seq=?",[r],n)})})}}function Br(t){return function(e){E("error","WebSQL threw an error",e);var r=e&&e.constructor.toString().match(/function ([^\(]+)/),n=r&&r[1]||e.type,o=e.target||e.message;t(I(Bo,o,n))}}function Pr(t){return"size"in t?1e6*t.size:"undefined"!=typeof navigator&&/Android/.test(navigator.userAgent)?5e6:1}function Lr(t,e,r,n,o,u,c){function i(){if(y)return c(y);u.notify(n._name),c(null,b)}function a(t,e){var r="SELECT count(*) as cnt FROM "+Tu+" WHERE digest=?";m.executeSql(r,[t],function(r,n){if(0===n.rows.item(0).cnt){var o=I(Lo,"unknown stub attachment with digest "+t);e(o)}else e()})}function s(t){function e(){++o===r.length&&t(n)}var r=[];if(v.forEach(function(t){t.data&&t.data._attachments&&Object.keys(t.data._attachments).forEach(function(e){var n=t.data._attachments[e];n.stub&&r.push(n.digest)})}),!r.length)return t();var n,o=0;r.forEach(function(t){a(t,function(t){t&&!n&&(n=t),e()})})}function f(t,e,r,o,u,c,i,a){function s(){function e(t,e){function n(){return++o===u.length&&e(),!1}var o=0,u=Object.keys(r._attachments||{});if(!u.length)return e();for(var c=0;c<u.length;c++)!function(e){var o="INSERT INTO "+Eu+" (digest, seq) VALUES (?,?)",u=[r._attachments[e].digest,t];m.executeSql(o,u,n,n)}(u[c])}var r=t.data,n=o?1:0,u=r._id,c=r._rev,i=qr(r),a="INSERT INTO "+wu+" (doc_id, rev, json, deleted) VALUES (?, ?, ?, ?);",s=[u,c,i,n];m.executeSql(a,s,function(t,r){var n=r.insertId;e(n,function(){l(t,n)})},function(){var t=Dr("seq",wu,null,"doc_id=? AND rev=?");return m.executeSql(t,[u,c],function(t,r){var o=r.rows.item(0).seq,a="UPDATE "+wu+" SET json=?, deleted=? WHERE doc_id=? AND rev=?;",s=[i,n,u,c];t.executeSql(a,s,function(t){e(o,function(){l(t,o)})})}),!1})}function f(t){p||(t?(p=t,a(p)):h===v.length&&s())}function _(t){h++,f(t)}function l(r,o){var c=t.metadata.id,s=t.stemmedRevs||[];u&&n.auto_compaction&&(s=Y(t.metadata).concat(s)),s.length&&Rr(s,c,r),t.metadata.seq=o;var f=t.metadata.rev;delete t.metadata.rev;var _=u?"UPDATE "+bu+" SET json=?, max_seq=?, winningseq=(SELECT seq FROM "+wu+" WHERE doc_id="+bu+".id AND rev=?) WHERE id=?":"INSERT INTO "+bu+" (id, winningseq, max_seq, json) VALUES (?,?,?,?);",l=tr(t.metadata),d=u?[l,o,e,c]:[c,o,o,l];r.executeSql(_,d,function(){b[i]={ok:!0,id:t.metadata.id,rev:f},w.set(c,t.metadata),a()})}var p=null,h=0;t.data._id=t.metadata.id,t.data._rev=t.metadata.rev;var v=Object.keys(t.data._attachments||{});o&&(t.data._deleted=!0),v.forEach(function(r){var n=t.data._attachments[r];if(n.stub)h++,f();else{var o=n.data;delete n.data,n.revpos=parseInt(e,10);d(n.digest,o,_)}}),v.length||s()}function _(){Ye(t.revs_limit,v,n,w,m,b,f,r)}function l(t){function e(){++r===v.length&&t()}if(!v.length)return t();var r=0;v.forEach(function(t){if(t._id&&lt(t._id))return e();var r=t.metadata.id;m.executeSql("SELECT json FROM "+bu+" WHERE id = ?",[r],function(t,n){if(n.rows.length){var o=Ze(n.rows.item(0).json);w.set(r,o)}e()})})}function d(t,e,r){var n="SELECT digest FROM "+Tu+" WHERE digest=?";m.executeSql(n,[t],function(o,u){if(u.rows.length)return r();n="INSERT INTO "+Tu+" (digest, body, escaped) VALUES (?,?,1)",o.executeSql(n,[t,Ir(e)],function(){r()},function(){return r(),!1})})}var p=r.new_edits,h=e.docs,v=h.map(function(t){return t._id&&lt(t._id)?t:Ce(t,p)}),g=v.filter(function(t){return t.error});if(g.length)return c(g[0]);var m,y,b=new Array(v.length),w=new yo;Ge(v,"binary",function(t){if(t)return c(t);o.transaction(function(t){m=t,s(function(t){t?y=t:l(_)})},Br(c),i)})}function Fr(t){return t.websql(t.name,t.version,t.description,t.size)}function $r(t){try{return{db:Fr(t)}}catch(t){return{error:t}}}function Ur(t){var e=xu.get(t.name);return e||(e=$r(t),xu.set(t.name,e)),e}function Vr(t,e,r,n,o){function u(){++a===i.length&&o&&o()}function c(t,o){var c=t._attachments[o],i={binary:e.binary,ctx:n};r._getAttachment(t._id,o,c,i,function(e,r){t._attachments[o]=ko(g(c,["digest","content_type"]),{data:r}),u()})}var i=Object.keys(t._attachments||{});if(!i.length)return o&&o();var a=0;i.forEach(function(r){e.attachments&&e.include_docs?c(t,r):(t._attachments[r].stub=!0,u())})}function Jr(t,e){function r(){T()&&(window.localStorage["_pouch__websqldb_"+y._name]=!0),e(null,y)}function n(t,e){t.executeSql(Nu),t.executeSql("ALTER TABLE "+wu+" ADD COLUMN deleted TINYINT(1) DEFAULT 0",[],function(){t.executeSql(Cu),t.executeSql("ALTER TABLE "+bu+" ADD COLUMN local TINYINT(1) DEFAULT 0",[],function(){t.executeSql("CREATE INDEX IF NOT EXISTS 'doc-store-local-idx' ON "+bu+" (local, id)");var r="SELECT "+bu+".winningseq AS seq, "+bu+".json AS metadata FROM "+wu+" JOIN "+bu+" ON "+wu+".seq = "+bu+".winningseq";t.executeSql(r,[],function(t,r){for(var n=[],o=[],u=0;u<r.rows.length;u++){var c=r.rows.item(u),i=c.seq,a=JSON.parse(c.metadata);_t(a)&&n.push(i),lt(a.id)&&o.push(a.id)}t.executeSql("UPDATE "+bu+"SET local = 1 WHERE id IN "+jr(o.length),o,function(){t.executeSql("UPDATE "+wu+" SET deleted = 1 WHERE seq IN "+jr(n.length),n,e)})})})})}function o(t,e){var r="CREATE TABLE IF NOT EXISTS "+ku+" (id UNIQUE, rev, json)";t.executeSql(r,[],function(){var r="SELECT "+bu+".id AS id, "+wu+".json AS data FROM "+wu+" JOIN "+bu+" ON "+wu+".seq = "+bu+".winningseq WHERE local = 1";t.executeSql(r,[],function(t,r){function n(){if(!o.length)return e(t);var r=o.shift(),u=JSON.parse(r.data)._rev;t.executeSql("INSERT INTO "+ku+" (id, rev, json) VALUES (?,?,?)",[r.id,u,r.data],function(t){t.executeSql("DELETE FROM "+bu+" WHERE id=?",[r.id],function(t){t.executeSql("DELETE FROM "+wu+" WHERE seq=?",[r.seq],function(){n()})})})}for(var o=[],u=0;u<r.rows.length;u++)o.push(r.rows.item(u));n()})})}function u(t,e){function r(r){function n(){if(!r.length)return e(t);var o=r.shift(),u=Or(o.hex,m),c=u.lastIndexOf("::"),i=u.substring(0,c),a=u.substring(c+2),s="UPDATE "+wu+" SET doc_id=?, rev=? WHERE doc_id_rev=?";t.executeSql(s,[i,a,u],function(){n()})}n()}var n="ALTER TABLE "+wu+" ADD COLUMN doc_id";t.executeSql(n,[],function(t){var e="ALTER TABLE "+wu+" ADD COLUMN rev";t.executeSql(e,[],function(t){t.executeSql(Iu,[],function(t){var e="SELECT hex(doc_id_rev) as hex FROM "+wu;t.executeSql(e,[],function(t,e){for(var n=[],o=0;o<e.rows.length;o++)n.push(e.rows.item(o));r(n)})})})})}function c(t,e){function r(t){var r="SELECT COUNT(*) AS cnt FROM "+Tu;t.executeSql(r,[],function(t,r){function n(){var r=Dr(Du+", "+bu+".id AS id",[bu,wu],ju,null,bu+".id ");r+=" LIMIT "+u+" OFFSET "+o,o+=u,t.executeSql(r,[],function(t,r){if(!r.rows.length)return e(t);for(var o={},u=0;u<r.rows.length;u++)for(var c=r.rows.item(u),i=Mr(c.data,c.id,c.rev),a=Object.keys(i._attachments||{}),s=0;s<a.length;s++){var f=i._attachments[a[s]];!function(t,e){var r=o[t]=o[t]||[];-1===r.indexOf(e)&&r.push(e)}(f.digest,c.seq)}var _=[];if(Object.keys(o).forEach(function(t){o[t].forEach(function(e){_.push([t,e])})}),!_.length)return n();var l=0;_.forEach(function(e){var r="INSERT INTO "+Eu+" (digest, seq) VALUES (?,?)";t.executeSql(r,e,function(){++l===_.length&&n()})})})}if(!r.rows.item(0).cnt)return e(t);var o=0,u=10;n()})}var n="CREATE TABLE IF NOT EXISTS "+Eu+" (digest, seq INTEGER)";t.executeSql(n,[],function(t){t.executeSql(Mu,[],function(t){t.executeSql(qu,[],r)})})}function i(t,e){var r="ALTER TABLE "+Tu+" ADD COLUMN escaped TINYINT(1) DEFAULT 0";t.executeSql(r,[],e)}function s(t,e){var r="ALTER TABLE "+bu+" ADD COLUMN max_seq INTEGER";t.executeSql(r,[],function(t){var r="UPDATE "+bu+" SET max_seq=(SELECT MAX(seq) FROM "+wu+" WHERE doc_id=id)";t.executeSql(r,[],function(t){var r="CREATE UNIQUE INDEX IF NOT EXISTS 'doc-max-seq-idx' ON "+bu+" (max_seq)";t.executeSql(r,[],e)})})}function _(t,e){t.executeSql('SELECT HEX("a") AS hex',[],function(t,r){var n=r.rows.item(0).hex;m=2===n.length?"UTF-8":"UTF-16",e()})}function l(){for(;k.length>0;){k.pop()(null,b)}}function d(t,e){if(0===e){var r="CREATE TABLE IF NOT EXISTS "+Su+" (dbid, db_version INTEGER)",a="CREATE TABLE IF NOT EXISTS "+Tu+" (digest UNIQUE, escaped TINYINT(1), body BLOB)",f="CREATE TABLE IF NOT EXISTS "+Eu+" (digest, seq INTEGER)",_="CREATE TABLE IF NOT EXISTS "+bu+" (id unique, json, winningseq, max_seq INTEGER UNIQUE)",d="CREATE TABLE IF NOT EXISTS "+wu+" (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, json, deleted TINYINT(1), doc_id, rev)",p="CREATE TABLE IF NOT EXISTS "+ku+" (id UNIQUE, rev, json)";t.executeSql(a),t.executeSql(p),t.executeSql(f,[],function(){t.executeSql(qu),t.executeSql(Mu)}),t.executeSql(_,[],function(){t.executeSql(Nu),t.executeSql(d,[],function(){t.executeSql(Cu),t.executeSql(Iu),t.executeSql(r,[],function(){var e="INSERT INTO "+Su+" (db_version, dbid) VALUES (?,?)";b=H();var r=[yu,b];t.executeSql(e,r,function(){l()})})})})}else{var h=function(){e<yu&&t.executeSql("UPDATE "+Su+" SET db_version = "+yu);var r="SELECT dbid FROM "+Su;t.executeSql(r,[],function(t,e){b=e.rows.item(0).dbid,l()})},v=[n,o,u,c,i,s,h],g=e,m=function(t){v[g-1](t,m),g++};m(t)}}function p(t){var e="SELECT sql FROM sqlite_master WHERE tbl_name = "+Su;t.executeSql(e,[],function(t,e){e.rows.length?/db_version/.test(e.rows.item(0).sql)?t.executeSql("SELECT db_version FROM "+Su,[],function(t,e){d(t,e.rows.item(0).db_version)}):t.executeSql("ALTER TABLE "+Su+" ADD COLUMN db_version INTEGER",[],function(){d(t,1)}):d(t,0)})}function h(t,e){var r="SELECT MAX(seq) AS seq FROM "+wu;t.executeSql(r,[],function(t,r){var n=r.rows.item(0).seq||0;e(n)})}function v(t,e){var r=Dr("COUNT("+bu+".id) AS 'num'",[bu,wu],ju,wu+".deleted=0");t.executeSql(r,[],function(t,r){e(r.rows.item(0).num)})}function g(t,e,r,n,o){var u=Dr(Du,[bu,wu],ju,bu+".id=?"),c=[e];t.executeSql(u,c,function(t,e){if(!e.rows.length){var u=I(Eo,"missing");return o(u)}var c=e.rows.item(0),i=Ze(c.metadata);n(dt(r,i))})}var m,y=this,b=null,w=Pr(t),k=[];y._name=t.name;var S=ko({},t,{version:Ou,description:t.name,size:w}),E=Ur(S);if(E.error)return Br(e)(E.error);var x=E.db;"function"!=typeof x.readTransaction&&(x.readTransaction=x.transaction),function(){x.transaction(function(t){_(t,function(){p(t)})},Br(e),r)}(),y._remote=!1,y.type=function(){return"websql"},y._id=f(function(t){t(null,b)}),y._info=function(t){var e,r;x.readTransaction(function(t){h(t,function(t){e=t}),v(t,function(t){r=t})},Br(t),function(){t(null,{doc_count:r,update_seq:e,websql_encoding:m})})},y._bulkDocs=function(e,r,n){Lr(t,e,r,y,x,Au,n)},y._get=function(t,e,r){function n(t){r(t,{doc:o,metadata:u,ctx:c})}var o,u,c=e.ctx;if(!c)return x.readTransaction(function(n){y._get(t,ko({ctx:n},e),r)});var i,a;if(e.rev){if(e.latest)return void g(c,t,e.rev,function(n){e.latest=!1,e.rev=n,y._get(t,e,r)},n);i=Dr(Du,[bu,wu],bu+".id="+wu+".doc_id",[wu+".doc_id=?",wu+".rev=?"]),a=[t,e.rev]}else i=Dr(Du,[bu,wu],ju,bu+".id=?"),a=[t];c.executeSql(i,a,function(t,r){if(!r.rows.length){return n(I(Eo,"missing"))}var c=r.rows.item(0);if(u=Ze(c.metadata),c.deleted&&!e.rev){return n(I(Eo,"deleted"))}o=Mr(c.data,u.id,c.rev),n()})},y._allDocs=function(t,e){var r,n=[],o="startkey"in t&&t.startkey,u="endkey"in t&&t.endkey,c="key"in t&&t.key,i="descending"in t&&t.descending,a="limit"in t?t.limit:-1,s="skip"in t?t.skip:0,f=!1!==t.inclusive_end,_=[],l=[];if(!1!==c)l.push(bu+".id = ?"),_.push(c);else if(!1!==o||!1!==u){if(!1!==o&&(l.push(bu+".id "+(i?"<=":">=")+" ?"),_.push(o)),!1!==u){var d=i?">":"<";f&&(d+="="),l.push(bu+".id "+d+" ?"),_.push(u)}!1!==c&&(l.push(bu+".id = ?"),_.push(c))}"ok"!==t.deleted&&l.push(wu+".deleted = 0"),x.readTransaction(function(e){if(v(e,function(t){r=t}),0!==a){var o=Dr(Du,[bu,wu],ju,l,bu+".id "+(i?"DESC":"ASC"));o+=" LIMIT "+a+" OFFSET "+s,e.executeSql(o,_,function(e,r){for(var o=0,u=r.rows.length;o<u;o++){var c=r.rows.item(o),i=Ze(c.metadata),a=i.id,s=Mr(c.data,a,c.rev),f=s._rev,_={id:a,key:a,value:{rev:f}};if(t.include_docs){if(_.doc=s,_.doc._rev=f,t.conflicts){var l=Q(i);l.length&&(_.doc._conflicts=l)}Vr(_.doc,t,y,e)}if(c.deleted){if("ok"!==t.deleted)continue;_.value.deleted=!0,_.doc=null}n.push(_)}})}},Br(e),function(){e(null,{total_rows:r,offset:t.skip,rows:n})})},y._changes=function(t){if(t=a(t),t.continuous){var e=y._name+":"+H();return Au.addListener(y._name,e,y,t),Au.notify(y._name),{cancel:function(){Au.removeListener(y._name,e)}}}var r=t.descending;t.since=t.since&&!r?t.since:0;var n="limit"in t?t.limit:-1;0===n&&(n=1);var o;o="return_docs"in t?t.return_docs:!("returnDocs"in t)||t.returnDocs;var u=[],c=0;!function(){var e=bu+".json AS metadata, "+bu+".max_seq AS maxSeq, "+wu+".json AS winningDoc, "+wu+".rev AS winningRev ",i=bu+" JOIN "+wu,a=bu+".id="+wu+".doc_id AND "+bu+".winningseq="+wu+".seq",s=["maxSeq > ?"],f=[t.since];t.doc_ids&&(s.push(bu+".id IN "+jr(t.doc_ids.length)),f=f.concat(t.doc_ids));var _="maxSeq "+(r?"DESC":"ASC"),l=Dr(e,i,a,s,_),d=M(t);t.view||t.filter||(l+=" LIMIT "+n);var p=t.since||0;x.readTransaction(function(e){e.executeSql(l,f,function(e,r){function i(e){return function(){t.onChange(e)}}for(var a=0,s=r.rows.length;a<s;a++){var f=r.rows.item(a),_=Ze(f.metadata);p=f.maxSeq;var l=Mr(f.winningDoc,_.id,f.winningRev),h=t.processChange(l,_,t);h.seq=f.maxSeq;var v=d(h);if("object"==typeof v)return t.complete(v);if(v&&(c++,o&&u.push(h),t.attachments&&t.include_docs?Vr(l,t,y,e,i(h)):i(h)()),c===n)break}})},Br(t.complete),function(){t.continuous||t.complete(null,{results:u,last_seq:p})})}()},y._close=function(t){t()},y._getAttachment=function(t,e,r,n,o){var u,c=n.ctx,i=r.digest,a=r.content_type,s="SELECT escaped, CASE WHEN escaped = 1 THEN body ELSE HEX(body) END AS body FROM "+Tu+" WHERE digest=?";c.executeSql(s,[i],function(t,e){var r=e.rows.item(0),c=r.escaped?Nr(r.body):Or(r.body,m);u=n.binary?qe(c,a):ru(c),o(null,u)})},y._getRevisionTree=function(t,e){x.readTransaction(function(r){var n="SELECT json AS metadata FROM "+bu+" WHERE id = ?";r.executeSql(n,[t],function(t,r){if(r.rows.length){var n=Ze(r.rows.item(0).metadata);e(null,n.rev_tree)}else e(I(Eo))})})},y._doCompaction=function(t,e,r){if(!e.length)return r();x.transaction(function(r){var n="SELECT json AS metadata FROM "+bu+" WHERE id = ?";r.executeSql(n,[t],function(r,n){var o=Ze(n.rows.item(0).metadata);K(o.rev_tree,function(t,r,n,o,u){var c=r+"-"+n;-1!==e.indexOf(c)&&(u.status="missing")});var u="UPDATE "+bu+" SET json = ? WHERE id = ?";r.executeSql(u,[tr(o),t])}),Rr(e,t,r)},Br(r),function(){r()})},y._getLocal=function(t,e){x.readTransaction(function(r){var n="SELECT json, rev FROM "+ku+" WHERE id=?";r.executeSql(n,[t],function(r,n){if(n.rows.length){var o=n.rows.item(0),u=Mr(o.json,t,o.rev);e(null,u)}else e(I(Eo))})})},y._putLocal=function(t,e,r){function n(t){var n,s;u?(n="UPDATE "+ku+" SET rev=?, json=? WHERE id=? AND rev=?",s=[o,a,c,u]):(n="INSERT INTO "+ku+" (id, rev, json) VALUES (?,?,?)",s=[c,o,a]),t.executeSql(n,s,function(t,n){n.rowsAffected?(i={ok:!0,id:c,rev:o},e.ctx&&r(null,i)):r(I(xo))},function(){return r(I(xo)),!1})}"function"==typeof e&&(r=e,e={}),delete t._revisions;var o,u=t._rev,c=t._id;o=t._rev=u?"0-"+(parseInt(u.split("-")[1],10)+1):"0-1";var i,a=qr(t);e.ctx?n(e.ctx):x.transaction(n,Br(r),function(){i&&r(null,i)})},y._removeLocal=function(t,e,r){function n(n){var u="DELETE FROM "+ku+" WHERE id=? AND rev=?",c=[t._id,t._rev];n.executeSql(u,c,function(n,u){if(!u.rowsAffected)return r(I(Eo));o={ok:!0,id:t._id,rev:"0-0"},e.ctx&&r(null,o)})}"function"==typeof e&&(r=e,e={});var o;e.ctx?n(e.ctx):x.transaction(n,Br(r),function(){o&&r(null,o)})},y._destroy=function(t,e){Au.removeAllListeners(y._name),x.transaction(function(t){[bu,wu,Tu,Su,ku,Eu].forEach(function(e){t.executeSql("DROP TABLE IF EXISTS "+e,[])})},Br(e),function(){T()&&(delete window.localStorage["_pouch__websqldb_"+y._name],delete window.localStorage[y._name]),e(null,{ok:!0})})}}function zr(){try{return openDatabase("_pouch_validate_websql",1,"",1),!0}catch(t){return!1}}function Hr(){if("undefined"==typeof indexedDB||null===indexedDB||!/iP(hone|od|ad)/.test(navigator.userAgent))return!0;var t=T(),e="_pouch__websqldb_valid_"+navigator.userAgent;if(t&&localStorage[e])return"1"===localStorage[e];var r=zr();return t&&(localStorage[e]=r?"1":"0"),r}function Wr(){return"function"==typeof openDatabase&&Hr()}function Kr(t,e,r,n){return openDatabase(t,e,r,n)}function Gr(t,e){var r=ko({websql:Kr},t);Jr.call(this,r,e)}function Xr(){for(var t={},e=new ho(function(e,r){t.resolve=e,t.reject=r}),r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.promise=e,ho.resolve().then(function(){return fetch.apply(null,r)}).then(function(e){t.resolve(e)}).catch(function(e){t.reject(e)}),t}function Qr(t,e){var r,n,o,u=new Headers,c={method:t.method,credentials:"include",headers:u};return t.json&&(u.set("Accept","application/json"),u.set("Content-Type",t.headers["Content-Type"]||"application/json")),t.body&&t.processData&&"string"!=typeof t.body?c.body=JSON.stringify(t.body):c.body="body"in t?t.body:null,Object.keys(t.headers).forEach(function(e){t.headers.hasOwnProperty(e)&&u.set(e,t.headers[e])}),r=Xr(t.url,c),t.timeout>0&&(n=setTimeout(function(){r.reject(new Error("Load timeout for resource: "+t.url))},t.timeout)),r.promise.then(function(e){return o={statusCode:e.status},t.timeout>0&&clearTimeout(n),o.statusCode>=200&&o.statusCode<300?t.binary?e.blob():e.text():e.json()}).then(function(t){o.statusCode>=200&&o.statusCode<300?e(null,o,t):(t.status=o.statusCode,e(t))}).catch(function(t){t||(t=new Error("canceled")),e(t)}),{abort:r.reject}}function Yr(t,e){var r,n,o=!1,u=function(){r.abort(),a()},c=function(){o=!0,r.abort(),a()},i={abort:u},a=function(){clearTimeout(n),i.abort=function(){},r&&(r.onprogress=void 0,r.upload&&(r.upload.onprogress=void 0),r.onreadystatechange=void 0,r=void 0)};r=t.xhr?new t.xhr:new XMLHttpRequest;try{r.open(t.method,t.url)}catch(t){return e(new Error(t.name||"Url is invalid"))}r.withCredentials=!("withCredentials"in t)||t.withCredentials,"GET"===t.method?delete t.headers["Content-Type"]:t.json&&(t.headers.Accept="application/json",t.headers["Content-Type"]=t.headers["Content-Type"]||"application/json",t.body&&t.processData&&"string"!=typeof t.body&&(t.body=JSON.stringify(t.body))),t.binary&&(r.responseType="arraybuffer"),"body"in t||(t.body=null);for(var s in t.headers)t.headers.hasOwnProperty(s)&&r.setRequestHeader(s,t.headers[s]);return t.timeout>0&&(n=setTimeout(c,t.timeout),r.onprogress=function(){clearTimeout(n),4!==r.readyState&&(n=setTimeout(c,t.timeout))},void 0!==r.upload&&(r.upload.onprogress=r.onprogress)),r.onreadystatechange=function(){if(4===r.readyState){var n={statusCode:r.status};if(r.status>=200&&r.status<300){var u;u=t.binary?Ie([r.response||""],{type:r.getResponseHeader("Content-Type")}):r.responseText,e(null,n,u)}else{var c={};if(o)c=new Error("ETIMEDOUT"),c.code="ETIMEDOUT";else if("string"==typeof r.response)try{c=JSON.parse(r.response)}catch(t){}c.status=r.status,e(c)}a()}},t.body&&t.body instanceof Blob?Pe(t.body,function(t){r.send(t)}):r.send(t.body),i}function Zr(t,e){return Bu||t.xhr?Yr(t,e):Qr(t,e)}function tn(){return""}function en(t,e){function r(e,r,n){if(!t.binary&&t.json&&"string"==typeof e)try{e=JSON.parse(e)}catch(t){return n(t)}Array.isArray(e)&&(e=e.map(function(t){return t.error||t.missing?N(t):t})),t.binary&&Pu(e,r),n(null,e,r)}return t=a(t),t=ko({method:"GET",headers:{},json:!0,processData:!0,timeout:1e4,cache:!1},t),t.json&&(t.binary||(t.headers.Accept="application/json"),t.headers["Content-Type"]=t.headers["Content-Type"]||"application/json"),t.binary&&(t.encoding=null,t.json=!1),t.processData||(t.json=!1),Zr(t,function(n,o,u){if(n)return e(N(n));var c,i=o.headers&&o.headers["content-type"],a=u||tn();if(!t.binary&&(t.json||!t.processData)&&"object"!=typeof a&&(/json/.test(i)||/^[\s]*\{/.test(a)&&/\}[\s]*$/.test(a)))try{a=JSON.parse(a.toString())}catch(t){}o.statusCode>=200&&o.statusCode<300?r(a,o,e):(c=N(a),c.status=o.statusCode,e(c))})}function rn(t,e){var r=navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",n=-1!==r.indexOf("safari")&&-1===r.indexOf("chrome"),o=-1!==r.indexOf("msie"),u=-1!==r.indexOf("edge"),c=n||(o||u)&&"GET"===t.method,i=!("cache"in t)||t.cache;if(!/^blob:/.test(t.url)&&(c||!i)){var a=-1!==t.url.indexOf("?");t.url+=(a?"&":"?")+"_nonce="+Date.now()}return en(t,e)}function nn(t,e){return new ho(function(r,n){function o(){f++,t[_++]().then(c,i)}function u(){++l===d?s?n(s):r():a()}function c(){f--,u()}function i(t){f--,s=s||t,u()}function a(){for(;f<e&&_<d;)o()}var s,f=0,_=0,l=0,d=t.length;a()})}function on(t){var e=t.doc&&t.doc._attachments;e&&Object.keys(e).forEach(function(t){var r=e[t];r.data=Me(r.data,r.content_type)})}function un(t){return/^_design/.test(t)?"_design/"+encodeURIComponent(t.slice(8)):/^_local/.test(t)?"_local/"+encodeURIComponent(t.slice(7)):encodeURIComponent(t)}function cn(t){return t._attachments&&Object.keys(t._attachments)?ho.all(Object.keys(t._attachments).map(function(e){var r=t._attachments[e];if(r.data&&"string"!=typeof r.data)return new ho(function(t){Be(r.data,t)}).then(function(t){r.data=t})})):ho.resolve()}function an(t){if(!t.prefix)return!1;var e=$(t.prefix).protocol;return"http"===e||"https"===e}function sn(t,e){if(an(e)){var r=e.name.substr(e.prefix.length);t=e.prefix+encodeURIComponent(r)}var n=$(t);(n.user||n.password)&&(n.auth={username:n.user,password:n.password});var o=n.path.replace(/(^\/|\/$)/g,"").split("/");return n.db=o.pop(),-1===n.db.indexOf("%")&&(n.db=encodeURIComponent(n.db)),n.path=o.join("/"),n}function fn(t,e){return _n(t,t.db+"/"+e)}function _n(t,e){var r=t.path?"/":"";return t.protocol+"://"+t.host+(t.port?":"+t.port:"")+"/"+t.path+r+e}function ln(t){return"?"+Object.keys(t).map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&")}function dn(t,e){function r(t,e,r){var n=t.ajax||{},o=ko(a(_),n,e),u=a(_.headers||{});return o.headers=ko(u,n.headers,e.headers||{}),i.constructor.listeners("debug").length&&i.constructor.emit("debug",["http",o.method,o.url]),i._ajax(o,r)}function n(t,e){return new ho(function(n,o){r(t,e,function(t,e){if(t)return o(t);n(e)})})}function o(t,e){return l(t,io(function(t){u().then(function(){return e.apply(this,t)}).catch(function(e){t.pop()(e)})}))}function u(){return t.skipSetup||t.skip_setup?ho.resolve():v||(v=n({},{method:"GET",url:f}).catch(function(t){return t&&t.status&&404===t.status?(O(404,"PouchDB is just detecting if the remote exists."),n({},{method:"PUT",url:f})):ho.reject(t)}).catch(function(t){return!(!t||!t.status||412!==t.status)||ho.reject(t)}),v.catch(function(){v=null}),v)}function c(t){return t.split("/").map(encodeURIComponent).join("/")}var i=this,s=sn(t.name,t),f=fn(s,"");t=a(t);var _=t.ajax||{};if(t.auth||s.auth){var d=t.auth||s.auth,p=d.username+":"+d.password,h=ru(unescape(encodeURIComponent(p)));_.headers=_.headers||{},_.headers.Authorization="Basic "+h}i._ajax=rn;var v;fo(function(){e(null,i)}),i._remote=!0,i.type=function(){return"http"},i.id=o("id",function(t){r({},{method:"GET",url:_n(s,"")},function(e,r){var n=r&&r.uuid?r.uuid+s.db:fn(s,"");t(null,n)})}),i.request=o("request",function(t,e){t.url=fn(s,t.url),r({},t,e)}),i.compact=o("compact",function(t,e){"function"==typeof t&&(e=t,t={}),t=a(t),r(t,{url:fn(s,"_compact"),method:"POST"},function(){function r(){i.info(function(n,o){o&&!o.compact_running?e(null,{ok:!0}):setTimeout(r,t.interval||200)})}r()})}),i.bulkGet=l("bulkGet",function(t,e){function n(e){var n={};t.revs&&(n.revs=!0),t.attachments&&(n.attachments=!0),t.latest&&(n.latest=!0),r(t,{url:fn(s,"_bulk_get"+ln(n)),method:"POST",body:{docs:t.docs}},e)}function o(){for(var r=Fu,n=Math.ceil(t.docs.length/r),o=0,c=new Array(n),i=0;i<n;i++){var a=g(t,["revs","attachments","latest"]);a.ajax=_,a.docs=t.docs.slice(i*r,Math.min(t.docs.length,(i+1)*r)),b(u,a,function(t){return function(r,u){c[t]=u.results,++o===n&&e(null,{results:j(c)})}}(i))}}var u=this,c=_n(s,""),i=$u[c];"boolean"!=typeof i?n(function(t,r){t?($u[c]=!1,O(t.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),o()):($u[c]=!0,e(null,r))}):i?n(e):o()}),i._info=function(t){u().then(function(){r({},{method:"GET",url:fn(s,"")},function(e,r){if(e)return t(e);r.host=fn(s,""),t(null,r)})}).catch(t)},i.get=o("get",function(t,e,r){function o(t){function r(r){var u=o[r],i=un(t._id)+"/"+c(r)+"?rev="+t._rev;return n(e,{method:"GET",url:fn(s,i),binary:!0}).then(function(t){return e.binary?t:new ho(function(e){Be(t,e)})}).then(function(t){delete u.stub,delete u.length,u.data=t})}var o=t._attachments,u=o&&Object.keys(o);if(o&&u.length){return nn(u.map(function(t){return function(){return r(t)}}),5)}}function u(t){return Array.isArray(t)?ho.all(t.map(function(t){if(t.ok)return o(t.ok)})):o(t)}"function"==typeof e&&(r=e,e={}),e=a(e);var i={};e.revs&&(i.revs=!0),e.revs_info&&(i.revs_info=!0),e.latest&&(i.latest=!0),e.open_revs&&("all"!==e.open_revs&&(e.open_revs=JSON.stringify(e.open_revs)),i.open_revs=e.open_revs),e.rev&&(i.rev=e.rev),e.conflicts&&(i.conflicts=e.conflicts),t=un(t);var f={method:"GET",url:fn(s,t+ln(i))};n(e,f).then(function(t){return ho.resolve().then(function(){if(e.attachments)return u(t)}).then(function(){r(null,t)})}).catch(r)}),i.remove=o("remove",function(t,e,n,o){var u;"string"==typeof e?(u={_id:t,_rev:e},"function"==typeof n&&(o=n,n={})):(u=t,"function"==typeof e?(o=e,n={}):(o=n,n=e));var c=u._rev||n.rev;r(n,{method:"DELETE",url:fn(s,un(u._id))+"?rev="+c},o)}),i.getAttachment=o("getAttachment",function(t,e,n,o){"function"==typeof n&&(o=n,n={});var u=n.rev?"?rev="+n.rev:"";r(n,{method:"GET",url:fn(s,un(t))+"/"+c(e)+u,binary:!0},o)}),i.removeAttachment=o("removeAttachment",function(t,e,n,o){r({},{method:"DELETE",url:fn(s,un(t)+"/"+c(e))+"?rev="+n},o)}),i.putAttachment=o("putAttachment",function(t,e,n,o,u,i){"function"==typeof u&&(i=u,u=o,o=n,n=null);var a=un(t)+"/"+c(e),f=fn(s,a);if(n&&(f+="?rev="+n),"string"==typeof o){var l;try{l=eu(o)}catch(t){return i(I(No,"Attachment is not a valid base64 string"))}o=l?qe(l,u):""}r({},{headers:{"Content-Type":u},method:"PUT",url:f,processData:!1,body:o,timeout:_.timeout||6e4},i)}),i._bulkDocs=function(t,e,n){t.new_edits=e.new_edits,u().then(function(){return ho.all(t.docs.map(cn))}).then(function(){r(e,{method:"POST",url:fn(s,"_bulk_docs"),timeout:e.timeout,body:t},function(t,e){if(t)return n(t);e.forEach(function(t){t.ok=!0}),n(null,e)})}).catch(n)},i._put=function(t,e,n){u().then(function(){return cn(t)}).then(function(){r(e,{method:"PUT",url:fn(s,un(t._id)),body:t},function(t,e){if(t)return n(t);n(null,e)})}).catch(n)},i.allDocs=o("allDocs",function(t,e){"function"==typeof t&&(e=t,t={}),t=a(t);var r,o={},u="GET";t.conflicts&&(o.conflicts=!0),t.descending&&(o.descending=!0),t.include_docs&&(o.include_docs=!0),t.attachments&&(o.attachments=!0),t.key&&(o.key=JSON.stringify(t.key)),t.start_key&&(t.startkey=t.start_key),t.startkey&&(o.startkey=JSON.stringify(t.startkey)),t.end_key&&(t.endkey=t.end_key),t.endkey&&(o.endkey=JSON.stringify(t.endkey)),void 0!==t.inclusive_end&&(o.inclusive_end=!!t.inclusive_end),void 0!==t.limit&&(o.limit=t.limit),void 0!==t.skip&&(o.skip=t.skip);var c=ln(o);void 0!==t.keys&&(u="POST",r={keys:t.keys}),n(t,{method:u,url:fn(s,"_all_docs"+c),body:r}).then(function(r){t.include_docs&&t.attachments&&t.binary&&r.rows.forEach(on),e(null,r)}).catch(e)}),i._changes=function(t){var e="batch_size"in t?t.batch_size:Lu;t=a(t),t.timeout="timeout"in t?t.timeout:"timeout"in _?_.timeout:3e4;var n,o=t.timeout?{timeout:t.timeout-5e3}:{},c=void 0!==t.limit&&t.limit;n="return_docs"in t?t.return_docs:!("returnDocs"in t)||t.returnDocs;var i=c;if(t.style&&(o.style=t.style),(t.include_docs||t.filter&&"function"==typeof t.filter)&&(o.include_docs=!0),t.attachments&&(o.attachments=!0),t.continuous&&(o.feed="longpoll"),t.conflicts&&(o.conflicts=!0),t.descending&&(o.descending=!0),"heartbeat"in t?t.heartbeat&&(o.heartbeat=t.heartbeat):t.continuous&&(o.heartbeat=1e4),t.filter&&"string"==typeof t.filter&&(o.filter=t.filter),t.view&&"string"==typeof t.view&&(o.filter="_view",o.view=t.view),t.query_params&&"object"==typeof t.query_params)for(var f in t.query_params)t.query_params.hasOwnProperty(f)&&(o[f]=t.query_params[f]);var l,d="GET";t.doc_ids?(o.filter="_doc_ids",d="POST",l={doc_ids:t.doc_ids}):t.selector&&(o.filter="_selector",d="POST",l={selector:t.selector});var p,h,v=function(n,a){if(!t.aborted){o.since=n,"object"==typeof o.since&&(o.since=JSON.stringify(o.since)),t.descending?c&&(o.limit=i):o.limit=!c||i>e?e:i;var f={method:d,url:fn(s,"_changes"+ln(o)),timeout:t.timeout,body:l};h=n,t.aborted||u().then(function(){p=r(t,f,a)}).catch(a)}},g={results:[]},m=function(r,o){if(!t.aborted){var u=0;if(o&&o.results){u=o.results.length,g.last_seq=o.last_seq;({}).query=t.query_params,o.results=o.results.filter(function(e){i--;var r=M(t)(e);return r&&(t.include_docs&&t.attachments&&t.binary&&on(e),n&&g.results.push(e),t.onChange(e)),r})}else if(r)return t.aborted=!0,void t.complete(r);o&&o.last_seq&&(h=o.last_seq);var a=c&&i<=0||o&&u<e||t.descending;(!t.continuous||c&&i<=0)&&a?t.complete(null,g):fo(function(){v(h,m)})}};return v(t.since||0,m),{cancel:function(){t.aborted=!0,p&&p.abort()}}},i.revsDiff=o("revsDiff",function(t,e,n){"function"==typeof e&&(n=e,e={}),r(e,{method:"POST",url:fn(s,"_revs_diff"),body:t},n)}),i._close=function(t){t()},i._destroy=function(t,e){r(t,{url:fn(s,""),method:"DELETE"},function(t,r){if(t&&t.status&&404!==t.status)return e(t);e(null,r)})}}function pn(t){this.status=400,this.name="query_parse_error",this.message=t,this.error=!0;try{Error.captureStackTrace(this,pn)}catch(t){}}function hn(t){this.status=404,this.name="not_found",this.message=t,this.error=!0;try{Error.captureStackTrace(this,hn)}catch(t){}}function vn(t){this.status=500,this.name="invalid_value",this.message=t,this.error=!0;try{Error.captureStackTrace(this,vn)}catch(t){}}function gn(t,e){return e&&t.then(function(t){fo(function(){e(null,t)})},function(t){fo(function(){e(t)})}),t}function mn(t){return io(function(e){var r=e.pop(),n=t.apply(this,e);return"function"==typeof r&&gn(n,r),n})}function yn(t,e){return t.then(function(t){return e().then(function(){return t})},function(t){return e().then(function(){throw t})})}function bn(t,e){return function(){var r=arguments,n=this;return t.add(function(){return e.apply(n,r)})}}function wn(t){var e=new mo(t),r=new Array(e.size),n=-1;return e.forEach(function(t){r[++n]=t}),r}function Tn(t){var e=new Array(t.size),r=-1;return t.forEach(function(t,n){e[++r]=n}),e}function kn(t){return new vn("builtin "+t+" function requires map values to be numbers or number arrays")}function Sn(t){for(var e=0,r=0,n=t.length;r<n;r++){var o=t[r];if("number"!=typeof o){if(!Array.isArray(o))throw kn("_sum");e="number"==typeof e?[e]:e;for(var u=0,c=o.length;u<c;u++){var i=o[u];if("number"!=typeof i)throw kn("_sum");void 0===e[u]?e.push(i):e[u]+=i}}else"number"==typeof e?e+=o:e[0]+=o}return e}function En(t,e){return U("return ("+t.replace(/;\s*$/,"")+");",{emit:e,sum:Sn,log:Vu,isArray:Ju,toJSON:zu})}function xn(){this.promise=new ho(function(t){t()})}function An(t){if(!t)return"undefined";switch(typeof t){case"function":case"string":return t.toString();default:return JSON.stringify(t)}}function On(t,e){return An(t)+An(e)+"undefined"}function Cn(t,e,r,n,o,u){var c,i=On(r,n);if(!o&&(c=t._cachedViews=t._cachedViews||{},c[i]))return c[i];var a=t.info().then(function(a){function s(t){t.views=t.views||{};var r=e;-1===r.indexOf("/")&&(r=e+"/"+e);var n=t.views[r]=t.views[r]||{};if(!n[f])return n[f]=!0,t}var f=a.db_name+"-mrview-"+(o?"temp":Je(i));return V(t,"_local/"+u,s).then(function(){return t.registerDependentDatabase(f).then(function(e){var o=e.db;o.auto_compaction=!0;var u={name:f,db:o,sourceDB:t,adapter:t.adapter,mapFun:r,reduceFun:n};return u.db.get("_local/lastSeq").catch(function(t){if(404!==t.status)throw t}).then(function(t){return u.seq=t?t.seq:0,c&&u.db.once("destroyed",function(){delete c[i]}),u})})})});return c&&(c[i]=a),a}function In(t){return-1===t.indexOf("/")?[t,t]:t.split("/")}function Nn(t){return 1===t.length&&/^1-/.test(t[0].rev)}function qn(t,e){try{t.emit("error",e)}catch(t){E("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),E("error",e)}}function Mn(t,e){if("function"==typeof t&&2===t.length){var r=t;return function(t){return r(t,e)}}return En(t.toString(),e)}function jn(t){return Gu[t]?Gu[t]:En(t.toString())}function Dn(t,e){var r=t.views&&t.views[e];if("string"!=typeof r.map)throw new hn("ddoc "+t._id+" has no string view named "+e+", instead found object of type: "+typeof r.map)}function Rn(t,e,r){return Xu.query.call(this,t,e,r)}function Bn(t){return Xu.viewCleanup.call(this,t)}function Pn(t){return/^1-/.test(t)}function Ln(t,e,r){return!t._attachments||!t._attachments[r]||t._attachments[r].digest!==e._attachments[r].digest}function Fn(t,e){var r=Object.keys(e._attachments);return ho.all(r.map(function(r){return t.getAttachment(e._id,r,{rev:e._rev})}))}function $n(t,e,r){var n=B(e)&&!B(t),o=Object.keys(r._attachments);return n?t.get(r._id).then(function(n){return ho.all(o.map(function(o){return Ln(n,r,o)?e.getAttachment(r._id,o):t.getAttachment(n._id,o)}))}).catch(function(t){if(404!==t.status)throw t;return Fn(e,r)}):Fn(e,r)}function Un(t){var e=[];return Object.keys(t).forEach(function(r){t[r].missing.forEach(function(t){e.push({id:r,rev:t})})}),{docs:e,revs:!0,latest:!0}}function Vn(t,e,r,n){function o(){var o=Un(r);if(o.docs.length)return t.bulkGet(o).then(function(r){if(n.cancelled)throw new Error("cancelled");return ho.all(r.results.map(function(r){return ho.all(r.docs.map(function(r){var n=r.ok;return r.error&&(l=!1),n&&n._attachments?$n(e,t,n).then(function(t){var e=Object.keys(n._attachments);return t.forEach(function(t,r){var o=n._attachments[e[r]];delete o.stub,delete o.length,o.data=t}),n}):n}))})).then(function(t){_=_.concat(j(t).filter(Boolean))})})}function u(t){return t._attachments&&Object.keys(t._attachments).length>0}function c(t){return t._conflicts&&t._conflicts.length>0}function i(e){return t.allDocs({keys:e,include_docs:!0,conflicts:!0}).then(function(t){if(n.cancelled)throw new Error("cancelled");t.rows.forEach(function(t){t.deleted||!t.doc||!Pn(t.value.rev)||u(t.doc)||c(t.doc)||(t.doc._conflicts&&delete t.doc._conflicts,_.push(t.doc),delete r[t.id])})})}function s(){var t=Object.keys(r).filter(function(t){var e=r[t].missing;return 1===e.length&&Pn(e[0])});if(t.length>0)return i(t)}function f(){return{ok:l,docs:_}}r=a(r);var _=[],l=!0;return ho.resolve().then(s).then(o).then(f)}function Jn(t,e,r,n,o){return t.get(e).catch(function(r){if(404===r.status)return"http"!==t.adapter&&"https"!==t.adapter||O(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:n,_id:e,history:[],replicator:Zu,version:Yu};throw r}).then(function(u){if(!o.cancelled&&u.last_seq!==r)return u.history=(u.history||[]).filter(function(t){return t.session_id!==n}),u.history.unshift({last_seq:r,session_id:n}),u.history=u.history.slice(0,tc),u.version=Yu,u.replicator=Zu,u.session_id=n,u.last_seq=r,t.put(u).catch(function(u){if(409===u.status)return Jn(t,e,r,n,o);throw u})})}function zn(t,e,r,n){this.src=t,this.target=e,this.id=r,this.returnValue=n}function Hn(t,e){return t.session_id===e.session_id?{last_seq:t.last_seq,history:t.history}:Wn(t.history,e.history)}function Wn(t,e){var r=t[0],n=t.slice(1),o=e[0],u=e.slice(1);return r&&0!==e.length?Kn(r.session_id,e)?{last_seq:r.last_seq,history:t}:Kn(o.session_id,n)?{last_seq:o.last_seq,history:u}:Wn(n,u):{last_seq:ec,history:[]}}function Kn(t,e){var r=e[0],n=e.slice(1);return!(!t||0===e.length)&&(t===r.session_id||Kn(t,n))}function Gn(t){return"number"==typeof t.status&&4===Math.floor(t.status/100)}function Xn(t,e,r,n){if(!1===t.retry)return e.emit("error",r),void e.removeAllListeners();if("function"!=typeof t.back_off_function&&(t.back_off_function=A),e.emit("requestError",r),"active"===e.state||"pending"===e.state){e.emit("paused",r),e.state="stopped";var o=function(){t.current_back_off=nc},u=function(){e.removeListener("active",o)};e.once("paused",u),e.once("active",o)}t.current_back_off=t.current_back_off||nc,t.current_back_off=t.back_off_function(t.current_back_off),setTimeout(n,t.current_back_off)}function Qn(t){return Object.keys(t).sort(zt).reduce(function(e,r){return e[r]=t[r],e},{})}function Yn(t,e,r){var n=r.doc_ids?r.doc_ids.sort(zt):"",o=r.filter?r.filter.toString():"",u="",c="",i="";return r.selector&&(i=JSON.stringify(r.selector)),r.filter&&r.query_params&&(u=JSON.stringify(Qn(r.query_params))),r.filter&&"_view"===r.filter&&(c=r.view.toString()),ho.all([t.id(),e.id()]).then(function(t){var e=t[0]+t[1]+o+c+u+n+i;return new ho(function(t){Ve(e,t)})}).then(function(t){return"_local/"+(t=t.replace(/\//g,".").replace(/\+/g,"_"))})}function Zn(t,e,r,n,o){function u(){return k?ho.resolve():Yn(t,e,r).then(function(r){T=r,k=new zn(t,e,T,n)})}function c(){if(P=[],0!==w.docs.length){var t=w.docs,u={timeout:r.timeout};return e.bulkDocs({docs:t,new_edits:!1},u).then(function(e){if(n.cancelled)throw p(),new Error("cancelled");var r=Object.create(null);e.forEach(function(t){t.error&&(r[t.id]=t)});var u=Object.keys(r).length;o.doc_write_failures+=u,o.docs_written+=t.length-u,t.forEach(function(t){var e=r[t._id];if(e){if(o.errors.push(e),"unauthorized"!==e.name&&"forbidden"!==e.name)throw e;n.emit("denied",a(e))}else P.push(t)})},function(e){throw o.doc_write_failures+=t.length,e})}}function i(){if(w.error)throw new Error("There was a problem getting docs.");o.last_seq=C=w.seq;var t=a(o);return P.length&&(t.docs=P,n.emit("change",t)),x=!0,k.writeCheckpoint(w.seq,L).then(function(){if(x=!1,n.cancelled)throw p(),new Error("cancelled");w=void 0,m()}).catch(function(t){throw b(t),t})}function s(){var t={};return w.changes.forEach(function(e){"_user/"!==e.id&&(t[e.id]=e.changes.map(function(t){return t.rev}))}),e.revsDiff(t).then(function(t){if(n.cancelled)throw p(),new Error("cancelled");w.diffs=t})}function f(){return Vn(t,e,w.diffs,n).then(function(t){w.error=!t.ok,t.docs.forEach(function(t){delete w.diffs[t._id],o.docs_read++,w.docs.push(t)})})}function _(){if(!n.cancelled&&!w){if(0===S.length)return void l(!0);w=S.shift(),s().then(f).then(c).then(i).then(_).catch(function(t){d("batch processing terminated with error",t)})}}function l(t){if(0===E.changes.length)return void(0!==S.length||w||((N&&F.live||A)&&(n.state="pending",n.emit("paused")),A&&p()));(t||A||E.changes.length>=q)&&(S.push(E),E={seq:0,changes:[],docs:[]},"pending"!==n.state&&"stopped"!==n.state||(n.state="active",n.emit("active")),_())}function d(t,e){O||(e.message||(e.message=t),o.ok=!1,o.status="aborting",S=[],E={seq:0,changes:[],docs:[]},p(e))}function p(u){O||n.cancelled&&(o.status="cancelled",x)||(o.status=o.status||"complete",o.end_time=new Date,o.last_seq=C,O=!0,u?(u=I(u),u.result=o,"unauthorized"===u.name||"forbidden"===u.name?(n.emit("error",u),n.removeAllListeners()):Xn(r,n,u,function(){Zn(t,e,r,n)})):(n.emit("complete",o),n.removeAllListeners()))}function h(t){if(n.cancelled)return p();M(r)(t)&&(E.seq=t.seq,E.changes.push(t),l(0===S.length&&F.live))}function v(t){if(D=!1,n.cancelled)return p();if(t.results.length>0)F.since=t.last_seq,m(),l(!0);else{var e=function(){N?(F.live=!0,m()):A=!0,l(!0)};w||0!==t.results.length?e():(x=!0,k.writeCheckpoint(t.last_seq,L).then(function(){x=!1,o.last_seq=C=t.last_seq,e()}).catch(b))}}function g(t){if(D=!1,n.cancelled)return p();d("changes rejected",t)}function m(){function e(){u.cancel()}function o(){n.removeListener("cancel",e)}if(!D&&!A&&S.length<j){D=!0,n._changes&&(n.removeListener("cancel",n._abortChanges),n._changes.cancel()),n.once("cancel",e);var u=t.changes(F).on("change",h);u.then(o,o),u.then(v).catch(g),r.retry&&(n._changes=u,n._abortChanges=e)}}function y(){u().then(function(){return n.cancelled?void p():k.getCheckpoint().then(function(t){C=t,F={since:C,limit:q,batch_size:q,style:"all_docs",doc_ids:R,selector:B,return_docs:!0},r.filter&&("string"!=typeof r.filter?F.include_docs=!0:F.filter=r.filter),"heartbeat"in r&&(F.heartbeat=r.heartbeat),"timeout"in r&&(F.timeout=r.timeout),r.query_params&&(F.query_params=r.query_params),r.view&&(F.view=r.view),m()})}).catch(function(t){d("getCheckpoint rejected with ",t)})}function b(t){x=!1,d("writeCheckpoint completed with error",t)}var w,T,k,S=[],E={seq:0,changes:[],docs:[]},x=!1,A=!1,O=!1,C=0,N=r.continuous||r.live||!1,q=r.batch_size||100,j=r.batches_limit||10,D=!1,R=r.doc_ids,B=r.selector,P=[],L=H();o=o||{ok:!0,start_time:new Date,docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var F={};if(n.ready(t,e),n.cancelled)return void p();n._addedListeners||(n.once("cancel",p),"function"==typeof r.complete&&(n.once("error",r.complete),n.once("complete",function(t){r.complete(null,t)})),n._addedListeners=!0),void 0===r.since?y():u().then(function(){return x=!0,k.writeCheckpoint(r.since,L)}).then(function(){if(x=!1,n.cancelled)return void p();C=r.since,y()}).catch(b)}function to(){ao.EventEmitter.call(this),this.cancelled=!1,this.state="pending";var t=this,e=new ho(function(e,r){t.once("complete",e),t.once("error",r)});t.then=function(t,r){return e.then(t,r)},t.catch=function(t){return e.catch(t)},t.catch(function(){})}function eo(t,e){var r=e.PouchConstructor;return"string"==typeof t?new r(t,e):t}function ro(t,e,r,n){if("function"==typeof r&&(n=r,r={}),void 0===r&&(r={}),r.doc_ids&&!Array.isArray(r.doc_ids))throw I(jo,"`doc_ids` filter parameter is not a list.");r.complete=n,r=a(r),r.continuous=r.continuous||r.live,r.retry="retry"in r&&r.retry,r.PouchConstructor=r.PouchConstructor||this;var o=new to(r);return Zn(eo(t,r),eo(e,r),r,o),o}function no(t,e,r,n){return"function"==typeof r&&(n=r,r={}),void 0===r&&(r={}),r=a(r),r.PouchConstructor=r.PouchConstructor||this,t=eo(t,r),e=eo(e,r),new oo(t,e,r,n)}function oo(t,e,r,n){function o(t){p.emit("change",{direction:"pull",change:t})}function u(t){p.emit("change",{direction:"push",change:t})}function c(t){p.emit("denied",{direction:"push",doc:t})}function i(t){p.emit("denied",{direction:"pull",doc:t})}function a(){p.pushPaused=!0,p.pullPaused&&p.emit("paused")}function s(){p.pullPaused=!0,p.pushPaused&&p.emit("paused")}function f(){p.pushPaused=!1,p.pullPaused&&p.emit("active",{direction:"push"})}function _(){p.pullPaused=!1,p.pushPaused&&p.emit("active",{direction:"pull"})}function l(t){return function(e,r){var n="change"===e&&(r===o||r===u),l="denied"===e&&(r===i||r===c),d="paused"===e&&(r===s||r===a),h="active"===e&&(r===_||r===f);(n||l||d||h)&&(e in g||(g[e]={}),g[e][t]=!0,2===Object.keys(g[e]).length&&p.removeAllListeners(e))}}function d(t,e,r){-1==t.listeners(e).indexOf(r)&&t.on(e,r)}var p=this;this.canceled=!1;var h=r.push?ko({},r,r.push):r,v=r.pull?ko({},r,r.pull):r;this.push=ro(t,e,h),this.pull=ro(e,t,v),this.pushPaused=!0,this.pullPaused=!0;var g={};r.live&&(this.push.on("complete",p.pull.cancel.bind(p.pull)),this.pull.on("complete",p.push.cancel.bind(p.push))),this.on("newListener",function(t){"change"===t?(d(p.pull,"change",o),d(p.push,"change",u)):"denied"===t?(d(p.pull,"denied",i),d(p.push,"denied",c)):"active"===t?(d(p.pull,"active",_),d(p.push,"active",f)):"paused"===t&&(d(p.pull,"paused",s),d(p.push,"paused",a))}),this.on("removeListener",function(t){"change"===t?(p.pull.removeListener("change",o),p.push.removeListener("change",u)):"denied"===t?(p.pull.removeListener("denied",i),p.push.removeListener("denied",c)):"active"===t?(p.pull.removeListener("active",_),p.push.removeListener("active",f)):"paused"===t&&(p.pull.removeListener("paused",s),p.push.removeListener("paused",a))}),this.pull.on("removeListener",l("pull")),this.push.on("removeListener",l("push"));var m=ho.all([this.push,this.pull]).then(function(t){var e={push:t[0],pull:t[1]};return p.emit("complete",e),n&&n(null,e),p.removeAllListeners(),e},function(t){if(p.cancel(),n?n(t):p.emit("error",t),p.removeAllListeners(),n)throw t});this.then=function(t,e){return m.then(t,e)},this.catch=function(t){return m.catch(t)}}function uo(t){t.replicate=ro,t.sync=no,Object.defineProperty(t.prototype,"replicate",{get:function(){var t=this;return{from:function(e,r,n){return t.constructor.replicate(e,t,r,n)},to:function(e,r,n){return t.constructor.replicate(t,e,r,n)}}}}),t.prototype.sync=function(t,e,r){return this.constructor.sync(this,t,e,r)}}var co=n(r(236)),io=n(r(130)),ao=r(86),so=n(r(5)),fo=n(r(162)),_o=n(r(523)),lo=n(r(307)),po=n(r(801)),ho="function"==typeof Promise?Promise:co,vo=Function.prototype.toString,go=vo.call(Object);h.prototype.get=function(t){var e=d(t);return this._store[e]},h.prototype.set=function(t,e){var r=d(t);return this._store[r]=e,!0},h.prototype.has=function(t){return d(t)in this._store},h.prototype.delete=function(t){var e=d(t),r=e in this._store;return delete this._store[e],r},h.prototype.forEach=function(t){for(var e=Object.keys(this._store),r=0,n=e.length;r<n;r++){var o=e[r],u=this._store[o];o=p(o),t(u,o)}},Object.defineProperty(h.prototype,"size",{get:function(){return Object.keys(this._store).length}}),v.prototype.add=function(t){return this._store.set(t,!0)},v.prototype.has=function(t){return this._store.has(t)},v.prototype.forEach=function(t){this._store.forEach(function(e,r){t(r)})},Object.defineProperty(v.prototype,"size",{get:function(){return this._store.size}});var mo,yo;!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var t=Object.getOwnPropertyDescriptor(Map,Symbol.species);return t&&"get"in t&&Map[Symbol.species]===Map}()?(mo=v,yo=h):(mo=Set,yo=Map);var bo,wo=6;if(w())bo=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),bo=!!localStorage.getItem("_pouch_check_localstorage")}catch(t){bo=!1}so(S,ao.EventEmitter),S.prototype.addListener=function(t,e,r,n){function o(){function t(){c=!1}if(u._listeners[e]){if(c)return void(c="waiting");c=!0;var i=g(n,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);r.changes(i).on("change",function(t){t.seq>n.since&&!n.cancelled&&(n.since=t.seq,n.onChange(t))}).on("complete",function(){"waiting"===c&&fo(o),c=!1}).on("error",t)}}if(!this._listeners[e]){var u=this,c=!1;this._listeners[e]=o,this.on(t,o)}},S.prototype.removeListener=function(t,e){e in this._listeners&&(ao.EventEmitter.prototype.removeListener.call(this,t,this._listeners[e]),delete this._listeners[e])},S.prototype.notifyLocalWindows=function(t){w()?chrome.storage.local.set({dbName:t}):T()&&(localStorage[t]="a"===localStorage[t]?"b":"a")},S.prototype.notify=function(t){this.emit(t),this.notifyLocalWindows(t)};var To;To="function"==typeof Object.assign?Object.assign:function(t){for(var e=Object(t),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var ko=To;so(C,Error),C.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var So=(new C(401,"unauthorized","Name or password is incorrect."),new C(400,"bad_request","Missing JSON list of 'docs'")),Eo=new C(404,"not_found","missing"),xo=new C(409,"conflict","Document update conflict"),Ao=new C(400,"bad_request","_id field must contain a string"),Oo=new C(412,"missing_id","_id is required for puts"),Co=new C(400,"bad_request","Only reserved document ids may start with underscore."),Io=(new C(412,"precondition_failed","Database not open"),new C(500,"unknown_error","Database encountered an unknown error")),No=new C(500,"badarg","Some query argument is invalid"),qo=(new C(400,"invalid_request","Request was invalid"),new C(400,"query_parse_error","Some query parameter is invalid")),Mo=new C(500,"doc_validation","Bad special document member"),jo=new C(400,"bad_request","Something wrong with the request"),Do=new C(400,"bad_request","Document must be a JSON object"),Ro=(new C(404,"not_found","Database not found"),new C(500,"indexed_db_went_bad","unknown")),Bo=new C(500,"web_sql_went_bad","unknown"),Po=(new C(500,"levelDB_went_went_bad","unknown"),new C(403,"forbidden","Forbidden by design doc validate_doc_update function"),new C(400,"bad_request","Invalid rev format")),Lo=(new C(412,"file_exists","The database could not be created, the file already exists."),new C(412,"missing_stub","A pre-existing attachment stub wasn't found")),Fo=(new C(413,"invalid_url","Provided URL is invalid"),D.name);var $o=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Uo="queryKey",Vo=/(?:^|&)([^&=]*)=?([^&]*)/g,Jo=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,zo="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");so(ht,ao.EventEmitter),ht.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},ht.prototype.validateChanges=function(t){var e=t.complete,r=this;Ct._changesFilterPlugin?Ct._changesFilterPlugin.validate(t,function(n){if(n)return e(n);r.doChanges(t)}):r.doChanges(t)},ht.prototype.doChanges=function(t){var e=this,r=t.complete;if(t=a(t),"live"in t&&!("continuous"in t)&&(t.continuous=t.live),t.processChange=vt,"latest"===t.since&&(t.since="now"),t.since||(t.since=0),"now"===t.since)return void this.db.info().then(function(n){if(e.isCancelled)return void r(null,{status:"cancelled"});t.since=n.update_seq,e.doChanges(t)},r);if(Ct._changesFilterPlugin){if(Ct._changesFilterPlugin.normalize(t),Ct._changesFilterPlugin.shouldFilter(this,t))return Ct._changesFilterPlugin.filter(this,t)}else["doc_ids","filter","selector","view"].forEach(function(e){e in t&&E("warn",'The "'+e+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in t||(t.descending=!1),t.limit=0===t.limit?1:t.limit,t.complete=r;var n=this.db._changes(t);if(n&&"function"==typeof n.cancel){var o=e.cancel;e.cancel=io(function(t){n.cancel(),o.apply(this,t)})}},so(Et,ao.EventEmitter),Et.prototype.post=l("post",function(t,e,r){if("function"==typeof e&&(r=e,e={}),"object"!=typeof t||Array.isArray(t))return r(I(Do));this.bulkDocs({docs:[t]},e,mt(r))}),Et.prototype.put=l("put",function(t,e,r){return"function"==typeof e&&(r=e,e={}),"object"!=typeof t||Array.isArray(t)?r(I(Do)):(R(t._id),lt(t._id)&&"function"==typeof this._putLocal?t._deleted?this._removeLocal(t,r):this._putLocal(t,r):void("function"==typeof this._put&&!1!==e.new_edits?this._put(t,e,r):this.bulkDocs({docs:[t]},e,mt(r))))}),Et.prototype.putAttachment=l("putAttachment",function(t,e,r,n,o){function u(t){var r="_rev"in t?parseInt(t._rev,10):0;return t._attachments=t._attachments||{},t._attachments[e]={content_type:o,data:n,revpos:++r},c.put(t)}var c=this;return"function"==typeof o&&(o=n,n=r,r=null),void 0===o&&(o=n,n=r,r=null),o||E("warn","Attachment",e,"on document",t,"is missing content_type"),c.get(t).then(function(t){if(t._rev!==r)throw I(xo);return u(t)},function(e){if(e.reason===Eo.message)return u({_id:t});throw e})}),Et.prototype.removeAttachment=l("removeAttachment",function(t,e,r,n){var o=this;o.get(t,function(t,u){return t?void n(t):u._rev!==r?void n(I(xo)):u._attachments?(delete u._attachments[e],0===Object.keys(u._attachments).length&&delete u._attachments,void o.put(u,n)):n()})}),Et.prototype.remove=l("remove",function(t,e,r,n){var o;"string"==typeof e?(o={_id:t,_rev:e},"function"==typeof r&&(n=r,r={})):(o=t,"function"==typeof e?(n=e,r={}):(n=r,r=e)),r=r||{},r.was_delete=!0;var u={_id:o._id,_rev:o._rev||r.rev};if(u._deleted=!0,lt(u._id)&&"function"==typeof this._removeLocal)return this._removeLocal(o,n);this.bulkDocs({docs:[u]},r,mt(n))}),Et.prototype.revsDiff=l("revsDiff",function(t,e,r){function n(t,e){i.has(t)||i.set(t,{missing:[]}),i.get(t).missing.push(e)}function o(e,r){var o=t[e].slice(0);K(r,function(t,r,u,c,i){var a=r+"-"+u,s=o.indexOf(a);-1!==s&&(o.splice(s,1),"available"!==i.status&&n(e,a))}),o.forEach(function(t){n(e,t)})}"function"==typeof e&&(r=e,e={});var u=Object.keys(t);if(!u.length)return r(null,{});var c=0,i=new yo;u.map(function(e){this._getRevisionTree(e,function(n,a){if(n&&404===n.status&&"missing"===n.message)i.set(e,{missing:t[e]});else{if(n)return r(n);o(e,a)}if(++c===u.length){var s={};return i.forEach(function(t,e){s[e]=t}),r(null,s)}})},this)}),Et.prototype.bulkGet=l("bulkGet",function(t,e){b(this,t,e)}),Et.prototype.compactDocument=l("compactDocument",function(t,e,r){var n=this;this._getRevisionTree(t,function(o,u){if(o)return r(o);var c=wt(u),i=[],a=[];Object.keys(c).forEach(function(t){c[t]>e&&i.push(t)}),K(u,function(t,e,r,n,o){var u=e+"-"+r;"available"===o.status&&-1!==i.indexOf(u)&&a.push(u)}),n._doCompaction(t,a,r)})}),Et.prototype.compact=l("compact",function(t,e){"function"==typeof t&&(e=t,t={});var r=this;t=t||{},r._compactionQueue=r._compactionQueue||[],r._compactionQueue.push({opts:t,callback:e}),1===r._compactionQueue.length&&kt(r)}),Et.prototype._compact=function(t,e){function r(t){c.push(o.compactDocument(t.id,0))}function n(t){var r=t.last_seq;ho.all(c).then(function(){return V(o,"_local/compaction",function(t){return(!t.last_seq||t.last_seq<r)&&(t.last_seq=r,t)})}).then(function(){e(null,{ok:!0})}).catch(e)}var o=this,u={return_docs:!1,last_seq:t.last_seq||0},c=[];o.changes(u).on("change",r).on("complete",n).on("error",e)},Et.prototype.get=l("get",function(t,e,r){function n(){var n=[],c=o.length;if(!c)return r(null,n);o.forEach(function(o){u.get(t,{rev:o,revs:e.revs,latest:e.latest,attachments:e.attachments},function(t,e){if(t)n.push({missing:o});else{for(var u,i=0,a=n.length;i<a;i++)if(n[i].ok&&n[i].ok._rev===e._rev){u=!0;break}u||n.push({ok:e})}--c||r(null,n)})})}if("function"==typeof e&&(r=e,e={}),"string"!=typeof t)return r(I(Ao));if(lt(t)&&"function"==typeof this._getLocal)return this._getLocal(t,r);var o=[],u=this;if(!e.open_revs)return this._get(t,e,function(t,n){if(t)return r(t);var o=n.doc,c=n.metadata,i=n.ctx;if(e.conflicts){var a=Q(c);a.length&&(o._conflicts=a)}if(_t(c,o._rev)&&(o._deleted=!0),e.revs||e.revs_info){for(var s=o._rev.split("-"),f=parseInt(s[0],10),_=s[1],l=Z(c.rev_tree),d=null,p=0;p<l.length;p++){var h=l[p],v=h.ids.map(function(t){return t.id}).indexOf(_);(v===f-1||!d&&-1!==v)&&(d=h)}var g=d.ids.map(function(t){return t.id}).indexOf(o._rev.split("-")[1])+1,m=d.ids.length-g;if(d.ids.splice(g,m),d.ids.reverse(),e.revs&&(o._revisions={start:d.pos+d.ids.length-1,ids:d.ids.map(function(t){return t.id})}),e.revs_info){var y=d.pos+d.ids.length;o._revs_info=d.ids.map(function(t){return y--,{rev:y+"-"+t.id,status:t.opts.status}})}}if(e.attachments&&o._attachments){var b=o._attachments,w=Object.keys(b).length;if(0===w)return r(null,o);Object.keys(b).forEach(function(t){this._getAttachment(o._id,t,b[t],{rev:o._rev,binary:e.binary,ctx:i},function(e,n){var u=o._attachments[t];u.data=n,delete u.stub,delete u.length,--w||r(null,o)})},u)}else{if(o._attachments)for(var T in o._attachments)o._attachments.hasOwnProperty(T)&&(o._attachments[T].stub=!0);r(null,o)}});if("all"===e.open_revs)this._getRevisionTree(t,function(t,e){if(t)return r(t);o=X(e).map(function(t){return t.rev}),n()});else{if(!Array.isArray(e.open_revs))return r(I(Io,"function_clause"));o=e.open_revs;for(var c=0;c<o.length;c++){var i=o[c];if("string"!=typeof i||!/^\d+-/.test(i))return r(I(Po))}n()}}),Et.prototype.getAttachment=l("getAttachment",function(t,e,r,n){var o=this;r instanceof Function&&(n=r,r={}),this._get(t,r,function(u,c){return u?n(u):c.doc._attachments&&c.doc._attachments[e]?(r.ctx=c.ctx,r.binary=!0,o._getAttachment(t,e,c.doc._attachments[e],r,n),void 0):n(I(Eo))})}),Et.prototype.allDocs=l("allDocs",function(t,e){if("function"==typeof t&&(e=t,t={}),t.skip=void 0!==t.skip?t.skip:0,t.start_key&&(t.startkey=t.start_key),t.end_key&&(t.endkey=t.end_key),"keys"in t){if(!Array.isArray(t.keys))return e(new TypeError("options.keys must be an array"));var r=["startkey","endkey","key"].filter(function(e){return e in t})[0];if(r)return void e(I(qo,"Query parameter `"+r+"` is not compatible with multi-get"));if(!B(this))return Tt(this,t,e)}return this._allDocs(t,e)}),Et.prototype.changes=function(t,e){return"function"==typeof t&&(e=t,t={}),new ht(this,t,e)},Et.prototype.close=l("close",function(t){return this._closed=!0,this.emit("closed"),this._close(t)}),Et.prototype.info=l("info",function(t){var e=this;this._info(function(r,n){if(r)return t(r);n.db_name=n.db_name||e.name,n.auto_compaction=!(!e.auto_compaction||B(e)),n.adapter=e.adapter,t(null,n)})}),Et.prototype.id=l("id",function(t){return this._id(t)}),Et.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},Et.prototype.bulkDocs=l("bulkDocs",function(t,e,r){if("function"==typeof e&&(r=e,e={}),e=e||{},Array.isArray(t)&&(t={docs:t}),!t||!t.docs||!Array.isArray(t.docs))return r(I(So));for(var n=0;n<t.docs.length;++n)if("object"!=typeof t.docs[n]||Array.isArray(t.docs[n]))return r(I(Do));var o;if(t.docs.forEach(function(t){t._attachments&&Object.keys(t._attachments).forEach(function(e){o=o||St(e),t._attachments[e].content_type||E("warn","Attachment",e,"on document",t._id,"is missing content_type")})}),o)return r(I(jo,o));"new_edits"in e||(e.new_edits=!("new_edits"in t)||t.new_edits);var u=this;e.new_edits||B(u)||t.docs.sort(bt),yt(t.docs);var c=t.docs.map(function(t){return t._id});return this._bulkDocs(t,e,function(t,n){if(t)return r(t);if(e.new_edits||(n=n.filter(function(t){return t.error})),!B(u))for(var o=0,i=n.length;o<i;o++)n[o].id=n[o].id||c[o];r(null,n)})}),Et.prototype.registerDependentDatabase=l("registerDependentDatabase",function(t,e){function r(e){return e.dependentDbs=e.dependentDbs||{},!e.dependentDbs[t]&&(e.dependentDbs[t]=!0,e)}var n=new this.constructor(t,this.__opts);V(this,"_local/_pouch_dependentDbs",r).then(function(){e(null,{db:n})}).catch(e)}),Et.prototype.destroy=l("destroy",function(t,e){function r(){n._destroy(t,function(t,r){if(t)return e(t);n._destroyed=!0,n.emit("destroyed"),e(null,r||{ok:!0})})}"function"==typeof t&&(e=t,t={});var n=this,o=!("use_prefix"in n)||n.use_prefix;if(B(n))return r();n.get("_local/_pouch_dependentDbs",function(t,u){if(t)return 404!==t.status?e(t):r();var c=u.dependentDbs,i=n.constructor,a=Object.keys(c).map(function(t){var e=o?t.replace(new RegExp("^"+i.prefix),""):t;return new i(e,n.__opts).destroy()});ho.all(a).then(r,e)})}),xt.prototype.execute=function(){var t;if(this.failed)for(;t=this.queue.shift();)t(this.failed);else for(;t=this.queue.shift();)t()},xt.prototype.fail=function(t){this.failed=t,this.execute()},xt.prototype.ready=function(t){this.isReady=!0,this.db=t,this.execute()},xt.prototype.addTask=function(t){this.queue.push(t),this.failed&&this.execute()},so(Ct,Et),Ct.adapters={},Ct.preferredAdapters=[],Ct.prefix="_pouch_";var Ho=new ao.EventEmitter;!function(t){Object.keys(ao.EventEmitter.prototype).forEach(function(e){"function"==typeof ao.EventEmitter.prototype[e]&&(t[e]=Ho[e].bind(Ho))});var e=t._destructionListeners=new yo;t.on("destroyed",function(t){e.get(t).forEach(function(t){t()}),e.delete(t)})}(Ct),Ct.adapter=function(t,e,r){e.valid()&&(Ct.adapters[t]=e,r&&Ct.preferredAdapters.push(t))},Ct.plugin=function(t){if("function"==typeof t)t(Ct);else{if("object"!=typeof t||0===Object.keys(t).length)throw new Error('Invalid plugin: got "'+t+'", expected an object or a function');Object.keys(t).forEach(function(e){Ct.prototype[e]=t[e]})}return this.__defaults&&(Ct.__defaults=ko({},this.__defaults)),Ct},Ct.defaults=function(t){function e(t,r){if(!(this instanceof e))return new e(t,r);r=r||{},t&&"object"==typeof t&&(r=t,t=r.name,delete r.name),r=ko({},e.__defaults,r),Ct.call(this,t,r)}return so(e,Ct),e.preferredAdapters=Ct.preferredAdapters.slice(),Object.keys(Ct).forEach(function(t){t in e||(e[t]=Ct[t])}),e.__defaults=ko({},this.__defaults,t),e};var Wo=["$or","$nor","$not"],Ko=-324,Go=3,Xo="",Qo={$elemMatch:function(t,e,r,n){return!!Array.isArray(n)&&(0!==n.length&&("object"==typeof n[0]?n.some(function(t){return ue(t,e,Object.keys(e))}):n.some(function(n){return ie(e,t,r,n)})))},$eq:function(t,e,r,n){return _e(n)&&0===zt(n,e)},$gte:function(t,e,r,n){return _e(n)&&zt(n,e)>=0},$gt:function(t,e,r,n){return _e(n)&&zt(n,e)>0},$lte:function(t,e,r,n){return _e(n)&&zt(n,e)<=0},$lt:function(t,e,r,n){return _e(n)&&zt(n,e)<0},$exists:function(t,e,r,n){return e?_e(n):!_e(n)},$mod:function(t,e,r,n){return fe(n)&&le(n,e)},$ne:function(t,e,r,n){return e.every(function(t){return 0!==zt(n,t)})},$in:function(t,e,r,n){return fe(n)&&de(n,e)},$nin:function(t,e,r,n){return fe(n)&&!de(n,e)},$size:function(t,e,r,n){return fe(n)&&he(n,e)},$all:function(t,e,r,n){return Array.isArray(n)&&pe(n,e)},$regex:function(t,e,r,n){return fe(n)&&ve(n,e)},$type:function(t,e,r,n){return ge(n,e)}};Ct.plugin(It),Ct.plugin(Ee),Ct.version="6.2.0";var Yo,Zo=xe(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),tu=xe(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]),eu=function(t){return atob(t)},ru=function(t){return btoa(t)},nu=e.setImmediate||e.setTimeout,ou=32768,uu=5,cu="document-store",iu="by-sequence",au="attach-store",su="attach-seq-store",fu="meta-store",_u="local-store",lu="detect-blob-support",du=new S,pu=!1,hu=[],vu=new yo,gu=new yo;wr.valid=function(){return!("undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform))&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange};var mu=function(t){t.adapter("idb",wr,!0)},yu=7,bu=Cr("document-store"),wu=Cr("by-sequence"),Tu=Cr("attach-store"),ku=Cr("local-store"),Su=Cr("metadata-store"),Eu=Cr("attach-seq-store"),xu=new yo,Au=new S,Ou=1,Cu="CREATE INDEX IF NOT EXISTS 'by-seq-deleted-idx' ON "+wu+" (seq, deleted)",Iu="CREATE UNIQUE INDEX IF NOT EXISTS 'by-seq-doc-id-rev' ON "+wu+" (doc_id, rev)",Nu="CREATE INDEX IF NOT EXISTS 'doc-winningseq-idx' ON "+bu+" (winningseq)",qu="CREATE INDEX IF NOT EXISTS 'attach-seq-seq-idx' ON "+Eu+" (seq)",Mu="CREATE UNIQUE INDEX IF NOT EXISTS 'attach-seq-digest-idx' ON "+Eu+" (digest, seq)",ju=wu+".seq = "+bu+".winningseq",Du=wu+".seq AS seq, "+wu+".deleted AS deleted, "+wu+".json AS data, "+wu+".rev AS rev, "+bu+".json AS metadata";Gr.valid=Wr,Gr.use_prefix=!0;var Ru=function(t){t.adapter("websql",Gr,!0)},Bu=function(){try{return new XMLHttpRequest,!0}catch(t){return!1}}(),Pu=function(){},Lu=25,Fu=50,$u={};dn.valid=function(){return!0};var Uu=function(t){t.adapter("http",dn,!1),t.adapter("https",dn,!1)};so(pn,Error),so(hn,Error),so(vn,Error);var Vu=E.bind(null,"log"),Ju=Array.isArray,zu=JSON.parse;xn.prototype.add=function(t){return this.promise=this.promise.catch(function(){}).then(function(){return t()}),this.promise},xn.prototype.finish=function(){return this.promise};var Hu={},Wu=new xn,Ku=50,Gu={_sum:function(t,e){return Sn(e)},_count:function(t,e){return e.length},_stats:function(t,e){return{sum:Sn(e),min:Math.min.apply(null,e),max:Math.max.apply(null,e),count:e.length,sumsqr:function(t){for(var e=0,r=0,n=t.length;r<n;r++){var o=t[r];e+=o*o}return e}(e)}}},Xu=function(t,e,r,n){function o(t,e,r){try{e(r)}catch(e){qn(t,e)}}function u(t,e,r,n,o){try{return{output:e(r,n,o)}}catch(e){return qn(t,e),{error:e}}}function c(t,e){var r=zt(t.key,e.key);return 0!==r?r:zt(t.value,e.value)}function i(t,e,r){return r=r||0,"number"==typeof e?t.slice(r,e+r):r>0?t.slice(r):t}function a(t){var e=t.value;return e&&"object"==typeof e&&e._id||t.id}function s(t){t.rows.forEach(function(t){var e=t.doc&&t.doc._attachments;e&&Object.keys(e).forEach(function(t){var r=e[t];e[t].data=Me(r.data,r.content_type)})})}function f(t){return function(e){return t.include_docs&&t.attachments&&t.binary&&s(e),e}}function _(t,e,r,n){var o=e[t];void 0!==o&&(n&&(o=encodeURIComponent(JSON.stringify(o))),r.push(t+"="+o))}function l(t){if(void 0!==t){var e=Number(t);return isNaN(e)||e!==parseInt(t,10)?t:e}}function d(t){return t.group_level=l(t.group_level),t.limit=l(t.limit),t.skip=l(t.skip),t}function p(t){if(t){if("number"!=typeof t)return new pn('Invalid value for integer: "'+t+'"');if(t<0)return new pn('Invalid value for positive integer: "'+t+'"')}}function h(t,e){var r=t.descending?"endkey":"startkey",n=t.descending?"startkey":"endkey";if(void 0!==t[r]&&void 0!==t[n]&&zt(t[r],t[n])>0)throw new pn("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(e.reduce&&!1!==t.reduce){if(t.include_docs)throw new pn("{include_docs:true} is invalid for reduce");if(t.keys&&t.keys.length>1&&!t.group&&!t.group_level)throw new pn("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(e){var r=p(t[e]);if(r)throw r})}function v(t,e,r){var n,o=[],u="GET";if(_("reduce",r,o),_("include_docs",r,o),_("attachments",r,o),_("limit",r,o),_("descending",r,o),_("group",r,o),_("group_level",r,o),_("skip",r,o),_("stale",r,o),_("conflicts",r,o),_("startkey",r,o,!0),_("start_key",r,o,!0),_("endkey",r,o,!0),_("end_key",r,o,!0),_("inclusive_end",r,o),_("key",r,o,!0),o=o.join("&"),o=""===o?"":"?"+o,void 0!==r.keys){var c="keys="+encodeURIComponent(JSON.stringify(r.keys));c.length+o.length+1<=2e3?o+=("?"===o[0]?"&":"?")+c:(u="POST","string"==typeof e?n={keys:r.keys}:e.keys=r.keys)}if("string"==typeof e){var i=In(e);return t.request({method:u,url:"_design/"+i[0]+"/_view/"+i[1]+o,body:n}).then(f(r))}return n=n||{},Object.keys(e).forEach(function(t){Array.isArray(e[t])?n[t]=e[t]:n[t]=e[t].toString()}),t.request({method:"POST",url:"_temp_view"+o,body:n}).then(f(r))}function g(t,e,r){return new ho(function(n,o){t._query(e,r,function(t,e){if(t)return o(t);n(e)})})}function m(t){return new ho(function(e,r){t._viewCleanup(function(t,n){if(t)return r(t);e(n)})})}function y(t){return function(e){if(404===e.status)return t;throw e}}function b(t,e,r){function n(t){return t.keys.length?e.db.allDocs({keys:t.keys,include_docs:!0}):ho.resolve({rows:[]})}function o(t,e){for(var r=[],n=new mo,o=0,u=e.rows.length;o<u;o++){var c=e.rows[o],i=c.doc;if(i&&(r.push(i),n.add(i._id),i._deleted=!a.has(i._id),!i._deleted)){var s=a.get(i._id);"value"in s&&(i.value=s.value)}}var f=Tn(a);return f.forEach(function(t){if(!n.has(t)){var e={_id:t},o=a.get(t);"value"in o&&(e.value=o.value),r.push(e)}}),t.keys=wn(f.concat(t.keys)),r.push(t),r}var u="_local/doc_"+t,c={_id:u,keys:[]},i=r.get(t),a=i[0],s=i[1];return function(){return Nn(s)?ho.resolve(c):e.db.get(u).catch(y(c))}().then(function(t){return n(t).then(function(e){return o(t,e)})})}function w(t,e,r){return t.db.get("_local/lastSeq").catch(y({_id:"_local/lastSeq",seq:0})).then(function(n){var o=Tn(e);return ho.all(o.map(function(r){return b(r,t,e)})).then(function(e){var o=j(e);return n.seq=r,o.push(n),t.db.bulkDocs({docs:o})})})}function T(t){var e="string"==typeof t?t:t.name,r=Hu[e];return r||(r=Hu[e]=new xn),r}function k(t){return bn(T(t),function(){return S(t)})()}function S(t){function r(t,e){var r={id:_._id,key:Ht(t)};void 0!==e&&null!==e&&(r.value=Ht(e)),f.push(r)}function n(e,r){return function(){return w(t,e,r)}}function u(){return t.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:d,limit:Ku}).then(i)}function i(t){var e=t.results;if(e.length){var r=a(e);if(p.add(n(r,d)),!(e.length<Ku))return u()}}function a(e){for(var r=new yo,n=0,u=e.length;n<u;n++){var i=e[n];if("_"!==i.doc._id[0]){f=[],_=i.doc,_._deleted||o(t.sourceDB,l,_),f.sort(c);var a=s(f);r.set(i.doc._id,[a,i.changes])}d=i.seq}return r}function s(t){for(var e,r=new yo,n=0,o=t.length;n<o;n++){var u=t[n],c=[u.key,u.id];n>0&&0===zt(u.key,e)&&c.push(n),r.set(Kt(c),u),e=u.key}return r}var f,_,l=e(t.mapFun,r),d=t.seq||0,p=new xn;return u().then(function(){return p.finish()}).then(function(){t.seq=d})}function E(t,e,n){0===n.group_level&&delete n.group_level;var o=n.group||n.group_level,c=r(t.reduceFun),a=[],s=isNaN(n.group_level)?Number.POSITIVE_INFINITY:n.group_level;e.forEach(function(t){var e=a[a.length-1],r=o?t.key:null;if(o&&Array.isArray(r)&&(r=r.slice(0,s)),e&&0===zt(e.groupKey,r))return e.keys.push([t.key,t.id]),void e.values.push(t.value);a.push({keys:[[t.key,t.id]],values:[t.value],groupKey:r})}),e=[];for(var f=0,_=a.length;f<_;f++){var l=a[f],d=u(t.sourceDB,c,l.keys,l.values,!1);if(d.error&&d.error instanceof vn)throw d.error;e.push({value:d.error?null:d.output,key:l.groupKey})}return{rows:i(e,n.limit,n.skip)}}function x(t,e){return bn(T(t),function(){return A(t,e)})()}function A(t,e){function r(e){return e.include_docs=!0,t.db.allDocs(e).then(function(t){return o=t.total_rows,t.rows.map(function(t){if("value"in t.doc&&"object"==typeof t.doc.value&&null!==t.doc.value){var e=Object.keys(t.doc.value).sort(),r=["id","key","value"];if(!(e<r||e>r))return t.doc.value}var n=Qt(t.doc._id);return{key:n[0],id:n[1],value:"value"in t.doc?t.doc.value:null}})})}function n(r){var n;if(n=u?E(t,r,e):{total_rows:o,offset:c,rows:r},e.include_docs){var i=wn(r.map(a));return t.sourceDB.allDocs({keys:i,include_docs:!0,conflicts:e.conflicts,attachments:e.attachments,binary:e.binary}).then(function(t){var e=new yo;return t.rows.forEach(function(t){e.set(t.id,t.doc)}),r.forEach(function(t){var r=a(t),n=e.get(r);n&&(t.doc=n)}),n})}return n}var o,u=t.reduceFun&&!1!==e.reduce,c=e.skip||0;if(void 0===e.keys||e.keys.length||(e.limit=0,delete e.keys),void 0!==e.keys){var i=e.keys,s=i.map(function(t){return r({startkey:Kt([t]),endkey:Kt([t,{}])})});return ho.all(s).then(j).then(n)}var f,_,l={descending:e.descending};if("start_key"in e&&(f=e.start_key),"startkey"in e&&(f=e.startkey),"end_key"in e&&(_=e.end_key),"endkey"in e&&(_=e.endkey),void 0!==f&&(l.startkey=Kt(e.descending?[f,{}]:[f])),void 0!==_){var d=!1!==e.inclusive_end;e.descending&&(d=!d),l.endkey=Kt(d?[_,{}]:[_])}if(void 0!==e.key){var p=Kt([e.key]),h=Kt([e.key,{}]);l.descending?(l.endkey=p,l.startkey=h):(l.startkey=p,l.endkey=h)}return u||("number"==typeof e.limit&&(l.limit=e.limit),l.skip=c),r(l).then(n)}function O(t){return t.request({method:"POST",url:"_view_cleanup"})}function C(e){return e.get("_local/"+t).then(function(t){var r=new yo;Object.keys(t.views).forEach(function(t){var e=In(t),n="_design/"+e[0],o=e[1],u=r.get(n);u||(u=new mo,r.set(n,u)),u.add(o)});var n={keys:Tn(r),include_docs:!0};return e.allDocs(n).then(function(n){var o={};n.rows.forEach(function(e){var n=e.key.substring(8);r.get(e.key).forEach(function(r){var u=n+"/"+r;t.views[u]||(u=r);var c=Object.keys(t.views[u]),i=e.doc&&e.doc.views&&e.doc.views[r];c.forEach(function(t){o[t]=o[t]||i})})});var u=Object.keys(o).filter(function(t){return!o[t]}),c=u.map(function(t){return bn(T(t),function(){return new e.constructor(t,e.__opts).destroy()})()});return ho.all(c).then(function(){return{ok:!0}})})},y({ok:!0}))}function I(e,r,o){if("function"==typeof e._query)return g(e,r,o);if(B(e))return v(e,r,o);if("string"!=typeof r)return h(o,r),Wu.add(function(){return Cn(e,"temp_view/temp_view",r.map,r.reduce,!0,t).then(function(t){return yn(k(t).then(function(){return x(t,o)}),function(){return t.db.destroy()})})}),Wu.finish();var u=r,c=In(u),i=c[0],a=c[1];return e.get("_design/"+i).then(function(r){var c=r.views&&r.views[a];if(!c)throw new hn("ddoc "+r._id+" has no view named "+a);return n(r,a),h(o,c),Cn(e,u,c.map,c.reduce,!1,t).then(function(t){return"ok"===o.stale||"update_after"===o.stale?("update_after"===o.stale&&fo(function(){k(t)}),x(t,o)):k(t).then(function(){return x(t,o)})})})}function N(t,e,r){var n=this;"function"==typeof e&&(r=e,e={}),e=e?d(e):{},"function"==typeof t&&(t={map:t});var o=ho.resolve().then(function(){return I(n,t,e)});return gn(o,r),o}return{query:N,viewCleanup:mn(function(){var t=this;return"function"==typeof t._viewCleanup?m(t):B(t)?O(t):C(t)})}}("mrviews",Mn,jn,Dn),Qu={query:Rn,viewCleanup:Bn},Yu=1,Zu="pouchdb",tc=5,ec=0;zn.prototype.writeCheckpoint=function(t,e){var r=this;return this.updateTarget(t,e).then(function(){return r.updateSource(t,e)})},zn.prototype.updateTarget=function(t,e){return Jn(this.target,this.id,t,e,this.returnValue)},zn.prototype.updateSource=function(t,e){var r=this;return this.readOnlySource?ho.resolve(!0):Jn(this.src,this.id,t,e,this.returnValue).catch(function(t){if(Gn(t))return r.readOnlySource=!0,!0;throw t})};var rc={undefined:function(t,e){return 0===zt(t.last_seq,e.last_seq)?e.last_seq:0},1:function(t,e){return Hn(e,t).last_seq}};zn.prototype.getCheckpoint=function(){var t=this;return t.target.get(t.id).then(function(e){return t.readOnlySource?ho.resolve(e.last_seq):t.src.get(t.id).then(function(t){if(e.version!==t.version)return ec;var r;return r=e.version?e.version.toString():"undefined",r in rc?rc[r](e,t):ec},function(r){if(404===r.status&&e.last_seq)return t.src.put({_id:t.id,last_seq:ec}).then(function(){return ec},function(r){return Gn(r)?(t.readOnlySource=!0,e.last_seq):ec});throw r})}).catch(function(t){if(404!==t.status)throw t;return ec})};var nc=0;so(to,ao.EventEmitter),to.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},to.prototype.ready=function(t,e){function r(){o.cancel()}function n(){t.removeListener("destroyed",r),e.removeListener("destroyed",r)}var o=this;o._readyCalled||(o._readyCalled=!0,t.once("destroyed",r),e.once("destroyed",r),o.once("complete",n))},so(oo,ao.EventEmitter),oo.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},Ct.plugin(mu).plugin(Ru).plugin(Uu).plugin(Qu).plugin(uo),t.exports=Ct}).call(e,r(31))},569:function(t,e,r){"use strict";function n(t,e,r){Error.call(this,r),this.status=t,this.name=e,this.message=r,this.error=!0}function o(t,e){function r(e){for(var r in t)"function"!=typeof t[r]&&(this[r]=t[r]);void 0!==e&&(this.reason=e)}return r.prototype=n.prototype,new r(e)}function u(t){if("object"!=typeof t){var e=t;t=p,t.data=e}return"error"in t&&"conflict"===t.error&&(t.name="conflict",t.status=409),"name"in t||(t.name=t.error||"unknown"),"status"in t||(t.status=500),"message"in t||(t.message=t.message||t.reason),t}Object.defineProperty(e,"__esModule",{value:!0}),function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(r(5))(n,Error),n.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var c=new n(401,"unauthorized","Name or password is incorrect."),i=new n(400,"bad_request","Missing JSON list of 'docs'"),a=new n(404,"not_found","missing"),s=new n(409,"conflict","Document update conflict"),f=new n(400,"bad_request","_id field must contain a string"),_=new n(412,"missing_id","_id is required for puts"),l=new n(400,"bad_request","Only reserved document ids may start with underscore."),d=new n(412,"precondition_failed","Database not open"),p=new n(500,"unknown_error","Database encountered an unknown error"),h=new n(500,"badarg","Some query argument is invalid"),v=new n(400,"invalid_request","Request was invalid"),g=new n(400,"query_parse_error","Some query parameter is invalid"),m=new n(500,"doc_validation","Bad special document member"),y=new n(400,"bad_request","Something wrong with the request"),b=new n(400,"bad_request","Document must be a JSON object"),w=new n(404,"not_found","Database not found"),T=new n(500,"indexed_db_went_bad","unknown"),k=new n(500,"web_sql_went_bad","unknown"),S=new n(500,"levelDB_went_went_bad","unknown"),E=new n(403,"forbidden","Forbidden by design doc validate_doc_update function"),x=new n(400,"bad_request","Invalid rev format"),A=new n(412,"file_exists","The database could not be created, the file already exists."),O=new n(412,"missing_stub","A pre-existing attachment stub wasn't found"),C=new n(413,"invalid_url","Provided URL is invalid");e.UNAUTHORIZED=c,e.MISSING_BULK_DOCS=i,e.MISSING_DOC=a,e.REV_CONFLICT=s,e.INVALID_ID=f,e.MISSING_ID=_,e.RESERVED_ID=l,e.NOT_OPEN=d,e.UNKNOWN_ERROR=p,e.BAD_ARG=h,e.INVALID_REQUEST=v,e.QUERY_PARSE_ERROR=g,e.DOC_VALIDATION=m,e.BAD_REQUEST=y,e.NOT_AN_OBJECT=b,e.DB_MISSING=w,e.WSQ_ERROR=k,e.LDB_ERROR=S,e.FORBIDDEN=E,e.INVALID_REV=x,e.FILE_EXISTS=A,e.MISSING_STUB=O,e.IDB_ERROR=T,e.INVALID_URL=C,e.createError=o,e.generateErrorFromResponse=u},570:function(t,e,r){"use strict";(function(e){function n(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function o(t){return t=ft.clone(t),t.index||(t.index={}),["type","name","ddoc"].forEach(function(e){t.index[e]&&(t[e]=t.index[e],delete t.index[e])}),t.fields&&(t.index.fields=t.fields,delete t.fields),t.type||(t.type="json"),t}function u(t,e,r){e=o(e),t.request({method:"POST",url:"_index",body:e},r)}function c(t,e,r){t.request({method:"POST",url:"_find",body:e},r)}function i(t,e){t.request({method:"GET",url:"_index"},e)}function a(t,e,r){var n=e.ddoc,o=e.type||"json",u=e.name;if(!n)return r(new Error("you must provide an index's ddoc"));if(!u)return r(new Error("you must provide an index's name"));var c="_index/"+[n,o,u].map(encodeURIComponent).join("/");t.request({method:"DELETE",url:c},r)}function s(t){return function(){for(var e=arguments.length,r=new Array(e),n=-1;++n<e;)r[n]=arguments[n];return t.call(this,r)}}function f(t){return s(function(e){var r=e.pop(),n=t.apply(this,e);return _(n,r),n})}function _(t,r){return t.then(function(t){e.nextTick(function(){r(null,t)})},function(t){e.nextTick(function(){r(t)})}),t}function l(t){for(var e={},r=0,n=t.length;r<n;r++)e=ft.assign(e,t[r]);return e}function d(t,e){for(var r={},n=0,o=e.length;n<o;n++){var u=lt.parseField(e[n]),c=lt.getFieldFromDoc(t,u);void 0!==c&&lt.setFieldInDoc(r,u,c)}return r}function p(t,e){for(var r=0,n=Math.min(t.length,e.length);r<n;r++)if(t[r]!==e[r])return!1;return!0}function h(t,e){return!(t.length>e.length)&&p(t,e)}function v(t,e){t=t.slice();for(var r=0,n=e.length;r<n;r++){var o=e[r];if(!t.length)break;var u=t.indexOf(o);if(-1===u)return!1;t.splice(u,1)}return!0}function g(t){for(var e={},r=0,n=t.length;r<n;r++)e[t[r]]=!0;return e}function m(t,e){for(var r=null,n=-1,o=0,u=t.length;o<u;o++){var c=t[o],i=e(c);i>n&&(n=i,r=c)}return r}function y(t,e){if(t.length!==e.length)return!1;for(var r=0,n=t.length;r<n;r++)if(t[r]!==e[r])return!1;return!0}function b(t){for(var e={},r=0;r<t.length;r++)e["$"+t[r]]=!0;return Object.keys(e).map(function(t){return t.substring(1)})}function w(t,e){return function(r){for(var n=[],o=0,u=t.length;o<u;o++){for(var c=lt.parseField(t[o]),i=r,a=0,s=c.length;a<s;a++){if(!(i=i[c[a]]))return}n.push(i)}e(n)}}function T(t,e){var r=lt.parseField(t);return function(t){for(var n=t,o=0,u=r.length;o<u;o++){if(!(n=n[r[o]]))return}e(n)}}function k(t,e){return function(r){e(r[t])}}function S(t,e){return function(r){for(var n=[],o=0,u=t.length;o<u;o++)n.push(r[t[o]]);e(n)}}function E(t){for(var e=0,r=t.length;e<r;e++){if(-1!==t[e].indexOf("."))return!1}return!0}function x(t,e){var r=E(t),n=1===t.length;return r?n?k(t[0],e):S(t,e):n?T(t[0],e):w(t,e)}function A(t,e){return x(Object.keys(t.fields),e)}function O(){throw new Error("reduce not supported")}function C(t,e){var r=t.views[e];if(!r.map||!r.map.fields)throw new Error("ddoc "+t._id+" with view "+e+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")}function I(t){if(!Array.isArray(t))throw new Error("invalid sort json - should be an array");return t.map(function(t){if("string"==typeof t){var e={};return e[t]="asc",e}return t})}function N(t){return t.fields=t.fields.map(function(t){if("string"==typeof t){var e={};return e[t]="asc",e}return t}),t}function q(t,e){for(var r=[],n=0;n<e.def.fields.length;n++){var o=lt.getKey(e.def.fields[n]);r.push(t[o])}return r}function M(t,e,r){for(var n=r.def.fields,o=0,u=t.length;o<u;o++){var c=t[o],i=q(c.doc,r);if(1===n.length)i=i[0];else for(;i.length>e.length;)i.pop();if(Math.abs(pt.collate(i,e))>0)break}return o>0?t.slice(o):t}function j(t){var e=ft.clone(t);return delete e.startkey,delete e.endkey,delete e.inclusive_start,delete e.inclusive_end,"endkey"in t&&(e.startkey=t.endkey),"startkey"in t&&(e.endkey=t.startkey),"inclusive_start"in t&&(e.inclusive_end=t.inclusive_start),"inclusive_end"in t&&(e.inclusive_start=t.inclusive_end),e}function D(t){var e=t.fields.filter(function(t){return"asc"===lt.getValue(t)});if(0!==e.length&&e.length!==t.fields.length)throw new Error("unsupported mixed sorting")}function R(t,e){if(e.defaultUsed&&t.sort){var r=t.sort.filter(function(t){return"_id"!==Object.keys(t)[0]}).map(function(t){return Object.keys(t)[0]});if(r.length>0)throw new Error('Cannot sort on field(s) "'+r.join(",")+'" when using the default index')}e.defaultUsed}function B(t){if("object"!=typeof t.selector)throw new Error("you must provide a selector when you find()")}function P(t,e){var r,n=Object.keys(t),o=e?e.map(lt.getKey):[];return r=n.length>=o.length?n:o,0===o.length?{fields:r}:(r=r.sort(function(t,e){var r=o.indexOf(t);-1===r&&(r=Number.MAX_VALUE);var n=o.indexOf(e);return-1===n&&(n=Number.MAX_VALUE),r<n?-1:r>n?1:0}),{fields:r,sortOrder:e.map(lt.getKey)})}function L(t,e){function r(t){return t._rev&&"query"!==t.language&&(s=!0),t.language="query",t.views=t.views||{},!(f=!!t.views[c])&&(t.views[c]={map:{fields:l(e.index.fields)},reduce:"_count",options:{def:n}},t)}e=o(e);var n=ft.clone(e.index);e.index=N(e.index),D(e.index);var u=ht.stringMd5(JSON.stringify(e)),c=e.name||"idx-"+u,i=e.ddoc||"idx-"+u,a="_design/"+i,s=!1,f=!1;return t.constructor.emit("debug",["find","creating index",a]),ft.upsert(t,a,r).then(function(){if(s)throw new Error('invalid language for ddoc with id "'+a+'" (should be "query")')}).then(function(){var e=i+"/"+c;return gt.query.call(t,e,{limit:0,reduce:!1}).then(function(){return{id:a,name:c,result:f?"exists":"created"}})})}function F(t){return t.allDocs({startkey:"_design/",endkey:"_design/￿",include_docs:!0}).then(function(t){var e={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return e.indexes=vt(e.indexes,t.rows.filter(function(t){return"query"===t.doc.language}).map(function(t){return(void 0!==t.doc.views?Object.keys(t.doc.views):[]).map(function(e){var r=t.doc.views[e];return{ddoc:t.id,name:e,type:"json",def:N(r.options.def)}})})),e.indexes.sort(function(t,e){return lt.compare(t.name,e.name)}),e.total_rows=e.indexes.length,e})}function $(t,e){for(var r=t.def.fields.map(lt.getKey),n=0,o=r.length;n<o;n++){if(e===r[n])return!0}return!1}function U(t,e){var r=t[e];return"$eq"!==lt.getKey(r)}function V(t,e){var r=e.def.fields.map(lt.getKey);return t.slice().sort(function(t,e){var n=r.indexOf(t),o=r.indexOf(e);return-1===n&&(n=Number.MAX_VALUE),-1===o&&(o=Number.MAX_VALUE),lt.compare(n,o)})}function J(t,e,r){r=V(r,t);for(var n=!1,o=0,u=r.length;o<u;o++){var c=r[o];if(n||!$(t,c))return r.slice(o);o<u-1&&U(e,c)&&(n=!0)}return[]}function z(t){var e=[];return Object.keys(t).forEach(function(r){var n=t[r];Object.keys(n).forEach(function(t){"$ne"===t&&e.push(r)})}),e}function H(t,e,r,n){return V(b(vt(t,J(e,r,n),z(r))),e)}function W(t,e,r){if(e){var n=h(e,t),o=p(r,t);return n&&o}return v(r,t)}function K(t){return-1===bt.indexOf(t)}function G(t,e){var r=t[0],n=e[r];return void 0===n||!!Object.keys(n).some(function(t){return!K(t)})&&!(1===Object.keys(n).length&&"$ne"===lt.getKey(n))}function X(t,e,r,n){var o=t.def.fields.map(lt.getKey);return!!W(o,e,r)&&G(o,n)}function Q(t,e,r,n){return n.reduce(function(n,o){return X(o,r,e,t)&&n.push(o),n},[])}function Y(t,e,r,n){function o(t){for(var e=t.def.fields.map(lt.getKey),r=0,n=0,o=e.length;n<o;n++){var u=e[n];i[u]&&r++}return r}var u=Q(t,e,r,n);if(0===u.length){var c=n[0];return c.defaultUsed=!0,c}if(1===u.length)return u[0];var i=g(e);return m(u,o)}function Z(t,e){switch(t){case"$eq":return{key:e};case"$lte":return{endkey:e};case"$gte":return{startkey:e};case"$lt":return{endkey:e,inclusive_end:!1};case"$gt":return{startkey:e,inclusive_start:!1}}}function tt(t,e){var r,n=lt.getKey(e.def.fields[0]),o=t[n]||{},u=[],c=Object.keys(o);return c.forEach(function(t){if(K(t))return void u.push(n);var e=o[t],c=Z(t,e);r=r?l([r,c]):c}),{queryOpts:r,inMemoryFields:u}}function et(t,e){switch(t){case"$eq":return{startkey:e,endkey:e};case"$lte":return{endkey:e};case"$gte":return{startkey:e};case"$lt":return{endkey:e,inclusive_end:!1};case"$gt":return{startkey:e,inclusive_start:!1}}}function rt(t,e){function r(t){!1!==n&&i.push(mt),!1!==o&&a.push(yt),c=u.slice(t)}for(var n,o,u=e.def.fields.map(lt.getKey),c=[],i=[],a=[],s=0,f=u.length;s<f;s++){var _=u[s],d=t[_];if(!d||!Object.keys(d).length){r(s);break}if(s>0){if(Object.keys(d).some(K)){r(s);break}var p="$gt"in d||"$gte"in d||"$lt"in d||"$lte"in d,h=Object.keys(t[u[s-1]]),v=y(h,["$eq"]),g=y(h,Object.keys(d));if(p&&!v&&!g){r(s);break}}for(var m=Object.keys(d),b=null,w=0;w<m.length;w++){var T=m[w],k=d[T],S=et(T,k);b=b?l([b,S]):S}i.push("startkey"in b?b.startkey:mt),a.push("endkey"in b?b.endkey:yt),"inclusive_start"in b&&(n=b.inclusive_start),"inclusive_end"in b&&(o=b.inclusive_end)}var E={startkey:i,endkey:a};return void 0!==n&&(E.inclusive_start=n),void 0!==o&&(E.inclusive_end=o),{queryOpts:E,inMemoryFields:c}}function nt(t){return{queryOpts:{startkey:null},inMemoryFields:[Object.keys(t)]}}function ot(t,e){return e.defaultUsed?nt(t,e):1===e.def.fields.length?tt(t,e):rt(t,e)}function ut(t,e){var r=t.selector,n=t.sort,o=P(r,n),u=o.fields,c=o.sortOrder,i=Y(r,u,c,e),a=ot(r,i);return{queryOpts:a.queryOpts,index:i,inMemoryFields:H(a.inMemoryFields,i,r,u)}}function ct(t){return t.ddoc.substring(8)+"/"+t.name}function it(t,e){var r=ft.clone(e);return r.descending?("endkey"in r&&"string"!=typeof r.endkey&&(r.endkey=""),"startkey"in r&&"string"!=typeof r.startkey&&(r.limit=0)):("startkey"in r&&"string"!=typeof r.startkey&&(r.startkey=""),"endkey"in r&&"string"!=typeof r.endkey&&(r.limit=0)),"key"in r&&"string"!=typeof r.key&&(r.limit=0),t.allDocs(r)}function at(t,e){return e.selector&&(e.selector=lt.massageSelector(e.selector)),e.sort&&(e.sort=I(e.sort)),B(e),F(t).then(function(r){t.constructor.emit("debug",["find","planning query",e]);var n=ut(e,r.indexes);t.constructor.emit("debug",["find","query plan",n]);var o=n.index;R(e,o);var u=ft.assign({include_docs:!0,reduce:!1},n.queryOpts);return"startkey"in u&&"endkey"in u&&pt.collate(u.startkey,u.endkey)>0?{docs:[]}:(e.sort&&"string"!=typeof e.sort[0]&&"desc"===lt.getValue(e.sort[0])&&(u.descending=!0,u=j(u)),n.inMemoryFields.length||("limit"in e&&(u.limit=e.limit),"skip"in e&&(u.skip=e.skip)),_t.resolve().then(function(){if("_all_docs"===o.name)return it(t,u);var e=ct(o);return gt.query.call(t,e,u)}).then(function(t){!1===u.inclusive_start&&(t.rows=M(t.rows,u.startkey,o)),n.inMemoryFields.length&&(t.rows=lt.filterInMemoryFields(t.rows,e,n.inMemoryFields));var r={docs:t.rows.map(function(t){var r=t.doc;return e.fields?d(r,e.fields):r})};return o.defaultUsed&&(r.warning="no matching index found, create an index to optimize query time"),r}))})}function st(t,e){function r(t){return 1===Object.keys(t.views).length&&t.views[o]?{_id:n,_deleted:!0}:(delete t.views[o],t)}if(!e.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!e.name)throw new Error("you must supply an index.name when deleting");var n=e.ddoc,o=e.name;return ft.upsert(t,n,r).then(function(){return gt.viewCleanup.apply(t)}).then(function(){return{ok:!0}})}var ft=r(114),_t=n(r(113)),lt=r(572),dt=n(r(567)),pt=r(163),ht=r(241),vt=s(function(t){for(var e=[],r=0,n=t.length;r<n;r++){var o=t[r];Array.isArray(o)?e=e.concat(vt.apply(null,o)):e.push(o)}return e}),gt=dt("indexes",A,O,C),mt=null,yt={"￿":{}},bt=["$eq","$gt","$gte","$lt","$lte"],wt=f(L),Tt=f(at),kt=f(F),St=f(st),Et={};Et.createIndex=ft.toPromise(function(t,e){if("object"!=typeof t)return e(new Error("you must provide an index to create"));(ft.isRemote(this)?u:wt)(this,t,e)}),Et.find=ft.toPromise(function(t,e){if(void 0===e&&(e=t,t=void 0),"object"!=typeof t)return e(new Error("you must provide search parameters to find()"));(ft.isRemote(this)?c:Tt)(this,t,e)}),Et.getIndexes=ft.toPromise(function(t){(ft.isRemote(this)?i:kt)(this,t)}),Et.deleteIndex=ft.toPromise(function(t,e){if("object"!=typeof t)return e(new Error("you must provide an index to delete"));(ft.isRemote(this)?a:St)(this,t,e)}),t.exports=Et}).call(e,r(50))},571:function(t,e,r){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function o(t){this.status=400,this.name="query_parse_error",this.message=t,this.error=!0;try{Error.captureStackTrace(this,o)}catch(t){}}function u(t){this.status=404,this.name="not_found",this.message=t,this.error=!0;try{Error.captureStackTrace(this,u)}catch(t){}}function c(t){this.status=500,this.name="invalid_value",this.message=t,this.error=!0;try{Error.captureStackTrace(this,c)}catch(t){}}function i(t,e){return e&&t.then(function(t){h.nextTick(function(){e(null,t)})},function(t){h.nextTick(function(){e(t)})}),t}function a(t){return p(function(e){var r=e.pop(),n=t.apply(this,e);return"function"==typeof r&&i(n,r),n})}function s(t,e){return t.then(function(t){return e().then(function(){return t})},function(t){return e().then(function(){throw t})})}function f(t,e){return function(){var r=arguments,n=this;return t.add(function(){return e.apply(n,r)})}}function _(t){var e=new d.Set(t),r=new Array(e.size),n=-1;return e.forEach(function(t){r[++n]=t}),r}function l(t){var e=new Array(t.size),r=-1;return t.forEach(function(t,n){e[++r]=n}),e}Object.defineProperty(e,"__esModule",{value:!0});var d=r(164),p=n(r(130)),h=r(114),v=n(r(5));v(o,Error),v(u,Error),v(c,Error),e.uniq=_,e.sequentialize=f,e.fin=s,e.callbackify=a,e.promisedCallback=i,e.mapToKeysArray=l,e.QueryParseError=o,e.NotFoundError=u,e.BuiltInError=c},572:function(t,e,r){"use strict";function n(t,e){for(var r=t,n=0,o=e.length;n<o;n++){if(!(r=r[e[n]]))break}return r}function o(t,e,r){for(var n=0,o=e.length;n<o-1;n++){t=t[e[n]]={}}t[e[o-1]]=r}function u(t,e){return t<e?-1:t>e?1:0}function c(t){for(var e=[],r="",n=0,o=t.length;n<o;n++){var u=t[n];"."===u?n>0&&"\\"===t[n-1]?r=r.substring(0,r.length-1)+".":(e.push(r),r=""):r+=u}return e.push(r),e}function i(t){return j.indexOf(t)>-1}function a(t){return Object.keys(t)[0]}function s(t){return t[a(t)]}function f(t){var e={};return t.forEach(function(t){Object.keys(t).forEach(function(r){var n=t[r];if("object"!=typeof n&&(n={$eq:n}),i(r))n instanceof Array?e[r]=n.map(function(t){return f([t])}):e[r]=f([n]);else{var o=e[r]=e[r]||{};Object.keys(n).forEach(function(t){var e=n[t];return"$gt"===t||"$gte"===t?_(t,e,o):"$lt"===t||"$lte"===t?l(t,e,o):"$ne"===t?d(e,o):"$eq"===t?p(e,o):void(o[t]=e)})}})}),e}function _(t,e,r){void 0===r.$eq&&(void 0!==r.$gte?"$gte"===t?e>r.$gte&&(r.$gte=e):e>=r.$gte&&(delete r.$gte,r.$gt=e):void 0!==r.$gt?"$gte"===t?e>r.$gt&&(delete r.$gt,r.$gte=e):e>r.$gt&&(r.$gt=e):r[t]=e)}function l(t,e,r){void 0===r.$eq&&(void 0!==r.$lte?"$lte"===t?e<r.$lte&&(r.$lte=e):e<=r.$lte&&(delete r.$lte,r.$lt=e):void 0!==r.$lt?"$lte"===t?e<r.$lt&&(delete r.$lt,r.$lte=e):e<r.$lt&&(r.$lt=e):r[t]=e)}function d(t,e){"$ne"in e?e.$ne.push(t):e.$ne=[t]}function p(t,e){delete e.$gt,delete e.$gte,delete e.$lt,delete e.$lte,delete e.$ne,e.$eq=t}function h(t){var e=q.clone(t),r=!1;"$and"in e&&(e=f(e.$and),r=!0),["$or","$nor"].forEach(function(t){t in e&&e[t].forEach(function(t){for(var e=Object.keys(t),r=0;r<e.length;r++){var n=e[r],o=t[n];"object"==typeof o&&null!==o||(t[n]={$eq:o})}})}),"$not"in e&&(e.$not=f([e.$not]));for(var n=Object.keys(e),o=0;o<n.length;o++){var u=n[o],c=e[u];"object"!=typeof c||null===c?c={$eq:c}:"$ne"in c&&!r&&(c.$ne=[c.$ne]),e[u]=c}return e}function v(t){function e(e){return t.map(function(t){var r=a(t),o=c(r);return n(e,o)})}return function(t,r){var n=e(t.doc),o=e(r.doc),c=M.collate(n,o);return 0!==c?c:u(t.doc._id,r.doc._id)}}function g(t,e,r){if(t=t.filter(function(t){return m(t.doc,e.selector,r)}),e.sort){var n=v(e.sort);t=t.sort(n),"string"!=typeof e.sort[0]&&"desc"===s(e.sort[0])&&(t=t.reverse())}if("limit"in e||"skip"in e){var o=e.skip||0,u=("limit"in e?e.limit:t.length)+o;t=t.slice(o,u)}return t}function m(t,e,r){return r.every(function(r){if(y(t))return!1;var o=e[r],u=c(r),a=n(t,u);return i(r)?w(r,o,t):b(o,t,u,a)})}function y(t){return/^_design\//.test(t._id)}function b(t,e,r,n){return!t||Object.keys(t).every(function(o){var u=t[o];return T(o,e,u,r,n)})}function w(t,e,r){return"$or"===t?e.some(function(t){return m(r,t,Object.keys(t))}):"$not"===t?!m(r,e,Object.keys(e)):!e.find(function(t){return m(r,t,Object.keys(t))})}function T(t,e,r,n,o){if(!D[t])throw new Error('unknown operator "'+t+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type or $all');return D[t](e,r,n,o)}function k(t){return void 0!==t&&null!==t}function S(t){return void 0!==t}function E(t,e){var r=e[0],n=e[1];if(0===r)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(r,10)!==r)throw new Error("Divisor is not an integer");if(parseInt(n,10)!==n)throw new Error("Modulus is not an integer");return parseInt(t,10)===t&&t%r===n}function x(t,e){return e.some(function(e){return t instanceof Array?t.indexOf(e)>-1:t===e})}function A(t,e){return e.every(function(e){return t.indexOf(e)>-1})}function O(t,e){return t.length===e}function C(t,e){return new RegExp(e).test(t)}function I(t,e){switch(e){case"null":return null===t;case"boolean":return"boolean"==typeof t;case"number":return"number"==typeof t;case"string":return"string"==typeof t;case"array":return t instanceof Array;case"object":return"[object Object]"==={}.toString.call(t)}throw new Error(e+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}function N(t,e){if("object"!=typeof e)throw"Selector error: expected a JSON object";e=h(e);var r={doc:t},n=g([r],{selector:e},Object.keys(e));return n&&1===n.length}Object.defineProperty(e,"__esModule",{value:!0});var q=r(114),M=r(163),j=["$or","$nor","$not"],D={$elemMatch:function(t,e,r,n){return!!Array.isArray(n)&&(0!==n.length&&("object"==typeof n[0]?n.some(function(t){return m(t,e,Object.keys(e))}):n.some(function(n){return b(e,t,r,n)})))},$eq:function(t,e,r,n){return S(n)&&0===M.collate(n,e)},$gte:function(t,e,r,n){return S(n)&&M.collate(n,e)>=0},$gt:function(t,e,r,n){return S(n)&&M.collate(n,e)>0},$lte:function(t,e,r,n){return S(n)&&M.collate(n,e)<=0},$lt:function(t,e,r,n){return S(n)&&M.collate(n,e)<0},$exists:function(t,e,r,n){return e?S(n):!S(n)},$mod:function(t,e,r,n){return k(n)&&E(n,e)},$ne:function(t,e,r,n){return e.every(function(t){return 0!==M.collate(n,t)})},$in:function(t,e,r,n){return k(n)&&x(n,e)},$nin:function(t,e,r,n){return k(n)&&!x(n,e)},$size:function(t,e,r,n){return k(n)&&O(n,e)},$all:function(t,e,r,n){return Array.isArray(n)&&A(n,e)},$regex:function(t,e,r,n){return k(n)&&C(n,e)},$type:function(t,e,r,n){return I(n,e)}};e.massageSelector=h,e.matchesSelector=N,e.filterInMemoryFields=g,e.createFieldSorter=v,e.rowFilter=m,e.isCombinationalField=i,e.getKey=a,e.getValue=s,e.getFieldFromDoc=n,e.setFieldInDoc=o,e.compare=u,e.parseField=c},573:function(t,e,r){"use strict";function n(t,e,r){return"string"!=typeof e?u.reject(new Error("doc id is required")):t.get(e).catch(function(t){if(404!==t.status)throw t;return{}}).then(function(n){var u=n._rev,c=r(n);return c?(c._id=e,c._rev=u,o(t,c,r)):{updated:!1,rev:u,id:e}})}function o(t,e,r){return t.put(e).then(function(t){return{updated:!0,rev:t.rev,id:e._id}},function(o){if(409!==o.status)throw o;return n(t,e._id,r)})}var u=r(113);e.upsert=function(t,e,r){var o=this,u=n(o,t,e);if("function"!=typeof r)return u;u.then(function(t){r(null,t)},r)},e.putIfNotExists=function(t,e,r){var o=this;"string"!=typeof t&&(r=e,e=t,t=e._id);var u=function(t){return!t._rev&&e},c=n(o,t,u);if("function"!=typeof r)return c;c.then(function(t){r(null,t)},r)},"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(e)},801:function(t,e,r){"use strict";function n(t,e,r){var n=r[r.length-1];t===n.element&&(r.pop(),n=r[r.length-1]);var o=n.element,u=n.index;if(Array.isArray(o))o.push(t);else if(u===e.length-2){var c=e.pop();o[c]=t}else e.push(t)}e.stringify=function(t){var e=[];e.push({obj:t});for(var r,n,o,u,c,i,a,s,f,_,l,d="";r=e.pop();)if(n=r.obj,o=r.prefix||"",u=r.val||"",d+=o,u)d+=u;else if("object"!=typeof n)d+=void 0===n?null:JSON.stringify(n);else if(null===n)d+="null";else if(Array.isArray(n)){for(e.push({val:"]"}),c=n.length-1;c>=0;c--)i=0===c?"":",",e.push({obj:n[c],prefix:i});e.push({val:"["})}else{a=[];for(s in n)n.hasOwnProperty(s)&&a.push(s);for(e.push({val:"}"}),c=a.length-1;c>=0;c--)f=a[c],_=n[f],l=c>0?",":"",l+=JSON.stringify(f)+":",e.push({obj:_,prefix:l});e.push({val:"{"})}return d},e.parse=function(t){for(var e,r,o,u,c,i,a,s,f,_=[],l=[],d=0;;)if("}"!==(e=t[d++])&&"]"!==e&&void 0!==e)switch(e){case" ":case"\t":case"\n":case":":case",":break;case"n":d+=3,n(null,_,l);break;case"t":d+=3,n(!0,_,l);break;case"f":d+=4,n(!1,_,l);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(r="",d--;;){if(o=t[d++],!/[\d\.\-e\+]/.test(o)){d--;break}r+=o}n(parseFloat(r),_,l);break;case'"':for(u="",c=void 0,i=0;;){if('"'===(a=t[d++])&&("\\"!==c||i%2!=1))break;u+=a,c=a,"\\"===c?i++:i=0}n(JSON.parse('"'+u+'"'),_,l);break;case"[":s={element:[],index:_.length},_.push(s.element),l.push(s);break;case"{":f={element:{},index:_.length},_.push(f.element),l.push(f);break;default:throw new Error("unexpectedly reached end of input: "+e)}else{if(1===_.length)return _.pop();n(_.pop(),_,l)}}},807:function(t,e,r){t.exports=r(310)}},[807]);