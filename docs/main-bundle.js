webpackJsonp([0],[function(t,e,n){var r=n(2),o=n(108);t.exports=function(t){return function e(n,i){switch(arguments.length){case 0:return e;case 1:return o(n)?e:r(function(e){return t(n,e)});default:return o(n)&&o(i)?e:o(n)?r(function(e){return t(e,i)}):o(i)?r(function(e){return t(n,e)}):t(n,i)}}}},,function(t,e,n){var r=n(108);t.exports=function(t){return function e(n){return 0===arguments.length||r(n)?e:t.apply(this,arguments)}}},function(t,e,n){var r=n(2),o=n(0),i=n(108);t.exports=function(t){return function e(n,u,c){switch(arguments.length){case 0:return e;case 1:return i(n)?e:o(function(e,r){return t(n,e,r)});case 2:return i(n)&&i(u)?e:i(n)?o(function(e,n){return t(e,u,n)}):i(u)?o(function(e,r){return t(n,e,r)}):r(function(e){return t(n,u,e)});default:return i(n)&&i(u)&&i(c)?e:i(n)&&i(u)?o(function(e,n){return t(e,n,c)}):i(n)&&i(c)?o(function(e,n){return t(e,u,n)}):i(u)&&i(c)?o(function(e,r){return t(n,e,r)}):i(n)?r(function(e){return t(e,u,c)}):i(u)?r(function(e){return t(n,e,c)}):i(c)?r(function(e){return t(n,u,e)}):t(n,u,c)}}}},,,,,,,,,function(t,e,n){var r=n(51),o=n(160);t.exports=function(t,e,n){return function(){if(0===arguments.length)return n();var i=Array.prototype.slice.call(arguments,0),u=i.pop();if(!r(u)){for(var c=0;c<t.length;){if("function"==typeof u[t[c]])return u[t[c]].apply(u,i);c+=1}if(o(u))return e.apply(null,i)(u)}return n.apply(this,arguments)}}},function(t,e){t.exports={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}}},,function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},,function(t,e,n){var r=n(40),o=n(2),i=n(0),u=n(106);t.exports=i(function(t,e){return 1===t?o(e):r(t,u(t,[],e))})},,function(t,e){t.exports=function(t,e){return Object.prototype.hasOwnProperty.call(e,t)}},,,,,,function(t,e,n){var r=n(0),o=n(12),i=n(110),u=n(29),c=n(600),a=n(17),s=n(41);t.exports=r(o(["map"],c,function(t,e){switch(Object.prototype.toString.call(e)){case"[object Function]":return a(e.length,function(){return t.call(this,e.apply(this,arguments))});case"[object Object]":return u(function(n,r){return n[r]=t(e[r]),n},{},s(e));default:return i(t,e)}}))},function(t,e,n){"use strict";(function(t){function r(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,e){if(r()<e)throw new RangeError("Invalid typed array length");return i.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=i.prototype):(null===t&&(t=new i(e)),t.length=e),t}function i(t,e,n){if(!(i.TYPED_ARRAY_SUPPORT||this instanceof i))return new i(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return s(this,t)}return u(this,t,e,n)}function u(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?d(t,e,n,r):"string"==typeof e?f(t,e,n):p(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function a(t,e,n,r){return c(e),e<=0?o(t,e):void 0!==n?"string"==typeof r?o(t,e).fill(n,r):o(t,e).fill(n):o(t,e)}function s(t,e){if(c(e),t=o(t,e<0?0:0|h(e)),!i.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!i.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|v(e,n);t=o(t,r);var u=t.write(e,n);return u!==r&&(t=t.slice(0,u)),t}function l(t,e){var n=e.length<0?0:0|h(e.length);t=o(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),i.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=i.prototype):t=l(t,e),t}function p(t,e){if(i.isBuffer(e)){var n=0|h(e.length);return t=o(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||K(e.length)?o(t,0):l(t,e);if("Buffer"===e.type&&Q(e.data))return l(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function h(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function _(t){return+t!=t&&(t=0),i.alloc(+t)}function v(t,e){if(i.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(t).length;default:if(r)return $(t).length;e=(""+e).toLowerCase(),r=!0}}function g(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,n);case"utf8":case"utf-8":return C(this,e,n);case"ascii":return j(this,e,n);case"latin1":case"binary":return B(this,e,n);case"base64":return A(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function y(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function m(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=i.from(e,r)),i.isBuffer(e))return 0===e.length?-1:b(t,e,n,r,o);if("number"==typeof e)return e&=255,i.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):b(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function b(t,e,n,r,o){function i(t,e){return 1===u?t[e]:t.readUInt16BE(e*u)}var u=1,c=t.length,a=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;u=2,c/=2,a/=2,n/=2}var s;if(o){var f=-1;for(s=n;s<c;s++)if(i(t,s)===i(e,f===-1?0:s-f)){if(f===-1&&(f=s),s-f+1===a)return f*u}else f!==-1&&(s-=s-f),f=-1}else for(n+a>c&&(n=c-a),s=n;s>=0;s--){for(var l=!0,d=0;d<a;d++)if(i(t,s+d)!==i(e,d)){l=!1;break}if(l)return s}return-1}function w(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var u=0;u<r;++u){var c=parseInt(e.substr(2*u,2),16);if(isNaN(c))return u;t[n+u]=c}return u}function k(t,e,n,r){return G($(e,t.length-n),t,n,r)}function x(t,e,n,r){return G(J(e),t,n,r)}function T(t,e,n,r){return x(t,e,n,r)}function S(t,e,n,r){return G(V(e),t,n,r)}function E(t,e,n,r){return G(H(e,t.length-n),t,n,r)}function A(t,e,n){return 0===e&&n===t.length?Y.fromByteArray(t):Y.fromByteArray(t.slice(e,n))}function C(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;o<n;){var i=t[o],u=null,c=i>239?4:i>223?3:i>191?2:1;if(o+c<=n){var a,s,f,l;switch(c){case 1:i<128&&(u=i);break;case 2:128==(192&(a=t[o+1]))&&(l=(31&i)<<6|63&a)>127&&(u=l);break;case 3:a=t[o+1],s=t[o+2],128==(192&a)&&128==(192&s)&&(l=(15&i)<<12|(63&a)<<6|63&s)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:a=t[o+1],s=t[o+2],f=t[o+3],128==(192&a)&&128==(192&s)&&128==(192&f)&&(l=(15&i)<<18|(63&a)<<12|(63&s)<<6|63&f)>65535&&l<1114112&&(u=l)}}null===u?(u=65533,c=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),o+=c}return O(r)}function O(t){var e=t.length;if(e<=Z)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=Z));return n}function j(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function B(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function R(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=z(t[i]);return o}function I(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function q(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function M(t,e,n,r,o,u){if(!i.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<u)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function N(t,e,n,r){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);o<i;++o)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function D(t,e,n,r){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);o<i;++o)t[n+o]=e>>>8*(r?o:3-o)&255}function L(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(t,e,n,r,o){return o||L(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),X.write(t,e,n,r,23,4),n+4}function F(t,e,n,r,o){return o||L(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),X.write(t,e,n,r,52,8),n+8}function U(t){if(t=W(t).replace(tt,""),t.length<2)return"";for(;t.length%4!=0;)t+="=";return t}function W(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function z(t){return t<16?"0"+t.toString(16):t.toString(16)}function $(t,e){e=e||1/0;for(var n,r=t.length,o=null,i=[],u=0;u<r;++u){if((n=t.charCodeAt(u))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(u+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function J(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function H(t,e){for(var n,r,o,i=[],u=0;u<t.length&&!((e-=2)<0);++u)n=t.charCodeAt(u),r=n>>8,o=n%256,i.push(o),i.push(r);return i}function V(t){return Y.toByteArray(U(t))}function G(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}function K(t){return t!==t}var Y=n(285),X=n(473),Q=n(197);e.Buffer=i,e.SlowBuffer=_,e.INSPECT_MAX_BYTES=50,i.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=r(),i.poolSize=8192,i._augment=function(t){return t.__proto__=i.prototype,t},i.from=function(t,e,n){return u(null,t,e,n)},i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0})),i.alloc=function(t,e,n){return a(null,t,e,n)},i.allocUnsafe=function(t){return s(null,t)},i.allocUnsafeSlow=function(t){return s(null,t)},i.isBuffer=function(t){return!(null==t||!t._isBuffer)},i.compare=function(t,e){if(!i.isBuffer(t)||!i.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,o=0,u=Math.min(n,r);o<u;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},i.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(t,e){if(!Q(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return i.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=i.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var u=t[n];if(!i.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(r,o),o+=u.length}return r},i.byteLength=v,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},i.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},i.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},i.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?C(this,0,t):g.apply(this,arguments)},i.prototype.equals=function(t){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===i.compare(this,t)},i.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},i.prototype.compare=function(t,e,n,r,o){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,o>>>=0,this===t)return 0;for(var u=o-r,c=n-e,a=Math.min(u,c),s=this.slice(r,o),f=t.slice(e,n),l=0;l<a;++l)if(s[l]!==f[l]){u=s[l],c=f[l];break}return u<c?-1:c<u?1:0},i.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1},i.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},i.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},i.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return k(this,t,e,n);case"ascii":return x(this,t,e,n);case"latin1":case"binary":return T(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;i.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r;if(i.TYPED_ARRAY_SUPPORT)r=this.subarray(t,e),r.__proto__=i.prototype;else{var o=e-t;r=new i(o,void 0);for(var u=0;u<o;++u)r[u]=this[u+t]}return r},i.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||q(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},i.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||q(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},i.prototype.readUInt8=function(t,e){return e||q(t,1,this.length),this[t]},i.prototype.readUInt16LE=function(t,e){return e||q(t,2,this.length),this[t]|this[t+1]<<8},i.prototype.readUInt16BE=function(t,e){return e||q(t,2,this.length),this[t]<<8|this[t+1]},i.prototype.readUInt32LE=function(t,e){return e||q(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},i.prototype.readUInt32BE=function(t,e){return e||q(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},i.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||q(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*e)),r},i.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||q(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},i.prototype.readInt8=function(t,e){return e||q(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},i.prototype.readInt16LE=function(t,e){e||q(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(t,e){e||q(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(t,e){return e||q(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},i.prototype.readInt32BE=function(t,e){return e||q(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},i.prototype.readFloatLE=function(t,e){return e||q(t,4,this.length),X.read(this,t,!0,23,4)},i.prototype.readFloatBE=function(t,e){return e||q(t,4,this.length),X.read(this,t,!1,23,4)},i.prototype.readDoubleLE=function(t,e){return e||q(t,8,this.length),X.read(this,t,!0,52,8)},i.prototype.readDoubleBE=function(t,e){return e||q(t,8,this.length),X.read(this,t,!1,52,8)},i.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||M(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},i.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||M(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},i.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,1,255,0),i.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},i.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},i.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},i.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):D(this,t,e,!0),e+4},i.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},i.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);M(this,t,e,n,o-1,-o)}var i=0,u=1,c=0;for(this[e]=255&t;++i<n&&(u*=256);)t<0&&0===c&&0!==this[e+i-1]&&(c=1),this[e+i]=(t/u>>0)-c&255;return e+n},i.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);M(this,t,e,n,o-1,-o)}var i=n-1,u=1,c=0;for(this[e+i]=255&t;--i>=0&&(u*=256);)t<0&&0===c&&0!==this[e+i+1]&&(c=1),this[e+i]=(t/u>>0)-c&255;return e+n},i.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,1,127,-128),i.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},i.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},i.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},i.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):D(this,t,e,!0),e+4},i.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},i.prototype.writeFloatLE=function(t,e,n){return P(this,t,e,!0,n)},i.prototype.writeFloatBE=function(t,e,n){return P(this,t,e,!1,n)},i.prototype.writeDoubleLE=function(t,e,n){return F(this,t,e,!0,n)},i.prototype.writeDoubleBE=function(t,e,n){return F(this,t,e,!1,n)},i.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,u=r-n;if(this===t&&n<e&&e<r)for(o=u-1;o>=0;--o)t[o+e]=this[o+n];else if(u<1e3||!i.TYPED_ARRAY_SUPPORT)for(o=0;o<u;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+u),e);return u},i.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!i.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var u;if("number"==typeof t)for(u=e;u<n;++u)this[u]=t;else{var c=i.isBuffer(t)?t:$(new i(t,r).toString()),a=c.length;for(u=0;u<n-e;++u)this[u+e]=c[u%a]}return this};var tt=/[^+\/0-9A-Za-z-_]/g}).call(e,n(30))},,,function(t,e,n){var r=n(246),o=n(221),i=n(82);t.exports=function(){function t(t,e,n){for(var r=0,o=n.length;r<o;){if((e=t["@@transducer/step"](e,n[r]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r+=1}return t["@@transducer/result"](e)}function e(t,e,n){for(var r=n.next();!r.done;){if((e=t["@@transducer/step"](e,r.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r=n.next()}return t["@@transducer/result"](e)}function n(t,e,n){return t["@@transducer/result"](n.reduce(o(t["@@transducer/step"],t),e))}var u="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";return function(o,c,a){if("function"==typeof o&&(o=r(o)),i(a))return t(o,c,a);if("function"==typeof a.reduce)return n(o,c,a);if(null!=a[u])return e(o,c,a[u]());if("function"==typeof a.next)return e(o,c,a);throw new TypeError("reduce: list must be array or iterable")}}()},,,,,function(t,e){t.exports=function(t,e){t=t||[],e=e||[];var n,r=t.length,o=e.length,i=[];for(n=0;n<r;)i[i.length]=t[n],n+=1;for(n=0;n<o;)i[i.length]=e[n],n+=1;return i}},,,,function(t,e,n){(function(t){function n(t){return Array.isArray?Array.isArray(t):"[object Array]"===v(t)}function r(t){return"boolean"==typeof t}function o(t){return null===t}function i(t){return null==t}function u(t){return"number"==typeof t}function c(t){return"string"==typeof t}function a(t){return"symbol"==typeof t}function s(t){return void 0===t}function f(t){return"[object RegExp]"===v(t)}function l(t){return"object"==typeof t&&null!==t}function d(t){return"[object Date]"===v(t)}function p(t){return"[object Error]"===v(t)||t instanceof Error}function h(t){return"function"==typeof t}function _(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function v(t){return Object.prototype.toString.call(t)}e.isArray=n,e.isBoolean=r,e.isNull=o,e.isNullOrUndefined=i,e.isNumber=u,e.isString=c,e.isSymbol=a,e.isUndefined=s,e.isRegExp=f,e.isObject=l,e.isDate=d,e.isError=p,e.isFunction=h,e.isPrimitive=_,e.isBuffer=t.isBuffer}).call(e,n(26).Buffer)},function(t,e,n){var r=n(0),o=n(575);t.exports=r(function(t,e){return o(t,e,[],[])})},function(t,e){t.exports=function(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,r){return e.apply(this,arguments)};case 4:return function(t,n,r,o){return e.apply(this,arguments)};case 5:return function(t,n,r,o,i){return e.apply(this,arguments)};case 6:return function(t,n,r,o,i,u){return e.apply(this,arguments)};case 7:return function(t,n,r,o,i,u,c){return e.apply(this,arguments)};case 8:return function(t,n,r,o,i,u,c,a){return e.apply(this,arguments)};case 9:return function(t,n,r,o,i,u,c,a,s){return e.apply(this,arguments)};case 10:return function(t,n,r,o,i,u,c,a,s,f){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}},function(t,e,n){var r=n(2),o=n(19),i=n(239);t.exports=function(){var t=!{toString:null}.propertyIsEnumerable("toString"),e=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],n=function(){"use strict";return arguments.propertyIsEnumerable("length")}(),u=function(t,e){for(var n=0;n<t.length;){if(t[n]===e)return!0;n+=1}return!1};return r("function"!=typeof Object.keys||n?function(r){if(Object(r)!==r)return[];var c,a,s=[],f=n&&i(r);for(c in r)!o(c,r)||f&&"length"===c||(s[s.length]=c);if(t)for(a=e.length-1;a>=0;)c=e[a],o(c,r)&&!u(s,c)&&(s[s.length]=c),a-=1;return s}:function(t){return Object(t)!==t?[]:Object.keys(t)})}()},function(t,e,n){var r=n(3),o=n(29);t.exports=r(o)},,,,,function(t,e,n){"use strict";(function(t){var r=n(213);e.once=function(t){var n=!1;return e.getArguments(function(e){if(n)throw console.trace(),new Error("once called  more than once");n=!0,t.apply(this,e)})},e.getArguments=function(t){return function(){for(var e=arguments.length,n=new Array(e),r=-1;++r<e;)n[r]=arguments[r];return t.call(this,n)}},e.toPromise=function(n){return e.getArguments(function(o){var i,u=this,c="function"==typeof o[o.length-1]&&o.pop();c&&(i=function(e,n){t.nextTick(function(){c(e,n)})});var a=new r(function(t,r){try{var i=e.once(function(e,n){e?r(e):t(n)});o.push(i),n.apply(u,o)}catch(t){r(t)}});return i&&a.then(function(t){i(null,t)},i),a.cancel=function(){return this},a})},e.inherits=n(15),e.Promise=r,e.clone=function(t){return e.extend(!0,{},t)},e.extend=n(209),e.callbackify=function(t){return e.getArguments(function(n){var r=n.pop(),o=t.apply(this,n);return e.promisedCallback(o,r),o})},e.promisedCallback=function(e,n){return e.then(function(e){t.nextTick(function(){n(null,e)})},function(e){t.nextTick(function(){n(e)})}),e};var o=n(726),i=n(276);e.MD5=function(e){return t.browser?i.hash(e):o.createHash("md5").update(e).digest("hex")},e.flatten=e.getArguments(function(t){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];Array.isArray(i)?n=n.concat(e.flatten.apply(null,i)):n.push(i)}return n}),e.mergeObjects=function(t){for(var n={},r=0,o=t.length;r<o;r++)n=e.extend(!0,n,t[r]);return n},e.getFieldFromDoc=function(t,e){for(var n=t,r=0,o=e.length;r<o&&(n=n[e[r]]);r++);return n},e.setFieldInDoc=function(t,e,n){for(var r=0,o=e.length;r<o-1;r++)t=t[e[r]]={};t[e[o-1]]=n},e.parseField=function(t){for(var e=[],n="",r=0,o=t.length;r<o;r++){var i=t[r];"."===i?r>0&&"\\"===t[r-1]?n=n.substring(0,n.length-1)+".":(e.push(n),n=""):n+=i}return e.push(n),e},e.pick=function(t,n){for(var r={},o=0,i=n.length;o<i;o++){var u=e.parseField(n[o]),c=e.getFieldFromDoc(t,u);void 0!==c&&e.setFieldInDoc(r,u,c)}return r},e.oneArrayIsSubArrayOfOther=function(t,e){for(var n=0,r=Math.min(t.length,e.length);n<r;n++)if(t[n]!==e[n])return!1;return!0},e.oneArrayIsStrictSubArrayOfOther=function(t,n){return!(t.length>n.length)&&e.oneArrayIsSubArrayOfOther(t,n)},e.oneSetIsSubArrayOfOther=function(t,e){t=t.slice();for(var n=0,r=e.length;n<r;n++){var o=e[n];if(!t.length)break;var i=t.indexOf(o);if(i===-1)return!1;t.splice(i,1)}return!0},e.compare=function(t,e){return t<e?-1:t>e?1:0},e.arrayToObject=function(t){for(var e={},n=0,r=t.length;n<r;n++)e[t[n]]=!0;return e},e.max=function(t,e){for(var n=null,r=-1,o=0,i=t.length;o<i;o++){var u=t[o],c=e(u);c>r&&(r=c,n=u)}return n},e.arrayEquals=function(t,e){if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0},e.uniq=function(t){for(var e={},n=0;n<t.length;n++)e["$"+t[n]]=!0;return Object.keys(e).map(function(t){return t.substring(1)})},e.log=n(503)("pouchdb:find")}).call(e,n(11))},,,,function(t,e){t.exports=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)}},function(t,e){t.exports=function(t){return t&&t["@@transducer/reduced"]?t:{"@@transducer/value":t,"@@transducer/reduced":!0}}},function(t,e,n){function r(){o.call(this)}t.exports=r;var o=n(71).EventEmitter;n(15)(r,o),r.Readable=n(710),r.Writable=n(711),r.Duplex=n(707),r.Transform=n(275),r.PassThrough=n(709),r.Stream=r,r.prototype.pipe=function(t,e){function n(e){t.writable&&!1===t.write(e)&&s.pause&&s.pause()}function r(){s.readable&&s.resume&&s.resume()}function i(){f||(f=!0,t.end())}function u(){f||(f=!0,"function"==typeof t.destroy&&t.destroy())}function c(t){if(a(),0===o.listenerCount(this,"error"))throw t}function a(){s.removeListener("data",n),t.removeListener("drain",r),s.removeListener("end",i),s.removeListener("close",u),s.removeListener("error",c),t.removeListener("error",c),s.removeListener("end",a),s.removeListener("close",a),t.removeListener("close",a)}var s=this;s.on("data",n),t.on("drain",r),t._isStdio||e&&e.end===!1||(s.on("end",i),s.on("close",u));var f=!1;return s.on("error",c),t.on("error",c),s.on("end",a),s.on("close",a),t.on("close",a),t.emit("pipe",s),t}},,,,,,,,,,function(t,e,n){var r=n(238);t.exports=function(t,e){return r(e,t,0)>=0}},function(t,e,n){var r=n(80),o=n(3);t.exports=o(r("slice",function(t,e,n){return Array.prototype.slice.call(n,t,e)}))},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);s.call(this,t),f.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",o)}function o(){this.allowHalfOpen||this._writableState.ended||c(i,this)}function i(t){t.end()}var u=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=r;var c=n(149),a=n(38);a.inherits=n(15);var s=n(274),f=n(167);a.inherits(r,s);for(var l=u(f.prototype),d=0;d<l.length;d++){var p=l[d];r.prototype[p]||(r.prototype[p]=f.prototype[p])}},,,,,,function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function o(t){return"number"==typeof t}function i(t){return"object"==typeof t&&null!==t}function u(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!o(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,o,c,a,s;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var f=new Error('Uncaught, unspecified "error" event. ('+e+")");throw f.context=e,f}if(n=this._events[t],u(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:
n.call(this,arguments[1],arguments[2]);break;default:c=Array.prototype.slice.call(arguments,1),n.apply(this,c)}else if(i(n))for(c=Array.prototype.slice.call(arguments,1),s=n.slice(),o=s.length,a=0;a<o;a++)s[a].apply(this,c);return!0},n.prototype.addListener=function(t,e){var o;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned&&(o=u(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[t].length>o&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),o||(o=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var o=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,o,u,c;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],u=n.length,o=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(n)){for(c=u;c-- >0;)if(n[c]===e||n[c].listener&&n[c].listener===e){o=c;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){"use strict";function r(t){return Object.keys(t)[0]}function o(t){return t[r(t)]}function i(t){if(!Array.isArray(t))throw new Error("invalid sort json - should be an array");return t.map(function(t){if("string"==typeof t){var e={};return e[t]="asc",e}return t})}function u(t){return x.indexOf(t)>-1}function c(t,e,n){void 0===n.$eq&&(void 0!==n.$gte?"$gte"===t?e>n.$gte&&(n.$gte=e):e>=n.$gte&&(delete n.$gte,n.$gt=e):void 0!==n.$gt?"$gte"===t?e>n.$gt&&(delete n.$gt,n.$gte=e):e>n.$gt&&(n.$gt=e):n[t]=e)}function a(t,e,n){void 0===n.$eq&&(void 0!==n.$lte?"$lte"===t?e<n.$lte&&(n.$lte=e):e<=n.$lte&&(delete n.$lte,n.$lt=e):void 0!==n.$lt?"$lte"===t?e<n.$lt&&(delete n.$lt,n.$lte=e):e<n.$lt&&(n.$lt=e):n[t]=e)}function s(t,e){"$ne"in e?e.$ne.push(t):e.$ne=[t]}function f(t,e){delete e.$gt,delete e.$gte,delete e.$lt,delete e.$lte,delete e.$ne,e.$eq=t}function l(t){var e={};return t.forEach(function(t){Object.keys(t).forEach(function(n){var r=t[n];if("object"!=typeof r&&(r={$eq:r}),u(n))r instanceof Array?e[n]=r.map(function(t){return l([t])}):e[n]=l([r]);else{var o=e[n]=e[n]||{};Object.keys(r).forEach(function(t){var e=r[t];return"$gt"===t||"$gte"===t?c(t,e,o):"$lt"===t||"$lte"===t?a(t,e,o):"$ne"===t?s(e,o):"$eq"===t?f(e,o):void(o[t]=e)})}})}),e}function d(t){var e=w.clone(t),n=!1;"$and"in e&&(e=l(e.$and),n=!0),"$not"in e&&(e.$not=l([e.$not]));for(var r=Object.keys(e),o=0;o<r.length;o++){var i=r[o],u=e[i];"object"!=typeof u||null===u?u={$eq:u}:"$ne"in u&&!n&&(u.$ne=[u.$ne]),e[i]=u}return e}function p(t){return t.fields=t.fields.map(function(t){if("string"==typeof t){var e={};return e[t]="asc",e}return t}),t}function h(t,e){for(var n=[],o=0;o<e.def.fields.length;o++){var i=r(e.def.fields[o]);n.push(t[i])}return n}function _(t,e,n){for(var r=n.def.fields,o=0,i=t.length;o<i;o++){var u=t[o],c=h(u.doc,n);if(1===r.length)c=c[0];else for(;c.length>e.length;)c.pop();if(Math.abs(k.collate(c,e))>0)break}return o>0?t.slice(o):t}function v(t){var e=w.clone(t);return delete e.startkey,delete e.endkey,delete e.inclusive_start,delete e.inclusive_end,"endkey"in t&&(e.startkey=t.endkey),"startkey"in t&&(e.endkey=t.startkey),"inclusive_start"in t&&(e.inclusive_end=t.inclusive_start),"inclusive_end"in t&&(e.inclusive_start=t.inclusive_end),e}function g(t){var e=t.fields.filter(function(t){return"asc"===o(t)});if(0!==e.length&&e.length!==t.fields.length)throw new Error("unsupported mixed sorting")}function y(t,e){if(e.defaultUsed&&t.sort){var n=t.sort.filter(function(t){return"_id"!==Object.keys(t)[0]}).map(function(t){return Object.keys(t)[0]});if(n.length>0)throw new Error('Cannot sort on field(s) "'+n.join(",")+'" when using the default index')}e.defaultUsed}function m(t){if("object"!=typeof t.selector)throw new Error("you must provide a selector when you find()")}function b(t,e){var n,o=Object.keys(t),i=e?e.map(r):[];return n=o.length>=i.length?o:i,0===i.length?{fields:n}:(n=n.sort(function(t,e){var n=i.indexOf(t);n===-1&&(n=Number.MAX_VALUE);var r=i.indexOf(e);return r===-1&&(r=Number.MAX_VALUE),n<r?-1:n>r?1:0}),{fields:n,sortOrder:e.map(r)})}var w=n(47),k=n(101),x=["$or","$nor","$not"];t.exports={getKey:r,getValue:o,massageSort:i,massageSelector:d,validateIndex:g,validateFindRequest:m,validateSort:y,reverseOptions:v,filterInclusiveStart:_,massageIndexDef:p,parseField:w.parseField,getUserFields:b,isCombinationalField:u}},function(t,e,n){var r=n(2);t.exports=r(function(t){return function(){return t}})},function(t,e,n){var r=n(0);t.exports=r(function(t,e){return e>t?e:t})},function(t,e,n){function r(t){if(t&&!a(t))throw new Error("Unknown encoding: "+t)}function o(t){return t.toString(this.encoding)}function i(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function u(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}var c=n(26).Buffer,a=c.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},s=e.StringDecoder=function(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),r(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=i;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=u;break;default:return void(this.write=o)}this.charBuffer=new c(6),this.charReceived=0,this.charLength=0};s.prototype.write=function(t){for(var e="";this.charLength;){var n=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";t=t.slice(n,t.length),e=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var r=e.charCodeAt(e.length-1);if(!(r>=55296&&r<=56319)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var o=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,o),o-=this.charReceived),e+=t.toString(this.encoding,0,o);var o=e.length-1,r=e.charCodeAt(o);if(r>=55296&&r<=56319){var i=this.surrogateSize;return this.charLength+=i,this.charReceived+=i,this.charBuffer.copy(this.charBuffer,i,0,i),t.copy(this.charBuffer,0,0,i),e.substring(0,o)}return e},s.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var n=t[t.length-e];if(1==e&&n>>5==6){this.charLength=2;break}if(e<=2&&n>>4==14){this.charLength=3;break}if(e<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=e},s.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var n=this.charReceived,r=this.charBuffer,o=this.encoding;e+=r.slice(0,n).toString(o)}return e}},,,,function(t,e,n){var r={iceServers:[{url:"stun:stun.l.google.com:19302"}]},o=1,i=n(198),u=n(100).RTCPeerConnection,c={noop:function(){},CLOUD_HOST:"0.peerjs.com",CLOUD_PORT:9e3,chunkedBrowsers:{Chrome:1},chunkedMTU:16300,logLevel:0,setLogLevel:function(t){var e=parseInt(t,10);isNaN(parseInt(t,10))?c.logLevel=t?3:0:c.logLevel=e,c.log=c.warn=c.error=c.noop,c.logLevel>0&&(c.error=c._printWith("ERROR")),c.logLevel>1&&(c.warn=c._printWith("WARNING")),c.logLevel>2&&(c.log=c._print)},setLogFunction:function(t){t.constructor!==Function?c.warn("The log function you passed in is not a function. Defaulting to regular logs."):c._print=t},_printWith:function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t),c._print.apply(c,e)}},_print:function(){var t=!1,e=Array.prototype.slice.call(arguments);e.unshift("PeerJS: ");for(var n=0,r=e.length;n<r;n++)e[n]instanceof Error&&(e[n]="("+e[n].name+") "+e[n].message,t=!0);t?console.error.apply(console,e):console.log.apply(console,e)},defaultConfig:r,browser:function(){return window.mozRTCPeerConnection?"Firefox":window.webkitRTCPeerConnection?"Chrome":window.RTCPeerConnection?"Supported":"Unsupported"}(),supports:function(){if(void 0===u)return{};var t,e,n=!0,o=!0,i=!1,a=!1,s=!!window.webkitRTCPeerConnection;try{t=new u(r,{optional:[{RtpDataChannels:!0}]})}catch(t){n=!1,o=!1}if(n)try{e=t.createDataChannel("_PEERJSTEST")}catch(t){n=!1}if(n){try{e.binaryType="blob",i=!0}catch(t){}var f=new u(r,{});try{a=f.createDataChannel("_PEERJSRELIABLETEST",{}).reliable}catch(t){}f.close()}if(o&&(o=!!t.addStream),!s&&n){var l=new u(r,{optional:[{RtpDataChannels:!0}]});l.onnegotiationneeded=function(){s=!0,c&&c.supports&&(c.supports.onnegotiationneeded=!0)},l.createDataChannel("_PEERJSNEGOTIATIONTEST"),setTimeout(function(){l.close()},1e3)}return t&&t.close(),{audioVideo:o,data:n,binaryBlob:i,binary:a,reliable:a,sctp:a,onnegotiationneeded:s}}(),validateId:function(t){return!t||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.exec(t)},validateKey:function(t){return!t||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.exec(t)},debug:!1,inherits:function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})},extend:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},pack:i.pack,unpack:i.unpack,log:function(){if(c.debug){var t=!1,e=Array.prototype.slice.call(arguments);e.unshift("PeerJS: ");for(var n=0,r=e.length;n<r;n++)e[n]instanceof Error&&(e[n]="("+e[n].name+") "+e[n].message,t=!0);t?console.error.apply(console,e):console.log.apply(console,e)}},setZeroTimeout:function(t){function e(e){r.push(e),t.postMessage(o,"*")}function n(e){e.source==t&&e.data==o&&(e.stopPropagation&&e.stopPropagation(),r.length&&r.shift()())}var r=[],o="zero-timeout-message";return t.addEventListener?t.addEventListener("message",n,!0):t.attachEvent&&t.attachEvent("onmessage",n),e}(window),chunk:function(t){for(var e=[],n=t.size,r=index=0,i=Math.ceil(n/c.chunkedMTU);r<n;){var u=Math.min(n,r+c.chunkedMTU),a=t.slice(r,u),s={__peerData:o,n:index,data:a,total:i};e.push(s),r=u,index+=1}return o+=1,e},blobToArrayBuffer:function(t,e){var n=new FileReader;n.onload=function(t){e(t.target.result)},n.readAsArrayBuffer(t)},blobToBinaryString:function(t,e){var n=new FileReader;n.onload=function(t){e(t.target.result)},n.readAsBinaryString(t)},binaryStringToArrayBuffer:function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=255&t.charCodeAt(n);return e.buffer},randomToken:function(){return Math.random().toString(36).substr(2)},isSecure:function(){return"https:"===location.protocol}};t.exports=c},function(t,e,n){var r=n(51);t.exports=function(t,e){return function(){var n=arguments.length;if(0===n)return e();var o=arguments[n-1];return r(o)||"function"!=typeof o[t]?e.apply(this,arguments):o[t].apply(o,Array.prototype.slice.call(arguments,0,n-1))}}},function(t,e,n){var r=n(0),o=n(107),i=n(17),u=n(86);t.exports=r(function(t,e){return i(t+1,function(){var n=arguments[t];if(null!=n&&o(n[e]))return n[e].apply(n,Array.prototype.slice.call(arguments,0,t));throw new TypeError(u(n)+' does not have a method named "'+e+'"')})})},function(t,e,n){var r=n(2),o=n(51),i=n(109);t.exports=r(function(t){return!!o(t)||!!t&&"object"==typeof t&&!i(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1))})},function(t,e,n){var r=n(0),o=n(109);t.exports=r(function(t,e){var n=t<0?e.length+t:t;return o(e)?e.charAt(n):e[n]})},function(t,e,n){var r=n(0);t.exports=r(function(t,e){for(var n=e,r=0;r<t.length;){if(null==n)return;n=n[t[r]],r+=1}return n})},function(t,e,n){var r=n(0),o=n(25),i=n(161);t.exports=r(function(t,e){return o(i(t),e)})},function(t,e,n){var r=n(2),o=n(587);t.exports=r(function(t){return o(t,[])})},,,,,,,,,,,,function(t,e,n){"use strict";function r(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(){}o.prototype._events=void 0,o.prototype.listeners=function(t){if(!this._events||!this._events[t])return[];if(this._events[t].fn)return[this._events[t].fn];for(var e=0,n=this._events[t].length,r=new Array(n);e<n;e++)r[e]=this._events[t][e].fn;return r},o.prototype.emit=function(t,e,n,r,o,i){if(!this._events||!this._events[t])return!1;var u,c,a=this._events[t],s=arguments.length;if("function"==typeof a.fn){switch(a.once&&this.removeListener(t,a.fn,!0),s){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,e),!0;case 3:return a.fn.call(a.context,e,n),!0;case 4:return a.fn.call(a.context,e,n,r),!0;case 5:return a.fn.call(a.context,e,n,r,o),!0;case 6:return a.fn.call(a.context,e,n,r,o,i),!0}for(c=1,u=new Array(s-1);c<s;c++)u[c-1]=arguments[c];a.fn.apply(a.context,u)}else{var f,l=a.length;for(c=0;c<l;c++)switch(a[c].once&&this.removeListener(t,a[c].fn,!0),s){case 1:a[c].fn.call(a[c].context);break;case 2:a[c].fn.call(a[c].context,e);break;case 3:a[c].fn.call(a[c].context,e,n);break;default:if(!u)for(f=1,u=new Array(s-1);f<s;f++)u[f-1]=arguments[f];a[c].fn.apply(a[c].context,u)}}return!0},o.prototype.on=function(t,e,n){var o=new r(e,n||this);return this._events||(this._events={}),this._events[t]?this._events[t].fn?this._events[t]=[this._events[t],o]:this._events[t].push(o):this._events[t]=o,this},o.prototype.once=function(t,e,n){var o=new r(e,n||this,!0);return this._events||(this._events={}),this._events[t]?this._events[t].fn?this._events[t]=[this._events[t],o]:this._events[t].push(o):this._events[t]=o,this},o.prototype.removeListener=function(t,e,n){if(!this._events||!this._events[t])return this;var r=this._events[t],o=[];if(e&&(r.fn&&(r.fn!==e||n&&!r.once)&&o.push(r),!r.fn))for(var i=0,u=r.length;i<u;i++)(r[i].fn!==e||n&&!r[i].once)&&o.push(r[i]);return o.length?this._events[t]=1===o.length?o[0]:o:delete this._events[t],this},o.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[t]:this._events={},this):this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.EventEmitter=o,o.EventEmitter2=o,o.EventEmitter3=o,t.exports=o},function(t,e,n){"use strict";(function(e){function n(){f=!0;for(var t,e,n=l.length;n;){for(e=l,l=[],t=-1;++t<n;)e[t]();n=l.length}f=!1}function r(t){1!==l.push(t)||f||o()}var o,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var u=0,c=new i(n),a=e.document.createTextNode("");c.observe(a,{characterData:!0}),o=function(){a.data=u=++u%2}}else if(e.setImmediate||void 0===e.MessageChannel)o="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(n,0)};else{var s=new e.MessageChannel;s.port1.onmessage=n,o=function(){s.port2.postMessage(0)}}var f,l=[];t.exports=r}).call(e,n(30))},function(t,e){t.exports.RTCSessionDescription=window.RTCSessionDescription||window.mozRTCSessionDescription,t.exports.RTCPeerConnection=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,t.exports.RTCIceCandidate=window.RTCIceCandidate||window.mozRTCIceCandidate},function(t,e,n){"use strict";function r(t){if(null!==t)switch(typeof t){case"boolean":return t?1:0;case"number":return f(t);case"string":return t.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var n=Array.isArray(t),r=n?t:Object.keys(t),o=-1,i=r.length,u="";if(n)for(;++o<i;)u+=e.toIndexableString(r[o]);else for(;++o<i;){var c=r[o];u+=e.toIndexableString(c)+e.toIndexableString(t[c])}return u}return""}function o(t,e){var n,r=e;if("1"===t[e])n=0,e++;else{var o="0"===t[e];e++;var i="",u=t.substring(e,e+d),c=parseInt(u,10)+l;for(o&&(c=-c),e+=d;;){var a=t[e];if("\0"===a)break;i+=a,e++}i=i.split("."),n=1===i.length?parseInt(i,10):parseFloat(i[0]+"."+i[1]),o&&(n-=10),0!==c&&(n=parseFloat(n+"e"+c))}return{num:n,length:e-r}}function i(t,e){var n=t.pop();if(e.length){var r=e[e.length-1];n===r.element&&(e.pop(),r=e[e.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(n);else if(i===t.length-2){var u=t.pop();o[u]=n}else t.push(n)}}function u(t,n){for(var r=Math.min(t.length,n.length),o=0;o<r;o++){var i=e.collate(t[o],n[o]);if(0!==i)return i}return t.length===n.length?0:t.length>n.length?1:-1}function c(t,e){return t===e?0:t>e?1:-1}function a(t,n){for(var r=Object.keys(t),o=Object.keys(n),i=Math.min(r.length,o.length),u=0;u<i;u++){var c=e.collate(r[u],o[u]);if(0!==c)return c;if(0!==(c=e.collate(t[r[u]],n[o[u]])))return c}return r.length===o.length?0:r.length>o.length?1:-1}function s(t){var e=["boolean","number","string","object"],n=e.indexOf(typeof t);return~n?null===t?1:Array.isArray(t)?5:n<3?n+2:n+3:Array.isArray(t)?5:void 0}function f(t){if(0===t)return"1";var e=t.toExponential().split(/e\+?/),n=parseInt(e[1],10),r=t<0,o=r?"0":"2",i=(r?-n:n)-l;o+=p+h.padLeft(i.toString(),"0",d);var u=Math.abs(parseFloat(e[0]));r&&(u=10-u);var c=u.toFixed(20);return c=c.replace(/\.?0+$/,""),o+=p+c}var l=-324,d=3,p="",h=n(491);e.collate=function(t,n){if(t===n)return 0;t=e.normalizeKey(t),n=e.normalizeKey(n);var r=s(t),o=s(n);if(r-o!=0)return r-o;if(null===t)return 0;switch(typeof t){case"number":return t-n;case"boolean":return t===n?0:t<n?-1:1;case"string":return c(t,n)}return Array.isArray(t)?u(t,n):a(t,n)},e.normalizeKey=function(t){switch(typeof t){case"undefined":return null;case"number":return 1/0===t||t===-1/0||isNaN(t)?null:t;case"object":var n=t;if(Array.isArray(t)){var r=t.length;t=new Array(r);for(var o=0;o<r;o++)t[o]=e.normalizeKey(n[o])}else{if(t instanceof Date)return t.toJSON();if(null!==t){t={};for(var i in n)if(n.hasOwnProperty(i)){var u=n[i];void 0!==u&&(t[i]=e.normalizeKey(u))}}}}return t},e.toIndexableString=function(t){return t=e.normalizeKey(t),s(t)+p+r(t)+"\0"},e.parseIndexableString=function(t){for(var e=[],n=[],r=0;;){var u=t[r++];if("\0"!==u)switch(u){case"1":e.push(null);break;case"2":e.push("1"===t[r]),r++;break;case"3":var c=o(t,r);e.push(c.num),r+=c.length;break;case"4":for(var a="";;){var s=t[r];if("\0"===s)break;a+=s,r++}a=a.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),e.push(a);break;case"5":var f={element:[],index:e.length};e.push(f.element),n.push(f);break;case"6":var l={element:{},index:e.length};e.push(l.element),n.push(l);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+u)}else{if(1===e.length)return e.pop();i(e,n)}}}},function(t,e,n){var r=n(0);t.exports=r(function(t,e){return Number(t)+Number(e)})},function(t,e,n){var r=n(3);t.exports=r(function(t,e,n){var r={};for(var o in n)r[o]=n[o];return r[t]=e,r})},function(t,e,n){var r=n(2),o=n(17);t.exports=r(function(t){return o(t.length,t)})},function(t,e,n){var r=n(2),o=n(104);t.exports=r(function(t){return o(function(e,n){var r=Array.prototype.slice.call(arguments,0);return r[0]=n,r[1]=e,t.apply(this,r)})})},function(t,e,n){var r=n(40),o=n(108);t.exports=function t(e,n,i){return function(){for(var u=[],c=0,a=e,s=0;s<n.length||c<arguments.length;){var f;s<n.length&&(!o(n[s])||c>=arguments.length)?f=n[s]:(f=arguments[c],c+=1),u[s]=f,o(f)||(a-=1),s+=1}return a<=0?i.apply(this,u):r(a,t(e,u,i))}}},function(t,e){t.exports=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t&&t["@@functional/placeholder"]===!0}},function(t,e){t.exports=function(t){return"[object String]"===Object.prototype.toString.call(t)}},function(t,e){t.exports=function(t,e){for(var n=0,r=e.length,o=Array(r);n<r;)o[n]=t(e[n]),n+=1;return o}},function(t,e,n){var r=n(0),o=n(25);t.exports=r(function(t,e){return function(n){return function(r){return o(function(t){return e(t,r)},n(t(r)))}}})},function(t,e,n){var r=n(2),o=n(251);t.exports=r(function(t){return o(t.length,t)})},function(t,e,n){var r=n(0);t.exports=r(function(t,e){switch(t){case 0:return function(){return e.call(this)};case 1:return function(t){return e.call(this,t)};case 2:return function(t,n){return e.call(this,t,n)};case 3:return function(t,n,r){return e.call(this,t,n,r)};case 4:return function(t,n,r,o){return e.call(this,t,n,r,o)};case 5:return function(t,n,r,o,i){return e.call(this,t,n,r,o,i)};case 6:return function(t,n,r,o,i,u){return e.call(this,t,n,r,o,i,u)};case 7:return function(t,n,r,o,i,u,c){return e.call(this,t,n,r,o,i,u,c)};case 8:return function(t,n,r,o,i,u,c,a){return e.call(this,t,n,r,o,i,u,c,a)};case 9:return function(t,n,r,o,i,u,c,a,s){return e.call(this,t,n,r,o,i,u,c,a,s)};case 10:return function(t,n,r,o,i,u,c,a,s,f){return e.call(this,t,n,r,o,i,u,c,a,s,f)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}})},function(t,e,n){var r=n(106),o=n(12),i=n(19),u=n(29),c=n(601);t.exports=r(4,[],o([],c,function(t,e,n,r){return u(function(r,o){var u=n(o);return r[u]=t(i(u,r)?r[u]:e,o),r},{},r)}))},function(t,e,n){var r=n(235),o=n(0),i=n(155);t.exports=o(function(t,e){return i(r(t),e)})},function(t,e,n){var r=n(2),o=n(109);t.exports=r(function(t){return o(t)?t.split("").reverse().join(""):Array.prototype.slice.call(t,0).reverse()})},function(t,e,n){(function(e){function r(t){u.call(this,t),this._destroyed=!1}function o(t,e,n){n(null,t)}function i(t){return function(e,n,r){return"function"==typeof e&&(r=n,n=e,e={}),"function"!=typeof n&&(n=o),"function"!=typeof r&&(r=null),t(e,n,r)}}var u=n(275),c=n(277).inherits,a=n(725);c(r,u),r.prototype.destroy=function(t){if(!this._destroyed){this._destroyed=!0;var n=this;e.nextTick(function(){t&&n.emit("error",t),n.emit("close")})}},t.exports=i(function(t,e,n){var o=new r(t);return o._transform=e,n&&(o._flush=n),o}),t.exports.ctor=i(function(t,e,n){function o(e){if(!(this instanceof o))return new o(e);this.options=a(t,e),r.call(this,this.options)}return c(o,r),o.prototype._transform=e,n&&(o.prototype._flush=n),o}),t.exports.obj=i(function(t,e,n){var o=new r(a({objectMode:!0,highWaterMark:16},t));return o._transform=e,n&&(o._flush=n),o})}).call(e,n(11))},function(t,e,n){"use strict";(function(t){var r=n(26),o=r.Buffer,i=r.SlowBuffer,u=r.kMaxLength||2147483647;e.alloc=function(t,e,n){if("function"==typeof o.alloc)return o.alloc(t,e,n);if("number"==typeof n)throw new TypeError("encoding must not be number");if("number"!=typeof t)throw new TypeError("size must be a number");if(t>u)throw new RangeError("size is too large");var r=n,i=e;void 0===i&&(r=void 0,i=0);var c=new o(t);if("string"==typeof i)for(var a=new o(i,r),s=a.length,f=-1;++f<t;)c[f]=a[f%s];else c.fill(i);return c},e.allocUnsafe=function(t){if("function"==typeof o.allocUnsafe)return o.allocUnsafe(t);if("number"!=typeof t)throw new TypeError("size must be a number");if(t>u)throw new RangeError("size is too large");return new o(t)},e.from=function(e,n,r){if("function"==typeof o.from&&(!t.Uint8Array||Uint8Array.from!==o.from))return o.from(e,n,r);if("number"==typeof e)throw new TypeError('"value" argument must not be a number');if("string"==typeof e)return new o(e,n);if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer){var i=n;if(1===arguments.length)return new o(e);void 0===i&&(i=0);var u=r;if(void 0===u&&(u=e.byteLength-i),i>=e.byteLength)throw new RangeError("'offset' is out of bounds");if(u>e.byteLength-i)throw new RangeError("'length' is out of bounds");return new o(e.slice(i,i+u))}if(o.isBuffer(e)){var c=new o(e.length);return e.copy(c,0,0,e.length),c}if(e){if(Array.isArray(e)||"undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return new o(e);if("Buffer"===e.type&&Array.isArray(e.data))return new o(e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},e.allocUnsafeSlow=function(t){if("function"==typeof o.allocUnsafeSlow)return o.allocUnsafeSlow(t);if("number"!=typeof t)throw new TypeError("size must be a number");if(t>=u)throw new RangeError("size is too large");return new i(t)}}).call(e,n(30))},,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){(function(e){function r(t){if(!(this instanceof r))return new r(t);c.call(this,t),a.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",o)}function o(){this.allowHalfOpen||this._writableState.ended||e.nextTick(this.end.bind(this))}t.exports=r;var i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e},u=n(38);u.inherits=n(15);var c=n(205),a=n(207);u.inherits(r,c),function(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)}(i(a.prototype),function(t){r.prototype[t]||(r.prototype[t]=a.prototype[t])})}).call(e,n(11))},function(t,e,n){"use strict";(function(t){e.Promise=n(213),e.inherits=n(15),e.extend=n(209);var r=n(168);e.promisedCallback=function(e,n){return n&&e.then(function(e){t.nextTick(function(){n(null,e)})},function(e){t.nextTick(function(){n(e)})}),e},e.callbackify=function(t){return r(function(n){var r=n.pop(),o=t.apply(this,n);return"function"==typeof r&&e.promisedCallback(o,r),o})},e.fin=function(t,e){return t.then(function(t){var n=e();return"function"==typeof n.then?n.then(function(){return t}):t},function(t){var n=e();if("function"==typeof n.then)return n.then(function(){throw t});throw t})},e.sequentialize=function(t,e){return function(){var n=arguments,r=this;return t.add(function(){return e.apply(r,n)})}},e.flatten=function(t){for(var e=[],n=0,r=t.length;n<r;n++)e=e.concat(t[n]);return e},e.uniq=function(t){for(var e={},n=0,r=t.length;n<r;n++)e["$"+t[n]]=!0;var o=Object.keys(e),i=new Array(o.length);for(n=0,r=o.length;n<r;n++)i[n]=o[n].substring(1);return i};var o=n(727),i=n(276);e.MD5=function(e){return t.browser?i.hash(e):o.createHash("md5").update(e).digest("hex")}}).call(e,n(11))},function(t,e,n){"use strict";function r(t,e){return function(n){for(var r=[],o=0,i=t.length;o<i;o++){for(var u=h(t[o]),c=n,a=0,s=u.length;a<s&&(c=c[u[a]]);a++);r.push(c)}e(r)}}function o(t,e){var n=h(t);return function(t){for(var r=t,o=0,i=n.length;o<i;o++)if(!(r=r[n[o]]))return;e(r)}}function i(t,e){return function(n){e(n[t])}}function u(t,e){return function(n){for(var r=[],o=0,i=t.length;o<i;o++)r.push(n[t[o]]);e(r)}}function c(t){for(var e=0,n=t.length;e<n;e++)if(t[e].indexOf(".")!==-1)return!1;return!0}function a(t,e){var n=c(t),a=1===t.length;return n?a?i(t[0],e):u(t,e):a?o(t[0],e):r(t,e)}function s(t,e){return a(Object.keys(t.fields),e)}function f(){throw new Error("reduce not supported")}function l(t,e){var n=t.views[e];if(!n.map||!n.map.fields)throw new Error("ddoc "+t._id+" with view "+e+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")}var d=n(72),p=n(493),h=d.parseField,_=p({name:"indexes",mapper:s,reducer:f,ddocValidator:l});t.exports=_},function(t,e,n){"use strict";var r=function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(n(506)),o="function"==typeof Promise?Promise:r;t.exports=o},function(t,e,n){"use strict";(function(e){function n(t,n,r,o){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var i,u,c=arguments.length;switch(c){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,r)});case 4:return e.nextTick(function(){t.call(null,n,r,o)});default:for(i=new Array(c-1),u=0;u<i.length;)i[u++]=arguments[u];return e.nextTick(function(){t.apply(null,i)})}}!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports=n:t.exports=e.nextTick}).call(e,n(11))},function(t,e,n){t.exports={F:n(513),T:n(514),__:n(515),add:n(102),addIndex:n(516),adjust:n(216),all:n(517),allPass:n(518),always:n(73),and:n(217),any:n(218),anyPass:n(519),ap:n(151),aperture:n(520),append:n(521),apply:n(219),applySpec:n(522),ascend:n(523),assoc:n(103),assocPath:n(220),binary:n(524),bind:n(221),both:n(525),call:n(526),chain:n(152),clamp:n(527),clone:n(528),comparator:n(529),complement:n(530),compose:n(153),composeK:n(222),composeP:n(531),concat:n(154),cond:n(532),construct:n(533),constructN:n(223),contains:n(534),converge:n(224),countBy:n(535),curry:n(104),curryN:n(17),dec:n(536),descend:n(537),defaultTo:n(225),difference:n(226),differenceWith:n(227),dissoc:n(228),dissocPath:n(538),divide:n(539),drop:n(229),dropLast:n(540),dropLastWhile:n(541),dropRepeats:n(542),dropRepeatsWith:n(230),dropWhile:n(543),either:n(544),empty:n(231),eqBy:n(545),eqProps:n(546),equals:n(39),evolve:n(547),filter:n(155),find:n(548),findIndex:n(549),findLast:n(550),findLastIndex:n(551),flatten:n(552),flip:n(105),forEach:n(553),forEachObjIndexed:n(554),fromPairs:n(555),groupBy:n(556),groupWith:n(557),gt:n(558),gte:n(559),has:n(560),hasIn:n(561),head:n(562),identical:n(232),identity:n(156),ifElse:n(563),inc:n(564),indexBy:n(565),indexOf:n(566),init:n(567),insert:n(568),insertAll:n(569),intersection:n(604),intersectionWith:n(605),intersperse:n(606),into:n(607),invert:n(608),invertObj:n(609),invoker:n(81),is:n(247),isArrayLike:n(82),isEmpty:n(610),isNil:n(611),join:n(612),juxt:n(248),keys:n(41),keysIn:n(613),last:n(249),lastIndexOf:n(614),length:n(250),lens:n(111),lensIndex:n(615),lensPath:n(616),lensProp:n(617),lift:n(112),liftN:n(251),lt:n(618),lte:n(619),map:n(25),mapAccum:n(620),mapAccumRight:n(621),mapObjIndexed:n(622),match:n(623),mathMod:n(624),max:n(74),maxBy:n(625),mean:n(252),median:n(626),memoize:n(627),merge:n(628),mergeAll:n(629),mergeWith:n(630),mergeWithKey:n(253),min:n(631),minBy:n(632),modulo:n(633),multiply:n(254),nAry:n(113),negate:n(634),none:n(635),not:n(255),nth:n(83),nthArg:n(636),objOf:n(256),of:n(637),omit:n(638),once:n(639),or:n(257),over:n(258),pair:n(640),partial:n(641),partialRight:n(642),partition:n(643),path:n(84),pathEq:n(644),pathOr:n(645),pathSatisfies:n(646),pick:n(647),pickAll:n(259),pickBy:n(648),pipe:n(260),pipeK:n(649),pipeP:n(261),pluck:n(85),prepend:n(262),product:n(650),project:n(651),prop:n(161),propEq:n(652),propIs:n(653),propOr:n(654),propSatisfies:n(655),props:n(656),range:n(657),reduce:n(42),reduceBy:n(114),reduceRight:n(263),reduceWhile:n(658),reduced:n(659),reject:n(115),remove:n(660),repeat:n(661),replace:n(662),reverse:n(116),scan:n(663),sequence:n(264),set:n(664),slice:n(64),sort:n(665),sortBy:n(666),sortWith:n(667),split:n(668),splitAt:n(669),splitEvery:n(670),splitWhen:n(671),subtract:n(672),sum:n(265),symmetricDifference:n(673),symmetricDifferenceWith:n(674),tail:n(162),take:n(266),takeLast:n(675),takeLastWhile:n(676),takeWhile:n(677),
tap:n(678),test:n(679),times:n(267),toLower:n(680),toPairs:n(681),toPairsIn:n(682),toString:n(86),toUpper:n(683),transduce:n(684),transpose:n(685),traverse:n(686),trim:n(687),tryCatch:n(688),type:n(163),unapply:n(689),unary:n(690),uncurryN:n(691),unfold:n(692),union:n(693),unionWith:n(694),uniq:n(164),uniqBy:n(268),uniqWith:n(165),unless:n(695),unnest:n(696),until:n(697),update:n(269),useWith:n(270),values:n(271),valuesIn:n(698),view:n(699),when:n(700),where:n(272),whereEq:n(701),without:n(702),xprod:n(703),zip:n(704),zipObj:n(705),zipWith:n(706)}},function(t,e,n){var r=n(34),o=n(0),i=n(29),u=n(25);t.exports=o(function(t,e){return"function"==typeof t.ap?t.ap(e):"function"==typeof t?function(n){return t(n)(e(n))}:i(function(t,n){return r(t,u(n,e))},[],t)})},function(t,e,n){var r=n(0),o=n(12),i=n(243),u=n(590),c=n(25);t.exports=r(o(["chain"],u,function(t,e){return"function"==typeof e?function(n){return t(e(n))(n)}:i(!1)(c(t,e))}))},function(t,e,n){var r=n(260),o=n(116);t.exports=function(){if(0===arguments.length)throw new Error("compose requires at least one argument");return r.apply(this,o(arguments))}},function(t,e,n){var r=n(0),o=n(51),i=n(107),u=n(86);t.exports=r(function(t,e){if(null==t||!i(t.concat))throw new TypeError(u(t)+' does not have a method named "concat"');if(o(t)&&!o(e))throw new TypeError(u(e)+" is not an array");return t.concat(e)})},function(t,e,n){var r=n(0),o=n(12),i=n(237),u=n(242),c=n(29),a=n(595),s=n(41);t.exports=r(o(["filter"],a,function(t,e){return u(e)?c(function(n,r){return t(e[r])&&(n[r]=e[r]),n},{},s(e)):i(t,e)}))},function(t,e,n){var r=n(2),o=n(159);t.exports=r(o)},function(t,e,n){var r=n(580);t.exports="function"==typeof Object.assign?Object.assign:r},function(t,e){t.exports=function(t,e,n){for(var r=0,o=n.length;r<o;){if(t(e,n[r]))return!0;r+=1}return!1}},function(t,e){t.exports=function(t){return t}},function(t,e){t.exports=function(t){return"function"==typeof t["@@transducer/step"]}},function(t,e,n){var r=n(0);t.exports=r(function(t,e){return e[t]})},function(t,e,n){var r=n(80),o=n(2),i=n(64);t.exports=o(r("tail",i(1,1/0)))},function(t,e,n){var r=n(2);t.exports=r(function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)})},function(t,e,n){var r=n(156),o=n(268);t.exports=o(r)},function(t,e,n){var r=n(158),o=n(0);t.exports=o(function(t,e){for(var n,o=0,i=e.length,u=[];o<i;)n=e[o],r(t,n,u)||(u[u.length]=n),o+=1;return u})},function(t,e,n){"use strict";function r(t){this.afterTransform=function(e,n){return o(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function o(t,e,n){var r=t._transformState;r.transforming=!1;var o=r.writecb;if(!o)return t.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,null!==n&&void 0!==n&&t.push(n),o(e);var i=t._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&t._read(i.highWaterMark)}function i(t){if(!(this instanceof i))return new i(t);c.call(this,t),this._transformState=new r(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(t,n){u(e,t,n)}):u(e)})}function u(t,e,n){if(e)return t.emit("error",e);null!==n&&void 0!==n&&t.push(n);var r=t._writableState,o=t._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(o.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}t.exports=i;var c=n(65),a=n(38);a.inherits=n(15),a.inherits(i,c),i.prototype.push=function(t,e){return this._transformState.needTransform=!1,c.prototype.push.call(this,t,e)},i.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},i.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var o=this._readableState;(r.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},i.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0}},function(t,e,n){"use strict";(function(e,r){function o(t){this.next=null,this.entry=null,this.finish=onCorkedFinish.bind(void 0,this,t)}function i(){}function u(t,e,n){this.chunk=t,this.encoding=e,this.callback=n,this.next=null}function c(t,e){T=T||n(65),t=t||{},this.objectMode=!!t.objectMode,e instanceof T&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var u=t.decodeStrings===!1;this.decodeStrings=!u,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){v(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function a(t){if(T=T||n(65),!(R.call(a,this)||this instanceof T))return new a(t);this._writableState=new c(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev)),C.call(this)}function s(t,e){var n=new Error("write after end");t.emit("error",n),S(e,n)}function f(t,e,n,r){var o=!0,i=!1;return null===n?i=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(i=new TypeError("Invalid non-string/buffer chunk")),i&&(t.emit("error",i),S(r,i),o=!1),o}function l(t,e,n){return t.objectMode||t.decodeStrings===!1||"string"!=typeof e||(e=B.from(e,n)),e}function d(t,e,n,r,o,i){n||(r=l(e,r,o),j.isBuffer(r)&&(o="buffer"));var c=e.objectMode?1:r.length;e.length+=c;var a=e.length<e.highWaterMark;if(a||(e.needDrain=!0),e.writing||e.corked){var s=e.lastBufferedRequest;e.lastBufferedRequest=new u(r,o,i),s?s.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else p(t,e,!1,c,r,o,i);return a}function p(t,e,n,r,o,i,u){e.writelen=r,e.writecb=u,e.writing=!0,e.sync=!0,n?t._writev(o,e.onwrite):t._write(o,i,e.onwrite),e.sync=!1}function h(t,e,n,r,o){--e.pendingcb,n?S(o,r):o(r),t._writableState.errorEmitted=!0,t.emit("error",r)}function _(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function v(t,e){var n=t._writableState,r=n.sync,o=n.writecb;if(_(n),e)h(t,n,r,e,o);else{var i=b(n);i||n.corked||n.bufferProcessing||!n.bufferedRequest||m(t,n),r?E(g,t,n,i,o):g(t,n,i,o)}}function g(t,e,n,r){n||y(t,e),e.pendingcb--,r(),k(t,e)}function y(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function m(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),u=e.corkedRequestsFree;u.entry=n;for(var c=0;n;)i[c]=n,n=n.next,c+=1;p(t,e,!0,e.length,i,"",u.finish),e.pendingcb++,e.lastBufferedRequest=null,u.next?(e.corkedRequestsFree=u.next,u.next=null):e.corkedRequestsFree=new o(e)}else{for(;n;){var a=n.chunk,s=n.encoding,f=n.callback;if(p(t,e,!1,e.objectMode?1:a.length,a,s,f),n=n.next,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=n,e.bufferProcessing=!1}function b(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function w(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function k(t,e){var n=b(e);return n&&(0===e.pendingcb?(w(t,e),e.finished=!0,t.emit("finish")):w(t,e)),n}function x(t,e,n){e.ending=!0,k(t,e),n&&(e.finished?S(n):t.once("finish",n)),e.ended=!0,t.writable=!1}function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(n){var r=e.entry;for(e.entry=null;r;){var o=r.callback;t.pendingcb--,o(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}}t.exports=a;var T,S=n(149),E=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?r:S;a.WritableState=c;var A=n(38);A.inherits=n(15);var C,O={deprecate:n(721)};!function(){try{C=n(53)}catch(t){}finally{C||(C=n(71).EventEmitter)}}();var j=n(26).Buffer,B=n(118);A.inherits(a,C),c.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(c.prototype,"buffer",{get:O.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(t){}}();var R;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(R=Function.prototype[Symbol.hasInstance],Object.defineProperty(a,Symbol.hasInstance,{value:function(t){return!!R.call(this,t)||t&&t._writableState instanceof c}})):R=function(t){return t instanceof this},a.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},a.prototype.write=function(t,e,n){var r=this._writableState,o=!1,u=j.isBuffer(t);return"function"==typeof e&&(n=e,e=null),u?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof n&&(n=i),r.ended?s(this,n):(u||f(this,r,t,n))&&(r.pendingcb++,o=d(this,r,u,t,e,n)),o},a.prototype.cork=function(){this._writableState.corked++},a.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||m(this,t))},a.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},a.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},a.prototype._writev=null,a.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||x(this,r,n)}}).call(e,n(11),n(720).setImmediate)},function(t,e,n){"use strict";function r(t){return function(){var e=arguments.length;if(e){for(var n=[],r=-1;++r<e;)n[r]=arguments[r];return t.call(this,n)}return t.call(this,[])}}t.exports=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){function r(t){this.index=0,this.dataBuffer=t,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}function o(){this.bufferBuilder=new c}function i(t){var e=t.charCodeAt(0);return e<=2047?"00":e<=65535?"000":e<=2097151?"0000":e<=67108863?"00000":"000000"}function u(t){return t.length>600?new Blob([t]).size:t.replace(/[^\u0000-\u007F]/g,i).length}var c=n(199).BufferBuilder,a=n(199).binaryFeatures,s={unpack:function(t){return new r(t).unpack()},pack:function(t){var e=new o;return e.pack(t),e.getBuffer()}};t.exports=s,r.prototype.unpack=function(){var t=this.unpack_uint8();if(t<128)return t;if((224^t)<32)return(224^t)-32;var e;if((e=160^t)<=15)return this.unpack_raw(e);if((e=176^t)<=15)return this.unpack_string(e);if((e=144^t)<=15)return this.unpack_array(e);if((e=128^t)<=15)return this.unpack_map(e);switch(t){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:case 213:case 214:case 215:return;case 216:return e=this.unpack_uint16(),this.unpack_string(e);case 217:return e=this.unpack_uint32(),this.unpack_string(e);case 218:return e=this.unpack_uint16(),this.unpack_raw(e);case 219:return e=this.unpack_uint32(),this.unpack_raw(e);case 220:return e=this.unpack_uint16(),this.unpack_array(e);case 221:return e=this.unpack_uint32(),this.unpack_array(e);case 222:return e=this.unpack_uint16(),this.unpack_map(e);case 223:return e=this.unpack_uint32(),this.unpack_map(e)}},r.prototype.unpack_uint8=function(){var t=255&this.dataView[this.index];return this.index++,t},r.prototype.unpack_uint16=function(){var t=this.read(2),e=256*(255&t[0])+(255&t[1]);return this.index+=2,e},r.prototype.unpack_uint32=function(){var t=this.read(4),e=256*(256*(256*t[0]+t[1])+t[2])+t[3];return this.index+=4,e},r.prototype.unpack_uint64=function(){var t=this.read(8),e=256*(256*(256*(256*(256*(256*(256*t[0]+t[1])+t[2])+t[3])+t[4])+t[5])+t[6])+t[7];return this.index+=8,e},r.prototype.unpack_int8=function(){var t=this.unpack_uint8();return t<128?t:t-256},r.prototype.unpack_int16=function(){var t=this.unpack_uint16();return t<32768?t:t-65536},r.prototype.unpack_int32=function(){var t=this.unpack_uint32();return t<Math.pow(2,31)?t:t-Math.pow(2,32)},r.prototype.unpack_int64=function(){var t=this.unpack_uint64();return t<Math.pow(2,63)?t:t-Math.pow(2,64)},r.prototype.unpack_raw=function(t){if(this.length<this.index+t)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+t+" "+this.length);var e=this.dataBuffer.slice(this.index,this.index+t);return this.index+=t,e},r.prototype.unpack_string=function(t){for(var e,n,r=this.read(t),o=0,i="";o<t;)e=r[o],e<128?(i+=String.fromCharCode(e),o++):(192^e)<32?(n=(192^e)<<6|63&r[o+1],i+=String.fromCharCode(n),o+=2):(n=(15&e)<<12|(63&r[o+1])<<6|63&r[o+2],i+=String.fromCharCode(n),o+=3);return this.index+=t,i},r.prototype.unpack_array=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=this.unpack();return e},r.prototype.unpack_map=function(t){for(var e={},n=0;n<t;n++){var r=this.unpack(),o=this.unpack();e[r]=o}return e},r.prototype.unpack_float=function(){var t=this.unpack_uint32(),e=t>>31,n=(t>>23&255)-127,r=8388607&t|8388608;return(0==e?1:-1)*r*Math.pow(2,n-23)},r.prototype.unpack_double=function(){var t=this.unpack_uint32(),e=this.unpack_uint32(),n=t>>31,r=(t>>20&2047)-1023,o=1048575&t|1048576,i=o*Math.pow(2,r-20)+e*Math.pow(2,r-52);return(0==n?1:-1)*i},r.prototype.read=function(t){var e=this.index;if(e+t<=this.length)return this.dataView.subarray(e,e+t);throw new Error("BinaryPackFailure: read index out of range")},o.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},o.prototype.pack=function(t){var e=typeof t;if("string"==e)this.pack_string(t);else if("number"==e)Math.floor(t)===t?this.pack_integer(t):this.pack_double(t);else if("boolean"==e)t===!0?this.bufferBuilder.append(195):t===!1&&this.bufferBuilder.append(194);else if("undefined"==e)this.bufferBuilder.append(192);else{if("object"!=e)throw new Error('Type "'+e+'" not yet supported');if(null===t)this.bufferBuilder.append(192);else{var n=t.constructor;if(n==Array)this.pack_array(t);else if(n==Blob||n==File)this.pack_bin(t);else if(n==ArrayBuffer)a.useArrayBufferView?this.pack_bin(new Uint8Array(t)):this.pack_bin(t);else if("BYTES_PER_ELEMENT"in t)a.useArrayBufferView?this.pack_bin(new Uint8Array(t.buffer)):this.pack_bin(t.buffer);else if(n==Object)this.pack_object(t);else if(n==Date)this.pack_string(t.toString());else{if("function"!=typeof t.toBinaryPack)throw new Error('Type "'+n.toString()+'" not yet supported');this.bufferBuilder.append(t.toBinaryPack())}}}this.bufferBuilder.flush()},o.prototype.pack_bin=function(t){var e=t.length||t.byteLength||t.size;if(e<=15)this.pack_uint8(160+e);else if(e<=65535)this.bufferBuilder.append(218),this.pack_uint16(e);else{if(!(e<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(219),this.pack_uint32(e)}this.bufferBuilder.append(t)},o.prototype.pack_string=function(t){var e=u(t);if(e<=15)this.pack_uint8(176+e);else if(e<=65535)this.bufferBuilder.append(216),this.pack_uint16(e);else{if(!(e<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(217),this.pack_uint32(e)}this.bufferBuilder.append(t)},o.prototype.pack_array=function(t){var e=t.length;if(e<=15)this.pack_uint8(144+e);else if(e<=65535)this.bufferBuilder.append(220),this.pack_uint16(e);else{if(!(e<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(221),this.pack_uint32(e)}for(var n=0;n<e;n++)this.pack(t[n])},o.prototype.pack_integer=function(t){if(-32<=t&&t<=127)this.bufferBuilder.append(255&t);else if(0<=t&&t<=255)this.bufferBuilder.append(204),this.pack_uint8(t);else if(-128<=t&&t<=127)this.bufferBuilder.append(208),this.pack_int8(t);else if(0<=t&&t<=65535)this.bufferBuilder.append(205),this.pack_uint16(t);else if(-32768<=t&&t<=32767)this.bufferBuilder.append(209),this.pack_int16(t);else if(0<=t&&t<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(t);else if(-2147483648<=t&&t<=2147483647)this.bufferBuilder.append(210),this.pack_int32(t);else if(-0x8000000000000000<=t&&t<=0x8000000000000000)this.bufferBuilder.append(211),this.pack_int64(t);else{if(!(0<=t&&t<=0x10000000000000000))throw new Error("Invalid integer");this.bufferBuilder.append(207),this.pack_uint64(t)}},o.prototype.pack_double=function(t){var e=0;t<0&&(e=1,t=-t);var n=Math.floor(Math.log(t)/Math.LN2),r=t/Math.pow(2,n)-1,o=Math.floor(r*Math.pow(2,52)),i=Math.pow(2,32),u=e<<31|n+1023<<20|o/i&1048575,c=o%i;this.bufferBuilder.append(203),this.pack_int32(u),this.pack_int32(c)},o.prototype.pack_object=function(t){var e=Object.keys(t),n=e.length;if(n<=15)this.pack_uint8(128+n);else if(n<=65535)this.bufferBuilder.append(222),this.pack_uint16(n);else{if(!(n<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(223),this.pack_uint32(n)}for(var r in t)t.hasOwnProperty(r)&&(this.pack(r),this.pack(t[r]))},o.prototype.pack_uint8=function(t){this.bufferBuilder.append(t)},o.prototype.pack_uint16=function(t){this.bufferBuilder.append(t>>8),this.bufferBuilder.append(255&t)},o.prototype.pack_uint32=function(t){var e=4294967295&t;this.bufferBuilder.append((4278190080&e)>>>24),this.bufferBuilder.append((16711680&e)>>>16),this.bufferBuilder.append((65280&e)>>>8),this.bufferBuilder.append(255&e)},o.prototype.pack_uint64=function(t){var e=t/Math.pow(2,32),n=t%Math.pow(2,32);this.bufferBuilder.append((4278190080&e)>>>24),this.bufferBuilder.append((16711680&e)>>>16),this.bufferBuilder.append((65280&e)>>>8),this.bufferBuilder.append(255&e),this.bufferBuilder.append((4278190080&n)>>>24),this.bufferBuilder.append((16711680&n)>>>16),this.bufferBuilder.append((65280&n)>>>8),this.bufferBuilder.append(255&n)},o.prototype.pack_int8=function(t){this.bufferBuilder.append(255&t)},o.prototype.pack_int16=function(t){this.bufferBuilder.append((65280&t)>>8),this.bufferBuilder.append(255&t)},o.prototype.pack_int32=function(t){this.bufferBuilder.append(t>>>24&255),this.bufferBuilder.append((16711680&t)>>>16),this.bufferBuilder.append((65280&t)>>>8),this.bufferBuilder.append(255&t)},o.prototype.pack_int64=function(t){var e=Math.floor(t/Math.pow(2,32)),n=t%Math.pow(2,32);this.bufferBuilder.append((4278190080&e)>>>24),this.bufferBuilder.append((16711680&e)>>>16),this.bufferBuilder.append((65280&e)>>>8),this.bufferBuilder.append(255&e),this.bufferBuilder.append((4278190080&n)>>>24),this.bufferBuilder.append((16711680&n)>>>16),this.bufferBuilder.append((65280&n)>>>8),this.bufferBuilder.append(255&n)}},function(t,e){function n(){this._pieces=[],this._parts=[]}var r={};r.useBlobBuilder=function(){try{return new Blob([]),!1}catch(t){return!0}}(),r.useArrayBufferView=!r.useBlobBuilder&&function(){try{return 0===new Blob([new Uint8Array([])]).size}catch(t){return!0}}(),t.exports.binaryFeatures=r;var o=t.exports.BlobBuilder;"undefined"!=typeof window&&(o=t.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder),n.prototype.append=function(t){"number"==typeof t?this._pieces.push(t):(this.flush(),this._parts.push(t))},n.prototype.flush=function(){if(this._pieces.length>0){var t=new Uint8Array(this._pieces);r.useArrayBufferView||(t=t.buffer),this._parts.push(t),this._pieces=[]}},n.prototype.getBuffer=function(){if(this.flush(),r.useBlobBuilder){for(var t=new o,e=0,n=this._parts.length;e<n;e++)t.append(this._parts[e]);return t.getBlob()}return new Blob(this._parts)},t.exports.BufferBuilder=n},function(t,e,n){"use strict";(function(e){function r(){}function o(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,e.browser||(this.handled=m),t!==r&&a(this,t)}function i(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function u(t,e,n){h(function(){var r;try{r=e(n)}catch(e){return _.reject(t,e)}r===t?_.reject(t,new TypeError("Cannot resolve promise with itself")):_.resolve(t,r)})}function c(t){var e=t&&t.then;if(t&&"object"==typeof t&&"function"==typeof e)return function(){e.apply(t,arguments)}}function a(t,e){function n(e){i||(i=!0,_.reject(t,e))}function r(e){i||(i=!0,_.resolve(t,e))}function o(){e(r,n)}var i=!1,u=s(o);"error"===u.status&&n(u.value)}function s(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}function f(t){return t instanceof this?t:_.resolve(new this(r),t)}function l(t){var e=new this(r);return _.reject(e,t)}function d(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,o=!1;if(!n)return this.resolve([]);for(var i=new Array(n),u=0,c=-1,a=new this(r);++c<n;)!function(t,r){function c(t){i[r]=t,++u!==n||o||(o=!0,_.resolve(a,i))}e.resolve(t).then(c,function(t){o||(o=!0,_.reject(a,t))})}(t[c],c);return a}function p(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,o=!1;if(!n)return this.resolve([]);for(var i=-1,u=new this(r);++i<n;)!function(t){e.resolve(t).then(function(t){o||(o=!0,_.resolve(u,t))},function(t){o||(o=!0,_.reject(u,t))})}(t[i]);return u}var h=n(99),_={},v=["REJECTED"],g=["FULFILLED"],y=["PENDING"];if(!e.browser)var m=["UNHANDLED"];t.exports=o,o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,n){if("function"!=typeof t&&this.state===g||"function"!=typeof n&&this.state===v)return this;var o=new this.constructor(r);return e.browser||this.handled===m&&(this.handled=null),this.state!==y?u(o,this.state===g?t:n,this.outcome):this.queue.push(new i(o,t,n)),o},i.prototype.callFulfilled=function(t){_.resolve(this.promise,t)},i.prototype.otherCallFulfilled=function(t){u(this.promise,this.onFulfilled,t)},i.prototype.callRejected=function(t){_.reject(this.promise,t)},i.prototype.otherCallRejected=function(t){u(this.promise,this.onRejected,t)},_.resolve=function(t,e){var n=s(c,e);if("error"===n.status)return _.reject(t,n.value);var r=n.value;if(r)a(t,r);else{t.state=g,t.outcome=e;for(var o=-1,i=t.queue.length;++o<i;)t.queue[o].callFulfilled(e)}return t},_.reject=function(t,n){t.state=v,t.outcome=n,e.browser||t.handled===m&&h(function(){t.handled===m&&e.emit("unhandledRejection",n,t)});for(var r=-1,o=t.queue.length;++r<o;)t.queue[r].callRejected(n);return t},o.resolve=f,o.reject=l,o.all=d,o.race=p}).call(e,n(11))},function(t,e,n){"use strict";(function(e){function r(t,e){if(!(this instanceof r))return new r(t,e);r.super_.call(this,e),this.init(t,e)}function o(t,e){if(!(this instanceof o))return new o(t,e);o.super_.call(this,e),this.init(t,e)}function i(t,e){if(!(this instanceof i))return new i(t,e);i.super_.call(this,e),this.init(t,e)}function u(t,e){if(!(this instanceof u))return new u(t,e);e=e||{};var n=!e.hasOwnProperty("readable")||e.readable,c=!e.hasOwnProperty("writable")||e.writable;if(n&&c)return new i(t,e);if(n)return new r(t,e);if(c)return new o(t,e);throw new Error("Unknown stream type  Readable, Writable or Duplex ")}var c=n(53),a=n(277),s=n(75).StringDecoder;a.inherits(r,c.Readable),a.inherits(o,c.Writable),a.inherits(i,c.Duplex),r.prototype.init=o.prototype.init=i.prototype.init=function(t,n){var r=this;this.queue=[],t&&(Array.isArray(t)||(t=[t]),t.forEach(function(t){t instanceof e||(t=new e(t)),r.queue.push(t)})),n=n||{},this.maxbufsize=n.hasOwnProperty("maxbufsize")?n.maxbufsize:null,this.bufoverflow=n.hasOwnProperty("bufoverflow")?n.bufoverflow:null,this.frequence=n.hasOwnProperty("frequence")?n.frequence:null},u.createReadStream=function(t,e){return e=e||{},e.readable=!0,e.writable=!1,new u(t,e)},u.createWriteStream=function(t,e){return e=e||{},e.readable=!1,e.writable=!0,new u(t,e)},r.prototype._read=i.prototype._read=function(t){var e=this,n=e.frequence||0,r=this instanceof c.Duplex&&!this._writableState.finished;this.queue.length||r?this.queue.length&&setTimeout(function(){if(e.queue.length){var t=e.queue.shift();t&&!e._readableState.ended&&(e.push(t)||e.queue.unshift(t))}},n):this.push(null)},o.prototype._write=i.prototype._write=function(t,e,n){var r=null;try{r=this.decodeStrings&&e?new s(e):null}catch(t){return n(t)}var o=r?r.write(t):t,i=this._getQueueSize(),u=o.length;if(this.maxbufsize&&i+u>this.maxbufsize)return this.bufoverflow?n("Buffer overflowed ("+this.bufoverflow+"/"+i+")"):n();if(this instanceof c.Duplex){for(;this.queue.length;)this.push(this.queue.shift());this.push(o)}else this.queue.push(o);n()},i.prototype.end=function(t,e,n){var r=this;return i.super_.prototype.end.call(this,t,e,function(){r.push(null),n&&n()})},r.prototype._getQueueSize=o.prototype._getQueueSize=i.prototype._getQueueSize=function(){var t,e=0;for(t=0;t<this.queue.length;t++)e+=Array.isArray(this.queue[t])?this.queue[t][0].length:this.queue[t].length;return e},o.prototype.toString=i.prototype.toString=r.prototype.toString=o.prototype.getAll=i.prototype.getAll=r.prototype.getAll=function(){var t="";return this.queue.forEach(function(e){t+=e}),t},o.prototype.toBuffer=i.prototype.toBuffer=r.prototype.toBuffer=function(){var t=new e(this._getQueueSize()),n=0;return this.queue.forEach(function(r){(r instanceof e?r:new e(r)).copy(t,n),n+=r.length}),t},t.exports=u}).call(e,n(26).Buffer)},function(t,e){function n(t){if(t=String(t),!(t.length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*f;case"days":case"day":case"d":return n*s;case"hours":case"hour":case"hrs":case"hr":case"h":return n*a;case"minutes":case"minute":case"mins":case"min":case"m":return n*c;case"seconds":case"second":case"secs":case"sec":case"s":return n*u;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function r(t){return t>=s?Math.round(t/s)+"d":t>=a?Math.round(t/a)+"h":t>=c?Math.round(t/c)+"m":t>=u?Math.round(t/u)+"s":t+"ms"}function o(t){return i(t,s,"day")||i(t,a,"hour")||i(t,c,"minute")||i(t,u,"second")||t+" ms"}function i(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var u=1e3,c=60*u,a=60*c,s=24*a,f=365.25*s;t.exports=function(t,e){e=e||{};var i=typeof t;if("string"===i&&t.length>0)return n(t);if("number"===i&&isNaN(t)===!1)return e.long?o(t):r(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){function r(t){function e(e){try{if(e)return JSON.parse(e)}catch(n){t.strict&&this.emit("error",new Error("Could not parse row "+e.slice(0,50)+"..."))}}return t=t||{},t.strict=t.strict!==!1,u(e,t)}function o(t){return i.obj(t,function(t,e,n){n(null,a(t)+c)})}var i=n(117),u=n(717),c=n(477).EOL,a=n(475);t.exports=r,t.exports.serialize=t.exports.stringify=o,t.exports.parse=r},function(t,e,n){var r=n(79),o=n(100).RTCPeerConnection,i=n(100).RTCSessionDescription,u=n(100).RTCIceCandidate,c={pcs:{data:{},media:{}},queue:[]};c._idPrefix="pc_",c.startConnection=function(t,e){var n=c._getPeerConnection(t,e);if("media"===t.type&&e._stream&&n.addStream(e._stream),t.pc=t.peerConnection=n,e.originator){if("data"===t.type){var o={};r.supports.sctp||(o={reliable:e.reliable});var i=n.createDataChannel(t.label,o);t.initialize(i)}r.supports.onnegotiationneeded||c._makeOffer(t)}else c.handleSDP("OFFER",t,e.sdp)},c._getPeerConnection=function(t,e){c.pcs[t.type]||r.error(t.type+" is not a valid connection type. Maybe you overrode the `type` property somewhere."),c.pcs[t.type][t.peer]||(c.pcs[t.type][t.peer]={});var n;return c.pcs[t.type][t.peer],e.pc&&(n=c.pcs[t.type][t.peer][e.pc]),n&&"stable"===n.signalingState||(n=c._startPeerConnection(t)),n},c._startPeerConnection=function(t){r.log("Creating RTCPeerConnection.");var e=c._idPrefix+r.randomToken(),n={};"data"!==t.type||r.supports.sctp?"media"===t.type&&(n={optional:[{DtlsSrtpKeyAgreement:!0}]}):n={optional:[{RtpDataChannels:!0}]};var i=new o(t.provider.options.config,n);return c.pcs[t.type][t.peer][e]=i,c._setupListeners(t,i,e),i},c._setupListeners=function(t,e,n){var o=t.peer,i=t.id,u=t.provider;r.log("Listening for ICE candidates."),e.onicecandidate=function(e){e.candidate&&(r.log("Received ICE candidates for:",t.peer),u.socket.send({type:"CANDIDATE",payload:{candidate:e.candidate,type:t.type,connectionId:t.id},dst:o}))},e.oniceconnectionstatechange=function(){switch(e.iceConnectionState){case"disconnected":case"failed":r.log("iceConnectionState is disconnected, closing connections to "+o),t.close();break;case"completed":e.onicecandidate=r.noop}},e.onicechange=e.oniceconnectionstatechange,r.log("Listening for `negotiationneeded`"),e.onnegotiationneeded=function(){r.log("`negotiationneeded` triggered"),"stable"==e.signalingState?c._makeOffer(t):r.log("onnegotiationneeded triggered when not stable. Is another connection being established?")},r.log("Listening for data channel"),e.ondatachannel=function(t){r.log("Received data channel");var e=t.channel;u.getConnection(o,i).initialize(e)},r.log("Listening for remote stream"),e.onaddstream=function(t){r.log("Received remote stream");var e=t.stream,n=u.getConnection(o,i);"media"===n.type&&n.addStream(e)}},c.cleanup=function(t){r.log("Cleaning up PeerConnection to "+t.peer);var e=t.pc;!e||"closed"===e.readyState&&"closed"===e.signalingState||(e.close(),t.pc=null)},c._makeOffer=function(t){var e=t.pc;e.createOffer(function(n){r.log("Created offer."),!r.supports.sctp&&"data"===t.type&&t.reliable&&(n.sdp=Reliable.higherBandwidthSDP(n.sdp)),e.setLocalDescription(n,function(){r.log("Set localDescription: offer","for:",t.peer),t.provider.socket.send({type:"OFFER",payload:{sdp:n,type:t.type,label:t.label,connectionId:t.id,reliable:t.reliable,serialization:t.serialization,metadata:t.metadata,browser:r.browser},dst:t.peer})},function(e){t.provider.emitError("webrtc",e),r.log("Failed to setLocalDescription, ",e)})},function(e){t.provider.emitError("webrtc",e),r.log("Failed to createOffer, ",e)},t.options.constraints)},c._makeAnswer=function(t){var e=t.pc;e.createAnswer(function(n){r.log("Created answer."),!r.supports.sctp&&"data"===t.type&&t.reliable&&(n.sdp=Reliable.higherBandwidthSDP(n.sdp)),e.setLocalDescription(n,function(){r.log("Set localDescription: answer","for:",t.peer),t.provider.socket.send({type:"ANSWER",payload:{sdp:n,type:t.type,connectionId:t.id,browser:r.browser},dst:t.peer})},function(e){t.provider.emitError("webrtc",e),r.log("Failed to setLocalDescription, ",e)})},function(e){t.provider.emitError("webrtc",e),r.log("Failed to create answer, ",e)})},c.handleSDP=function(t,e,n){n=new i(n);var o=e.pc;r.log("Setting remote description",n),o.setRemoteDescription(n,function(){r.log("Set remoteDescription:",t,"for:",e.peer),
"OFFER"===t&&c._makeAnswer(e)},function(t){e.provider.emitError("webrtc",t),r.log("Failed to setRemoteDescription, ",t)})},c.handleCandidate=function(t,e){var n=e.candidate,o=e.sdpMLineIndex;t.pc.addIceCandidate(new u({sdpMLineIndex:o,candidate:n})),r.log("Added ICE candidate for:",t.peer)},t.exports=c},function(t,e,n){(function(e){function r(t,e){t=t||{};var r=t.highWaterMark;this.highWaterMark=r||0===r?r:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!t.objectMode,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(C||(C=n(75).StringDecoder),this.decoder=new C(t.encoding),this.encoding=t.encoding)}function o(t){if(!(this instanceof o))return new o(t);this._readableState=new r(t,this),this.readable=!0,E.call(this)}function i(t,e,n,r,o){var i=s(e,n);if(i)t.emit("error",i);else if(null===n||void 0===n)e.reading=!1,e.ended||f(t,e);else if(e.objectMode||n&&n.length>0)if(e.ended&&!o){var c=new Error("stream.push() after EOF");t.emit("error",c)}else if(e.endEmitted&&o){var c=new Error("stream.unshift() after end event");t.emit("error",c)}else!e.decoder||o||r||(n=e.decoder.write(n)),e.length+=e.objectMode?1:n.length,o?e.buffer.unshift(n):(e.reading=!1,e.buffer.push(n)),e.needReadable&&l(t),p(t,e);else o||(e.reading=!1);return u(e)}function u(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function c(t){if(t>=O)t=O;else{t--;for(var e=1;e<32;e<<=1)t|=t>>e;t++}return t}function a(t,e){return 0===e.length&&e.ended?0:e.objectMode?0===t?0:1:null===t||isNaN(t)?e.flowing&&e.buffer.length?e.buffer[0].length:e.length:t<=0?0:(t>e.highWaterMark&&(e.highWaterMark=c(t)),t>e.length?e.ended?e.length:(e.needReadable=!0,0):t)}function s(t,e){var n=null;return T.isBuffer(e)||"string"==typeof e||null===e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function f(t,e){if(e.decoder&&!e.ended){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,e.length>0?l(t):b(t)}function l(t){var n=t._readableState;n.needReadable=!1,n.emittedReadable||(n.emittedReadable=!0,n.sync?e.nextTick(function(){d(t)}):d(t))}function d(t){t.emit("readable")}function p(t,n){n.readingMore||(n.readingMore=!0,e.nextTick(function(){h(t,n)}))}function h(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function _(t){return function(){0==--t._readableState.awaitDrain&&v(t)}}function v(t){function e(t,e,o){!1===t.write(n)&&r.awaitDrain++}var n,r=t._readableState;for(r.awaitDrain=0;r.pipesCount&&null!==(n=t.read());)if(1===r.pipesCount?e(r.pipes,0,null):w(r.pipes,e),t.emit("data",n),r.awaitDrain>0)return;if(0===r.pipesCount)return r.flowing=!1,void(S.listenerCount(t,"data")>0&&y(t));r.ranOut=!0}function g(){this._readableState.ranOut&&(this._readableState.ranOut=!1,v(this))}function y(t,n){if(t._readableState.flowing)throw new Error("Cannot switch to old mode now.");var r=n||!1,o=!1;t.readable=!0,t.pipe=E.prototype.pipe,t.on=t.addListener=E.prototype.on,t.on("readable",function(){o=!0;for(var e;!r&&null!==(e=t.read());)t.emit("data",e);null===e&&(o=!1,t._readableState.needReadable=!0)}),t.pause=function(){r=!0,this.emit("pause")},t.resume=function(){r=!1,o?e.nextTick(function(){t.emit("readable")}):this.read(0),this.emit("resume")},t.emit("readable")}function m(t,e){var n,r=e.buffer,o=e.length,i=!!e.decoder,u=!!e.objectMode;if(0===r.length)return null;if(0===o)n=null;else if(u)n=r.shift();else if(!t||t>=o)n=i?r.join(""):T.concat(r,o),r.length=0;else if(t<r[0].length){var c=r[0];n=c.slice(0,t),r[0]=c.slice(t)}else if(t===r[0].length)n=r.shift();else{n=i?"":new T(t);for(var a=0,s=0,f=r.length;s<f&&a<t;s++){var c=r[0],l=Math.min(t-a,c.length);i?n+=c.slice(0,l):c.copy(n,a,0,l),l<c.length?r[0]=c.slice(l):r.shift(),a+=l}}return n}function b(t){var n=t._readableState;if(n.length>0)throw new Error("endReadable called on non-empty stream");!n.endEmitted&&n.calledRead&&(n.ended=!0,e.nextTick(function(){n.endEmitted||0!==n.length||(n.endEmitted=!0,t.readable=!1,t.emit("end"))}))}function w(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)}function k(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}t.exports=o;var x=n(484),T=n(26).Buffer;o.ReadableState=r;var S=n(71).EventEmitter;S.listenerCount||(S.listenerCount=function(t,e){return t.listeners(e).length});var E=n(53),A=n(38);A.inherits=n(15);var C;A.inherits(o,E),o.prototype.push=function(t,e){var n=this._readableState;return"string"!=typeof t||n.objectMode||(e=e||n.defaultEncoding)!==n.encoding&&(t=new T(t,e),e=""),i(this,n,t,e,!1)},o.prototype.unshift=function(t){return i(this,this._readableState,t,"",!0)},o.prototype.setEncoding=function(t){C||(C=n(75).StringDecoder),this._readableState.decoder=new C(t),this._readableState.encoding=t};var O=8388608;o.prototype.read=function(t){var e=this._readableState;e.calledRead=!0;var n,r=t;if(("number"!=typeof t||t>0)&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return l(this),null;if(0===(t=a(t,e))&&e.ended)return n=null,e.length>0&&e.decoder&&(n=m(t,e),e.length-=n.length),0===e.length&&b(this),n;var o=e.needReadable;return e.length-t<=e.highWaterMark&&(o=!0),(e.ended||e.reading)&&(o=!1),o&&(e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1),o&&!e.reading&&(t=a(r,e)),n=t>0?m(t,e):null,null===n&&(e.needReadable=!0,t=0),e.length-=t,0!==e.length||e.ended||(e.needReadable=!0),e.ended&&!e.endEmitted&&0===e.length&&b(this),n},o.prototype._read=function(t){this.emit("error",new Error("not implemented"))},o.prototype.pipe=function(t,n){function r(t){t===f&&i()}function o(){t.end()}function i(){t.removeListener("close",c),t.removeListener("finish",a),t.removeListener("drain",h),t.removeListener("error",u),t.removeListener("unpipe",r),f.removeListener("end",o),f.removeListener("end",i),t._writableState&&!t._writableState.needDrain||h()}function u(e){s(),t.removeListener("error",u),0===S.listenerCount(t,"error")&&t.emit("error",e)}function c(){t.removeListener("finish",a),s()}function a(){t.removeListener("close",c),s()}function s(){f.unpipe(t)}var f=this,l=this._readableState;switch(l.pipesCount){case 0:l.pipes=t;break;case 1:l.pipes=[l.pipes,t];break;default:l.pipes.push(t)}l.pipesCount+=1;var d=(!n||n.end!==!1)&&t!==e.stdout&&t!==e.stderr,p=d?o:i;l.endEmitted?e.nextTick(p):f.once("end",p),t.on("unpipe",r);var h=_(f);return t.on("drain",h),t._events&&t._events.error?x(t._events.error)?t._events.error.unshift(u):t._events.error=[u,t._events.error]:t.on("error",u),t.once("close",c),t.once("finish",a),t.emit("pipe",f),l.flowing||(this.on("readable",g),l.flowing=!0,e.nextTick(function(){v(f)})),t},o.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,this.removeListener("readable",g),e.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){var n=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,this.removeListener("readable",g),e.flowing=!1;for(var o=0;o<r;o++)n[o].emit("unpipe",this);return this}var o=k(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this),this)},o.prototype.on=function(t,e){var n=E.prototype.on.call(this,t,e);if("data"!==t||this._readableState.flowing||y(this),"readable"===t&&this.readable){var r=this._readableState;r.readableListening||(r.readableListening=!0,r.emittedReadable=!1,r.needReadable=!0,r.reading?r.length&&l(this):this.read(0))}return n},o.prototype.addListener=o.prototype.on,o.prototype.resume=function(){y(this),this.read(0),this.emit("resume")},o.prototype.pause=function(){y(this,!0),this.emit("pause")},o.prototype.wrap=function(t){var e=this._readableState,n=!1,r=this;t.on("end",function(){if(e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&r.push(t)}r.push(null)}),t.on("data",function(o){e.decoder&&(o=e.decoder.write(o)),(!e.objectMode||null!==o&&void 0!==o)&&(e.objectMode||o&&o.length)&&(r.push(o)||(n=!0,t.pause()))});for(var o in t)"function"==typeof t[o]&&void 0===this[o]&&(this[o]=function(e){return function(){return t[e].apply(t,arguments)}}(o));return w(["error","close","destroy","pause","resume"],function(e){t.on(e,r.emit.bind(r,e))}),r._read=function(e){n&&(n=!1,t.resume())},r},o._fromList=m}).call(e,n(11))},function(t,e,n){function r(t,e){this.afterTransform=function(t,n){return o(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function o(t,e,n){var r=t._transformState;r.transforming=!1;var o=r.writecb;if(!o)return t.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,null!==n&&void 0!==n&&t.push(n),o&&o(e);var i=t._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&t._read(i.highWaterMark)}function i(t){if(!(this instanceof i))return new i(t);c.call(this,t);var e=(this._transformState=new r(t,this),this);this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",function(){"function"==typeof this._flush?this._flush(function(t){u(e,t)}):u(e)})}function u(t,e){if(e)return t.emit("error",e);var n=t._writableState,r=(t._readableState,t._transformState);if(n.length)throw new Error("calling transform done when ws.length != 0");if(r.transforming)throw new Error("calling transform done when still transforming");return t.push(null)}t.exports=i;var c=n(145),a=n(38);a.inherits=n(15),a.inherits(i,c),i.prototype.push=function(t,e){return this._transformState.needTransform=!1,c.prototype.push.call(this,t,e)},i.prototype._transform=function(t,e,n){throw new Error("not implemented")},i.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var o=this._readableState;(r.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},i.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0}},function(t,e,n){(function(e){function r(t,e,n){this.chunk=t,this.encoding=e,this.callback=n}function o(t,e){t=t||{};var n=t.highWaterMark;this.highWaterMark=n||0===n?n:16384,this.objectMode=!!t.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var r=t.decodeStrings===!1;this.decodeStrings=!r,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){p(e,t)},this.writecb=null,this.writelen=0,this.buffer=[],this.errorEmitted=!1}function i(t){var e=n(145);if(!(this instanceof i||this instanceof e))return new i(t);this._writableState=new o(t,this),this.writable=!0,k.call(this)}function u(t,n,r){var o=new Error("write after end");t.emit("error",o),e.nextTick(function(){r(o)})}function c(t,n,r,o){var i=!0;if(!b.isBuffer(r)&&"string"!=typeof r&&null!==r&&void 0!==r&&!n.objectMode){var u=new TypeError("Invalid non-string/buffer chunk");t.emit("error",u),e.nextTick(function(){o(u)}),i=!1}return i}function a(t,e,n){return t.objectMode||t.decodeStrings===!1||"string"!=typeof e||(e=new b(e,n)),e}function s(t,e,n,o,i){n=a(e,n,o),b.isBuffer(n)&&(o="buffer");var u=e.objectMode?1:n.length;e.length+=u;var c=e.length<e.highWaterMark;return c||(e.needDrain=!0),e.writing?e.buffer.push(new r(n,o,i)):f(t,e,u,n,o,i),c}function f(t,e,n,r,o,i){e.writelen=n,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,o,e.onwrite),e.sync=!1}function l(t,n,r,o,i){r?e.nextTick(function(){i(o)}):i(o),t._writableState.errorEmitted=!0,t.emit("error",o)}function d(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function p(t,n){var r=t._writableState,o=r.sync,i=r.writecb;if(d(r),n)l(t,r,o,n,i);else{var u=g(t,r);u||r.bufferProcessing||!r.buffer.length||v(t,r),o?e.nextTick(function(){h(t,r,u,i)}):h(t,r,u,i)}}function h(t,e,n,r){n||_(t,e),r(),n&&y(t,e)}function _(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function v(t,e){e.bufferProcessing=!0;for(var n=0;n<e.buffer.length;n++){var r=e.buffer[n],o=r.chunk,i=r.encoding,u=r.callback;if(f(t,e,e.objectMode?1:o.length,o,i,u),e.writing){n++;break}}e.bufferProcessing=!1,n<e.buffer.length?e.buffer=e.buffer.slice(n):e.buffer.length=0}function g(t,e){return e.ending&&0===e.length&&!e.finished&&!e.writing}function y(t,e){var n=g(t,e);return n&&(e.finished=!0,t.emit("finish")),n}function m(t,n,r){n.ending=!0,y(t,n),r&&(n.finished?e.nextTick(r):t.once("finish",r)),n.ended=!0}t.exports=i;var b=n(26).Buffer;i.WritableState=o;var w=n(38);w.inherits=n(15);var k=n(53);w.inherits(i,k),i.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},i.prototype.write=function(t,e,n){var r=this._writableState,o=!1;return"function"==typeof e&&(n=e,e=null),b.isBuffer(t)?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof n&&(n=function(){}),r.ended?u(this,r,n):c(this,r,t,n)&&(o=s(this,r,t,e,n)),o},i.prototype._write=function(t,e,n){n(new Error("not implemented"))},i.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),void 0!==t&&null!==t&&this.write(t,e),r.ending||r.finished||m(this,r,n)}}).call(e,n(11))},function(t,e,n){(function(r){var o=n(53);e=t.exports=n(205),e.Stream=o,e.Readable=e,e.Writable=n(207),e.Duplex=n(145),e.Transform=n(206),e.PassThrough=n(485),r.browser||"disable"!==r.env.READABLE_STREAM||(t.exports=n(53))}).call(e,n(11))},function(t,e,n){"use strict";function r(t){return null===t?String(t):"object"==typeof t||"function"==typeof t?s[p.call(t)]||"object":typeof t}function o(t){return null!==t&&t===t.window}function i(t){if(!t||"object"!==r(t)||t.nodeType||o(t))return!1;try{if(t.constructor&&!h.call(t,"constructor")&&!h.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}var e;for(e in t);return void 0===e||h.call(t,e)}function u(t){return"function"===r(t)}function c(){for(var t=[],e=-1,n=arguments.length,r=new Array(n);++e<n;)r[e]=arguments[e];var o={};t.push({args:r,result:{container:o,key:"key"}});for(var i;i=t.pop();)a(t,i.args,i.result);return o.key}function a(t,e,n){var r,o,c,a,s,f,l,d=e[0]||{},p=1,h=e.length,v=!1,g=/\d+/;for("boolean"==typeof d&&(v=d,d=e[1]||{},p=2),"object"==typeof d||u(d)||(d={}),h===p&&(d=this,--p);p<h;p++)if(null!=(r=e[p])){l=_(r);for(o in r)if(!(o in Object.prototype)){if(l&&!g.test(o))continue;if(c=d[o],a=r[o],d===a)continue;v&&a&&(i(a)||(s=_(a)))?(s?(s=!1,f=c&&_(c)?c:[]):f=c&&i(c)?c:{},t.push({args:[v,f,a],result:{container:d,key:o}})):void 0!==a&&(_(r)&&u(a)||(d[o]=a))}}n.container[n.key]=d}for(var s={},f=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],l=0;l<f.length;l++){var d=f[l];s["[object "+d+"]"]=d.toLowerCase()}var p=s.toString,h=s.hasOwnProperty,_=Array.isArray||function(t){return"array"===r(t)};t.exports=c},function(t,e,n){"use strict";var r=n(214).upsert;t.exports=function(t,e,n){return r.apply(t,[e,n])}},function(t,e,n){"use strict";function r(t){return t.allDocs({startkey:"_design/",endkey:"_design/￿",include_docs:!0}).then(function(t){var e={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return e.indexes=o.flatten(e.indexes,t.rows.filter(function(t){return"query"===t.doc.language}).map(function(t){return(void 0!==t.doc.views?Object.keys(t.doc.views):[]).map(function(e){var n=t.doc.views[e];return{ddoc:t.id,name:e,type:"json",def:u(n.options.def)}})})),e.indexes.sort(function(t,e){return o.compare(t.name,e.name)}),e.total_rows=e.indexes.length,e})}var o=n(47),i=n(72),u=i.massageIndexDef;t.exports=r},function(t,e,n){"use strict";var r=n(47),o=r.clone;t.exports=function(t){return t=o(t),t.index||(t.index={}),["type","name","ddoc"].forEach(function(e){t.index[e]&&(t[e]=t.index[e],delete t.index[e])}),t.fields&&(t.index.fields=t.fields,delete t.fields),t.type||(t.type="json"),t}},function(t,e,n){"use strict";var r=function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(n(200)),o="function"==typeof Promise?Promise:r;t.exports=o},function(t,e,n){"use strict";function r(t,e,n){return"string"!=typeof e?i.reject(new Error("doc id is required")):t.get(e).catch(function(t){if(404!==t.status)throw t;return{}}).then(function(r){var i=r._rev,u=n(r);return u?(u._id=e,u._rev=i,o(t,u,n)):{updated:!1,rev:i}})}function o(t,e,n){return t.put(e).then(function(t){return{updated:!0,rev:t.rev}},function(o){if(409!==o.status)throw o;return r(t,e._id,n)})}var i=n(505);e.upsert=function(t,e,n){var o=this,i=r(o,t,e);if("function"!=typeof n)return i;i.then(function(t){n(null,t)},n)},e.putIfNotExists=function(t,e,n){var o=this;"string"!=typeof t&&(n=e,e=t,t=e._id);var i=function(t){return!t._rev&&e},u=r(o,t,i);if("function"!=typeof n)return u;u.then(function(t){n(null,t)},n)},"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(e)},function(t,e,n){"use strict";(function(t){var r=n(148);e.once=function(t){var n=!1;return e.getArguments(function(e){if(n)throw console.trace(),new Error("once called  more than once");n=!0,t.apply(this,e)})},e.getArguments=function(t){return function(){for(var e=arguments.length,n=new Array(e),r=-1;++r<e;)n[r]=arguments[r];return t.call(this,n)}},e.toPromise=function(n){return e.getArguments(function(o){var i,u=this,c="function"==typeof o[o.length-1]&&o.pop();c&&(i=function(e,n){t.nextTick(function(){c(e,n)})});var a=new r(function(t,r){try{var i=e.once(function(e,n){e?r(e):t(n)});o.push(i),n.apply(u,o)}catch(t){r(t)}});return i&&a.then(function(t){i(null,t)},i),a.cancel=function(){return this},a})},e.inherits=n(15)}).call(e,n(11))},function(t,e,n){var r=n(34),o=n(3);t.exports=o(function(t,e,n){if(e>=n.length||e<-n.length)return n;var o=e<0?n.length:0,i=o+e,u=r(n);return u[i]=t(n[i]),u})},function(t,e,n){var r=n(0);t.exports=r(function(t,e){return t&&e})},function(t,e,n){var r=n(0),o=n(12),i=n(244);t.exports=r(o(["any"],i,function(t,e){for(var n=0;n<e.length;){if(t(e[n]))return!0;n+=1}return!1}))},function(t,e,n){var r=n(0);t.exports=r(function(t,e){return t.apply(this,e)})},function(t,e,n){var r=n(3),o=n(19),i=n(51),u=n(240),c=n(103);t.exports=r(function t(e,n,r){if(0===e.length)return n;var a=e[0];if(e.length>1){var s=o(a,r)?r[a]:u(e[1])?[]:{};n=t(Array.prototype.slice.call(e,1),n,s)}if(u(a)&&i(r)){var f=[].concat(r);return f[a]=n,f}return c(a,n,r)})},function(t,e,n){var r=n(40),o=n(0);t.exports=o(function(t,e){return r(t.length,function(){return t.apply(e,arguments)})})},function(t,e,n){var r=n(152),o=n(153),i=n(25);t.exports=function(){if(0===arguments.length)throw new Error("composeK requires at least one argument");var t=Array.prototype.slice.call(arguments),e=t.pop();return o(o.apply(this,i(r,t)),e)}},function(t,e,n){var r=n(0),o=n(104),i=n(113);t.exports=r(function(t,e){if(t>10)throw new Error("Constructor with greater than ten arguments");return 0===t?function(){return new e}:o(i(t,function(t,n,r,o,i,u,c,a,s,f){switch(arguments.length){case 1:return new e(t);case 2:return new e(t,n);case 3:return new e(t,n,r);case 4:return new e(t,n,r,o);case 5:return new e(t,n,r,o,i);case 6:return new e(t,n,r,o,i,u);case 7:return new e(t,n,r,o,i,u,c);case 8:return new e(t,n,r,o,i,u,c,a);case 9:return new e(t,n,r,o,i,u,c,a,s);case 10:return new e(t,n,r,o,i,u,c,a,s,f)}}))})},function(t,e,n){var r=n(0),o=n(110),i=n(17),u=n(74),c=n(85),a=n(42);t.exports=r(function(t,e){return i(a(u,0,c("length",e)),function(){var n=arguments,r=this;return t.apply(r,o(function(t){return t.apply(r,n)},e))})})},function(t,e,n){var r=n(0);t.exports=r(function(t,e){return null==e||e!==e?t:e})},function(t,e,n){var r=n(63),o=n(0);t.exports=o(function(t,e){for(var n=[],o=0,i=t.length;o<i;)r(t[o],e)||r(t[o],n)||(n[n.length]=t[o]),o+=1;return n})},function(t,e,n){var r=n(158),o=n(3);t.exports=o(function(t,e,n){for(var o=[],i=0,u=e.length;i<u;)r(t,e[i],n)||r(t,e[i],o)||o.push(e[i]),i+=1;return o})},function(t,e,n){var r=n(0);t.exports=r(function(t,e){var n={};for(var r in e)n[r]=e[r];return delete n[t],n})},function(t,e,n){var r=n(0),o=n(12),i=n(591),u=n(64);t.exports=r(o(["drop"],i,function(t,e){return u(Math.max(0,t),1/0,e)}))},function(t,e,n){var r=n(0),o=n(12),i=n(245),u=n(249);t.exports=r(o([],i,function(t,e){var n=[],r=1,o=e.length;if(0!==o)for(n[0]=e[0];r<o;)t(u(n),e[r])||(n[n.length]=e[r]),r+=1;return n}))},function(t,e,n){var r=n(2),o=n(239),i=n(51),u=n(242),c=n(109);t.exports=r(function(t){return null!=t&&"function"==typeof t.empty?t.empty():null!=t&&null!=t.constructor&&"function"==typeof t.constructor.empty?t.constructor.empty():i(t)?[]:c(t)?"":u(t)?{}:o(t)?function(){return arguments}():void 0})},function(t,e,n){var r=n(0);t.exports=r(function(t,e){return t===e?0!==t||1/t==1/e:t!==t&&e!==e})},function(t,e,n){var r=n(234),o=n(163);t.exports=function t(e,n,i,u){var c=function(r){for(var o=n.length,c=0;c<o;){if(e===n[c])return i[c];c+=1}n[c+1]=e,i[c+1]=r;for(var a in e)r[a]=u?t(e[a],n,i,!0):e[a];return r};switch(o(e)){case"Object":return c({});case"Array":return c([]);case"Date":return new Date(e.valueOf());case"RegExp":return r(e);default:return e}}},function(t,e){t.exports=function(t){return new RegExp(t.source,(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.sticky?"y":"")+(t.unicode?"u":""))}},function(t,e){t.exports=function(t){return function(){return!t.apply(this,arguments)}}},function(t,e,n){var r=n(40),o=n(0);t.exports=function(t){return o(function(e,n){return r(Math.max(0,e.length-n.length),function(){return e.apply(this,t(n,arguments))})})}},function(t,e){t.exports=function(t,e){for(var n=0,r=e.length,o=[];n<r;)t(e[n])&&(o[o.length]=e[n]),n+=1;return o}},function(t,e,n){var r=n(39);t.exports=function(t,e,n){var o,i;if("function"==typeof t.indexOf)switch(typeof e){case"number":if(0===e){for(o=1/e;n<t.length;){if(0===(i=t[n])&&1/i===o)return n;n+=1}return-1}if(e!==e){for(;n<t.length;){if("number"==typeof(i=t[n])&&i!==i)return n;n+=1}return-1}return t.indexOf(e,n);case"string":case"boolean":case"function":case"undefined":return t.indexOf(e,n);case"object":if(null===e)return t.indexOf(e,n)}for(;n<t.length;){if(r(t[n],e))return n;n+=1}return-1}},function(t,e,n){var r=n(19);t.exports=function(){var t=Object.prototype.toString;return"[object Arguments]"===t.call(arguments)?function(e){return"[object Arguments]"===t.call(e)}:function(t){return r("callee",t)}}()},function(t,e){t.exports=Number.isInteger||function(t){return t<<0===t}},function(t,e){t.exports=function(t){return"[object Number]"===Object.prototype.toString.call(t)}},function(t,e){t.exports=function(t){return"[object Object]"===Object.prototype.toString.call(t)}},function(t,e,n){var r=n(82);t.exports=function(t){return function e(n){for(var o,i,u,c=[],a=0,s=n.length;a<s;){if(r(n[a]))for(o=t?e(n[a]):n[a],u=0,i=o.length;u<i;)c[c.length]=o[u],u+=1;else c[c.length]=n[a];a+=1}return c}}},function(t,e,n){var r=n(0),o=n(52),i=n(13);t.exports=function(){function t(t,e){this.xf=e,this.f=t,this.any=!1}return t.prototype["@@transducer/init"]=i.init,t.prototype["@@transducer/result"]=function(t){return this.any||(t=this.xf["@@transducer/step"](t,!1)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)&&(this.any=!0,t=o(this.xf["@@transducer/step"](t,!0))),t},r(function(e,n){return new t(e,n)})}()},function(t,e,n){var r=n(0),o=n(13);t.exports=function(){function t(t,e){this.xf=e,this.pred=t,this.lastValue=void 0,this.seenFirstValue=!1}return t.prototype["@@transducer/init"]=o.init,t.prototype["@@transducer/result"]=o.result,t.prototype["@@transducer/step"]=function(t,e){var n=!1;return this.seenFirstValue?this.pred(this.lastValue,e)&&(n=!0):this.seenFirstValue=!0,this.lastValue=e,n?t:this.xf["@@transducer/step"](t,e)},r(function(e,n){return new t(e,n)})}()},function(t,e){t.exports=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},function(e){return new t(e)}}()},function(t,e,n){var r=n(0);t.exports=r(function(t,e){return null!=e&&e.constructor===t||e instanceof t})},function(t,e,n){var r=n(2),o=n(224);t.exports=r(function(t){return o(function(){return Array.prototype.slice.call(arguments,0)},t)})},function(t,e,n){var r=n(83);t.exports=r(-1)},function(t,e,n){var r=n(2),o=n(241);t.exports=r(function(t){return null!=t&&o(t.length)?t.length:0/0})},function(t,e,n){var r=n(0),o=n(29),i=n(151),u=n(17),c=n(25);t.exports=r(function(t,e){var n=u(t,e);return u(t,function(){return o(i,c(n,arguments[0]),Array.prototype.slice.call(arguments,1))})})},function(t,e,n){var r=n(2),o=n(265);t.exports=r(function(t){return o(t)/t.length})},function(t,e,n){var r=n(3),o=n(19);t.exports=r(function(t,e,n){var r,i={};for(r in e)o(r,e)&&(i[r]=o(r,n)?t(r,e[r],n[r]):e[r]);for(r in n)o(r,n)&&!o(r,i)&&(i[r]=n[r]);return i})},function(t,e,n){var r=n(0);t.exports=r(function(t,e){return t*e})},function(t,e,n){var r=n(2);t.exports=r(function(t){return!t})},function(t,e,n){var r=n(0);t.exports=r(function(t,e){var n={};return n[t]=e,n})},function(t,e,n){var r=n(0);t.exports=r(function(t,e){return t||e})},function(t,e,n){var r=n(3);t.exports=function(){var t=function(e){return{value:e,map:function(n){return t(n(e))}}};return r(function(e,n,r){return e(function(e){return t(n(e))})(r).value})}()},function(t,e,n){var r=n(0);t.exports=r(function(t,e){for(var n={},r=0,o=t.length;r<o;){var i=t[r];n[i]=e[i],r+=1}return n})},function(t,e,n){var r=n(40),o=n(582),i=n(42),u=n(162);t.exports=function(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return r(arguments[0].length,i(o,arguments[0],u(arguments)))}},function(t,e,n){var r=n(40),o=n(583),i=n(42),u=n(162);t.exports=function(){if(0===arguments.length)throw new Error("pipeP requires at least one argument");return r(arguments[0].length,i(o,arguments[0],u(arguments)))}},function(t,e,n){var r=n(34),o=n(0);t.exports=o(function(t,e){return r([t],e)})},function(t,e,n){var r=n(3);t.exports=r(function(t,e,n){for(var r=n.length-1;r>=0;)e=t(n[r],e),r-=1;return e})},function(t,e,n){var r=n(0),o=n(151),i=n(25),u=n(262),c=n(263);t.exports=r(function(t,e){return"function"==typeof e.sequence?e.sequence(t):c(function(t,e){return o(i(u,t),e)},t([]),e)})},function(t,e,n){var r=n(102),o=n(42);t.exports=o(r,0)},function(t,e,n){var r=n(0),o=n(12),i=n(602),u=n(64);t.exports=r(o(["take"],i,function(t,e){return u(0,t<0?1/0:t,e)}))},function(t,e,n){var r=n(0);t.exports=r(function(t,e){var n,r=Number(e),o=0;if(r<0||isNaN(r))throw new RangeError("n must be a non-negative number");for(n=new Array(r);o<r;)n[o]=t(o),o+=1;return n})},function(t,e,n){var r=n(570),o=n(0);t.exports=o(function(t,e){for(var n,o,i=new r,u=[],c=0;c<e.length;)o=e[c],n=t(o),i.add(n)&&u.push(o),c+=1;return u})},function(t,e,n){var r=n(3),o=n(216),i=n(73);t.exports=r(function(t,e,n){return o(i(e),t,n)})},function(t,e,n){var r=n(0),o=n(17);t.exports=r(function(t,e){return o(e.length,function(){for(var n=[],r=0;r<e.length;)n.push(e[r].call(this,arguments[r])),r+=1;return t.apply(this,n.concat(Array.prototype.slice.call(arguments,e.length)))})})},function(t,e,n){var r=n(2),o=n(41);t.exports=r(function(t){for(var e=o(t),n=e.length,r=[],i=0;i<n;)r[i]=t[e[i]],i+=1;return r})},function(t,e,n){var r=n(0),o=n(19);t.exports=r(function(t,e){for(var n in t)if(o(n,t)&&!t[n](e[n]))return!1;return!0})},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);o.call(this,t)}t.exports=r;var o=n(166),i=n(38);i.inherits=n(15),i.inherits(r,o),r.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){"use strict";(function(e){function r(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?B(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}function o(t,e){O=O||n(65),t=t||{},this.objectMode=!!t.objectMode,e instanceof O&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,o=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:o,this.highWaterMark=~~this.highWaterMark,this.buffer=new F,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(P||(P=n(75).StringDecoder),this.decoder=new P(t.encoding),this.encoding=t.encoding)}function i(t){if(O=O||n(65),!(this instanceof i))return new i(t);this._readableState=new o(t,this),this.readable=!0,t&&"function"==typeof t.read&&(this._read=t.read),R.call(this)}function u(t,e,n,r,o){var i=f(e,n);if(i)t.emit("error",i);else if(null===n)e.reading=!1,l(t,e);else if(e.objectMode||n&&n.length>0)if(e.ended&&!o){var u=new Error("stream.push() after EOF");t.emit("error",u)}else if(e.endEmitted&&o){var a=new Error("stream.unshift() after end event");t.emit("error",a)}else{var s;!e.decoder||o||r||(n=e.decoder.write(n),s=!e.objectMode&&0===n.length),o||(e.reading=!1),s||(e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,o?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&d(t))),h(t,e)}else o||(e.reading=!1);return c(e)}function c(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function a(t){return t>=U?t=U:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function s(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=a(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function f(t,e){var n=null;return q.isBuffer(e)||"string"==typeof e||null===e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function l(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,d(t)}}function d(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(L("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?j(p,t):p(t))}function p(t){L("emit readable"),t.emit("readable"),b(t)}function h(t,e){e.readingMore||(e.readingMore=!0,j(_,t,e))}function _(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(L("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function v(t){return function(){var e=t._readableState;L("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&I(t,"data")&&(e.flowing=!0,b(t))}}function g(t){L("readable nexttick read 0"),t.read(0)}function y(t,e){e.resumeScheduled||(e.resumeScheduled=!0,j(m,t,e))}function m(t,e){e.reading||(L("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),b(t),e.flowing&&!e.reading&&t.read(0)}function b(t){var e=t._readableState;for(L("flow",e.flowing);e.flowing&&null!==t.read(););}function w(t,e){if(0===e.length)return null;var n;return e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=k(t,e.buffer,e.decoder),n}function k(t,e,n){var r;return t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?x(t,e):T(t,e),r}
function x(t,e){var n=e.head,r=1,o=n.data;for(t-=o.length;n=n.next;){var i=n.data,u=t>i.length?i.length:t;if(o+=u===i.length?i:i.slice(0,t),0==(t-=u)){u===i.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=i.slice(u));break}++r}return e.length-=r,o}function T(t,e){var n=M.allocUnsafe(t),r=e.head,o=1;for(r.data.copy(n),t-=r.data.length;r=r.next;){var i=r.data,u=t>i.length?i.length:t;if(i.copy(n,n.length-t,0,u),0==(t-=u)){u===i.length?(++o,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=i.slice(u));break}++o}return e.length-=o,n}function S(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,j(E,e,t))}function E(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function A(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)}function C(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}t.exports=i;var O,j=n(149),B=n(197);i.ReadableState=o;var R,I=(n(71).EventEmitter,function(t,e){return t.listeners(e).length});!function(){try{R=n(53)}catch(t){}finally{R||(R=n(71).EventEmitter)}}();var q=n(26).Buffer,M=n(118),N=n(38);N.inherits=n(15);var D=n(728),L=void 0;L=D&&D.debuglog?D.debuglog("stream"):function(){};var P,F=n(708);N.inherits(i,R),i.prototype.push=function(t,e){var n=this._readableState;return n.objectMode||"string"!=typeof t||(e=e||n.defaultEncoding)!==n.encoding&&(t=M.from(t,e),e=""),u(this,n,t,e,!1)},i.prototype.unshift=function(t){return u(this,this._readableState,t,"",!0)},i.prototype.isPaused=function(){return this._readableState.flowing===!1},i.prototype.setEncoding=function(t){return P||(P=n(75).StringDecoder),this._readableState.decoder=new P(t),this._readableState.encoding=t,this};var U=8388608;i.prototype.read=function(t){L("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return L("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?S(this):d(this),null;if(0===(t=s(t,e))&&e.ended)return 0===e.length&&S(this),null;var r=e.needReadable;L("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&(r=!0,L("length less than watermark",r)),e.ended||e.reading?(r=!1,L("reading or ended",r)):r&&(L("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=s(n,e)));var o;return o=t>0?w(t,e):null,null===o?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&S(this)),null!==o&&this.emit("data",o),o},i.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},i.prototype.pipe=function(t,n){function o(t){L("onunpipe"),t===d&&u()}function i(){L("onend"),t.end()}function u(){L("cleanup"),t.removeListener("close",s),t.removeListener("finish",f),t.removeListener("drain",g),t.removeListener("error",a),t.removeListener("unpipe",o),d.removeListener("end",i),d.removeListener("end",u),d.removeListener("data",c),y=!0,!p.awaitDrain||t._writableState&&!t._writableState.needDrain||g()}function c(e){L("ondata"),m=!1,!1!==t.write(e)||m||((1===p.pipesCount&&p.pipes===t||p.pipesCount>1&&C(p.pipes,t)!==-1)&&!y&&(L("false write response, pause",d._readableState.awaitDrain),d._readableState.awaitDrain++,m=!0),d.pause())}function a(e){L("onerror",e),l(),t.removeListener("error",a),0===I(t,"error")&&t.emit("error",e)}function s(){t.removeListener("finish",f),l()}function f(){L("onfinish"),t.removeListener("close",s),l()}function l(){L("unpipe"),d.unpipe(t)}var d=this,p=this._readableState;switch(p.pipesCount){case 0:p.pipes=t;break;case 1:p.pipes=[p.pipes,t];break;default:p.pipes.push(t)}p.pipesCount+=1,L("pipe count=%d opts=%j",p.pipesCount,n);var h=(!n||n.end!==!1)&&t!==e.stdout&&t!==e.stderr,_=h?i:u;p.endEmitted?j(_):d.once("end",_),t.on("unpipe",o);var g=v(d);t.on("drain",g);var y=!1,m=!1;return d.on("data",c),r(t,"error",a),t.once("close",s),t.once("finish",f),t.emit("pipe",d),p.flowing||(L("pipe resume"),d.resume()),t},i.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){var n=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<r;o++)n[o].emit("unpipe",this);return this}var i=C(e.pipes,t);return i===-1?this:(e.pipes.splice(i,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this),this)},i.prototype.on=function(t,e){var n=R.prototype.on.call(this,t,e);if("data"===t)this._readableState.flowing!==!1&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&d(this):j(g,this))}return n},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){var t=this._readableState;return t.flowing||(L("resume"),t.flowing=!0,y(this,t)),this},i.prototype.pause=function(){return L("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(L("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(t){var e=this._readableState,n=!1,r=this;t.on("end",function(){if(L("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&r.push(t)}r.push(null)}),t.on("data",function(o){L("wrapped data"),e.decoder&&(o=e.decoder.write(o)),(!e.objectMode||null!==o&&void 0!==o)&&(e.objectMode||o&&o.length)&&(r.push(o)||(n=!0,t.pause()))});for(var o in t)void 0===this[o]&&"function"==typeof t[o]&&(this[o]=function(e){return function(){return t[e].apply(t,arguments)}}(o));return A(["error","close","destroy","pause","resume"],function(e){t.on(e,r.emit.bind(r,e))}),r._read=function(e){L("wrapped _read",e),n&&(n=!1,t.resume())},r},i._fromList=w}).call(e,n(11))},function(t,e,n){t.exports=n(166)},function(t,e,n){!function(e){t.exports=function(t){"use strict";function e(t,e,n,r,o,i){return e=m(m(e,t),m(r,i)),m(e<<o|e>>>32-o,n)}function n(t,n,r,o,i,u,c){return e(n&r|~n&o,t,n,i,u,c)}function r(t,n,r,o,i,u,c){return e(n&o|r&~o,t,n,i,u,c)}function o(t,n,r,o,i,u,c){return e(n^r^o,t,n,i,u,c)}function i(t,n,r,o,i,u,c){return e(r^(n|~o),t,n,i,u,c)}function u(t,e){var u=t[0],c=t[1],a=t[2],s=t[3];u=n(u,c,a,s,e[0],7,-680876936),s=n(s,u,c,a,e[1],12,-389564586),a=n(a,s,u,c,e[2],17,606105819),c=n(c,a,s,u,e[3],22,-1044525330),u=n(u,c,a,s,e[4],7,-176418897),s=n(s,u,c,a,e[5],12,1200080426),a=n(a,s,u,c,e[6],17,-1473231341),c=n(c,a,s,u,e[7],22,-45705983),u=n(u,c,a,s,e[8],7,1770035416),s=n(s,u,c,a,e[9],12,-1958414417),a=n(a,s,u,c,e[10],17,-42063),c=n(c,a,s,u,e[11],22,-1990404162),u=n(u,c,a,s,e[12],7,1804603682),s=n(s,u,c,a,e[13],12,-40341101),a=n(a,s,u,c,e[14],17,-1502002290),c=n(c,a,s,u,e[15],22,1236535329),u=r(u,c,a,s,e[1],5,-165796510),s=r(s,u,c,a,e[6],9,-1069501632),a=r(a,s,u,c,e[11],14,643717713),c=r(c,a,s,u,e[0],20,-373897302),u=r(u,c,a,s,e[5],5,-701558691),s=r(s,u,c,a,e[10],9,38016083),a=r(a,s,u,c,e[15],14,-660478335),c=r(c,a,s,u,e[4],20,-405537848),u=r(u,c,a,s,e[9],5,568446438),s=r(s,u,c,a,e[14],9,-1019803690),a=r(a,s,u,c,e[3],14,-187363961),c=r(c,a,s,u,e[8],20,1163531501),u=r(u,c,a,s,e[13],5,-1444681467),s=r(s,u,c,a,e[2],9,-51403784),a=r(a,s,u,c,e[7],14,1735328473),c=r(c,a,s,u,e[12],20,-1926607734),u=o(u,c,a,s,e[5],4,-378558),s=o(s,u,c,a,e[8],11,-2022574463),a=o(a,s,u,c,e[11],16,1839030562),c=o(c,a,s,u,e[14],23,-35309556),u=o(u,c,a,s,e[1],4,-1530992060),s=o(s,u,c,a,e[4],11,1272893353),a=o(a,s,u,c,e[7],16,-155497632),c=o(c,a,s,u,e[10],23,-1094730640),u=o(u,c,a,s,e[13],4,681279174),s=o(s,u,c,a,e[0],11,-358537222),a=o(a,s,u,c,e[3],16,-722521979),c=o(c,a,s,u,e[6],23,76029189),u=o(u,c,a,s,e[9],4,-640364487),s=o(s,u,c,a,e[12],11,-421815835),a=o(a,s,u,c,e[15],16,530742520),c=o(c,a,s,u,e[2],23,-995338651),u=i(u,c,a,s,e[0],6,-198630844),s=i(s,u,c,a,e[7],10,1126891415),a=i(a,s,u,c,e[14],15,-1416354905),c=i(c,a,s,u,e[5],21,-57434055),u=i(u,c,a,s,e[12],6,1700485571),s=i(s,u,c,a,e[3],10,-1894986606),a=i(a,s,u,c,e[10],15,-1051523),c=i(c,a,s,u,e[1],21,-2054922799),u=i(u,c,a,s,e[8],6,1873313359),s=i(s,u,c,a,e[15],10,-30611744),a=i(a,s,u,c,e[6],15,-1560198380),c=i(c,a,s,u,e[13],21,1309151649),u=i(u,c,a,s,e[4],6,-145523070),s=i(s,u,c,a,e[11],10,-1120210379),a=i(a,s,u,c,e[2],15,718787259),c=i(c,a,s,u,e[9],21,-343485551),t[0]=m(u,t[0]),t[1]=m(c,t[1]),t[2]=m(a,t[2]),t[3]=m(s,t[3])}function c(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}function a(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return n}function s(t){var e,n,r,o,i,a,s=t.length,f=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=s;e+=64)u(f,c(t.substring(e-64,e)));for(t=t.substring(e-64),n=t.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<n;e+=1)r[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(u(f,r),e=0;e<16;e+=1)r[e]=0;return o=8*s,o=o.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),a=parseInt(o[1],16)||0,r[14]=i,r[15]=a,u(f,r),f}function f(t){var e,n,r,o,i,c,s=t.length,f=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=s;e+=64)u(f,a(t.subarray(e-64,e)));for(t=e-64<s?t.subarray(e-64):new Uint8Array(0),n=t.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<n;e+=1)r[e>>2]|=t[e]<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(u(f,r),e=0;e<16;e+=1)r[e]=0;return o=8*s,o=o.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),c=parseInt(o[1],16)||0,r[14]=i,r[15]=c,u(f,r),f}function l(t){var e,n="";for(e=0;e<4;e+=1)n+=b[t>>8*e+4&15]+b[t>>8*e&15];return n}function d(t){var e;for(e=0;e<t.length;e+=1)t[e]=l(t[e]);return t.join("")}function p(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function h(t,e){var n,r=t.length,o=new ArrayBuffer(r),i=new Uint8Array(o);for(n=0;n<r;n+=1)i[n]=t.charCodeAt(n);return e?i:o}function _(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function v(t,e,n){var r=new Uint8Array(t.byteLength+e.byteLength);return r.set(new Uint8Array(t)),r.set(new Uint8Array(e),t.byteLength),n?r:r.buffer}function g(t){var e,n=[],r=t.length;for(e=0;e<r-1;e+=2)n.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,n)}function y(){this.reset()}var m=function(t,e){return t+e&4294967295},b=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return"5d41402abc4b2a76b9719d911017c592"!==d(s("hello"))&&(m=function(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(t,e){return t=0|t||0,t<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(n,r){var o,i,u,c,a=this.byteLength,s=e(n,a),f=a;return r!==t&&(f=e(r,a)),s>f?new ArrayBuffer(0):(o=f-s,i=new ArrayBuffer(o),u=new Uint8Array(i),c=new Uint8Array(this,s,o),u.set(c),i)}}(),y.prototype.append=function(t){return this.appendBinary(p(t)),this},y.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,n=this._buff.length;for(e=64;e<=n;e+=64)u(this._hash,c(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},y.prototype.end=function(t){var e,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<o;e+=1)i[e>>2]|=r.charCodeAt(e)<<(e%4<<3);return this._finish(i,o),n=d(this._hash),t&&(n=g(n)),this.reset(),n},y.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},y.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},y.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},y.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},y.prototype._finish=function(t,e){var n,r,o,i=e;if(t[i>>2]|=128<<(i%4<<3),i>55)for(u(this._hash,t),i=0;i<16;i+=1)t[i]=0;n=8*this._length,n=n.toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(n[2],16),o=parseInt(n[1],16)||0,t[14]=r,t[15]=o,u(this._hash,t)},y.hash=function(t,e){return y.hashBinary(p(t),e)},y.hashBinary=function(t,e){var n=s(t),r=d(n);return e?g(r):r},y.ArrayBuffer=function(){this.reset()},y.ArrayBuffer.prototype.append=function(t){var e,n=v(this._buff.buffer,t,!0),r=n.length;for(this._length+=t.byteLength,e=64;e<=r;e+=64)u(this._hash,a(n.subarray(e-64,e)));return this._buff=e-64<r?new Uint8Array(n.buffer.slice(e-64)):new Uint8Array(0),this},y.ArrayBuffer.prototype.end=function(t){var e,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<o;e+=1)i[e>>2]|=r[e]<<(e%4<<3);return this._finish(i,o),n=d(this._hash),t&&(n=g(n)),this.reset(),n},y.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},y.ArrayBuffer.prototype.getState=function(){var t=y.prototype.getState.call(this);return t.buff=_(t.buff),t},y.ArrayBuffer.prototype.setState=function(t){return t.buff=h(t.buff,!0),y.prototype.setState.call(this,t)},y.ArrayBuffer.prototype.destroy=y.prototype.destroy,y.ArrayBuffer.prototype._finish=y.prototype._finish,y.ArrayBuffer.hash=function(t,e){var n=f(new Uint8Array(t)),r=d(n);return e?g(r):r},y}()}()},function(t,e,n){(function(t,r){function o(t,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),_(n)?r.showHidden=n:n&&e._extend(r,n),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),a(r,t,r.depth)}function i(t,e){var n=o.styles[e];return n?"["+o.colors[n][0]+"m"+t+"["+o.colors[n][1]+"m":t}function u(t,e){return t}function c(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function a(t,n,r){if(t.customInspect&&n&&E(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,t);return m(o)||(o=a(t,o,r)),o}var i=s(t,n);if(i)return i;var u=Object.keys(n),_=c(u);if(t.showHidden&&(u=Object.getOwnPropertyNames(n)),S(n)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return f(n);if(0===u.length){if(E(n)){var v=n.name?": "+n.name:"";return t.stylize("[Function"+v+"]","special")}if(k(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(T(n))return t.stylize(Date.prototype.toString.call(n),"date");if(S(n))return f(n)}var g="",y=!1,b=["{","}"];if(h(n)&&(y=!0,b=["[","]"]),E(n)&&(g=" [Function"+(n.name?": "+n.name:"")+"]"),k(n)&&(g=" "+RegExp.prototype.toString.call(n)),T(n)&&(g=" "+Date.prototype.toUTCString.call(n)),S(n)&&(g=" "+f(n)),0===u.length&&(!y||0==n.length))return b[0]+g+b[1];if(r<0)return k(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var w;return w=y?l(t,n,r,_,u):u.map(function(e){return d(t,n,r,_,e,y)}),t.seen.pop(),p(w,g,b)}function s(t,e){if(w(e))return t.stylize("undefined","undefined");if(m(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return y(e)?t.stylize(""+e,"number"):_(e)?t.stylize(""+e,"boolean"):v(e)?t.stylize("null","null"):void 0}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function l(t,e,n,r,o){for(var i=[],u=0,c=e.length;u<c;++u)B(e,String(u))?i.push(d(t,e,n,r,String(u),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(d(t,e,n,r,o,!0))}),i}function d(t,e,n,r,o,i){var u,c,s;if(s=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]},s.get?c=s.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):s.set&&(c=t.stylize("[Setter]","special")),B(r,o)||(u="["+o+"]"),c||(t.seen.indexOf(s.value)<0?(c=v(n)?a(t,s.value,null):a(t,s.value,n-1),c.indexOf("\n")>-1&&(c=i?c.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+c.split("\n").map(function(t){return"   "+t}).join("\n"))):c=t.stylize("[Circular]","special")),w(u)){if(i&&o.match(/^\d+$/))return c;u=JSON.stringify(""+o),u.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=t.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=t.stylize(u,"string"))}return u+": "+c}function p(t,e,n){var r=0;return t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function h(t){return Array.isArray(t)}function _(t){return"boolean"==typeof t}function v(t){return null===t}function g(t){return null==t}function y(t){return"number"==typeof t}function m(t){return"string"==typeof t}function b(t){return"symbol"==typeof t}function w(t){return void 0===t}function k(t){return x(t)&&"[object RegExp]"===C(t)}function x(t){return"object"==typeof t&&null!==t}function T(t){return x(t)&&"[object Date]"===C(t)}function S(t){return x(t)&&("[object Error]"===C(t)||t instanceof Error)}function E(t){return"function"==typeof t}function A(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function C(t){return Object.prototype.toString.call(t)}function O(t){return t<10?"0"+t.toString(10):t.toString(10)}function j(){var t=new Date,e=[O(t.getHours()),O(t.getMinutes()),O(t.getSeconds())].join(":");return[t.getDate(),q[t.getMonth()],e].join(" ")}function B(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.format=function(t){if(!m(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(o(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,i=r.length,u=String(t).replace(/%[sdj%]/g,function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),c=r[n];n<i;c=r[++n])u+=v(c)||!x(c)?" "+c:" "+o(c);return u},e.deprecate=function(n,o){function i(){if(!u){if(r.throwDeprecation)throw new Error(o);r.traceDeprecation?console.trace(o):console.error(o),u=!0}return n.apply(this,arguments)}if(w(t.process))return function(){return e.deprecate(n,o).apply(this,arguments)};if(r.noDeprecation===!0)return n;var u=!1;return i};var R,I={};e.debuglog=function(t){if(w(R)&&(R=r.env.NODE_DEBUG||""),t=t.toUpperCase(),!I[t])if(new RegExp("\\b"+t+"\\b","i").test(R)){var n=r.pid;I[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else I[t]=function(){};return I[t]},e.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=h,e.isBoolean=_,e.isNull=v,e.isNullOrUndefined=g,e.isNumber=y,e.isString=m,e.isSymbol=b,e.isUndefined=w,e.isRegExp=k,e.isObject=x,e.isDate=T,e.isError=S,e.isFunction=E,e.isPrimitive=A,e.isBuffer=n(723);var q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",j(),e.format.apply(e,arguments))},e.inherits=n(722),e._extend=function(t,e){if(!e||!x(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(e,n(30),n(11))},,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(o,i){try{var u=e[o](i),c=u.value}catch(t){return void n(t)}if(!u.done)return Promise.resolve(c).then(function(t){r("next",t)},function(t){r("throw",t)});t(c)}return r("next")})}}var i=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(r=(u=c.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&c.return&&c.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){var t=o(regeneratorRuntime.mark(function t(){var e,r,u,a,f,l,d=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,s.default)("todo-db");case 2:return t.t0=t.sent,t.next=5,(0,s.default)("project-db");case 5:return t.t1=t.sent,t.next=8,(0,s.default)("context-db");case 8:return t.t2=t.sent,e={"todo-db":t.t0,"project-db":t.t1,"context-db":t.t2},t.next=12,e["todo-db"].find({selector:{_id:{$ne:null}}});case 12:return r=t.sent,t.next=15,e["project-db"].find({selector:{_id:{$ne:null}}});case 15:return u=t.sent,t.next=18,e["context-db"].find({selector:{_id:{$ne:null}}});case 18:a=t.sent,f=n(471),l=f.Main.embed(document.getElementById("root"),{now:Date.now(),encodedTodoList:r,encodedProjectList:u,encodedContextList:a,myPeerId:localStorage.getItem("my-peer-id")||"",remotePeerId:localStorage.getItem("remote-peer-id")||""}),l.ports.pouchDBUpsert.subscribe(function(){var t=o(regeneratorRuntime.mark(function t(n){var r,o=i(n,3),u=o[0],c=o[1],a=o[2];return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e[u].upsert(c,a);case 2:r=t.sent,_.F()&&console.log("upsertResult",r);case 4:case"end":return t.stop()}},t,d)}));return function(e){return t.apply(this,arguments)}}()),c(l),l.ports.focusPaperInput.subscribe(function(t){setTimeout(function(){requestAnimationFrame(function(){var e=document.querySelector(t);e&&document.activeElement!==e&&e.focus(),e&&e.$.input.focus()})},0)}),l.ports.startAlarm.subscribe(function(){p.default.start()}),l.ports.stopAlarm.subscribe(function(){p.default.stop()});case 26:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),c=function(){var t=o(regeneratorRuntime.mark(function t(e){var n,r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!("serviceWorker"in navigator)){t.next=5;break}return t.next=3,navigator.serviceWorker.register("/notification-sw.js");case 3:n=t.sent,e.ports.showTestNotification.subscribe(function(){var t=o(regeneratorRuntime.mark(function t(e){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Notification.requestPermission();case 2:return o=t.sent,"granted"===o&&n.showNotification("hi there",{actions:[{title:"foo",name:"bar",action:"adf"}],body:"asdf",title:"Hi There!!"}),t.abrupt("return",console.info(e));case 5:case"end":return t.stop()}},t,r)}));return function(e){return t.apply(this,arguments)}}());case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),a=n(281),s=r(a),f=n(150),l=r(f),d=n(282),p=r(d),h=n(283),_=(r(h),l.default);u().catch(console.error),"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js")},,function(t,e,n){"use strict";(function(t){function r(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(o,i){try{var u=e[o](i),c=u.value}catch(t){return void n(t)}if(!u.done)return Promise.resolve(c).then(function(t){r("next",t)},function(t){r("throw",t)});t(c)}return r("next")})}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(488),i=function(t){return t&&t.__esModule?t:{default:t}}(o),u=n(150),c=n(507);n(201),i.default.debug.disable(),i.default.plugin(n(502)),i.default.plugin(n(512)),i.default.plugin(c.plugin),i.default.adapter("writableStream",c.adapters.writableStream),t.PouchDB=i.default,e.default=function(){var t=r(regeneratorRuntime.mark(function t(e){var n,o,c,a,s,f,l,d=function(){var t=r(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=u,t.t1=u.prop("ddoc"),t.next=4,n.getIndexes();case 4:return t.t2=t.sent.indexes,e=t.t0.filter.call(t.t0,t.t1,t.t2),t.next=8,Promise.all(u.map(u.bind(n.deleteIndex,n),e));case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),p=function(){var t=r(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.allDocs();case 2:return e=t.sent,t.next=5,Promise.all(u.map(s,e));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http://localhost:12321",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;console.log("starting sync for "+r);var o=t+"/"+r;new i.default(t),n.sync(o,{live:!0,retry:!0},function(t){console.error("PLDB: sync err "+r,t)})},o=function(t){return n.createIndex(t)},n=new i.default(e),c=function(t){return n.bulkDocs(t)},a=function(t,e){return n.upsert(t,u.always(e))},s=function(t){return n.put(u.merge(t,{_deleted:!0}))},l=function(){var t=r(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.find(e);case 2:return t.abrupt("return",t.sent.docs);case 3:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}(),t.next=9,Promise.all(u.map(o,h));case 9:return t.abrupt("return",{find:l,deleteAllDocs:p,bulkDocs:c,_db:n,upsert:a,deleteIndices:d,_allDocs:function(){function t(){return e.apply(this,arguments)}var e=r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.allDocs();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,void 0)}));return t}(),replicateToStream:function(t){return n.dump(t)},startRemoteSync:f});case 10:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()}).call(e,n(30))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(150),i=r(o),u=n(472),c=r(u);i.default,e.default=function(){var t=c.default.Howl,e=new t({src:["alarm.ogg"]}),n=null,r=function(){o(),n=e.play(),e.fade(1,0,2e3,n)},o=function(){n&&e.stop()};return{start:r,stop:o}}()},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(r=(u=c.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&c.return&&c.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.default=function(e,n){function o(){var t=localStorage.getItem("my-peer-id");return a&&a.id!==t?(a.destroy(),c(t)):a||c(t)}function c(e){var r=new i.default(e,{secure:!0,host:"sgtd-peer-js.herokuapp.com",port:""});return r.on("error",function(t){console.dir(t),"network"!==t.type||r.destroyed||setTimeout(function(){r.reconnect()},5e3)}),r.on("open",function(t){console.log("My peer ID is: "+t)}),r.on("connection",function(e){var r=new u;n["project-db"]._db.load(r).then(function(){console.info("inbound replication complete"),e.close()}).catch(function(t){console.error("inbound replication error",t),e.close()}),e.on("data",function(e){console.log("Received",e),r.write(new t(e))}),e.on("error",function(t){console.dir(t),console.error("sync error",t)}),e.on("close",function(){r.end(),console.warn("in coming conn closed")})}),r}var a=o(),s=null;e.ports.startSync.subscribe(function(t){var e=r(t,2),i=e[0],c=e[1];localStorage.setItem("my-peer-id",i),localStorage.setItem("remote-peer-id",c),a=o(),s&&s.open&&s.close(),s=a.connect(c),s.on("open",function(){if(s.open){var t=new u;n["project-db"].replicateToStream(t).then(function(){console.info("replication complete"),s.close()}).catch(function(t){console.error("replication error"),s.close()}),t.on("data",function(t){s.send(t)})}}),s.on("data",function(t){console.log("Received",t)}),s.on("error",function(t){console.dir(t),console.error("open error",t)}),s.on("close",function(){console.warn("out bound conn closed")})})};var o=n(480),i=function(t){return t&&t.__esModule?t:{default:t}}(o),u=n(201)}).call(e,n(26).Buffer)},,function(t,e,n){"use strict";function r(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function o(t){return 3*t.length/4-r(t)}function i(t){var e,n,o,i,u,c,a=t.length;u=r(t),c=new l(3*a/4-u),o=u>0?a-4:a;var s=0;for(e=0,n=0;e<o;e+=4,n+=3)i=f[t.charCodeAt(e)]<<18|f[t.charCodeAt(e+1)]<<12|f[t.charCodeAt(e+2)]<<6|f[t.charCodeAt(e+3)],c[s++]=i>>16&255,c[s++]=i>>8&255,c[s++]=255&i;return 2===u?(i=f[t.charCodeAt(e)]<<2|f[t.charCodeAt(e+1)]>>4,c[s++]=255&i):1===u&&(i=f[t.charCodeAt(e)]<<10|f[t.charCodeAt(e+1)]<<4|f[t.charCodeAt(e+2)]>>2,c[s++]=i>>8&255,c[s++]=255&i),c}function u(t){return s[t>>18&63]+s[t>>12&63]+s[t>>6&63]+s[63&t]}function c(t,e,n){for(var r,o=[],i=e;i<n;i+=3)r=(t[i]<<16)+(t[i+1]<<8)+t[i+2],o.push(u(r));return o.join("")}function a(t){for(var e,n=t.length,r=n%3,o="",i=[],u=16383,a=0,f=n-r;a<f;a+=u)i.push(c(t,a,a+u>f?f:a+u));return 1===r?(e=t[n-1],o+=s[e>>2],o+=s[e<<4&63],o+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],o+=s[e>>10],o+=s[e>>4&63],o+=s[e<<2&63],o+="="),i.push(o),i.join("")}e.byteLength=o,e.toByteArray=i,e.fromByteArray=a;for(var s=[],f=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,h=d.length;p<h;++p)s[p]=d[p],f[d.charCodeAt(p)]=p;f["-".charCodeAt(0)]=62,f["_".charCodeAt(0)]=63},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){(function(r){function o(){return!("undefined"==typeof window||!window||void 0===window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document&&"WebkitAppearance"in document.documentElement.style||"undefined"!=typeof window&&window&&window.console&&(console.firebug||console.exception&&console.table)||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),n){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var o=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))}),t.splice(i,0,r)}}function u(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function c(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}}function a(){try{return e.storage.debug}catch(t){}if(void 0!==r&&"env"in r)return r.env.DEBUG}e=t.exports=n(470),e.log=u,e.formatArgs=i,e.save=c,e.load=a,e.useColors=o,e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(a())}).call(e,n(11))},function(t,e,n){function r(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}function o(t){function n(){if(n.enabled){
var t=n,r=+new Date,o=r-(s||r);t.diff=o,t.prev=s,t.curr=r,s=r;for(var i=new Array(arguments.length),u=0;u<i.length;u++)i[u]=arguments[u];i[0]=e.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var c=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;c++;var o=e.formatters[r];if("function"==typeof o){var u=i[c];n=o.call(t,u),i.splice(c,1),c--}return n}),e.formatArgs.call(t,i),(n.log||e.log||console.log.bind(console)).apply(t,i)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=r(t),"function"==typeof e.init&&e.init(n),n}function i(t){e.save(t);for(var n=(t||"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&(t=n[o].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function u(){e.enable("")}function c(t){var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1}function a(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=o.debug=o.default=o,e.coerce=a,e.disable=u,e.enable=i,e.enabled=c,e.humanize=n(202),e.names=[],e.skips=[],e.formatters={};var s},function(t,e){(function(){"use strict";function e(t){function e(e){return function(n){return t(e,n)}}return e.arity=2,e.func=t,e}function n(t){function e(e){return function(n){return function(r){return t(e,n,r)}}}return e.arity=3,e.func=t,e}function r(t){function e(e){return function(n){return function(r){return function(o){return t(e,n,r,o)}}}}return e.arity=4,e.func=t,e}function o(t){function e(e){return function(n){return function(r){return function(o){return function(i){return t(e,n,r,o,i)}}}}}return e.arity=5,e.func=t,e}function i(t){function e(e){return function(n){return function(r){return function(o){return function(i){return function(u){return t(e,n,r,o,i,u)}}}}}}return e.arity=6,e.func=t,e}function u(t){function e(e){return function(n){return function(r){return function(o){return function(i){return function(u){return function(c){return t(e,n,r,o,i,u,c)}}}}}}}return e.arity=7,e.func=t,e}function c(t){function e(e){return function(n){return function(r){return function(o){return function(i){return function(u){return function(c){return function(a){return t(e,n,r,o,i,u,c,a)}}}}}}}}return e.arity=8,e.func=t,e}function a(t){function e(e){return function(n){return function(r){return function(o){return function(i){return function(u){return function(c){return function(a){return function(s){return t(e,n,r,o,i,u,c,a,s)}}}}}}}}}return e.arity=9,e.func=t,e}function s(t,e,n){return 2===t.arity?t.func(e,n):t(e)(n)}function f(t,e,n,r){return 3===t.arity?t.func(e,n,r):t(e)(n)(r)}function l(t,e,n,r,o){return 4===t.arity?t.func(e,n,r,o):t(e)(n)(r)(o)}function d(t,e,n,r,o,i){return 5===t.arity?t.func(e,n,r,o,i):t(e)(n)(r)(o)(i)}function p(t,e,n,r,o,i,u){return 6===t.arity?t.func(e,n,r,o,i,u):t(e)(n)(r)(o)(i)(u)}function h(t,e,n,r,o,i,u,c){return 7===t.arity?t.func(e,n,r,o,i,u,c):t(e)(n)(r)(o)(i)(u)(c)}var _=function(){function t(t,e){return t/e|0}function r(t,e){return t%e}function o(t,e){if(0===e)throw new Error("Cannot perform mod 0. Division by zero error.");var n=t%e,r=0===t?0:e>0?t>=0?n:n+e:-o(-t,-e);return r===e?0:r}function i(t,e){return Math.log(e)/Math.log(t)}function u(t){return-t}function c(t){return t<0?-t:t}function a(t,e){return v.cmp(t,e)<0?t:e}function s(t,e){return v.cmp(t,e)>0?t:e}function f(t,e,n){return v.cmp(n,t)<0?t:v.cmp(n,e)>0?e:n}function l(t,e){return{ctor:w[v.cmp(t,e)+1]}}function d(t,e){return t!==e}function p(t){return!t}function h(t){return 1/0===t||t===-1/0}function _(t){return 0|t}function g(t){return t*Math.PI/180}function y(t){return 2*Math.PI*t}function m(t){var e=t._0,n=t._1;return v.Tuple2(e*Math.cos(n),e*Math.sin(n))}function b(t){var e=t._0,n=t._1;return v.Tuple2(Math.sqrt(e*e+n*n),Math.atan2(n,e))}var w=["LT","EQ","GT"];return{div:e(t),rem:e(r),mod:e(o),pi:Math.PI,e:Math.E,cos:Math.cos,sin:Math.sin,tan:Math.tan,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:e(Math.atan2),degrees:g,turns:y,fromPolar:m,toPolar:b,sqrt:Math.sqrt,logBase:e(i),negate:u,abs:c,min:e(a),max:e(s),clamp:n(f),compare:e(l),xor:e(d),not:p,truncate:_,ceiling:Math.ceil,floor:Math.floor,round:Math.round,toFloat:function(t){return t},isNaN:isNaN,isInfinite:h}}(),v=function(){function t(t,e){for(var r,o=[],i=n(t,e,0,o);i&&(r=o.pop());)i=n(r.x,r.y,0,o);return i}function n(t,e,r,o){if(r>100)return o.push({x:t,y:e}),!0;if(t===e)return!0;if("object"!=typeof t){if("function"==typeof t)throw new Error('Trying to use `(==)` on functions. There is no way to know if functions are "the same" in the Elm sense. Read more about this at http://package.elm-lang.org/packages/elm-lang/core/latest/Basics#== which describes why it is this way and what the better version will look like.');return!1}if(null===t||null===e)return!1;if(t instanceof Date)return t.getTime()===e.getTime();if(!("ctor"in t)){for(var i in t)if(!n(t[i],e[i],r+1,o))return!1;return!0}if("RBNode_elm_builtin"!==t.ctor&&"RBEmpty_elm_builtin"!==t.ctor||(t=Ve(t),e=Ve(e)),"Set_elm_builtin"===t.ctor&&(t=$u(t),e=$u(e)),"::"===t.ctor){for(var u=t,c=e;"::"===u.ctor&&"::"===c.ctor;){if(!n(u._0,c._0,r+1,o))return!1;u=u._1,c=c._1}return u.ctor===c.ctor}if("_Array"===t.ctor){var a=Le.toJSArray(t),s=Le.toJSArray(e);if(a.length!==s.length)return!1;for(var f=0;f<a.length;f++)if(!n(a[f],s[f],r+1,o))return!1;return!0}if(!n(t.ctor,e.ctor,r+1,o))return!1;for(var i in t)if(!n(t[i],e[i],r+1,o))return!1;return!0}function r(t,e){if("object"!=typeof t)return t===e?v:t<e?_:g;if(t instanceof String){var n=t.valueOf(),o=e.valueOf();return n===o?v:n<o?_:g}if("::"===t.ctor||"[]"===t.ctor){for(;"::"===t.ctor&&"::"===e.ctor;){var i=r(t._0,e._0);if(i!==v)return i;t=t._1,e=e._1}return t.ctor===e.ctor?v:"[]"===t.ctor?_:g}if("_Tuple"===t.ctor.slice(0,6)){var i,u=t.ctor.slice(6)-0;if(0===u)return v;if(u>=1){if((i=r(t._0,e._0))!==v)return i;if(u>=2){if((i=r(t._1,e._1))!==v)return i;if(u>=3){if((i=r(t._2,e._2))!==v)return i;if(u>=4){if((i=r(t._3,e._3))!==v)return i;if(u>=5){if((i=r(t._4,e._4))!==v)return i;if(u>=6){if((i=r(t._5,e._5))!==v)return i;if(u>=7)throw new Error("Comparison error: cannot compare tuples with more than 6 elements.")}}}}}}return v}throw new Error("Comparison error: comparison is only defined on ints, floats, times, chars, strings, lists of comparable values, and tuples of comparable values.")}function o(t,e){return{ctor:"_Tuple2",_0:t,_1:e}}function i(t){return new String(t)}function u(t){return m++}function c(t,e){var n={};for(var r in t)n[r]=t[r];for(var r in e)n[r]=e[r];return n}function a(t,e){return{ctor:"::",_0:t,_1:e}}function s(t,e){if("string"==typeof t)return t+e;if("[]"===t.ctor)return e;var n=a(t._0,b),r=n;for(t=t._1;"[]"!==t.ctor;)r._1=a(t._0,b),t=t._1,r=r._1;return r._1=e,n}function f(t,e){return function(n){throw new Error("Ran into a `Debug.crash` in module `"+t+"` "+d(e)+"\nThe message provided by the code author is:\n\n    "+n)}}function l(t,e,n){return function(r){throw new Error("Ran into a `Debug.crash` in module `"+t+"`\n\nThis was caused by the `case` expression "+d(e)+".\nOne of the branches ended with a crash and the following value got through:\n\n    "+p(n)+"\n\nThe message provided by the code author is:\n\n    "+r)}}function d(t){return t.start.line==t.end.line?"on line "+t.start.line:"between lines "+t.start.line+" and "+t.end.line}function p(t){var e=typeof t;if("function"===e)return"<function>";if("boolean"===e)return t?"True":"False";if("number"===e)return t+"";if(t instanceof String)return"'"+h(t,!0)+"'";if("string"===e)return'"'+h(t,!1)+'"';if(null===t)return"null";if("object"===e&&"ctor"in t){var n=t.ctor.substring(0,5);if("_Tupl"===n){var r=[];for(var o in t)"ctor"!==o&&r.push(p(t[o]));return"("+r.join(",")+")"}if("_Task"===n)return"<task>";if("_Array"===t.ctor)return"Array.fromList "+p(We(t));if("<decoder>"===t.ctor)return"<decoder>";if("_Process"===t.ctor)return"<process:"+t.id+">";if("::"===t.ctor){var r="["+p(t._0);for(t=t._1;"::"===t.ctor;)r+=","+p(t._0),t=t._1;return r+"]"}if("[]"===t.ctor)return"[]";if("Set_elm_builtin"===t.ctor)return"Set.fromList "+p($u(t));if("RBNode_elm_builtin"===t.ctor||"RBEmpty_elm_builtin"===t.ctor)return"Dict.fromList "+p(Ve(t));var r="";for(var i in t)if("ctor"!==i){var u=p(t[i]),c=u[0],a="{"===c||"("===c||"<"===c||'"'===c||u.indexOf(" ")<0;r+=" "+(a?u:"("+u+")")}return t.ctor+r}if("object"===e){if(t instanceof Date)return"<"+t.toString()+">";if(t.elm_web_socket)return"<websocket>";var r=[];for(var o in t)r.push(o+" = "+p(t[o]));return 0===r.length?"{}":"{ "+r.join(", ")+" }"}return"<internal structure>"}function h(t,e){var n=t.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return e?n.replace(/\'/g,"\\'"):n.replace(/\"/g,'\\"')}var _=-1,v=0,g=1,y={ctor:"_Tuple0"},m=0,b={ctor:"[]"};return{eq:t,cmp:r,Tuple0:y,Tuple2:o,chr:i,update:c,guid:u,append:e(s),crash:f,crashCase:l,toString:p}}(),g=function(t){for(;;)t=t._0},y=e(function(t,e){var n=e;return s(t,n._0,n._1)}),m=n(function(t,e,n){return t({ctor:"_Tuple2",_0:e,_1:n})}),b=n(function(t,e,n){return s(t,n,e)}),w=e(function(t,e){return t}),k=function(t){return t},x=x||{};x["<|"]=e(function(t,e){return t(e)});var x=x||{};x["|>"]=e(function(t,e){return e(t)});var x=x||{};x[">>"]=n(function(t,e,n){return e(t(n))});var x=x||{};x["<<"]=n(function(t,e,n){return t(e(n))});var x=x||{};x["++"]=v.append;var T=v.toString,S=(_.isInfinite,_.isNaN),E=_.toFloat,A=_.ceiling,C=_.floor,O=_.truncate,j=_.round,x=(_.not,_.xor,x||{});x["||"]=_.or;var x=x||{};x["&&"]=_.and;var B=_.max,R=_.min,I=_.compare,x=x||{};x[">="]=_.ge;var x=x||{};x["<="]=_.le;var x=x||{};x[">"]=_.gt;var x=x||{};x["<"]=_.lt;var x=x||{};x["/="]=_.neq;var x=x||{};x["=="]=_.eq;var q=(_.e,_.pi,_.clamp,_.logBase,_.abs),M=_.negate,x=(_.sqrt,_.atan2,_.atan,_.asin,_.acos,_.tan,_.sin,_.cos,x||{});x["^"]=_.exp;var x=x||{};x["%"]=_.mod;var N=_.rem,x=x||{};x["//"]=_.div;var x=x||{};x["/"]=_.floatDiv;var x=x||{};x["*"]=_.mul;var x=x||{};x["-"]=_.sub;var x=x||{};x["+"]=_.add;var D=(_.toPolar,_.fromPolar,_.turns,_.degrees,{ctor:"LT"}),L=function(){function t(t,e){var n=t+": "+v.toString(e),r=r||{};return r.stdout?r.stdout.write(n):console.log(n),e}function n(t){throw new Error(t)}return{crash:n,log:e(t)}}(),P=(L.crash,L.log),F=e(function(t,e){var n=e;return"Just"===n.ctor?n._0:t}),U={ctor:"Nothing"},W=e(function(t,e){var n=e;return"Just"===n.ctor?t(n._0):U}),z=function(t){return{ctor:"Just",_0:t}},$=e(function(t,e){var n=e;return"Just"===n.ctor?z(t(n._0)):U}),J=n(function(t,e,n){var r={ctor:"_Tuple2",_0:e,_1:n};return"_Tuple2"===r.ctor&&"Just"===r._0.ctor&&"Just"===r._1.ctor?z(s(t,r._0._0,r._1._0)):U}),H=(r(function(t,e,n,r){var o={ctor:"_Tuple3",_0:e,_1:n,_2:r};return"_Tuple3"===o.ctor&&"Just"===o._0.ctor&&"Just"===o._1.ctor&&"Just"===o._2.ctor?z(f(t,o._0._0,o._1._0,o._2._0)):U}),o(function(t,e,n,r,o){var i={ctor:"_Tuple4",_0:e,_1:n,_2:r,_3:o};return"_Tuple4"===i.ctor&&"Just"===i._0.ctor&&"Just"===i._1.ctor&&"Just"===i._2.ctor&&"Just"===i._3.ctor?z(l(t,i._0._0,i._1._0,i._2._0,i._3._0)):U}),i(function(t,e,n,r,o,i){var u={ctor:"_Tuple5",_0:e,_1:n,_2:r,_3:o,_4:i};return"_Tuple5"===u.ctor&&"Just"===u._0.ctor&&"Just"===u._1.ctor&&"Just"===u._2.ctor&&"Just"===u._3.ctor&&"Just"===u._4.ctor?z(d(t,u._0._0,u._1._0,u._2._0,u._3._0,u._4._0)):U}),function(){function t(t,e){return{ctor:"::",_0:t,_1:e}}function u(e){for(var n=b,r=e.length;r--;)n=t(e[r],n);return n}function c(t){for(var e=[];"[]"!==t.ctor;)e.push(t._0),t=t._1;return e}function a(t,e,n){for(var r=c(n),o=e,i=r.length;i--;)o=s(t,r[i],o);return o}function p(t,e,n){for(var r=[];"[]"!==e.ctor&&"[]"!==n.ctor;)r.push(s(t,e._0,n._0)),e=e._1,n=n._1;return u(r)}function h(t,e,n,r){for(var o=[];"[]"!==e.ctor&&"[]"!==n.ctor&&"[]"!==r.ctor;)o.push(f(t,e._0,n._0,r._0)),e=e._1,n=n._1,r=r._1;return u(o)}function _(t,e,n,r,o){for(var i=[];"[]"!==e.ctor&&"[]"!==n.ctor&&"[]"!==r.ctor&&"[]"!==o.ctor;)i.push(l(t,e._0,n._0,r._0,o._0)),e=e._1,n=n._1,r=r._1,o=o._1;return u(i)}function g(t,e,n,r,o,i){for(var c=[];"[]"!==e.ctor&&"[]"!==n.ctor&&"[]"!==r.ctor&&"[]"!==o.ctor&&"[]"!==i.ctor;)c.push(d(t,e._0,n._0,r._0,o._0,i._0)),e=e._1,n=n._1,r=r._1,o=o._1,i=i._1;return u(c)}function y(t,e){return u(c(e).sort(function(e,n){return v.cmp(t(e),t(n))}))}function m(t,e){return u(c(e).sort(function(e,n){var r=t(e)(n).ctor;return"EQ"===r?0:"LT"===r?-1:1}))}var b={ctor:"[]"};return{Nil:b,Cons:t,cons:e(t),toArray:c,fromArray:u,foldr:n(a),map2:n(p),map3:r(h),map4:o(_),map5:i(g),sortBy:e(y),sortWith:e(m)}}()),V=H.sortWith,G=H.sortBy,K=e(function(t,e){for(;;){if(v.cmp(t,0)<1)return e;var n=e;if("[]"===n.ctor)return e;var r=t-1,o=n._1;t=r,e=o}}),Y=H.map5,X=H.map4,Q=H.map3,Z=H.map2,tt=e(function(t,e){for(;;){var n=e;if("[]"===n.ctor)return!1;if(t(n._0))return!0;var r=t,o=n._1;t=r,e=o}}),et=e(function(t,e){return!s(tt,function(e){return!t(e)},e)}),nt=H.foldr,rt=n(function(t,e,n){for(;;){var r=n;if("[]"===r.ctor)return e;var o=t,i=s(t,r._0,e),u=r._1;t=o,e=i,n=u}}),ot=function(t){return f(rt,e(function(t,e){return e+1}),0,t)},it=function(t){return f(rt,e(function(t,e){return t+e}),0,t)},ut=e(function(t,e){return s(tt,function(e){return v.eq(e,t)},e)}),ct=function(t){return"[]"===t.ctor},at=function(t){var e=t;return"::"===e.ctor?z(e._1):U},st=function(t){var e=t;return"::"===e.ctor?z(e._0):U},ft=ft||{};ft["::"]=H.cons;var lt=e(function(t,n){return f(nt,e(function(e,n){return{ctor:"::",_0:t(e),_1:n}}),{ctor:"[]"},n)}),dt=e(function(t,n){return f(nt,e(function(e,n){return t(e)?{ctor:"::",_0:e,_1:n}:n}),{ctor:"[]"},n)}),pt=n(function(t,e,n){var r=t(e);return"Just"===r.ctor?{ctor:"::",_0:r._0,_1:n}:n}),ht=e(function(t,e){return f(nt,pt(t),{ctor:"[]"},e)}),_t=function(t){return f(rt,e(function(t,e){return{ctor:"::",_0:t,_1:e}}),{ctor:"[]"},t)},vt=n(function(t,n,r){return _t(f(rt,e(function(e,n){var r=n;return"::"===r.ctor?{ctor:"::",_0:s(t,e,r._0),_1:n}:{ctor:"[]"}}),{ctor:"::",_0:n,_1:{ctor:"[]"}},r))}),gt=e(function(t,n){return"[]"===n.ctor?t:f(nt,e(function(t,e){return{ctor:"::",_0:t,_1:e}}),n,t)}),yt=function(t){return f(nt,gt,{ctor:"[]"},t)},mt=e(function(t,e){return yt(s(lt,t,e))}),bt=(e(function(t,n){return f(nt,e(function(e,n){var r=n,o=r._0,i=r._1;return t(e)?{ctor:"_Tuple2",_0:{ctor:"::",_0:e,_1:o},_1:i}:{ctor:"_Tuple2",_0:o,_1:{ctor:"::",_0:e,_1:i}}}),{ctor:"_Tuple2",_0:{ctor:"[]"},_1:{ctor:"[]"}},n)}),e(function(t,n){var r=n;if("[]"===r.ctor)return{ctor:"[]"};var o=e(function(e,n){return{ctor:"::",_0:t,_1:{ctor:"::",_0:e,_1:n}}}),i=f(nt,o,{ctor:"[]"},r._1);return{ctor:"::",_0:r._0,_1:i}}),n(function(t,e,n){for(;;){if(v.cmp(t,0)<1)return n;var r=e;if("[]"===r.ctor)return n;var o=t-1,i=r._1,u={ctor:"::",_0:r._0,_1:n};t=o,e=i,n=u}})),wt=e(function(t,e){return _t(f(bt,t,e,{ctor:"[]"}))}),kt=n(function(t,e,n){if(v.cmp(e,0)<1)return{ctor:"[]"};var r={ctor:"_Tuple2",_0:e,_1:n};t:do{e:do{if("_Tuple2"!==r.ctor)break t;if("[]"===r._1.ctor)return n;if("::"!==r._1._1.ctor){if(1===r._0)break e;break t}switch(r._0){case 1:break e;case 2:return{ctor:"::",_0:r._1._0,_1:{ctor:"::",_0:r._1._1._0,_1:{ctor:"[]"}}};case 3:if("::"===r._1._1._1.ctor)return{ctor:"::",_0:r._1._0,_1:{ctor:"::",_0:r._1._1._0,_1:{ctor:"::",_0:r._1._1._1._0,_1:{ctor:"[]"}}}};break t;default:if("::"===r._1._1._1.ctor&&"::"===r._1._1._1._1.ctor){var o=r._1._1._1._0,i=r._1._1._0,u=r._1._0,c=r._1._1._1._1._0,a=r._1._1._1._1._1;return v.cmp(t,1e3)>0?{ctor:"::",_0:u,_1:{ctor:"::",_0:i,_1:{ctor:"::",_0:o,_1:{ctor:"::",_0:c,_1:s(wt,e-4,a)}}}}:{ctor:"::",_0:u,_1:{ctor:"::",_0:i,_1:{ctor:"::",_0:o,_1:{ctor:"::",_0:c,_1:f(kt,t+1,e-4,a)}}}}}break t}}while(!1);return{ctor:"::",_0:r._1._0,_1:{ctor:"[]"}}}while(!1);return n}),xt=e(function(t,e){return f(kt,0,t,e)}),Tt=n(function(t,e,n){for(;;){if(v.cmp(e,0)<1)return t;var r={ctor:"::",_0:n,_1:t},o=e-1,i=n;t=r,e=o,n=i}}),St=(e(function(t,e){return f(Tt,{ctor:"[]"},t,e)}),n(function(t,e,n){for(;;){if(!(v.cmp(t,e)<1))return n;var r=t,o=e-1,i={ctor:"::",_0:e,_1:n};t=r,e=o,n=i}})),Et=e(function(t,e){return f(St,t,e,{ctor:"[]"})}),At=e(function(t,e){return f(Z,t,s(Et,0,ot(e)-1),e)}),Ct=function(t){var e=t;return"Ok"===e.ctor?z(e._0):U},Ot=e(function(t,e){var n=e;return"Ok"===n.ctor?n._0:t}),jt=function(t){return{ctor:"Err",_0:t}},Bt=e(function(t,e){var n=e;return"Ok"===n.ctor?t(n._0):jt(n._0)}),Rt=function(t){return{ctor:"Ok",_0:t}},It=e(function(t,e){var n=e;return"Ok"===n.ctor?Rt(t(n._0)):jt(n._0)}),qt=n(function(t,e,n){var r={ctor:"_Tuple2",_0:e,_1:n};return"Ok"===r._0.ctor?"Ok"===r._1.ctor?Rt(s(t,r._0._0,r._1._0)):jt(r._1._0):jt(r._0._0)}),Mt=(r(function(t,e,n,r){var o={ctor:"_Tuple3",_0:e,_1:n,_2:r};return"Ok"===o._0.ctor?"Ok"===o._1.ctor?"Ok"===o._2.ctor?Rt(f(t,o._0._0,o._1._0,o._2._0)):jt(o._2._0):jt(o._1._0):jt(o._0._0)}),o(function(t,e,n,r,o){var i={ctor:"_Tuple4",_0:e,_1:n,_2:r,_3:o};return"Ok"===i._0.ctor?"Ok"===i._1.ctor?"Ok"===i._2.ctor?"Ok"===i._3.ctor?Rt(l(t,i._0._0,i._1._0,i._2._0,i._3._0)):jt(i._3._0):jt(i._2._0):jt(i._1._0):jt(i._0._0)}),i(function(t,e,n,r,o,i){var u={ctor:"_Tuple5",_0:e,_1:n,_2:r,_3:o,_4:i};return"Ok"===u._0.ctor?"Ok"===u._1.ctor?"Ok"===u._2.ctor?"Ok"===u._3.ctor?"Ok"===u._4.ctor?Rt(d(t,u._0._0,u._1._0,u._2._0,u._3._0,u._4._0)):jt(u._4._0):jt(u._3._0):jt(u._2._0):jt(u._1._0):jt(u._0._0)}),e(function(t,e){var n=e;return"Ok"===n.ctor?Rt(n._0):jt(t(n._0))}),e(function(t,e){var n=e;return"Just"===n.ctor?Rt(n._0):jt(t)}),function(){function t(t){return 0===t.length}function r(t,e){return t+e}function o(t){var e=t[0];return e?z(v.Tuple2(v.chr(e),t.slice(1))):U}function i(t,e){return t+e}function u(t){return H.toArray(t).join("")}function c(t){return t.length}function a(t,e){for(var n=e.split(""),r=n.length;r--;)n[r]=t(v.chr(n[r]));return n.join("")}function f(t,e){return e.split("").map(v.chr).filter(t).join("")}function l(t){return t.split("").reverse().join("")}function d(t,e,n){for(var r=n.length,o=0;o<r;++o)e=s(t,v.chr(n[o]),e);return e}function p(t,e,n){for(var r=n.length;r--;)e=s(t,v.chr(n[r]),e);return e}function h(t,e){return H.fromArray(e.split(t))}function _(t,e){return H.toArray(e).join(t)}function g(t,e){for(var n="";t>0;)1&t&&(n+=e),t>>=1,e+=e;return n}function y(t,e,n){return n.slice(t,e)}function m(t,e){return t<1?"":e.slice(0,t)}function b(t,e){return t<1?"":e.slice(-t)}function w(t,e){return t<1?e:e.slice(t)}function k(t,e){return t<1?e:e.slice(0,-t)}function x(t,e,n){var r=(t-n.length)/2;return g(Math.ceil(r),e)+n+g(0|r,e)}function T(t,e,n){return n+g(t-n.length,e)}function S(t,e,n){return g(t-n.length,e)+n}function E(t){return t.trim()}function A(t){return t.replace(/^\s+/,"")}function C(t){return t.replace(/\s+$/,"")}function O(t){return H.fromArray(t.trim().split(/\s+/g))}function j(t){return H.fromArray(t.split(/\r\n|\r|\n/g))}function B(t){return t.toUpperCase()}function R(t){return t.toLowerCase()}function I(t,e){for(var n=e.length;n--;)if(t(v.chr(e[n])))return!0;return!1}function q(t,e){for(var n=e.length;n--;)if(!t(v.chr(e[n])))return!1;return!0}function M(t,e){return e.indexOf(t)>-1}function N(t,e){return 0===e.indexOf(t)}function D(t,e){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}function L(t,e){var n=t.length;if(n<1)return H.Nil;for(var r=0,o=[];(r=e.indexOf(t,r))>-1;)o.push(r),r+=n;return H.fromArray(o)}function P(t){var e=t.length;if(0===e)return F(t);var n=t[0];if("0"===n&&"x"===t[1]){for(var r=2;r<e;++r){var n=t[r];if(!("0"<=n&&n<="9"||"A"<=n&&n<="F"||"a"<=n&&n<="f"))return F(t)}return Rt(parseInt(t,16))}if(n>"9"||n<"0"&&"-"!==n&&"+"!==n)return F(t);for(var r=1;r<e;++r){var n=t[r];if(n<"0"||"9"<n)return F(t)}return Rt(parseInt(t,10))}function F(t){return jt("could not convert string '"+t+"' to an Int")}function W(t){if(0===t.length||/[\sxbo]/.test(t))return $(t);var e=+t;return e===e?Rt(e):$(t)}function $(t){return jt("could not convert string '"+t+"' to a Float")}function J(t){return H.fromArray(t.split("").map(v.chr))}function V(t){return H.toArray(t).join("")}return{isEmpty:t,cons:e(r),uncons:o,append:e(i),concat:u,length:c,map:e(a),filter:e(f),reverse:l,foldl:n(d),foldr:n(p),split:e(h),join:e(_),repeat:e(g),slice:n(y),left:e(m),right:e(b),dropLeft:e(w),dropRight:e(k),pad:n(x),padLeft:n(S),padRight:n(T),trim:E,trimLeft:A,trimRight:C,words:O,lines:j,toUpper:B,toLower:R,any:e(I),all:e(q),contains:e(M),startsWith:e(N),endsWith:e(D),indexes:e(L),toInt:P,toFloat:W,toList:J,fromList:V}}()),Nt=function(){return{fromCode:function(t){return v.chr(String.fromCharCode(t))},toCode:function(t){return t.charCodeAt(0)},toUpper:function(t){return v.chr(t.toUpperCase())},toLower:function(t){return v.chr(t.toLowerCase())},toLocaleUpper:function(t){return v.chr(t.toLocaleUpperCase())},toLocaleLower:function(t){return v.chr(t.toLocaleLowerCase())}}}(),Dt=Nt.fromCode,Lt=Nt.toCode,Pt=(Nt.toLocaleLower,Nt.toLocaleUpper,Nt.toLower,Nt.toUpper,n(function(t,e,n){var r=Lt(n);return v.cmp(r,Lt(t))>-1&&v.cmp(r,Lt(e))<1})),Ft=(s(Pt,v.chr("A"),v.chr("Z")),s(Pt,v.chr("a"),v.chr("z")),s(Pt,v.chr("0"),v.chr("9")),s(Pt,v.chr("0"),v.chr("7")),Mt.fromList),Ut=(Mt.toList,Mt.toFloat),Wt=Mt.toInt,zt=(Mt.indexes,Mt.indexes),$t=Mt.endsWith,Jt=Mt.startsWith,Ht=(Mt.contains,Mt.all,Mt.any,Mt.toLower),Vt=Mt.toUpper,Gt=(Mt.lines,Mt.words,Mt.trimRight,Mt.trimLeft,Mt.trim),Kt=Mt.padRight,Yt=Mt.padLeft,Xt=(Mt.pad,Mt.dropRight),Qt=Mt.dropLeft,Zt=Mt.right,te=Mt.left,ee=Mt.slice,ne=(Mt.repeat,Mt.join),re=Mt.split,oe=(Mt.foldr,Mt.foldl,Mt.reverse,Mt.filter,Mt.map,Mt.length),ie=Mt.concat,ue=Mt.append,ce=Mt.uncons,ae=Mt.cons,se=function(t){return s(ae,t,"")},fe=Mt.isEmpty,le=e(function(t,e){var n=e;return{ctor:"_Tuple2",_0:n._0,_1:t(n._1)}}),de=e(function(t,e){var n=e;return{ctor:"_Tuple2",_0:t(n._0),_1:n._1}}),pe=function(t){return t._1},he=function(t){return t._0},_e=function(){function t(t){return function(e){return function(e,n){e.worker=function(e){if(void 0!==e)throw new Error("The `"+n+"` module does not need flags.\nCall "+n+".worker() with no arguments and you should be all set!");return u(t.init,t.update,t.subscriptions,o)}}}}function r(t){return function(e){return function(n,r){n.worker=function(n){if(void 0===e)throw new Error("Are you trying to sneak a Never value into Elm? Trickster!\nIt looks like "+r+".main is defined with `programWithFlags` but has type `Program Never`.\nUse `program` instead if you do not want flags.");var i=s(Un.run,e,n);if("Err"===i.ctor)throw new Error(r+".worker(...) was called with an unexpected argument.\nI tried to convert it to an Elm value, but ran into this problem:\n\n"+i._0);return u(t.init(i._0),t.update,t.subscriptions,o)}}}}function o(t,e){return function(t){}}function i(t){var n=g(H.Nil),r=v.Tuple2(v.Tuple0,n);return ac({init:r,view:function(t){return main},update:e(function(t,e){return r}),subscriptions:function(t){return n}})}function u(t,e,n,r){function o(t,r){return ve.nativeBinding(function(o){var i=s(e,t,r);r=i._0,u(r),m(a,i._1,n(r)),o(ve.succeed(r))})}function i(t){ve.rawSend(l,t)}var u,a={},f=ve.nativeBinding(function(e){var o=t._0;u=r(i,o),m(a,t._1,n(o)),e(ve.succeed(o))}),l=h(f,o),d=c(a,i);return d?{ports:d}:{}}function c(t,e){var n;for(var r in C){var o=C[r];o.isForeign&&(n=n||{},n[r]="cmd"===o.tag?S(r):A(r,e)),t[r]=a(o,e)}return n}function a(t,e){function n(t,e){if("self"===t.ctor)return f(u,r,t._0,e);var n=t._0;switch(o){case"cmd":return f(i,r,n.cmds,e);case"sub":return f(i,r,n.subs,e);case"fx":return l(i,r,n.cmds,n.subs,e)}}var r={main:e,self:void 0},o=t.tag,i=t.onEffects,u=t.onSelfMsg,c=h(t.init,n);return r.self=c,c}function d(t,e){return ve.nativeBinding(function(n){t.main(e),n(ve.succeed(v.Tuple0))})}function p(t,e){return s(ve.send,t.self,{ctor:"self",_0:e})}function h(t,e){function n(t){return s(r,n,ve.receive(function(n){return e(n,t)}))}var r=ve.andThen,o=s(r,n,t);return ve.rawSpawn(o)}function _(t){return function(e){return{type:"leaf",home:t,value:e}}}function g(t){return{type:"node",branches:t}}function y(t,e){return{type:"map",tagger:t,tree:e}}function m(t,e,n){var r={};b(!0,e,r,null),b(!1,n,r,null);for(var o in t){var i=o in r?r[o]:{cmds:H.Nil,subs:H.Nil};ve.rawSend(t[o],{ctor:"fx",_0:i})}}function b(t,e,n,r){switch(e.type){case"leaf":var o=e.home,i=w(t,o,r,e.value);return void(n[o]=k(t,i,n[o]));case"node":for(var u=e.branches;"[]"!==u.ctor;)b(t,u._0,n,r),u=u._1;return;case"map":return void b(t,e.tree,n,{tagger:e.tagger,rest:r})}}function w(t,e,n,r){function o(t){for(var e=n;e;)t=e.tagger(t),e=e.rest;return t}return s(t?C[e].cmdMap:C[e].subMap,o,r)}function k(t,e,n){return n=n||{cmds:H.Nil,subs:H.Nil},t?(n.cmds=H.Cons(e,n.cmds),n):(n.subs=H.Cons(e,n.subs),n)}function x(t){if(t in C)throw new Error("There can only be one port named `"+t+"`, but your program has multiple.")}function T(t,e){return x(t),C[t]={tag:"cmd",cmdMap:O,converter:e,isForeign:!0},_(t)}function S(t){function e(t,e,n){for(;"[]"!==e.ctor;){for(var r=i,o=u(e._0),a=0;a<r.length;a++)r[a](o);e=e._1}return c}function r(t){i.push(t)}function o(t){i=i.slice();var e=i.indexOf(t);e>=0&&i.splice(e,1)}var i=[],u=C[t].converter,c=ve.succeed(null);return C[t].init=c,C[t].onEffects=n(e),{subscribe:r,unsubscribe:o}}function E(t,e){return x(t),C[t]={tag:"sub",subMap:j,converter:e,isForeign:!0},_(t)}function A(t,e){function r(t,e,n){for(var r=o(t,e,n),i=0;i<f.length;i++)c(f[i]);return f=null,h=c,p=o,r}function o(t,e,n){return l=e,_}function i(t,e,n){return p(t,e,n)}function u(t){f.push(t)}function c(t){for(var n=l;"[]"!==n.ctor;)e(n._0(t)),n=n._1}function a(e){var n=s(tr,d,e);if("Err"===n.ctor)throw new Error("Trying to send an unexpected type of value through port `"+t+"`:\n"+n._0);h(n._0)}var f=[],l=H.Nil,d=C[t].converter,p=r,h=u,_=ve.succeed(null);return C[t].init=_,C[t].onEffects=n(i),{send:a}}var C={},O=e(function(t,e){return e}),j=e(function(t,e){return function(n){return t(e(n))}});return{sendToApp:e(d),sendToSelf:e(p),effectManagers:C,outgoingPort:T,incomingPort:E,htmlToProgram:i,program:t,programWithFlags:r,initialize:u,leaf:_,batch:g,map:e(y)}}(),ve=function(){function t(t){return{ctor:"_Task_succeed",value:t}}function n(t){return{ctor:"_Task_fail",value:t}}function r(t){return{ctor:"_Task_nativeBinding",callback:t,cancel:null}}function o(t,e){return{ctor:"_Task_andThen",callback:t,task:e}}function i(t,e){return{ctor:"_Task_onError",callback:t,task:e}}function u(t){return{ctor:"_Task_receive",callback:t}}function c(t){var e={ctor:"_Process",id:v.guid(),root:t,stack:null,mailbox:[]};return h(e),e}function a(e){return r(function(n){n(t(c(e)))})}function s(t,e){t.mailbox.push(e),h(t)}function f(e,n){return r(function(r){s(e,n),r(t(v.Tuple0))})}function l(e){return r(function(n){var r=e.root;"_Task_nativeBinding"===r.ctor&&r.cancel&&r.cancel(),e.root=null,n(t(v.Tuple0))})}function d(e){return r(function(n){var r=setTimeout(function(){n(t(v.Tuple0))},e);return function(){clearTimeout(r)}})}function p(t,e){for(;t<g;){var n=e.root.ctor;if("_Task_succeed"!==n)if("_Task_fail"!==n)if("_Task_andThen"!==n)if("_Task_onError"!==n){if("_Task_nativeBinding"===n){e.root.cancel=e.root.callback(function(t){e.root=t,h(e)});break}if("_Task_receive"!==n)throw new Error(n);var r=e.mailbox;if(0===r.length)break;e.root=e.root.callback(r.shift()),++t}else e.stack={ctor:"_Task_onError",callback:e.root.callback,rest:e.stack},e.root=e.root.task,++t;else e.stack={ctor:"_Task_andThen",callback:e.root.callback,rest:e.stack},e.root=e.root.task,++t;else{for(;e.stack&&"_Task_andThen"===e.stack.ctor;)e.stack=e.stack.rest;if(null===e.stack)break;e.root=e.stack.callback(e.root.value),e.stack=e.stack.rest,++t}else{for(;e.stack&&"_Task_onError"===e.stack.ctor;)e.stack=e.stack.rest;if(null===e.stack)break;e.root=e.stack.callback(e.root.value),e.stack=e.stack.rest,++t}}return t<g?t+1:(h(e),t)}function h(t){m.push(t),y||(setTimeout(_,0),y=!0)}function _(){for(var t,e=0;e<g&&(t=m.shift());)t.root&&(e=p(e,t));if(!t)return void(y=!1);setTimeout(_,0)}var g=1e4,y=!1,m=[];return{succeed:t,fail:n,nativeBinding:r,andThen:e(o),onError:e(i),receive:u,spawn:a,kill:l,sleep:d,send:e(f),rawSpawn:c,rawSend:s}}(),ge=_e.batch,ye=ge({ctor:"[]"}),me=me||{};me["!"]=e(function(t,e){return{ctor:"_Tuple2",_0:t,_1:ge(e)}});var be=_e.map,we=_e.batch,ke=we({ctor:"[]"}),xe=_e.map,Te=(ve.succeed,_e.sendToSelf),Se=_e.sendToApp,Ee=(_e.programWithFlags,_e.program,r(function(t,e,n,r){return f(t,r,n,e)}),r(function(t,e,n,r){return f(t,r,e,n)}),r(function(t,e,n,r){return f(t,n,r,e)}),r(function(t,e,n,r){return s(t,e(n),e(r))}),n(function(t,e,n){return s(t,e(n),n)}),n(function(t,e,n){return s(e,n,t(n))})),Ae=e(function(t,e){return function(n){return t(e(n))}}),Ce=(n(function(t,e,n){return s(Ee,n,s(Ae,t,e))}),r(function(t,e,n,r){return s(Ee,r,s(Ee,n,s(Ae,t,e)))}),o(function(t,e,n,r,o){return s(Ee,o,s(Ee,r,s(Ee,n,s(Ae,t,e))))}),i(function(t,e,n,r,o,i){return s(Ee,i,s(Ee,o,s(Ee,r,s(Ee,n,s(Ae,t,e)))))}),u(function(t,e,n,r,o,i,u){return s(Ee,u,s(Ee,i,s(Ee,o,s(Ee,r,s(Ee,n,s(Ae,t,e))))))}),Ce||{});Ce[">>>>"]=o(function(t,e,n,r,o){return e(f(t,n,r,o))});var Ce=Ce||{};Ce["<<<<"]=b(e(function(t,e){return s(Ce[">>>>"],t,e)}));var Ce=Ce||{};Ce[">>>"]=r(function(t,e,n,r){return e(s(t,n,r))});var Ce=Ce||{};Ce["<<<"]=b(e(function(t,e){return s(Ce[">>>"],t,e)}));var Oe=(e(function(t,e){return function(n){return e(t(n))}}),w(ye),e(function(t,e){return ge(s(lt,function(t){return t(e)},t))}),n(function(t,e,n){return ge({ctor:"::",_0:t(n),_1:{ctor:"::",_0:e(n),_1:{ctor:"[]"}}})}),function(){s(nt,e(function(t,e){var n=t,r=e;return s(me["!"],{ctor:"::",_0:n._0,_1:r._0},{ctor:"::",_0:n._1,_1:{ctor:"::",_0:r._1,_1:{ctor:"[]"}}})}),{ctor:"_Tuple2",_0:{ctor:"[]"},_1:ye})}(),e(function(t,e){var n=e;return{ctor:"_Tuple2",_0:n._0,_1:s(be,t,n._1)}}),e(function(t,e){var n=e,r=n._0;return s(me["!"],r,{ctor:"::",_0:n._1,_1:{ctor:"::",_0:t(r),_1:{ctor:"[]"}}})})),je=e(function(t,e){var n=e;return s(me["!"],n._0,{ctor:"::",_0:t,_1:{ctor:"::",_0:n._1,_1:{ctor:"[]"}}})}),Be=(m(k),e(function(t,e){var n=e,r=t(n._0),o=r._0,i=r._1;return s(me["!"],o,{ctor:"::",_0:n._1,_1:{ctor:"::",_0:i,_1:{ctor:"[]"}}})})),Re=Re||{};Re["<<<"]=n(function(t,e,n){return s(Be,t,e(n))});var Re=Re||{};Re[">>>"]=b(e(function(t,e){return s(Re["<<<"],t,e)}));var Ie=(Be(k),s(b,e(function(t,e){return{ctor:"_Tuple2",_0:t,_1:e}}),ye)),qe=(i(function(t,e,n,r,o,i){var u=e,c=n,a=r,f=o,l=i;return s(me["!"],d(t,u._0,c._0,a._0,f._0,l._0),{ctor:"::",_0:u._1,_1:{ctor:"::",_0:c._1,_1:{ctor:"::",_0:a._1,_1:{ctor:"::",_0:f._1,_1:{ctor:"::",_0:l._1,_1:{ctor:"[]"}}}}}})}),o(function(t,e,n,r,o){var i=e,u=n,c=r,a=o;return s(me["!"],l(t,i._0,u._0,c._0,a._0),{ctor:"::",_0:i._1,_1:{ctor:"::",_0:u._1,_1:{ctor:"::",_0:c._1,_1:{ctor:"::",_0:a._1,_1:{ctor:"[]"}}}}})}),r(function(t,e,n,r){var o=e,i=n,u=r;return s(me["!"],f(t,o._0,i._0,u._0),{ctor:"::",_0:o._1,_1:{ctor:"::",_0:i._1,_1:{ctor:"::",_0:u._1,_1:{ctor:"[]"}}}})}),n(function(t,e,n){var r=e,o=n;return s(me["!"],s(t,r._0,o._0),{ctor:"::",_0:r._1,_1:{ctor:"::",_0:o._1,_1:{ctor:"[]"}}})}),n(function(t,e,n){var r=n;return{ctor:"_Tuple2",_0:e(r._0),_1:s(be,t,r._1)}}),e(function(t,e){var n=t,r=e;return s(me["!"],r._0(n._0),{ctor:"::",_0:r._1,_1:{ctor:"::",_0:n._1,_1:{ctor:"[]"}}})})),Me=(m(b(qe)),e(function(t,e){var n=e;return{ctor:"_Tuple2",_0:t(n._0),_1:n._1}})),Ne=k,De=(s(rt,e(function(t,e){return function(n){return e(t(n))}}),Ne),s(nt,e(function(t,e){return function(n){return t(e(n))}}),Ne),e(function(t,e){var n=e,r=n._1,o=n._0;return"GT"===s(t,o,r).ctor?{ctor:"_Tuple2",_0:r,_1:o}:{ctor:"_Tuple2",_0:o,_1:r}}),e(function(t,e){var n=e,r=n._1,o=n._0;return v.cmp(t(o),t(r))>0?{ctor:"_Tuple2",_0:r,_1:o}:{ctor:"_Tuple2",_0:o,_1:r}}),e(function(t,e){var n=e;return{ctor:"_Tuple2",_0:t(n._0),_1:t(n._1)}}),n(function(t,e,n){var r=n;return{ctor:"_Tuple2",_0:t(r._0),_1:e(r._1)}}),e(function(t,e){var n=e;return{ctor:"_Tuple2",_0:n._0,_1:t(n._1)}}),e(function(t,e){var n=e;return{ctor:"_Tuple2",_0:t(n._0),_1:n._1}}),De||{});De["=>"]=e(function(t,e){return{ctor:"_Tuple2",_0:t,_1:e}});var Le=function(){function t(t,e){
if(t<0||t>=N(e))throw new Error("Index "+t+" is out of range. Check the length of your array first or use getMaybe or getWithDefault.");return r(t,e)}function r(t,e){for(var n=e.height;n>0;n--){for(var r=t>>5*n;e.lengths[r]<=t;)r++;r>0&&(t-=e.lengths[r-1]),e=e.table[r]}return e.table[t]}function o(t,e,n){return t<0||N(n)<=t?n:i(t,e,n)}function i(t,e,n){if(n=M(n),0===n.height)n.table[t]=e;else{var r=D(t,n);r>0&&(t-=n.lengths[r-1]),n.table[r]=i(t,e,n.table[r])}return n}function u(t,e){return t<=0?G:c(e,Math.floor(Math.log(t)/Math.log(J)),0,t)}function c(t,e,n,r){if(0===e){for(var o=new Array((r-n)%(J+1)),i=0;i<o.length;i++)o[i]=t(n+i);return{ctor:"_Array",height:0,table:o}}for(var u=Math.pow(J,e),o=new Array(Math.ceil((r-n)/u)),a=new Array(o.length),i=0;i<o.length;i++)o[i]=c(t,e-1,n+i*u,Math.min(n+(i+1)*u,r)),a[i]=N(o[i])+(i>0?a[i-1]:0);return{ctor:"_Array",height:e,table:o,lengths:a}}function a(t){if("[]"===t.ctor)return G;for(var e=new Array(J),n=[],r=0;"[]"!==t.ctor;)if(e[r]=t._0,t=t._1,++r===J){var o={ctor:"_Array",height:0,table:e};f(o,n),e=new Array(J),r=0}if(r>0){var o={ctor:"_Array",height:0,table:e.splice(0,r)};f(o,n)}for(var i=0;i<n.length-1;i++)n[i].table.length>0&&f(n[i],n);var u=n[n.length-1];return u.height>0&&1===u.table.length?u.table[0]:u}function f(t,e){var n=t.height;if(e.length===n){var r={ctor:"_Array",height:n+1,table:[],lengths:[]};e.push(r)}e[n].table.push(t);var o=N(t);e[n].lengths.length>0&&(o+=e[n].lengths[e[n].lengths.length-1]),e[n].lengths.push(o),e[n].table.length===J&&(f(e[n],e),e[n]={ctor:"_Array",height:n+1,table:[],lengths:[]})}function l(t,e){var n=d(t,e);return null!==n?n:F(e,L(t,e.height))}function d(t,e){if(0===e.height){if(e.table.length<J){var n={ctor:"_Array",height:0,table:e.table.slice()};return n.table.push(t),n}return null}var r=d(t,I(e));if(null!==r){var n=M(e);return n.table[n.table.length-1]=r,n.lengths[n.lengths.length-1]++,n}if(e.table.length<J){var o=L(t,e.height-1),n=M(e);return n.table.push(o),n.lengths.push(n.lengths[n.lengths.length-1]+N(o)),n}return null}function p(t){return h(H.Nil,t)}function h(t,e){for(var n=e.table.length-1;n>=0;n--)t=0===e.height?H.Cons(e.table[n],t):h(t,e.table[n]);return t}function _(t,e){var n={ctor:"_Array",height:e.height,table:new Array(e.table.length)};e.height>0&&(n.lengths=e.lengths);for(var r=0;r<e.table.length;r++)n.table[r]=0===e.height?t(e.table[r]):_(t,e.table[r]);return n}function v(t,e){return g(t,e,0)}function g(t,e,n){var r={ctor:"_Array",height:e.height,table:new Array(e.table.length)};e.height>0&&(r.lengths=e.lengths);for(var o=0;o<e.table.length;o++)r.table[o]=0===e.height?s(t,n+o,e.table[o]):g(t,e.table[o],0==o?n:n+e.lengths[o-1]);return r}function y(t,e,n){if(0===n.height)for(var r=0;r<n.table.length;r++)e=s(t,n.table[r],e);else for(var r=0;r<n.table.length;r++)e=y(t,e,n.table[r]);return e}function m(t,e,n){if(0===n.height)for(var r=n.table.length;r--;)e=s(t,n.table[r],e);else for(var r=n.table.length;r--;)e=m(t,e,n.table[r]);return e}function b(t,e,n){return t<0&&(t+=N(n)),e<0&&(e+=N(n)),k(t,w(e,n))}function w(t,e){if(t===N(e))return e;if(0===e.height){var n={ctor:"_Array",height:0};return n.table=e.table.slice(0,t),n}var r=D(t,e),o=w(t-(r>0?e.lengths[r-1]:0),e.table[r]);if(0===r)return o;var n={ctor:"_Array",height:e.height,table:e.table.slice(0,r),lengths:e.lengths.slice(0,r)};return o.table.length>0&&(n.table[r]=o,n.lengths[r]=N(o)+(r>0?n.lengths[r-1]:0)),n}function k(t,e){if(0===t)return e;if(0===e.height){var n={ctor:"_Array",height:0};return n.table=e.table.slice(t,e.table.length+1),n}var r=D(t,e),o=k(t-(r>0?e.lengths[r-1]:0),e.table[r]);if(r===e.table.length-1)return o;var n={ctor:"_Array",height:e.height,table:e.table.slice(r,e.table.length+1),lengths:new Array(e.table.length-r)};n.table[0]=o;for(var i=0,u=0;u<n.table.length;u++)i+=N(n.table[u]),n.lengths[u]=i;return n}function x(t,e){if(0===t.table.length)return e;if(0===e.table.length)return t;var n=T(t,e);if(n[0].table.length+n[1].table.length<=J){if(0===n[0].table.length)return n[1];if(0===n[1].table.length)return n[0];if(n[0].table=n[0].table.concat(n[1].table),n[0].height>0){for(var r=N(n[0]),o=0;o<n[1].lengths.length;o++)n[1].lengths[o]+=r;n[0].lengths=n[0].lengths.concat(n[1].lengths)}return n[0]}if(n[0].height>0){var i=A(t,e);i>V&&(n=R(n[0],n[1],i))}return F(n[0],n[1])}function T(t,e){if(0===t.height&&0===e.height)return[t,e];if(1!==t.height||1!==e.height)if(t.height===e.height){t=M(t),e=M(e);var n=T(I(t),q(e));S(t,n[1]),E(e,n[0])}else if(t.height>e.height){t=M(t);var n=T(I(t),e);S(t,n[0]),e=P(n[1],n[1].height+1)}else{e=M(e);var n=T(t,q(e)),r=0===n[0].table.length?0:1,o=0===r?1:0;E(e,n[r]),t=P(n[o],n[o].height+1)}if(0===t.table.length||0===e.table.length)return[t,e];var i=A(t,e);return i<=V?[t,e]:R(t,e,i)}function S(t,e){var n=t.table.length-1;t.table[n]=e,t.lengths[n]=N(e),t.lengths[n]+=n>0?t.lengths[n-1]:0}function E(t,e){if(e.table.length>0){t.table[0]=e,t.lengths[0]=N(e);for(var n=N(t.table[0]),r=1;r<t.lengths.length;r++)n+=N(t.table[r]),t.lengths[r]=n}else{t.table.shift();for(var r=1;r<t.lengths.length;r++)t.lengths[r]=t.lengths[r]-t.lengths[0];t.lengths.shift()}}function A(t,e){for(var n=0,r=0;r<t.table.length;r++)n+=t.table[r].table.length;for(var r=0;r<e.table.length;r++)n+=e.table[r].table.length;return t.table.length+e.table.length-(Math.floor((n-1)/J)+1)}function C(t,e,n){return n<t.length?t[n]:e[n-t.length]}function O(t,e,n,r){n<t.length?t[n]=r:e[n-t.length]=r}function j(t,e,n,r){O(t.table,e.table,n,r);var o=0===n||n===t.lengths.length?0:C(t.lengths,t.lengths,n-1);O(t.lengths,e.lengths,n,o+N(r))}function B(t,e){e<0&&(e=0);var n={ctor:"_Array",height:t,table:new Array(e)};return t>0&&(n.lengths=new Array(e)),n}function R(t,e,n){for(var r=B(t.height,Math.min(J,t.table.length+e.table.length-n)),o=B(t.height,r.table.length-(t.table.length+e.table.length-n)),i=0;C(t.table,e.table,i).table.length%J==0;)O(r.table,o.table,i,C(t.table,e.table,i)),O(r.lengths,o.lengths,i,C(t.lengths,e.lengths,i)),i++;for(var u=i,c=new B(t.height-1,0),a=0;i-u-(c.table.length>0?1:0)<n;){var s=C(t.table,e.table,i),f=Math.min(J-c.table.length,s.table.length);if(c.table=c.table.concat(s.table.slice(a,f)),c.height>0)for(var l=c.lengths.length,d=l;d<l+f-a;d++)c.lengths[d]=N(c.table[d]),c.lengths[d]+=d>0?c.lengths[d-1]:0;a+=f,s.table.length<=f&&(i++,a=0),c.table.length===J&&(j(r,o,u,c),c=B(t.height-1,0),u++)}for(c.table.length>0&&(j(r,o,u,c),u++);i<t.table.length+e.table.length;)j(r,o,u,C(t.table,e.table,i)),i++,u++;return[r,o]}function I(t){return t.table[t.table.length-1]}function q(t){return t.table[0]}function M(t){var e={ctor:"_Array",height:t.height,table:t.table.slice()};return t.height>0&&(e.lengths=t.lengths.slice()),e}function N(t){return 0===t.height?t.table.length:t.lengths[t.lengths.length-1]}function D(t,e){for(var n=t>>5*e.height;e.lengths[n]<=t;)n++;return n}function L(t,e){return 0===e?{ctor:"_Array",height:0,table:[t]}:{ctor:"_Array",height:e,table:[L(t,e-1)],lengths:[1]}}function P(t,e){return e===t.height?t:{ctor:"_Array",height:e,table:[P(t,e-1)],lengths:[N(t)]}}function F(t,e){return{ctor:"_Array",height:t.height+1,table:[t,e],lengths:[N(t),N(t)+N(e)]}}function U(t){var e=new Array(N(t));return W(e,0,t),e}function W(t,e,n){for(var r=0;r<n.table.length;r++)if(0===n.height)t[e+r]=n.table[r];else{var o=0===r?0:n.lengths[r-1];W(t,e+o,n.table[r])}}function z(t){return 0===t.length?G:$(t,Math.floor(Math.log(t.length)/Math.log(J)),0,t.length)}function $(t,e,n,r){if(0===e)return{ctor:"_Array",height:0,table:t.slice(n,r)};for(var o=Math.pow(J,e),i=new Array(Math.ceil((r-n)/o)),u=new Array(i.length),c=0;c<i.length;c++)i[c]=$(t,e-1,n+c*o,Math.min(n+(c+1)*o,r)),u[c]=N(i[c])+(c>0?u[c-1]:0);return{ctor:"_Array",height:e,table:i,lengths:u}}var J=32,V=2,G={ctor:"_Array",height:0,table:[]};return{empty:G,fromList:a,toList:p,initialize:e(u),append:e(x),push:e(l),slice:n(b),get:e(t),set:n(o),map:e(_),indexedMap:e(v),foldl:n(y),foldr:n(m),length:N,toJSArray:U,fromJSArray:z}}(),Pe=(Le.append,Le.length,Le.slice,Le.set,e(function(t,e){return v.cmp(0,t)<1&&v.cmp(t,Le.length(e))<0?z(s(Le.get,t,e)):U}),Le.push),Fe=Le.empty,Ue=(e(function(t,n){var r=e(function(e,n){return t(e)?s(Le.push,e,n):n});return f(Le.foldl,r,Le.empty,n)}),Le.foldr,Le.foldl),We=(Le.indexedMap,Le.map,Le.toList),ze=(Le.fromList,Le.initialize),$e=(e(function(t,e){return s(ze,t,w(e))}),n(function(t,e,n){for(;;){var r=n;if("RBEmpty_elm_builtin"===r.ctor)return e;var o=t,i=f(t,r._1,r._2,f($e,t,e,r._4)),u=r._3;t=o,e=i,n=u}})),Je=function(t){return f($e,n(function(t,e,n){return{ctor:"::",_0:t,_1:n}}),{ctor:"[]"},t)},He=function(t){return f($e,n(function(t,e,n){return{ctor:"::",_0:e,_1:n}}),{ctor:"[]"},t)},Ve=function(t){return f($e,n(function(t,e,n){return{ctor:"::",_0:{ctor:"_Tuple2",_0:t,_1:e},_1:n}}),{ctor:"[]"},t)},Ge=n(function(t,e,n){for(;;){var r=n;if("RBEmpty_elm_builtin"===r.ctor)return e;var o=t,i=f(t,r._1,r._2,f(Ge,t,e,r._3)),u=r._4;t=o,e=i,n=u}}),Ke=i(function(t,r,o,i,u,c){var a=n(function(e,n,i){for(;;){var u=i,c=u._1,a=u._0,s=a;if("[]"===s.ctor)return{ctor:"_Tuple2",_0:a,_1:f(o,e,n,c)};var d=s._1,p=s._0._1,h=s._0._0;if(!(v.cmp(h,e)<0))return v.cmp(h,e)>0?{ctor:"_Tuple2",_0:a,_1:f(o,e,n,c)}:{ctor:"_Tuple2",_0:d,_1:l(r,h,p,n,c)};var _=e,g=n,y={ctor:"_Tuple2",_0:d,_1:f(t,h,p,c)};e=_,n=g,i=y}}),s=f(Ge,a,{ctor:"_Tuple2",_0:Ve(i),_1:c},u),d=s._0,p=s._1;return f(rt,e(function(e,n){var r=e;return f(t,r._0,r._1,n)}),p,d)}),Ye=r(function(t,e,n,r){return L.crash(ie({ctor:"::",_0:"Internal red-black tree invariant violated, expected ",_1:{ctor:"::",_0:t,_1:{ctor:"::",_0:" and got ",_1:{ctor:"::",_0:T(e),_1:{ctor:"::",_0:"/",_1:{ctor:"::",_0:n,_1:{ctor:"::",_0:"/",_1:{ctor:"::",_0:r,_1:{ctor:"::",_0:"\nPlease report this bug to <https://github.com/elm-lang/core/issues>",_1:{ctor:"[]"}}}}}}}}}}))}),Xe=function(t){var e=t;t:do{if("RBNode_elm_builtin"===e.ctor){if("BBlack"===e._0.ctor)return!0;break t}if("LBBlack"===e._0.ctor)return!0;break t}while(!1);return!1},Qe=e(function(t,e){for(;;){var n=e;if("RBEmpty_elm_builtin"===n.ctor)return t;var r=s(Qe,t+1,n._4),o=n._3;t=r,e=o}}),Ze=function(t){return s(Qe,0,t)},tn=e(function(t,e){t:for(;;){var n=e;if("RBEmpty_elm_builtin"===n.ctor)return U;var r=s(I,t,n._1);switch(r.ctor){case"LT":var o=t,i=n._3;t=o,e=i;continue t;case"EQ":return z(n._2);default:var u=t,c=n._4;t=u,e=c;continue t}}}),en=e(function(t,e){return"Just"===s(tn,t,e).ctor}),nn=n(function(t,e,n){for(;;){var r=n;if("RBEmpty_elm_builtin"===r.ctor)return{ctor:"_Tuple2",_0:t,_1:e};var o=r._1,i=r._2,u=r._4;t=o,e=i,n=u}}),rn={ctor:"NBlack"},on={ctor:"BBlack"},un={ctor:"Black"},cn=function(t){var e=t;if("RBNode_elm_builtin"===e.ctor){var n=e._0;return v.eq(n,un)||v.eq(n,on)}return!0},an={ctor:"Red"},sn=function(t){switch(t.ctor){case"Black":return on;case"Red":return un;case"NBlack":return an;default:return L.crash("Can't make a double black node more black!")}},fn=function(t){switch(t.ctor){case"BBlack":return un;case"Black":return an;case"Red":return rn;default:return L.crash("Can't make a negative black node less black!")}},ln={ctor:"LBBlack"},dn={ctor:"LBlack"},pn=function(t){return{ctor:"RBEmpty_elm_builtin",_0:t}},hn=pn(dn),_n=function(t){return v.eq(t,hn)},vn=o(function(t,e,n,r,o){return{ctor:"RBNode_elm_builtin",_0:t,_1:e,_2:n,_3:r,_4:o}}),gn=function(t){var e=t;return"RBNode_elm_builtin"===e.ctor&&"Red"===e._0.ctor?d(vn,un,e._1,e._2,e._3,e._4):t},yn=function(t){var e=t;return"RBNode_elm_builtin"===e.ctor?d(vn,fn(e._0),e._1,e._2,e._3,e._4):pn(dn)},mn=function(t){return function(e){return function(n){return function(r){return function(o){return function(i){return function(u){return function(c){return function(a){return function(s){return function(f){return d(vn,fn(t),r,o,d(vn,un,e,n,c,a),d(vn,un,i,u,s,f))}}}}}}}}}}},bn=function(t){var e=t;return"RBEmpty_elm_builtin"===e.ctor?pn(dn):d(vn,un,e._1,e._2,e._3,e._4)},wn=function(t){var e=t;return"RBEmpty_elm_builtin"===e.ctor?L.crash("can't make a Leaf red"):d(vn,an,e._1,e._2,e._3,e._4)},kn=function(t){var e=t;t:do{e:do{n:do{r:do{o:do{i:do{u:do{if("RBNode_elm_builtin"!==e.ctor)break t;if("RBNode_elm_builtin"===e._3.ctor)if("RBNode_elm_builtin"===e._4.ctor)switch(e._3._0.ctor){case"Red":switch(e._4._0.ctor){case"Red":if("RBNode_elm_builtin"===e._3._3.ctor&&"Red"===e._3._3._0.ctor)break u;if("RBNode_elm_builtin"===e._3._4.ctor&&"Red"===e._3._4._0.ctor)break i;if("RBNode_elm_builtin"===e._4._3.ctor&&"Red"===e._4._3._0.ctor)break o;if("RBNode_elm_builtin"===e._4._4.ctor&&"Red"===e._4._4._0.ctor)break r;break t;case"NBlack":if("RBNode_elm_builtin"===e._3._3.ctor&&"Red"===e._3._3._0.ctor)break u;if("RBNode_elm_builtin"===e._3._4.ctor&&"Red"===e._3._4._0.ctor)break i;if("BBlack"===e._0.ctor&&"RBNode_elm_builtin"===e._4._3.ctor&&"Black"===e._4._3._0.ctor&&"RBNode_elm_builtin"===e._4._4.ctor&&"Black"===e._4._4._0.ctor)break n;break t;default:if("RBNode_elm_builtin"===e._3._3.ctor&&"Red"===e._3._3._0.ctor)break u;if("RBNode_elm_builtin"===e._3._4.ctor&&"Red"===e._3._4._0.ctor)break i;break t}case"NBlack":switch(e._4._0.ctor){case"Red":if("RBNode_elm_builtin"===e._4._3.ctor&&"Red"===e._4._3._0.ctor)break o;if("RBNode_elm_builtin"===e._4._4.ctor&&"Red"===e._4._4._0.ctor)break r;if("BBlack"===e._0.ctor&&"RBNode_elm_builtin"===e._3._3.ctor&&"Black"===e._3._3._0.ctor&&"RBNode_elm_builtin"===e._3._4.ctor&&"Black"===e._3._4._0.ctor)break e;break t;case"NBlack":if("BBlack"===e._0.ctor){if("RBNode_elm_builtin"===e._4._3.ctor&&"Black"===e._4._3._0.ctor&&"RBNode_elm_builtin"===e._4._4.ctor&&"Black"===e._4._4._0.ctor)break n;if("RBNode_elm_builtin"===e._3._3.ctor&&"Black"===e._3._3._0.ctor&&"RBNode_elm_builtin"===e._3._4.ctor&&"Black"===e._3._4._0.ctor)break e;break t}break t;default:if("BBlack"===e._0.ctor&&"RBNode_elm_builtin"===e._3._3.ctor&&"Black"===e._3._3._0.ctor&&"RBNode_elm_builtin"===e._3._4.ctor&&"Black"===e._3._4._0.ctor)break e;break t}default:switch(e._4._0.ctor){case"Red":if("RBNode_elm_builtin"===e._4._3.ctor&&"Red"===e._4._3._0.ctor)break o;if("RBNode_elm_builtin"===e._4._4.ctor&&"Red"===e._4._4._0.ctor)break r;break t;case"NBlack":if("BBlack"===e._0.ctor&&"RBNode_elm_builtin"===e._4._3.ctor&&"Black"===e._4._3._0.ctor&&"RBNode_elm_builtin"===e._4._4.ctor&&"Black"===e._4._4._0.ctor)break n;break t;default:break t}}else switch(e._3._0.ctor){case"Red":if("RBNode_elm_builtin"===e._3._3.ctor&&"Red"===e._3._3._0.ctor)break u;if("RBNode_elm_builtin"===e._3._4.ctor&&"Red"===e._3._4._0.ctor)break i;break t;case"NBlack":if("BBlack"===e._0.ctor&&"RBNode_elm_builtin"===e._3._3.ctor&&"Black"===e._3._3._0.ctor&&"RBNode_elm_builtin"===e._3._4.ctor&&"Black"===e._3._4._0.ctor)break e;break t;default:break t}else{if("RBNode_elm_builtin"!==e._4.ctor)break t;switch(e._4._0.ctor){case"Red":if("RBNode_elm_builtin"===e._4._3.ctor&&"Red"===e._4._3._0.ctor)break o;if("RBNode_elm_builtin"===e._4._4.ctor&&"Red"===e._4._4._0.ctor)break r;break t;case"NBlack":if("BBlack"===e._0.ctor&&"RBNode_elm_builtin"===e._4._3.ctor&&"Black"===e._4._3._0.ctor&&"RBNode_elm_builtin"===e._4._4.ctor&&"Black"===e._4._4._0.ctor)break n;break t;default:break t}}}while(!1);return mn(e._0)(e._3._3._1)(e._3._3._2)(e._3._1)(e._3._2)(e._1)(e._2)(e._3._3._3)(e._3._3._4)(e._3._4)(e._4)}while(!1);return mn(e._0)(e._3._1)(e._3._2)(e._3._4._1)(e._3._4._2)(e._1)(e._2)(e._3._3)(e._3._4._3)(e._3._4._4)(e._4)}while(!1);return mn(e._0)(e._1)(e._2)(e._4._3._1)(e._4._3._2)(e._4._1)(e._4._2)(e._3)(e._4._3._3)(e._4._3._4)(e._4._4)}while(!1);return mn(e._0)(e._1)(e._2)(e._4._1)(e._4._2)(e._4._4._1)(e._4._4._2)(e._3)(e._4._3)(e._4._4._3)(e._4._4._4)}while(!1);return d(vn,un,e._4._3._1,e._4._3._2,d(vn,un,e._1,e._2,e._3,e._4._3._3),d(xn,un,e._4._1,e._4._2,e._4._3._4,wn(e._4._4)))}while(!1);return d(vn,un,e._3._4._1,e._3._4._2,d(xn,un,e._3._1,e._3._2,wn(e._3._3),e._3._4._3),d(vn,un,e._1,e._2,e._3._4._4,e._4))}while(!1);return t},xn=o(function(t,e,n,r,o){var i=d(vn,t,e,n,r,o);return cn(i)?kn(i):i}),Tn=o(function(t,e,n,r,o){return Xe(r)||Xe(o)?d(xn,sn(t),e,n,yn(r),yn(o)):d(vn,t,e,n,r,o)}),Sn=o(function(t,e,n,r,o){var i=o;return"RBEmpty_elm_builtin"===i.ctor?f(En,t,r,o):d(Tn,t,e,n,r,d(Sn,i._0,i._1,i._2,i._3,i._4))}),En=n(function(t,e,n){var r={ctor:"_Tuple2",_0:e,_1:n};if("RBEmpty_elm_builtin"!==r._0.ctor){if("RBEmpty_elm_builtin"===r._1.ctor){var o=r._1._0,i=r._0._0,u={ctor:"_Tuple3",_0:t,_1:i,_2:o};return"_Tuple3"===u.ctor&&"Black"===u._0.ctor&&"Red"===u._1.ctor&&"LBlack"===u._2.ctor?d(vn,un,r._0._1,r._0._2,r._0._3,r._0._4):l(Ye,"Black/Red/LBlack",t,T(i),T(o))}var c=r._0._2,a=r._0._4,s=r._0._1,p=d(Sn,r._0._0,s,c,r._0._3,a),h=f(nn,s,c,a);return d(Tn,t,h._0,h._1,p,n)}if("RBEmpty_elm_builtin"!==r._1.ctor){var _=r._1._0,v=r._0._0,g={ctor:"_Tuple3",_0:t,_1:v,_2:_};return"_Tuple3"===g.ctor&&"Black"===g._0.ctor&&"LBlack"===g._1.ctor&&"Red"===g._2.ctor?d(vn,un,r._1._1,r._1._2,r._1._3,r._1._4):l(Ye,"Black/LBlack/Red",t,T(v),T(_))}switch(t.ctor){case"Red":return pn(dn);case"Black":return pn(ln);default:return L.crash("cannot have bblack or nblack nodes at this point")}}),An=e(function(t,e){var n=e;if("RBEmpty_elm_builtin"===n.ctor)return pn(dn);var r=n._1;return d(vn,n._0,r,s(t,r,n._2),s(An,t,n._3),s(An,t,n._4))}),Cn={ctor:"Same"},On={ctor:"Remove"},jn={ctor:"Insert"},Bn=n(function(t,e,n){var r=function(n){var o=n;if("RBEmpty_elm_builtin"===o.ctor){var i=e(U);return"Nothing"===i.ctor?{ctor:"_Tuple2",_0:Cn,_1:hn}:{ctor:"_Tuple2",_0:jn,_1:d(vn,an,t,i._0,hn,hn)}}var u=o._2,c=o._4,a=o._3,l=o._1,p=o._0;switch(s(I,t,l).ctor){case"EQ":var h=e(z(u));return"Nothing"===h.ctor?{ctor:"_Tuple2",_0:On,_1:f(En,p,a,c)}:{ctor:"_Tuple2",_0:Cn,_1:d(vn,p,l,h._0,a,c)};case"LT":var _=r(a),v=_._0,g=_._1;switch(v.ctor){case"Same":return{ctor:"_Tuple2",_0:Cn,_1:d(vn,p,l,u,g,c)};case"Insert":return{ctor:"_Tuple2",_0:jn,_1:d(xn,p,l,u,g,c)};default:return{ctor:"_Tuple2",_0:On,_1:d(Tn,p,l,u,g,c)}}default:var y=r(c),v=y._0,m=y._1;switch(v.ctor){case"Same":return{ctor:"_Tuple2",_0:Cn,_1:d(vn,p,l,u,a,m)};case"Insert":return{ctor:"_Tuple2",_0:jn,_1:d(xn,p,l,u,a,m)};default:return{ctor:"_Tuple2",_0:On,_1:d(Tn,p,l,u,a,m)}}}},o=r(n),i=o._0,u=o._1;switch(i.ctor){case"Same":return u;case"Insert":return gn(u);default:return bn(u)}}),Rn=n(function(t,e,n){return f(Bn,t,w(z(e)),n)}),In=e(function(t,e){return f(Rn,t,e,hn)}),qn=e(function(t,e){return f(Ge,Rn,e,t)}),Mn=e(function(t,e){return f(Ge,n(function(e,n,r){return s(t,e,n)?f(Rn,e,n,r):r}),hn,e)}),Nn=e(function(t,n){return s(Mn,e(function(t,e){return s(en,t,n)}),t)}),Dn=e(function(t,e){return f(Ge,n(function(e,n,r){var o=r,i=o._1,u=o._0;return s(t,e,n)?{ctor:"_Tuple2",_0:f(Rn,e,n,u),_1:i}:{ctor:"_Tuple2",_0:u,_1:f(Rn,e,n,i)}}),{ctor:"_Tuple2",_0:hn,_1:hn},e)}),Ln=function(t){return f(rt,e(function(t,e){var n=t;return f(Rn,n._0,n._1,e)}),hn,t)},Pn=e(function(t,e){return f(Bn,t,w(U),e)}),Fn=e(function(t,e){return f(Ge,n(function(t,e,n){return s(Pn,t,n)}),t,e)}),Un=function(){function t(t){return{ctor:"<decoder>",tag:"succeed",msg:t}}function s(t){return{ctor:"<decoder>",tag:"fail",msg:t}}function f(t){return{ctor:"<decoder>",tag:t}}function l(t,e){return{ctor:"<decoder>",tag:t,decoder:e}}function d(t){return{ctor:"<decoder>",tag:"null",value:t}}function p(t,e){return{ctor:"<decoder>",tag:"field",field:t,decoder:e}}function h(t,e){return{ctor:"<decoder>",tag:"index",index:t,decoder:e}}function _(t){return{ctor:"<decoder>",tag:"key-value",decoder:t}}function g(t,e){return{ctor:"<decoder>",tag:"map-many",func:t,decoders:e}}function y(t,e){return{ctor:"<decoder>",tag:"andThen",decoder:e,callback:t}}function m(t){return{ctor:"<decoder>",tag:"oneOf",decoders:t}}function b(t,e){return g(t,[e])}function w(t,e,n){return g(t,[e,n])}function k(t,e,n,r){return g(t,[e,n,r])}function x(t,e,n,r,o){return g(t,[e,n,r,o])}function T(t,e,n,r,o,i){return g(t,[e,n,r,o,i])}function S(t,e,n,r,o,i,u){return g(t,[e,n,r,o,i,u])}function E(t,e,n,r,o,i,u,c){return g(t,[e,n,r,o,i,u,c])}function A(t,e,n,r,o,i,u,c,a){return g(t,[e,n,r,o,i,u,c,a])}function C(t){return{tag:"ok",value:t}}function O(t,e){return{tag:"primitive",type:t,value:e}}function j(t,e){return{tag:"index",index:t,rest:e}}function B(t,e){return{tag:"field",field:t,rest:e}}function j(t,e){return{tag:"index",index:t,rest:e}}function R(t){return{tag:"oneOf",problems:t}}function I(t){return{tag:"fail",msg:t}}function q(t){for(var e="_";t;)switch(t.tag){case"primitive":return"Expecting "+t.type+("_"===e?"":" at "+e)+" but instead got: "+M(t.value);case"index":e+="["+t.index+"]",t=t.rest;break;case"field":e+="."+t.field,t=t.rest;break;case"oneOf":for(var n=t.problems,r=0;r<n.length;r++)n[r]=q(n[r]);return"I ran into the following problems"+("_"===e?"":" at "+e)+":\n\n"+n.join("\n");case"fail":return"I ran into a `fail` decoder"+("_"===e?"":" at "+e)+": "+t.msg}}function M(t){return void 0===t?"undefined":JSON.stringify(t)}function N(t,e){var n;try{n=JSON.parse(e)}catch(t){return jt("Given an invalid JSON: "+t.message)}return D(t,n)}function D(t,e){var n=L(t,e);return"ok"===n.tag?Rt(n.value):jt(q(n))}function L(t,e){switch(t.tag){case"bool":return"boolean"==typeof e?C(e):O("a Bool",e);case"int":return"number"!=typeof e?O("an Int",e):-2147483647<e&&e<2147483647&&(0|e)===e?C(e):!isFinite(e)||e%1?O("an Int",e):C(e);case"float":return"number"==typeof e?C(e):O("a Float",e);case"string":return"string"==typeof e?C(e):e instanceof String?C(e+""):O("a String",e);case"null":return null===e?C(t.value):O("null",e);case"value":return C(e);case"list":if(!(e instanceof Array))return O("a List",e);for(var n=H.Nil,r=e.length;r--;){var o=L(t.decoder,e[r]);if("ok"!==o.tag)return j(r,o);n=H.Cons(o.value,n)}return C(n);case"array":if(!(e instanceof Array))return O("an Array",e);for(var i=e.length,u=new Array(i),r=i;r--;){var o=L(t.decoder,e[r]);if("ok"!==o.tag)return j(r,o);u[r]=o.value}return C(Le.fromJSArray(u));case"maybe":var o=L(t.decoder,e);return C("ok"===o.tag?z(o.value):U);case"field":var c=t.field;if("object"!=typeof e||null===e||!(c in e))return O("an object with a field named `"+c+"`",e);var o=L(t.decoder,e[c]);return"ok"===o.tag?o:B(c,o);case"index":var a=t.index;if(!(e instanceof Array))return O("an array",e);if(a>=e.length)return O("a longer array. Need index "+a+" but there are only "+e.length+" entries",e);var o=L(t.decoder,e[a]);return"ok"===o.tag?o:j(a,o);case"key-value":if("object"!=typeof e||null===e||e instanceof Array)return O("an object",e);var s=H.Nil;for(var f in e){var o=L(t.decoder,e[f]);if("ok"!==o.tag)return B(f,o);var l=v.Tuple2(f,o.value);s=H.Cons(l,s)}return C(s);case"map-many":for(var d=t.func,p=t.decoders,r=0;r<p.length;r++){var o=L(p[r],e);if("ok"!==o.tag)return o;d=d(o.value)}return C(d);case"andThen":var o=L(t.decoder,e);return"ok"!==o.tag?o:L(t.callback(o.value),e);case"oneOf":for(var h=[],_=t.decoders;"[]"!==_.ctor;){var o=L(_._0,e);if("ok"===o.tag)return o;h.push(o),_=_._1}return R(h);case"fail":return I(t.msg);case"succeed":return C(t.msg)}}function P(t,e){if(t===e)return!0;if(t.tag!==e.tag)return!1;switch(t.tag){case"succeed":case"fail":return t.msg===e.msg;case"bool":case"int":case"float":case"string":case"value":return!0;case"null":return t.value===e.value;case"list":case"array":case"maybe":case"key-value":return P(t.decoder,e.decoder);case"field":return t.field===e.field&&P(t.decoder,e.decoder);case"index":return t.index===e.index&&P(t.decoder,e.decoder);case"map-many":return t.func===e.func&&F(t.decoders,e.decoders);case"andThen":return t.callback===e.callback&&P(t.decoder,e.decoder);case"oneOf":return F(t.decoders,e.decoders)}}function F(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(!P(t[r],e[r]))return!1;return!0}function W(t,e){return JSON.stringify(e,null,t)}function $(t){return t}function J(t){for(var e={};"[]"!==t.ctor;){var n=t._0;e[n._0]=n._1,t=t._1}return e}return{encode:e(W),runOnString:e(N),run:e(D),decodeNull:d,decodePrimitive:f,decodeContainer:e(l),decodeField:e(p),decodeIndex:e(h),map1:e(b),map2:n(w),map3:r(k),map4:o(x),map5:i(T),map6:u(S),map7:c(E),map8:a(A),decodeKeyValuePairs:_,andThen:e(y),fail:s,succeed:t,oneOf:m,identity:$,encodeNull:null,encodeArray:Le.toJSArray,encodeList:H.toArray,encodeObject:J,equality:P}}(),Wn=Un.encodeList,zn=(Un.encodeArray,Un.encodeObject),$n=Un.encodeNull,Jn=Un.identity,Hn=Un.identity,Vn=Un.identity,Gn=Un.identity,Kn=(Un.encode,Un.decodeNull),Yn=Un.decodePrimitive("value"),Xn=Un.andThen,Qn=Un.fail,Zn=Un.succeed,tr=Un.run,er=Un.runOnString,nr=(Un.map8,Un.map7,Un.map6,Un.map5,Un.map4,Un.map3,Un.map2),rr=Un.map1,or=Un.oneOf,ir=function(t){return s(Un.decodeContainer,"maybe",t)},ur=Un.decodeIndex,cr=Un.decodeField,ar=e(function(t,e){return f(nt,cr,e,t)}),sr=(Un.decodeKeyValuePairs,function(t){return s(Un.decodeContainer,"list",t)}),fr=Un.decodePrimitive("float"),lr=Un.decodePrimitive("int"),dr=Un.decodePrimitive("bool"),pr=Un.decodePrimitive("string"),hr=Zn,_r=(Xn(k),nr(e(function(t,e){return e(t)}))),vr=n(function(t,e,n){var r=function(t){return or({ctor:"::",_0:t,_1:{ctor:"::",_0:Kn(n),_1:{ctor:"[]"}}})};return s(Xn,function(o){var i=s(tr,t,o);if("Ok"===i.ctor){var u=s(tr,r(e),i._0);return"Ok"===u.ctor?Zn(u._0):Qn(u._0)}return Zn(n)},Yn)}),gr=(r(function(t,e,n,r){return s(_r,f(vr,s(ar,t,Yn),e,n),r)}),r(function(t,e,n,r){return s(_r,f(vr,s(cr,t,Yn),e,n),r)})),yr=(n(function(t,e,n){return s(_r,s(ar,t,e),n)}),n(function(t,e,n){return s(_r,s(cr,t,e),n)})),mr=(e(function(t,e){return{locale:t,includeSeconds:e}}),function(t){return{ctor:"AlmostXYears",_0:t}}),br=function(t){return{ctor:"OverXYears",_0:t}},wr=function(t){return{ctor:"AboutXYears",_0:t}},kr=function(t){return{ctor:"XMonths",_0:t}},xr=function(t){return{ctor:"AboutXMonths",_0:t}},Tr=function(t){return{ctor:"XDays",_0:t}},Sr=function(t){return{ctor:"AboutXHours",_0:t}},Er=function(t){return{ctor:"XMinutes",_0:t}},Ar=function(t){return{ctor:"LessThanXMinutes",_0:t}},Cr={ctor:"HalfAMinute"},Or=function(t){return{ctor:"LessThanXSeconds",_0:t}},jr=function(){function t(t){var e=new Date(t);return isNaN(e.getTime())?jt("Unable to parse '"+t+"' as a date. Dates must be in the ISO 8601 format."):Rt(e)}var e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return{fromString:t,year:function(t){return t.getFullYear()},month:function(t){return{ctor:n[t.getMonth()]}},day:function(t){return t.getDate()},hour:function(t){return t.getHours()},minute:function(t){return t.getMinutes()},second:function(t){return t.getSeconds()},millisecond:function(t){return t.getMilliseconds()},toTime:function(t){return t.getTime()},fromTime:function(t){return new Date(t)},dayOfWeek:function(t){return{ctor:e[t.getDay()]}}}}(),Br=ve.onError,Rr=ve.andThen,Ir=e(function(t,e){var n=e;return ve.spawn(s(Rr,Se(t),n._0))}),qr=ve.fail,Mr=(e(function(t,e){return s(Br,function(e){return qr(t(e))},e)}),ve.succeed),Nr=e(function(t,e){return s(Rr,function(e){return Mr(t(e))},e)}),Dr=n(function(t,e,n){return s(Rr,function(e){return s(Rr,function(n){return Mr(s(t,e,n))},n)},e)}),Lr=(r(function(t,e,n,r){return s(Rr,function(e){return s(Rr,function(n){return s(Rr,function(r){return Mr(f(t,e,n,r))},r)},n)},e)}),o(function(t,e,n,r,o){return s(Rr,function(e){return s(Rr,function(n){return s(Rr,function(r){return s(Rr,function(o){return Mr(l(t,e,n,r,o))},o)},r)},n)},e)}),i(function(t,e,n,r,o,i){return s(Rr,function(e){return s(Rr,function(n){return s(Rr,function(r){return s(Rr,function(o){return s(Rr,function(i){return Mr(d(t,e,n,r,o,i))},i)},o)},r)},n)},e)}),function(t){var n=t;return"[]"===n.ctor?Mr({ctor:"[]"}):f(Dr,e(function(t,e){return{ctor:"::",_0:t,_1:e}}),n._0,Lr(n._1))}),Pr=n(function(t,e,n){return s(Nr,function(t){return{ctor:"_Tuple0"}},Lr(s(lt,Ir(t),e)))}),Fr=Mr({ctor:"_Tuple0"}),Ur=n(function(t,e,n){return Mr({ctor:"_Tuple0"})}),Wr=_e.leaf("Task"),zr=function(t){return{ctor:"Perform",_0:t}},$r=e(function(t,e){return Wr(zr(s(Nr,t,e)))}),Jr=e(function(t,e){return Wr(zr(s(Br,function(e){return Mr(t(jt(e)))},s(Rr,function(e){return Mr(t(Rt(e)))},e))))}),Hr=e(function(t,e){return zr(s(Nr,t,e._0))});_e.effectManagers.Task={pkg:"elm-lang/core",init:Fr,onEffects:Pr,onSelfMsg:Ur,tag:"cmd",cmdMap:Hr};var Vr=function(){function t(t,e){return ve.nativeBinding(function(n){var r=setInterval(function(){ve.rawSpawn(e)},t);return function(){clearInterval(r)}})}return{now:ve.nativeBinding(function(t){t(ve.succeed(Date.now()))}),setInterval_:e(t)}}(),Gr=Vr.setInterval_,Kr=n(function(t,e,n){var r=e;if("[]"===r.ctor)return Mr(n);var o=r._0;return s(Rr,function(e){return f(Kr,t,r._1,f(Rn,o,e,n))},ve.spawn(s(Gr,o,s(Te,t,o))))}),Yr=e(function(t,e){var n=t,r=n._1,o=n._0,i=s(tn,o,e);return"Nothing"===i.ctor?f(Rn,o,{ctor:"::",_0:r,_1:{ctor:"[]"}},e):f(Rn,o,{ctor:"::",_0:r,_1:i._0},e)}),Xr=Vr.now,Qr=n(function(t,e,n){var r=s(tn,e,n.taggers);if("Nothing"===r.ctor)return Mr(n);var o=function(e){return Lr(s(lt,function(n){return s(Se,t,n(e))},r._0))};return s(Rr,function(t){return Mr(n)},s(Rr,o,Xr))}),Zr=_e.leaf("Time"),to=e(function(t,e){return{taggers:t,processes:e}}),eo=Mr(s(to,hn,hn)),no=n(function(t,e,o){var i=o,u=n(function(t,e,n){var r=n;return{ctor:"_Tuple3",_0:r._0,_1:r._1,_2:s(Rr,function(t){return r._2},ve.kill(e))}}),c=r(function(t,e,n,r){var o=r;return{ctor:"_Tuple3",_0:o._0,_1:f(Rn,t,n,o._1),_2:o._2}}),a=n(function(t,e,n){var r=n;return{ctor:"_Tuple3",_0:{ctor:"::",_0:t,_1:r._0},_1:r._1,_2:r._2}}),l=f(rt,Yr,hn,e),d=p(Ke,a,c,u,l,i.processes,{ctor:"_Tuple3",_0:{ctor:"[]"},_1:hn,_2:Mr({ctor:"_Tuple0"})}),h=d._0,_=d._1,v=d._2;return s(Rr,function(t){return Mr(s(to,l,t))},s(Rr,function(e){return f(Kr,t,h,_)},v))}),ro=e(function(t,e){return{ctor:"Every",_0:t,_1:e}}),oo=e(function(t,e){return Zr(s(ro,t,e))}),io=e(function(t,e){var n=e;return s(ro,n._0,function(e){return t(n._1(e))})});_e.effectManagers.Time={pkg:"elm-lang/core",init:eo,onEffects:no,onSelfMsg:Qr,tag:"sub",subMap:io};var uo=jr.millisecond,co=jr.second,ao=jr.minute,so=jr.hour,fo=jr.dayOfWeek,lo=jr.day,po=jr.month,ho=jr.year,_o=jr.fromTime,vo=jr.toTime,go=(jr.fromString,s(Nr,_o,Xr),{ctor:"Sun"}),yo={ctor:"Sat"},mo={ctor:"Fri"},bo={ctor:"Thu"},wo={ctor:"Wed"},ko={ctor:"Tue"},xo={ctor:"Mon"},To={ctor:"Dec"},So={ctor:"Nov"},Eo={ctor:"Oct"},Ao={ctor:"Sep"},Co={ctor:"Aug"},Oo={ctor:"Jul"},jo={ctor:"Jun"},Bo={ctor:"May"},Ro={ctor:"Apr"},Io={ctor:"Mar"},qo={ctor:"Feb"},Mo={ctor:"Jan"},No=6e4,Do=36e5,Lo=function(t){switch(t.ctor){case"Mon":return 1;case"Tue":return 2;case"Wed":return 3;case"Thu":return 4;case"Fri":return 5;case"Sat":return 6;default:return 7}},Po=function(t){switch(t){case 1:return Mo;case 2:return qo;case 3:return Io;case 4:return Ro;case 5:return Bo;case 6:return jo;case 7:return Oo;case 8:return Co;case 9:return Ao;case 10:return Eo;case 11:return So;default:return To}},Fo=function(t){switch(t.ctor){case"Jan":return 1;case"Feb":return 2;case"Mar":return 3;case"Apr":return 4;case"May":return 5;case"Jun":return 6;case"Jul":return 7;case"Aug":return 8;case"Sep":return 9;case"Oct":return 10;case"Nov":return 11;default:return 12}},Uo=function(t){return v.eq(s(x["%"],t,4),0)&&!v.eq(s(x["%"],t,100),0)||v.eq(s(x["%"],t,400),0)},Wo=e(function(t,e){switch(e.ctor){case"Jan":return 31;case"Feb":return Uo(t)?29:28;case"Mar":return 31;case"Apr":return 30;case"May":return 31;case"Jun":return 30;case"Jul":case"Aug":return 31;case"Sep":return 30;case"Oct":return 31;case"Nov":return 30;default:return 31}}),zo=e(function(t,e){switch(e.ctor){case"Jan":return 0;case"Feb":return 31;case"Mar":return Uo(t)?60:59;case"Apr":return Uo(t)?91:90;case"May":return Uo(t)?121:120;case"Jun":return Uo(t)?152:151;case"Jul":return Uo(t)?182:181;case"Aug":return Uo(t)?213:212;case"Sep":return Uo(t)?244:243;case"Oct":return Uo(t)?274:273;case"Nov":return Uo(t)?305:304;default:return Uo(t)?335:334}}),$o=function(t){return 864e5*(t-719163)},Jo=function(t){var e=s(x["%"],t,7);return 0===e?7:e},Ho=function(t){return(t/4|0)-(t/100|0)+(t/400|0)},Vo=function(t){return 365*(t-1)+Ho(t-1)},Go=e(function(t,e){return Vo(t)+e}),Ko=function(t){var e=s(Go,t,4);return e-Jo(e)+1},Yo=n(function(t,e,n){return Ko(t)-1+7*(e-1)+n}),Xo=n(function(t,e,n){var r=s(zo,t,e);return Vo(t)+r+n}),Qo=e(function(t,e){
return{ctor:"_Tuple2",_0:t/e|0,_1:s(N,t,e)}}),Zo=function(t){var e=s(Qo,t,146097),n=e._0,r=e._1,o=s(Qo,r,36524),i=o._0,u=o._1,c=s(Qo,u,1461),a=c._0,f=c._1,l=s(Qo,f,365),d=l._0,p=l._1;return 400*n+100*i+4*a+d+(v.eq(p,0)?0:1)},ti=function(t){return Zo(t+(4-Jo(t)))},ei=function(t){return 1+((t-Ko(ti(t)))/7|0)},ni=(e(function(t,e){for(;;){var n=e;if("[]"===n.ctor)return U;var r=n._0;if(t(r))return z(r);var o=t,i=n._1;t=o,e=i}}),n(function(t,e,n){return ei(f(Xo,t,e,n))})),ri=n(function(t,e,n){return ti(f(Xo,t,e,n))}),oi=e(function(t,e){return $o(s(Go,t,e))}),ii=n(function(t,e,n){return $o(f(Yo,t,e,n))}),ui=n(function(t,e,n){return $o(f(Xo,t,e,n))}),ci=r(function(t,e,n,r){return r+1e3*n+No*e+Do*t}),ai=u(function(t,e,n,r,o,i,u){return $o(f(Xo,t,e,n))+l(ci,r,o,i,u)}),si=function(t){var e=vo(t);return C(E(h(ai,ho(t),po(t),lo(t),so(t),ao(t),co(t),uo(t)))-e)},fi=function(t){return si(t)/No|0},li=function(t){return f(ri,ho(t),po(t),lo(t))},di=function(t){return f(ni,ho(t),po(t),lo(t))},pi=function(t){return Lo(fo(t))},hi=function(t){return E(l(ci,so(t),ao(t),co(t),uo(t)))/E(864e5)},_i=function(t){return s(zo,ho(t),po(t))+lo(t)},vi=function(t){return Fo(po(t))},gi=function(t){return A(function(t){return t/3}(E(vi(t))))},yi=function(){function t(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function o(t){return new RegExp(t.source,"gi")}function i(t){return new RegExp(t,"g")}function u(t,e){return null!==e.match(t)}function c(t,e,n){t="All"===t.ctor?1/0:t._0;for(var r,o=[],i=0,u=n,c=e.lastIndex,a=-1;i++<t&&(r=e.exec(u))&&a!==e.lastIndex;){for(var s=r.length-1,f=new Array(s);s>0;){var l=r[s];f[--s]=void 0===l?U:z(l)}o.push({match:r[0],submatches:H.fromArray(f),index:r.index,number:i}),a=e.lastIndex}return e.lastIndex=c,H.fromArray(o)}function a(t,e,n,r){function o(e){if(i++>=t)return e;for(var r=arguments.length-3,o=new Array(r);r>0;){var u=arguments[r];o[--r]=void 0===u?U:z(u)}return n({match:e,submatches:H.fromArray(o),index:arguments[arguments.length-2],number:i})}t="All"===t.ctor?1/0:t._0;var i=0;return r.replace(e,o)}function s(t,e,n){if(1/0===(t="All"===t.ctor?1/0:t._0))return H.fromArray(n.split(e));for(var r,o=n,i=[],u=e.lastIndex,c=e.lastIndex;t--&&(r=e.exec(o));)i.push(o.slice(u,r.index)),u=e.lastIndex;return i.push(o.slice(u)),e.lastIndex=c,H.fromArray(i)}return{regex:i,caseInsensitive:o,escape:t,contains:e(u),find:n(c),replace:r(a),split:n(s)}}(),mi=(yi.split,yi.replace),bi=yi.find,wi=yi.contains,ki=(yi.caseInsensitive,yi.regex),xi=yi.escape,Ti=(r(function(t,e,n,r){return{match:t,submatches:e,index:n,number:r}}),function(t){return{ctor:"AtMost",_0:t}}),Si={ctor:"All"},Ei=function(t){return _o(vo(t)-E(fi(t)*No))},Ai=function(t){switch(t){case 1:case 2:case 3:return"abbreviated";case 4:return"full";case 5:return"narrow";case 6:return"short";default:return"invalid"}},Ci=ki("([yYQMwdDEeabhHmsSXx])\\1*|'(?:[^']|'')*?'(?!')"),Oi=n(function(t,e,n){var r=f(Yt,2,v.chr("0"),T(s(x["%"],q(n),60))),o=f(Yt,2,v.chr("0"),T(q(n)/60|0)),i=v.cmp(n,0)>-1?"+":"-";return e&&v.eq(r,"00")?s(x["++"],i,o):s(x["++"],i,s(x["++"],o,s(x["++"],t,r)))}),ji=function(t){var e=s(x["%"],t,100);switch(s(R,v.cmp(e,20)<0?e:s(x["%"],e,10),4)){case 0:return"th";case 1:return"st";case 2:return"nd";case 3:return"rd";case 4:return"th";default:return""}},Bi=function(t){return s(x["++"],T(t),ji(t))},Ri=function(t){var e=s(x["%"],so(t),12);return 0===e?12:e},Ii=function(t){switch(t.ctor){case"Mon":return"Monday";case"Tue":return"Tuesday";case"Wed":return"Wednesday";case"Thu":return"Thursday";case"Fri":return"Friday";case"Sat":return"Saturday";default:return"Sunday"}},qi=function(t){switch(t.ctor){case"Jan":return"January";case"Feb":return"February";case"Mar":return"March";case"Apr":return"April";case"May":return"May";case"Jun":return"June";case"Jul":return"July";case"Aug":return"August";case"Sep":return"September";case"Oct":return"October";case"Nov":return"November";default:return"December"}},Mi={ctor:"PM"},Ni={ctor:"Noon"},Di={ctor:"AM"},Li={ctor:"Midnight"},Pi=function(t){var e=v.eq(ao(t),0)&&v.eq(co(t),0)&&v.eq(uo(t),0),n=so(t);return v.eq(n,0)&&e?Li:v.cmp(n,12)<0?Di:v.eq(n,12)&&e?Ni:Mi},Fi=n(function(t,n,r){t:for(;;){var o=oe(r),i=s(te,1,r),u=i;switch(u){case"y":var c=o;return 2===c?s(Zt,2,f(Yt,o,v.chr("0"),T(ho(n)))):f(Yt,o,v.chr("0"),T(ho(n)));case"Y":var a=o;return 2===a?s(Zt,2,f(Yt,o,v.chr("0"),T(li(n)))):f(Yt,o,v.chr("0"),T(li(n)));case"Q":var d=o;switch(d){case 1:case 2:return T(gi(n));case 3:return s(e(function(t,e){return s(x["++"],t,e)}),"Q",T(gi(n)));case 4:return Bi(gi(n));case 5:return T(gi(n));default:return""}case"M":var p=o;switch(p){case 1:return T(vi(n));case 2:return f(Yt,2,v.chr("0"),T(vi(n)));case 3:return s(te,3,qi(po(n)));case 4:return qi(po(n));case 5:return s(te,1,qi(po(n)));default:return""}case"w":var h=o;switch(h){case 1:return T(di(n));case 2:return f(Yt,2,v.chr("0"),T(di(n)));default:return""}case"d":var _=o;switch(_){case 1:return T(lo(n));case 2:return f(Yt,2,v.chr("0"),T(lo(n)));case 3:return Bi(lo(n));default:return""}case"D":var g=o;switch(g){case 1:return T(_i(n));case 2:return f(Yt,2,v.chr("0"),T(_i(n)));case 3:return f(Yt,3,v.chr("0"),T(_i(n)));default:return""}case"E":var y=Ai(o);switch(y){case"abbreviated":return s(te,3,Ii(fo(n)));case"full":return Ii(fo(n));case"narrow":return s(te,1,Ii(fo(n)));case"short":return s(te,2,Ii(fo(n)));default:return""}case"e":var m=o;switch(m){case 1:case 2:return T(pi(n));default:var b=t,w=n,k=Vt(r);t=b,n=w,r=k;continue t}case"a":var S=Pi(n),E=v.eq(S,Li)||v.eq(S,Di)?"A":"P",A=Ai(o);switch(A){case"abbreviated":return s(x["++"],E,"M");case"full":return s(x["++"],E,".M.");case"narrow":return E;default:return""}case"b":var C=Ai(o);switch(C){case"abbreviated":var O=Pi(n);switch(O.ctor){case"Midnight":return"mid.";case"AM":return"am";case"Noon":return"noon";default:return"pm"}case"full":var j=Pi(n);switch(j.ctor){case"Midnight":return"midnight";case"AM":return"a.m.";case"Noon":return"noon";default:return"p.m."}case"narrow":var B=Pi(n);switch(B.ctor){case"Midnight":return"md";case"AM":return"a";case"Noon":return"nn";default:return"p"}default:return""}case"h":var R=o;switch(R){case 1:return T(Ri(n));case 2:return f(Yt,2,v.chr("0"),T(Ri(n)));default:return""}case"H":var I=o;switch(I){case 1:return T(so(n));case 2:return f(Yt,2,v.chr("0"),T(so(n)));default:return""}case"m":var q=o;switch(q){case 1:return T(ao(n));case 2:return f(Yt,2,v.chr("0"),T(ao(n)));default:return""}case"s":var M=o;switch(M){case 1:return T(co(n));case 2:return f(Yt,2,v.chr("0"),T(co(n)));default:return""}case"S":return f(Kt,o,v.chr("0"),s(te,o,f(Yt,3,v.chr("0"),T(uo(n)))));case"X":if(v.cmp(o,4)<0&&(t||v.eq(fi(n),0)))return"Z";var N=t,D=n,L=Ht(r);t=N,n=D,r=L;continue t;case"x":var P=t?0:fi(n),F=o;switch(F){case 1:return f(Oi,"",!0,P);case 2:return f(Oi,"",!1,P);case 3:return f(Oi,":",!1,P);default:return""}case"'":return v.eq(r,"''")?"'":l(mi,Si,ki("''"),function(t){return"'"},f(ee,1,-1,r));default:return""}}}),Ui=n(function(t,e,n){var r=t?Ei(n):n;return l(mi,Si,Ci,function(e){return f(Fi,t,r,function(t){return t.match}(e))},e)}),Wi=(function(){ki(s(x["++"],"^",s(x["++"],"(\\d{4})",s(x["++"],"(?:",s(x["++"],"(\\-)?(\\d{2})(?:\\2(\\d{2}))?",s(x["++"],"|",s(x["++"],"(\\-)?W(\\d{2})(?:\\5(\\d))?",s(x["++"],"|",s(x["++"],"\\-?(\\d{3})",s(x["++"],")?",s(x["++"],"(?:",s(x["++"],"T(\\d{2})(?:(\\:)?(\\d{2})(?:\\10(\\d{2}))?)?(\\.\\d+)?(?:(Z)|(?:([+\\-])(\\d{2})(?:\\:?(\\d{2}))?))?",")?$"))))))))))))}(),function(t){return Ct(Ut(t))}),zi=(r(function(t,e,n,r){var o=s(F,0,s(W,Wi,r)),i=function(){var r=s(lt,W(Wi),{ctor:"::",_0:t,_1:{ctor:"::",_0:e,_1:{ctor:"::",_0:n,_1:{ctor:"[]"}}}});t:do{if("::"===r.ctor&&"Just"===r._0.ctor&&"::"===r._1.ctor){if("Just"===r._1._0.ctor){if("::"===r._1._1.ctor){if("Just"===r._1._1._0.ctor){if("[]"===r._1._1._1.ctor)return{ctor:"_Tuple3",_0:r._0._0,_1:r._1._0._0,_2:r._1._1._0._0+o};break t}if("[]"===r._1._1._1.ctor)return{ctor:"_Tuple3",_0:r._0._0,_1:r._1._0._0+o,_2:0};break t}break t}if("::"===r._1._1.ctor&&"Nothing"===r._1._1._0.ctor&&"[]"===r._1._1._1.ctor)return{ctor:"_Tuple3",_0:r._0._0+o,_1:0,_2:0};break t}break t}while(!1);return{ctor:"_Tuple3",_0:0,_1:0,_2:0}}(),u=i._0,c=i._1,a=i._2;return j(u*E(Do)+c*E(No)+a*E(1e3))}),function(t){return Ct(Wt(t))}),$i=(i(function(t,e,n,r,o,i){var u=s(F,1,zi(t)),c={ctor:"_Tuple2",_0:e,_1:r};t:do{if("_Tuple2"===c.ctor){if("Just"===c._0.ctor){if("Nothing"===c._1.ctor)return f(ui,u,Po(s(F,1,s(W,zi,e))),s(F,1,s(W,zi,n)));break t}if("Just"===c._1.ctor)return f(ii,u,s(F,1,s(W,zi,r)),s(F,1,s(W,zi,o)));break t}break t}while(!1);return s(oi,u,s(F,1,s(W,zi,i)))}),r(function(t,e,n,r){var o={ctor:"_Tuple2",_0:t,_1:e};t:do{if("_Tuple2"===o.ctor){if("Just"===o._0.ctor){if("Z"===o._0._0&&"Nothing"===o._1.ctor)return z(0);break t}if("Just"===o._1.ctor){var i=s(F,0,s(W,zi,r)),u=s(F,0,s(W,zi,n));return z((v.eq(o._1._0,"+")?1:-1)*(60*u+i))}break t}break t}while(!1);return U}),function(t){return{ctor:"_Tuple7",_0:ho(t),_1:po(t),_2:lo(t),_3:so(t),_4:ao(t),_5:co(t),_6:uo(t)}}),Ji=function(t){switch(t){case 1:return Mo;case 2:return Ro;case 3:return Oo;default:return Eo}},Hi=(n(function(t,e,n){return v.cmp(vo(n),vo(t))<0?t:v.cmp(vo(n),vo(e))>0?e:n}),n(function(t,e,n){return v.cmp(t,n)<1&&v.cmp(n,e)<1||v.cmp(e,n)<1&&v.cmp(n,t)<1})),Vi=(n(function(t,e,n){return f(Hi,vo(t),vo(e),vo(n))}),e(function(t,e){return s(I,vo(t),vo(e))})),Gi=(e(function(t,e){return v.eq(vo(t),vo(e))}),fi),Ki=li,Yi=di,Xi=pi,Qi=e(function(t,e){return M(s(x["%"],Xi(e)-Lo(t)+7,7))}),Zi=hi,tu=gi,eu=vi,nu=function(t){return 12*ho(t)+eu(t)},ru=e(function(t,e){var n=function(t){return(E(lo(t)-1)+Zi(t))/31},r=function(t){return E(nu(t))+n(t)};return O(r(e)-r(t))}),ou=Ui(!0),iu=(ou("yyyy-MM-dd'T'HH:mm:ss.SSSXXX"),Ui(!1)),uu=(iu("yyyy-MM-dd'T'HH:mm:ss.SSSxxx"),function(t){return _o(E(t))}),cu=function(t){var e=t,n=e._1,r=e._0;if("Just"===r.ctor)return uu(n-No*r._0);var o=Gi(uu(n)),i=uu(n-No*o),u=Gi(i);if(v.eq(o,u))return i;var c=uu(n-No*u),a=Gi(c);return v.eq(u,a)?c:i},au=u(function(t,e,n,r,o,i,u){return cu({ctor:"_Tuple2",_0:U,_1:h(ai,t,e,n,r,o,i,u)})}),su=e(function(t,e){var n=nu(e)+t+-1,r=n/12|0,o=Po(s(x["%"],n,12)+1),i=$i(e),u=(i._0,i._1,i._2),c=i._3,a=i._4,f=i._5,l=i._6;return h(au,r,o,s(R,u,s(Wo,r,o)),c,a,f,l)}),fu=n(function(t,e,n){var r=$i(n),o=r._0,i=r._1,u=r._2,c=r._3,a=r._4,f=r._5,l=r._6;switch(t.ctor){case"Millisecond":return _o(vo(n)+E(e));case"Second":return _o(vo(n)+E(1e3*e));case"Minute":return _o(vo(n)+E(e*No));case"Hour":return _o(vo(n)+E(e*Do));case"Day":return h(au,o,i,u+e,c,a,f,l);case"Month":return s(su,e,n);case"Year":return s(su,12*e,n);case"Quarter":return s(su,3*e,n);case"Week":default:return h(au,o,i,u+7*e,c,a,f,l)}}),lu=o(function(t,e,n,r,o){for(;;){if(v.cmp(vo(o),vo(r))<0)return t;var i={ctor:"::",_0:o,_1:t},u=e,c=n,a=r,s=f(fu,e,n,o);t=i,e=u,n=c,r=a,o=s}}),du=n(function(t,e,n){return cu({ctor:"_Tuple2",_0:U,_1:f(ui,t,e,n)})}),pu=e(function(t,e){var n=$i(e),r=n._0,o=n._1,i=n._2,u=n._3,c=n._4,a=n._5;switch(t.ctor){case"Millisecond":return e;case"Second":return h(au,r,o,i,u,c,a,0);case"Minute":return h(au,r,o,i,u,c,0,0);case"Hour":return h(au,r,o,i,u,0,0,0);case"Day":return f(du,r,o,i);case"Month":return f(du,r,o,1);case"Year":return f(du,r,Mo,1);case"Quarter":return f(du,r,Ji(tu(e)),1);case"Week":case"Monday":return f(du,r,o,i+s(Qi,xo,e));case"Tuesday":return f(du,r,o,i+s(Qi,ko,e));case"Wednesday":return f(du,r,o,i+s(Qi,wo,e));case"Thursday":return f(du,r,o,i+s(Qi,bo,e));case"Friday":return f(du,r,o,i+s(Qi,mo,e));case"Saturday":return f(du,r,o,i+s(Qi,yo,e));default:return f(du,r,o,i+s(Qi,go,e))}}),hu=e(function(t,e){var n=s(pu,t,e);return v.eq(vo(e),vo(n))?e:f(fu,t,1,n)}),_u=(r(function(t,e,n,r){var o=M(s(B,1,e));return d(lu,{ctor:"[]"},t,o,n,s(hu,t,f(fu,t,o,r)))}),n(function(t,e,n){var r=t,o=e,i=n;return cu({ctor:"_Tuple2",_0:r._0,_1:i._0+o._0})}),function(t){return{ctor:"Offset",_0:t}}),vu=(_u(z(0)),_u(U),function(t){return{ctor:"TimeMS",_0:t}}),gu=(vu(0),r(function(t,e,n,r){return vu(l(ci,t,e,n,r))}),function(t){return{ctor:"DateMS",_0:t}}),yu=(n(function(t,e,n){return gu(f(ui,t,e,n))}),e(function(t,e){return gu(s(oi,t,e))}),n(function(t,e,n){return gu(f(ii,t,e,n))}),{ctor:"Year"}),mu={ctor:"Month"},bu={ctor:"Day"},wu=n(function(t,e,n){var r=C(vo(n)-vo(e)),o=t;switch(o.ctor){case"Millisecond":return r;case"Second":return r/1e3|0;case"Minute":return r/No|0;case"Hour":return r/Do|0;case"Day":return r/864e5|0;case"Month":return s(ru,e,n);case"Year":return s(ru,e,n)/12|0;case"Quarter":return s(ru,e,n)/3|0;case"Week":return f(wu,bu,e,n)/7|0;default:var i=o;return f(wu,bu,s(pu,i,e),s(pu,i,n))/7|0}}),ku={ctor:"Hour"},xu={ctor:"Minute"},Tu=n(function(t,e,n){t:for(;;){var r=t;switch(r.ctor){case"Millisecond":return v.eq(vo(e),vo(n));case"Second":return v.eq(co(e),co(n))&&f(Tu,xu,e,n);case"Minute":return v.eq(ao(e),ao(n))&&f(Tu,ku,e,n);case"Hour":return v.eq(so(e),so(n))&&f(Tu,bu,e,n);case"Day":return v.eq(lo(e),lo(n))&&f(Tu,mu,e,n);case"Month":return v.eq(po(e),po(n))&&f(Tu,yu,e,n);case"Year":return v.eq(ho(e),ho(n));case"Quarter":return v.eq(tu(e),tu(n))&&f(Tu,yu,e,n);case"Week":return v.eq(Yi(e),Yi(n))&&v.eq(Ki(e),Ki(n));default:var o=r,i=bu,u=s(pu,o,e),c=s(pu,o,n);t=i,e=u,n=c;continue t}}}),Su={ctor:"Second"},Eu=function(t){return Ht(T(t))},Au=function(t){return"Minute"===t.ctor?s(x["++"],"a ",Eu(t)):s(x["++"],"1 ",Eu(t))},Cu=n(function(t,e,n){return 1===n?s(x["++"],t,s(x["++"]," ",Au(e))):s(x["++"],t,s(x["++"]," ",s(x["++"],T(n),s(x["++"]," ",s(x["++"],Eu(e),"s")))))}),Ou=e(function(t,e){return 1===e?s(x["++"],"1 ",Eu(t)):s(x["++"],T(e),s(x["++"]," ",s(x["++"],Eu(t),"s")))}),ju=function(t){var e=t;switch(e.ctor){case"LessThanXSeconds":return f(Cu,"less than",Su,e._0);case"HalfAMinute":return"half a minute";case"LessThanXMinutes":return f(Cu,"less than",xu,e._0);case"XMinutes":return s(Ou,xu,e._0);case"AboutXHours":return f(Cu,"about",ku,e._0);case"XDays":return s(Ou,bu,e._0);case"AboutXMonths":return f(Cu,"about",mu,e._0);case"XMonths":return s(Ou,mu,e._0);case"AboutXYears":return f(Cu,"about",yu,e._0);case"OverXYears":return f(Cu,"over",yu,e._0);default:return f(Cu,"almost",yu,e._0)}},Bu=n(function(t,e,n){var r=t,o=ju(n);return r.addSuffix?v.eq(e,D)?s(x["++"],"in ",o):s(x["++"],o," ago"):o}),Ru=function(t){return Sr(j(E(t)/60))},Iu=function(t){return v.cmp(t,5)<0?Or(5):v.cmp(t,10)<0?Or(10):v.cmp(t,20)<0?Or(20):v.cmp(t,40)<0?Cr:v.cmp(t,60)<0?Ar(1):Er(1)},qu={locale:Bu({addSuffix:!1}),includeSeconds:!1},Mu=function(t){return xr(j(E(t)/43200))},Nu=function(t){return kr(j(E(t)/43200))},Du=n(function(t,e,n){var r=f(wu,mu,e,n);if(v.cmp(r,12)<0)return Nu(t);var o=C(E(r)/12),i=s(x["%"],r,12);return v.cmp(i,3)<0?wr(o):v.cmp(i,9)<0?br(o):mr(o+1)}),Lu=function(t){return Tr(j(E(t)/1440))},Pu=n(function(t,e,n){var r=Gi(e)-Gi(n),o=f(wu,Su,e,n),i=j(E(o)/60)-r;return t&&v.cmp(i,2)<0?Iu(o):v.eq(i,0)?Ar(1):v.cmp(i,2)<0?Er(i):v.cmp(i,45)<0?Er(i):v.cmp(i,90)<0?Sr(1):v.cmp(i,1440)<0?Ru(i):v.cmp(i,2520)<0?Tr(1):v.cmp(i,43200)<0?Lu(i):v.cmp(i,86400)<0?Mu(i):f(Du,i,e,n)}),Fu=n(function(t,e,n){var r=t,o=s(Vi,e,n),i=v.eq(o,D)?{ctor:"_Tuple2",_0:e,_1:n}:{ctor:"_Tuple2",_0:n,_1:e},u=i._0,c=i._1,a=f(Pu,r.includeSeconds,u,c);return r.locale(o)(a)}),Uu=(Fu(qu),e(function(t,e){var n=e;return{ctor:"_Tuple2",_0:n._0,_1:s(be,t,n._1)}}),e(function(t,e){var n=e;return{ctor:"_Tuple2",_0:n._0,_1:ge({ctor:"::",_0:n._1,_1:{ctor:"::",_0:t,_1:{ctor:"[]"}}})}}),e(function(t,e){var n=e;return{ctor:"_Tuple2",_0:t(n._0),_1:n._1}}),e(function(t,e){return t?e:k}),n(function(t,e,n){var r=n,o=s(t,e,r._0),i=o._0,u=o._1;return{ctor:"_Tuple2",_0:i,_1:ge({ctor:"::",_0:r._1,_1:{ctor:"::",_0:u,_1:{ctor:"[]"}}})}})),Wu=n(function(t,e,n){return f(rt,Uu(t),n,e)}),zu=(n(function(t,e,r){var o=r;return f($e,n(function(e,n,r){return s(t,e,r)}),e,o._0)}),n(function(t,e,r){var o=r;return f(Ge,n(function(e,n,r){return s(t,e,r)}),e,o._0)})),$u=function(t){return Je(t._0)},Ju=function(t){return Ze(t._0)},Hu=e(function(t,e){return s(en,t,e._0)}),Vu=function(t){return{ctor:"Set_elm_builtin",_0:t}},Gu=Vu(hn),Ku=e(function(t,e){return Vu(f(Rn,t,{ctor:"_Tuple0"},e._0))}),Yu=function(t){return f(rt,Ku,Gu,t)},Xu=(e(function(t,e){return Yu(s(lt,t,$u(e)))}),e(function(t,e){return Vu(s(Pn,t,e._0))})),Qu=(e(function(t,e){var n=t,r=e;return Vu(s(qn,n._0,r._0))}),e(function(t,e){var n=t,r=e;return Vu(s(Nn,n._0,r._0))}),e(function(t,e){var n=t,r=e;return Vu(s(Fn,n._0,r._0))}),e(function(t,n){var r=n;return Vu(s(Mn,e(function(e,n){return t(e)}),r._0))}),e(function(t,n){var r=n,o=s(Dn,e(function(e,n){return t(e)}),r._0),i=o._0,u=o._1;return{ctor:"_Tuple2",_0:Vu(i),_1:Vu(u)}}),e(function(t,n){var r=function(t){var e=t,n=st(e._1);return"Just"===n.ctor?{ctor:"::",_0:n._0(e._0),_1:{ctor:"[]"}}:{ctor:"[]"}};return s(e(function(t,n){for(;;){var o=t,i=o._0,u=o._1;if("Just"!==u.ctor)return n;var c=u._0,a={ctor:"_Tuple2",_0:i,_1:at(c)},f=s(e(function(t,e){return s(x["++"],t,e)}),n,r({ctor:"_Tuple2",_0:i,_1:c}));t=a,n=f}}),{ctor:"_Tuple2",_0:n,_1:z(t)},{ctor:"[]"})})),Zu=(e(function(t,e){var n=t;return{ctor:"_Tuple4",_0:n._0(e),_1:n._1(e),_2:n._2(e),_3:n._3(e)}}),e(function(t,e){var n=t;return{ctor:"_Tuple3",_0:n._0(e),_1:n._1(e),_2:n._2(e)}})),tc=e(function(t,e){var n=t;return{ctor:"_Tuple2",_0:n._0(e),_1:n._1(e)}}),ec=(e(function(t,e){var n=e;return l(t,n._0,n._1,n._2,n._3)}),e(function(t,e){var n=e;return f(t,n._0,n._1,n._2)})),nc=(o(function(t,e,n,r,o){return t({ctor:"_Tuple4",_0:e,_1:n,_2:r,_3:o})}),r(function(t,e,n,r){return t({ctor:"_Tuple3",_0:e,_1:n,_2:r})}),e(function(t,e){var n=e;return{ctor:"_Tuple4",_0:t(n._0),_1:t(n._1),_2:t(n._2),_3:t(n._3)}}),e(function(t,e){var n=e;return{ctor:"_Tuple3",_0:t(n._0),_1:t(n._1),_2:t(n._2)}}),e(function(t,e){var n=e;return{ctor:"_Tuple2",_0:t(n._0),_1:t(n._1)}}),e(function(t,e){return v.cmp(t,0)<0?U:st(s(K,t,e))}),e(function(t,n){var r=s(xt,1,n);return"::"===r.ctor?"Ok"===r._0.ctor&&"[]"===r._1.ctor?s(It,e(function(t,e){return{ctor:"::",_0:t,_1:e}})(r._0._0),s(nc,t,s(K,1,n))):jt(t):Rt({ctor:"[]"})})),rc=(e(function(t,e){var n=e;return"_Tuple4"===n.ctor&&"Ok"===n._0.ctor&&"Ok"===n._1.ctor&&"Ok"===n._2.ctor&&"Ok"===n._3.ctor?Rt({ctor:"_Tuple4",_0:n._0._0,_1:n._1._0,_2:n._2._0,_3:n._3._0}):jt(t)}),e(function(t,e){var n=e;return"_Tuple3"===n.ctor&&"Ok"===n._0.ctor&&"Ok"===n._1.ctor&&"Ok"===n._2.ctor?Rt({ctor:"_Tuple3",_0:n._0._0,_1:n._1._0,_2:n._2._0}):jt(t)}),e(function(t,e){var n=e;return"_Tuple2"===n.ctor&&"Ok"===n._0.ctor&&"Ok"===n._1.ctor?Rt({ctor:"_Tuple2",_0:n._0._0,_1:n._1._0}):jt(t)}),function(t){var e=t;return"_Tuple2"===e.ctor&&"Just"===e._0.ctor&&"Just"===e._1.ctor?z({ctor:"_Tuple2",_0:e._0._0,_1:e._1._0}):U}),oc=(e(function(t,e){var n=t(e);return"Ok"===n.ctor?n._0:e}),e(function(t,e){var n=t;return v.cmp(e,n._0)>0&&v.cmp(e,n._1)<0}),e(function(t,e){var n=t;return v.cmp(e,n._0)>-1&&v.cmp(e,n._1)<1}),e(function(t,e){return s(ut,e,t)}),e(function(t,n){var r=E(s(e(function(t,e){return Math.pow(t,e)}),10,t));return f(b,e(function(t,e){return t/e}),r,E(j(s(e(function(t,e){return t*e}),r,n))))}),oc||{});oc["!+>"]=e(function(t,e){return s(Bt,e,t)});var oc=oc||{};oc["?+>"]=e(function(t,e){return s(W,e,t)});var oc=oc||{};oc["!|>"]=e(function(t,e){return s(It,e,t)});var oc=oc||{};oc["?|>"]=e(function(t,e){return s($,e,t)});var oc=oc||{};oc["!="]=e(function(t,e){return s(Ot,e,t)});var oc=oc||{};oc["?="]=e(function(t,e){return s(F,e,t)});var oc=oc||{};oc["@@|>"]=e(function(t,e){return s(y,e,t)});var oc=oc||{};oc["..|>"]=e(function(t,e){var n=t;return{ctor:"_Tuple2",_0:e(n._0),_1:e(n._1)}});var oc=oc||{};oc[":|>"]=e(function(t,e){return e({ctor:"::",_0:t,_1:{ctor:"[]"}})});var oc=oc||{};oc[".|>"]=e(function(t,e){return s(lt,e,t)});var oc=oc||{};oc["||>"]=e(function(t,e){return e(t)});var oc=oc||{};oc["#"]=e(function(t,e){return s(b,t,e)});var oc=oc||{};oc[":|::"]=e(function(t,e){return{ctor:"::",_0:t,_1:{ctor:"::",_0:e,_1:{ctor:"[]"}}}});var oc=oc||{};oc[":|++"]=e(function(t,e){return{ctor:"::",_0:t,_1:e}});var oc=oc||{};oc["|::"]=e(function(t,e){return s(x["++"],t,{ctor:"::",_0:e,_1:{ctor:"[]"}})});var oc=oc||{};oc["|++"]=e(function(t,e){return s(x["++"],t,e)});var ic,uc=function(){function t(t){return{type:"text",text:t}}function o(t){return e(function(e,n){return i(t,e,n)})}function i(t,e,n){for(var r=_(e),o=r.namespace,i=r.facts,u=[],c=0;"[]"!==n.ctor;){var a=n._0;c+=a.descendantsCount||0,u.push(a),n=n._1}return c+=u.length,{type:"node",tag:t,facts:i,children:u,namespace:o,descendantsCount:c}}function u(t,e,n){for(var r=_(e),o=r.namespace,i=r.facts,u=[],c=0;"[]"!==n.ctor;){var a=n._0;c+=a._1.descendantsCount||0,u.push(a),n=n._1}return c+=u.length,{type:"keyed-node",tag:t,facts:i,children:u,namespace:o,descendantsCount:c}}function c(t,e,n){return{type:"custom",facts:_(t).facts,model:e,impl:n}}function a(t,e){return{type:"tagger",tagger:t,node:e,descendantsCount:1+(e.descendantsCount||0)}}function l(t,e,n){return{type:"thunk",func:t,args:e,thunk:n,node:void 0}}function d(t,e){return l(t,[e],function(){return t(e)})}function p(t,e,n){return l(t,[e,n],function(){return s(t,e,n)})}function h(t,e,n,r){return l(t,[e,n,r],function(){return f(t,e,n,r)})}function _(t){for(var e,n={};"[]"!==t.ctor;){var r=t._0,o=r.key;if(o===pt||o===ht||o===dt){var i=n[o]||{};i[r.realKey]=r.value,n[o]=i}else if(o===lt){for(var u=n[o]||{},c=r.value;"[]"!==c.ctor;){var a=c._0;u[a._0]=a._1,c=c._1}n[o]=u}else if("namespace"===o)e=r.value;else if("className"===o){var s=n[o];n[o]=void 0===s?r.value:s+" "+r.value}else n[o]=r.value;t=t._1}return{facts:n,namespace:e}}function g(t){return{key:lt,value:t}}function y(t,e){return{key:t,value:e}}function m(t,e){return{key:pt,realKey:t,value:e}}function b(t,e,n){return{key:ht,realKey:e,value:{value:n,namespace:t}}}function w(t,e,n){return{key:dt,realKey:t,value:{options:e,decoder:n}}}function k(t,e){return(t.options===e.options||t.options.stopPropagation===e.options.stopPropagation&&t.options.preventDefault===e.options.preventDefault)&&Un.equality(t.decoder,e.decoder)}function x(t,e){return e.key!==dt?e:w(e.realKey,e.value.options,s(rr,t,e.value.decoder))}function T(t,e){switch(t.type){case"thunk":return t.node||(t.node=t.thunk()),T(t.node,e);case"tagger":for(var n=t.node,r=t.tagger;"tagger"===n.type;)"object"!=typeof r?r=[r,n.tagger]:r.push(n.tagger),n=n.node;var o={tagger:r,parent:e},i=T(n,o);return i.elm_event_node_ref=o,i;case"text":return _t.createTextNode(t.text);case"node":var i=t.namespace?_t.createElementNS(t.namespace,t.tag):_t.createElement(t.tag);S(i,e,t.facts);for(var u=t.children,c=0;c<u.length;c++)i.appendChild(T(u[c],e));return i;case"keyed-node":var i=t.namespace?_t.createElementNS(t.namespace,t.tag):_t.createElement(t.tag);S(i,e,t.facts);for(var u=t.children,c=0;c<u.length;c++)i.appendChild(T(u[c]._1,e));return i;case"custom":var i=t.impl.render(t.model);return S(i,e,t.facts),i}}function S(t,e,n){for(var r in n){var o=n[r];switch(r){case lt:E(t,o);break;case dt:A(t,e,o);break;case pt:O(t,o);break;case ht:j(t,o);break;case"value":t[r]!==o&&(t[r]=o);break;default:t[r]=o}}}function E(t,e){var n=t.style;for(var r in e)n[r]=e[r]}function A(t,e,n){var r=t.elm_handlers||{};for(var o in n){var i=r[o],u=n[o];if(void 0===u)t.removeEventListener(o,i),r[o]=void 0;else if(void 0===i){var i=C(e,u);t.addEventListener(o,i),r[o]=i}else i.info=u}t.elm_handlers=r}function C(t,e){function n(e){var r=n.info,o=s(Un.run,r.decoder,e);if("Ok"===o.ctor){var i=r.options;i.stopPropagation&&e.stopPropagation(),i.preventDefault&&e.preventDefault();for(var u=o._0,c=t;c;){var a=c.tagger;if("function"==typeof a)u=a(u);else for(var f=a.length;f--;)u=a[f](u);c=c.parent}}}return n.info=e,n}function O(t,e){for(var n in e){var r=e[n];void 0===r?t.removeAttribute(n):t.setAttribute(n,r)}}function j(t,e){for(var n in e){var r=e[n],o=r.namespace,i=r.value;void 0===i?t.removeAttributeNS(o,n):t.setAttributeNS(o,n,i)}}function B(t,e){var n=[];return I(t,e,n,0),n}function R(t,e,n){return{index:e,type:t,data:n,domNode:void 0,eventNode:void 0}}function I(t,e,n,r){if(t!==e){var o=t.type,i=e.type;if(o!==i)return void n.push(R("p-redraw",r,e));switch(i){case"thunk":for(var u=t.args,c=e.args,a=u.length,s=t.func===e.func&&a===c.length;s&&a--;)s=u[a]===c[a];if(s)return void(e.node=t.node);e.node=e.thunk();var f=[];return I(t.node,e.node,f,0),void(f.length>0&&n.push(R("p-thunk",r,f)));case"tagger":for(var l=t.tagger,d=e.tagger,p=!1,h=t.node;"tagger"===h.type;)p=!0,"object"!=typeof l?l=[l,h.tagger]:l.push(h.tagger),h=h.node;for(var _=e.node;"tagger"===_.type;)p=!0,"object"!=typeof d?d=[d,_.tagger]:d.push(_.tagger),_=_.node;return p&&l.length!==d.length?void n.push(R("p-redraw",r,e)):((p?q(l,d):l===d)||n.push(R("p-tagger",r,d)),void I(h,_,n,r+1));case"text":if(t.text!==e.text)return void n.push(R("p-text",r,e.text));return;case"node":if(t.tag!==e.tag||t.namespace!==e.namespace)return void n.push(R("p-redraw",r,e));var v=M(t.facts,e.facts);return void 0!==v&&n.push(R("p-facts",r,v)),void N(t,e,n,r);case"keyed-node":if(t.tag!==e.tag||t.namespace!==e.namespace)return void n.push(R("p-redraw",r,e));var v=M(t.facts,e.facts);return void 0!==v&&n.push(R("p-facts",r,v)),void D(t,e,n,r);case"custom":if(t.impl!==e.impl)return void n.push(R("p-redraw",r,e));var v=M(t.facts,e.facts);void 0!==v&&n.push(R("p-facts",r,v));var g=e.impl.diff(t,e);if(g)return void n.push(R("p-custom",r,g));return}}}function q(t,e){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function M(t,e,n){var r;for(var o in t)if(o!==lt&&o!==dt&&o!==pt&&o!==ht)if(o in e){var i=t[o],u=e[o];i===u&&"value"!==o||n===dt&&k(i,u)||(r=r||{},r[o]=u)}else r=r||{},r[o]=void 0===n?"string"==typeof t[o]?"":null:n===lt?"":n===dt||n===pt?void 0:{namespace:t[o].namespace,value:void 0};else{var c=M(t[o],e[o]||{},o);c&&(r=r||{},r[o]=c)}for(var a in e)a in t||(r=r||{},r[a]=e[a]);return r}function N(t,e,n,r){var o=t.children,i=e.children,u=o.length,c=i.length;u>c?n.push(R("p-remove-last",r,u-c)):u<c&&n.push(R("p-append",r,i.slice(u)));for(var a=r,s=u<c?u:c,f=0;f<s;f++){a++;var l=o[f];I(l,i[f],n,a),a+=l.descendantsCount||0}}function D(t,e,n,r){for(var o=[],i={},u=[],c=t.children,a=e.children,s=c.length,f=a.length,l=0,d=0,p=r;l<s&&d<f;){var h=c[l],_=a[d],v=h._0,g=_._0,y=h._1,m=_._1;if(v!==g){var b=l+1<s,w=d+1<f;if(b)var k=c[l+1],x=k._0,T=k._1,S=g===x;if(w)var E=a[d+1],A=E._0,C=E._1,O=v===A;if(b&&w&&O&&S)p++,I(y,C,o,p),L(i,o,v,m,d,u),p+=y.descendantsCount||0,p++,P(i,o,v,T,p),p+=T.descendantsCount||0,l+=2,d+=2;else if(w&&O)p++,L(i,o,g,m,d,u),I(y,C,o,p),p+=y.descendantsCount||0,l+=1,d+=2;else if(b&&S)p++,P(i,o,v,y,p),p+=y.descendantsCount||0,p++,I(T,m,o,p),p+=T.descendantsCount||0,l+=2,d+=1;else{if(!b||!w||x!==A)break;p++,P(i,o,v,y,p),L(i,o,g,m,d,u),p+=y.descendantsCount||0,p++,I(T,C,o,p),p+=T.descendantsCount||0,l+=2,d+=2}}else p++,I(y,m,o,p),p+=y.descendantsCount||0,l++,d++}for(;l<s;){p++;var h=c[l],y=h._1;P(i,o,h._0,y,p),p+=y.descendantsCount||0,l++}for(var j;d<f;){j=j||[];var _=a[d];L(i,o,_._0,_._1,void 0,j),d++}(o.length>0||u.length>0||void 0!==j)&&n.push(R("p-reorder",r,{patches:o,inserts:u,endInserts:j}))}function L(t,e,n,r,o,i){var u=t[n];if(void 0===u)return u={tag:"insert",vnode:r,index:o,data:void 0},i.push({index:o,entry:u}),void(t[n]=u);if("remove"===u.tag){i.push({index:o,entry:u}),u.tag="move";var c=[];return I(u.vnode,r,c,u.index),u.index=o,void(u.data.data={patches:c,entry:u})}L(t,e,n+vt,r,o,i)}function P(t,e,n,r,o){var i=t[n];if(void 0===i){var u=R("p-remove",o,void 0);return e.push(u),void(t[n]={tag:"remove",vnode:r,index:o,data:u})}if("insert"===i.tag){i.tag="move";var c=[];I(r,i.vnode,c,o);var u=R("p-remove",o,{patches:c,entry:i});return void e.push(u)}P(t,e,n+vt,r,o)}function F(t,e,n,r){U(t,e,n,0,0,e.descendantsCount,r)}function U(t,e,n,r,o,i,u){for(var c=n[r],a=c.index;a===o;){var s=c.type;if("p-thunk"===s)F(t,e.node,c.data,u);else if("p-reorder"===s){c.domNode=t,c.eventNode=u;var f=c.data.patches;f.length>0&&U(t,e,f,0,o,i,u)}else if("p-remove"===s){c.domNode=t,c.eventNode=u;var l=c.data;if(void 0!==l){l.entry.data=t;var f=l.patches;f.length>0&&U(t,e,f,0,o,i,u)}}else c.domNode=t,c.eventNode=u;if(r++,!(c=n[r])||(a=c.index)>i)return r}switch(e.type){case"tagger":for(var d=e.node;"tagger"===d.type;)d=d.node;return U(t,d,n,r,o+1,i,t.elm_event_node_ref);case"node":for(var p=e.children,h=t.childNodes,_=0;_<p.length;_++){o++;var v=p[_],g=o+(v.descendantsCount||0);if(o<=a&&a<=g&&(r=U(h[_],v,n,r,o,g,u),!(c=n[r])||(a=c.index)>i))return r;o=g}return r;case"keyed-node":for(var p=e.children,h=t.childNodes,_=0;_<p.length;_++){o++;var v=p[_]._1,g=o+(v.descendantsCount||0);if(o<=a&&a<=g&&(r=U(h[_],v,n,r,o,g,u),!(c=n[r])||(a=c.index)>i))return r;o=g}return r;case"text":case"thunk":throw new Error("should never traverse `text` or `thunk` nodes like this")}}function W(t,e,n,r){return 0===n.length?t:(F(t,e,n,r),z(t,n))}function z(t,e){for(var n=0;n<e.length;n++){var r=e[n],o=r.domNode,i=$(o,r);o===t&&(t=i)}return t}function $(t,e){switch(e.type){case"p-redraw":return J(t,e.data,e.eventNode);case"p-facts":return S(t,e.eventNode,e.data),t;case"p-text":return t.replaceData(0,t.length,e.data),t;case"p-thunk":return z(t,e.data);case"p-tagger":return void 0!==t.elm_event_node_ref?t.elm_event_node_ref.tagger=e.data:t.elm_event_node_ref={tagger:e.data,parent:e.eventNode},t;case"p-remove-last":for(var n=e.data;n--;)t.removeChild(t.lastChild);return t;case"p-append":for(var r=e.data,n=0;n<r.length;n++)t.appendChild(T(r[n],e.eventNode));return t;case"p-remove":var o=e.data;if(void 0===o)return t.parentNode.removeChild(t),t;var i=o.entry;return void 0!==i.index&&t.parentNode.removeChild(t),i.data=z(t,o.patches),t;case"p-reorder":return H(t,e);case"p-custom":var u=e.data;return u.applyPatch(t,u.data);default:throw new Error("Ran into an unknown patch!")}}function J(t,e,n){var r=t.parentNode,o=T(e,n);return void 0===o.elm_event_node_ref&&(o.elm_event_node_ref=t.elm_event_node_ref),r&&o!==t&&r.replaceChild(o,t),o}function H(t,e){var n=e.data,r=V(n.endInserts,e);t=z(t,n.patches);for(var o=n.inserts,i=0;i<o.length;i++){var u=o[i],c=u.entry,a="move"===c.tag?c.data:T(c.vnode,e.eventNode);t.insertBefore(a,t.childNodes[u.index])}return void 0!==r&&t.appendChild(r),t}function V(t,e){if(void 0!==t){for(var n=_t.createDocumentFragment(),r=0;r<t.length;r++){var o=t[r],i=o.entry;n.appendChild("move"===i.tag?i.data:T(i.vnode,e.eventNode))}return n}}function G(t){return e(function(e,n){return function(r){return function(o,i,u){var c=t(r,i);void 0===u?Z(n,o,i,c):nt(s(e,u,n),o,i,c)}}})}function K(t){var n=v.Tuple2(v.Tuple0,ye);return s(gt,ic,{init:n,view:function(){return t},update:e(function(){return n}),subscriptions:function(){return ke}})()}function Y(t,e){return function(t,n,r){if(void 0===n)return t;Q("The `"+e+"` module does not need flags.\nInitialize it with no arguments and you should be all set!",r)}}function X(t,e){return function(n,r,o){if(void 0===t){var i="Are you trying to sneak a Never value into Elm? Trickster!\nIt looks like "+e+".main is defined with `programWithFlags` but has type `Program Never`.\nUse `program` instead if you do not want flags.";Q(i,o)}var u=s(Un.run,t,r);if("Ok"===u.ctor)return n(u._0);var i="Trying to initialize the `"+e+"` module with an unexpected flag.\nI tried to convert it to an Elm value, but ran into this problem:\n\n"+u._0;Q(i,o)}}function Q(t,e){throw e&&(e.innerHTML='<div style="padding-left:1em;"><h2 style="font-weight:normal;"><b>Oops!</b> Something went wrong when starting your Elm program.</h2><pre style="padding-left:1em;">'+t+"</pre></div>"),new Error(t)}function Z(t,e,n,r){e.embed=function(e,n){for(;e.lastChild;)e.removeChild(e.lastChild);return _e.initialize(r(t.init,n,e),t.update,t.subscriptions,tt(e,t.view))},e.fullscreen=function(e){return _e.initialize(r(t.init,e,document.body),t.update,t.subscriptions,tt(document.body,t.view))}}function tt(t,e){return function(n,r){var o={tagger:n,parent:void 0},i=e(r),u=T(i,o);return t.appendChild(u),et(u,e,i,o)}}function et(t,e,n,r){function o(){switch(u){case"NO_REQUEST":throw new Error("Unexpected draw callback.\nPlease report this to <https://github.com/elm-lang/virtual-dom/issues>.");case"PENDING_REQUEST":mt(o),
u="EXTRA_REQUEST";var n=e(i);return t=W(t,c,B(c,n),r),void(c=n);case"EXTRA_REQUEST":return void(u="NO_REQUEST")}}var i,u="NO_REQUEST",c=n;return function(t){"NO_REQUEST"===u&&mt(o),u="PENDING_REQUEST",i=t}}function nt(t,e,n,r){e.fullscreen=function(e){var o={doc:void 0};return _e.initialize(r(t.init,e,document.body),t.update(rt(o)),t.subscriptions,ot(n,document.body,o,t.view,t.viewIn,t.viewOut))},e.embed=function(e,o){var i={doc:void 0};return _e.initialize(r(t.init,o,e),t.update(rt(i)),t.subscriptions,ot(n,e,i,t.view,t.viewIn,t.viewOut))}}function rt(t){return ve.nativeBinding(function(e){var n=t.doc;if(n){var r=n.getElementsByClassName("debugger-sidebar-messages")[0];r&&(r.scrollTop=r.scrollHeight)}e(ve.succeed(v.Tuple0))})}function ot(t,e,n,r,o,i){return function(u,c){var a={tagger:u,parent:void 0},s={tagger:u,parent:void 0},f=r(c),l=T(f,a);e.appendChild(l);var d=et(l,r,f,a),p=o(c)._1,h=T(p,s);e.appendChild(h);var _=ct(a,h,o),v=et(h,_,p,s),g=it(c,i,s,e,t,n);return function(t){d(t),v(t),g(t)}}}function it(t,e,n,r,o,i){var u,c;return function(t){if(t.isDebuggerOpen){if(!i.doc)return u=e(t),void(c=ut(o,i,u,n));_t=i.doc;var r=e(t);c=W(c,u,B(u,r),n),u=r,_t=document}}}function ut(t,e,n,r){function o(){e.doc=void 0,c.close()}var i=screen.width-900,u=screen.height-360,c=window.open("","","width=900,height=360,left="+i+",top="+u);_t=c.document,e.doc=_t,_t.title="Debugger - "+t,_t.body.style.margin="0",_t.body.style.padding="0";var a=T(n,r);return _t.body.appendChild(a),_t.addEventListener("keydown",function(t){t.metaKey&&82===t.which&&window.location.reload(),38===t.which&&(r.tagger({ctor:"Up"}),t.preventDefault()),40===t.which&&(r.tagger({ctor:"Down"}),t.preventDefault())}),window.addEventListener("unload",o),c.addEventListener("unload",function(){e.doc=void 0,window.removeEventListener("unload",o),r.tagger({ctor:"Close"})}),_t=document,a}function ct(t,e,n){var r,o=ft(e),i="Normal",u=t.tagger,c=function(){};return function(e){var a=n(e),s=a._0.ctor;return t.tagger="Normal"===s?u:c,i!==s&&(at("removeEventListener",o,i),at("addEventListener",o,s),"Normal"===i&&(r=document.body.style.overflow,document.body.style.overflow="hidden"),"Normal"===s&&(document.body.style.overflow=r),i=s),a._1}}function at(t,e,n){switch(n){case"Normal":return;case"Pause":return st(t,e,bt);case"Message":return st(t,e,wt)}}function st(t,e,n){for(var r=0;r<n.length;r++)document.body[t](n[r],e,!0)}function ft(t){return function(e){if("keydown"!==e.type||!e.metaKey||82!==e.which){for(var n="scroll"===e.type||"wheel"===e.type,r=e.target;null!==r;){if("elm-overlay-message-details"===r.className&&n)return;if(r===t&&!n)return;r=r.parentNode}e.stopPropagation(),e.preventDefault()}}}var lt="STYLE",dt="EVENT",pt="ATTR",ht="ATTR_NS",_t="undefined"!=typeof document?document:{},vt="_elmW6BL",gt=G(Y),yt=G(X),mt="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:function(t){setTimeout(t,1e3/60)},bt=["click","dblclick","mousemove","mouseup","mousedown","mouseenter","mouseleave","touchstart","touchend","touchcancel","touchmove","pointerdown","pointerup","pointerover","pointerout","pointerenter","pointerleave","pointermove","pointercancel","dragstart","drag","dragend","dragenter","dragover","dragleave","drop","keyup","keydown","keypress","input","change","focus","blur"],wt=bt.concat("wheel","scroll");return{node:o,text:t,custom:c,map:e(a),on:n(w),style:g,property:e(y),attribute:e(m),attributeNS:n(b),mapProperty:e(x),lazy:e(d),lazy2:n(p),lazy3:r(h),keyedNode:n(u),program:gt,programWithFlags:yt,staticProgram:K}}(),cc=function(t){return s(uc.programWithFlags,void 0,t)},ac=function(t){return s(uc.program,ic,t)},sc=uc.keyedNode,fc=(uc.lazy3,uc.lazy2,uc.lazy,{stopPropagation:!1,preventDefault:!1}),lc=uc.on,dc=e(function(t,e){return f(lc,t,fc,e)}),pc=uc.style,hc=uc.mapProperty,_c=(uc.attributeNS,uc.attribute),vc=uc.property,gc=uc.map,yc=uc.text,mc=uc.node,bc=(e(function(t,e){return{stopPropagation:t,preventDefault:e}}),cc),wc=ac,kc=gc,xc=yc,Tc=mc,Sc=(Tc("body"),Tc("section"),Tc("nav"),Tc("article"),Tc("aside"),Tc("h1"),Tc("h2")),Ec=(Tc("h3"),Tc("h4"),Tc("h5"),Tc("h6"),Tc("header"),Tc("footer"),Tc("address"),Tc("main"),Tc("p"),Tc("hr")),Ac=(Tc("pre"),Tc("blockquote"),Tc("ol"),Tc("ul"),Tc("li"),Tc("dl"),Tc("dt"),Tc("dd"),Tc("figure"),Tc("figcaption"),Tc("div")),Cc=(Tc("a"),Tc("em"),Tc("strong"),Tc("small"),Tc("s"),Tc("cite"),Tc("q"),Tc("dfn"),Tc("abbr"),Tc("time"),Tc("code"),Tc("var"),Tc("samp"),Tc("kbd"),Tc("sub"),Tc("sup"),Tc("i"),Tc("b"),Tc("u"),Tc("mark"),Tc("ruby"),Tc("rt"),Tc("rp"),Tc("bdi"),Tc("bdo"),Tc("span")),Oc=(Tc("br"),Tc("wbr"),Tc("ins"),Tc("del"),Tc("img"),Tc("iframe"),Tc("embed"),Tc("object"),Tc("param"),Tc("video"),Tc("audio"),Tc("source"),Tc("track"),Tc("canvas"),Tc("math"),Tc("table"),Tc("caption"),Tc("colgroup"),Tc("col"),Tc("tbody"),Tc("thead"),Tc("tfoot"),Tc("tr"),Tc("td"),Tc("th"),Tc("form"),Tc("fieldset"),Tc("legend"),Tc("label"),Tc("input"),Tc("button"),Tc("select"),Tc("datalist"),Tc("optgroup"),Tc("option"),Tc("textarea"),Tc("keygen"),Tc("output"),Tc("progress"),Tc("meter"),Tc("details"),Tc("summary"),Tc("menuitem"),Tc("menu"),function(t){return Tc(s(x["++"],"app-",t))}),jc=Oc("drawer"),Bc=Oc("drawer-layout"),Rc=Oc("header"),Ic=Oc("header-layout"),qc=(Oc("route"),Oc("toolbar")),Mc=hc,Nc=_c,Dc=vc,Lc=e(function(t,e){return s(Dc,t,Gn(e))}),Pc=function(t){return s(Lc,"className",t)},Fc=function(t){return s(Lc,"id",t)},Uc=function(t){return s(Lc,"value",t)},Wc=e(function(t,e){return s(Dc,t,Jn(e))}),zc=function(t){return s(Wc,"checked",t)},$c=function(t){return s(Wc,"autofocus",t)},Jc=function(t){return Pc(s(ne," ",s(lt,he,s(dt,pe,t))))},Hc=pc,Vc=e(function(t,e){return s(Dc,t,Gn(e))}),Gc=(Vc("selected"),Vc("path"),Vc("label"),Vc("icon")),Kc=(e(function(t,e){return s(Dc,t,Jn(e))}),Vc("attrForSelected"),s(cr,"keyCode",lr),s(ar,{ctor:"::",_0:"target",_1:{ctor:"::",_0:"checked",_1:{ctor:"[]"}}},dr),s(ar,{ctor:"::",_0:"target",_1:{ctor:"::",_0:"value",_1:{ctor:"[]"}}},pr)),Yc=fc,Xc=lc,Qc=dc,Zc=function(t){return s(Qc,"blur",Zn(t))},ta=(v.update(Yc,{preventDefault:!0}),function(t){return s(Qc,"input",s(rr,t,Kc))}),ea=function(t){return s(Qc,"click",Zn(t))},na=(e(function(t,e){return{stopPropagation:t,preventDefault:e}}),function(t){return Tc(s(x["++"],"paper-",t))}),ra=(na("badge"),na("behaviors"),na("button")),oa=(na("card"),na("checkbox")),ia=(na("dialog"),na("dialog-behavior"),na("dialog-scrollable"),na("drawer-panel"),na("dropdown-menu"),na("fab")),ua=(na("header-panel"),na("icon-button")),ca=na("input"),aa=na("item"),sa=(na("icon-item"),na("item-body")),fa=(na("listbox"),na("material")),la=na("menu"),da=na("menu-button"),pa=(na("progress"),na("radio-button"),na("radio-group"),na("ripple"),na("scroll-header-panel"),na("slider"),na("spinner"),na("styles"),na("tabs"),na("tab"),na("toast"),na("toggle-button")),ha=(na("toolbar"),na("tooltip"),e(function(t,e){return f(Ge,n(function(e,n,r){var o=s(t,e,n);return"Just"===o.ctor?f(Rn,e,o._0,r):r}),hn,e)}),e(function(t,e){return f(Ge,n(function(e,n,r){return f(Rn,t(e),n,r)}),hn,e)}),e(function(t,n){return f(zu,e(function(t,e){return s(F,e,s($,function(n){return f(Rn,t,n,e)},s(tn,t,n)))}),hn,t)}),e(function(t,e){return f(zu,Pn,e,t)}),e(function(t,n){return s(Mn,e(function(e,n){return!s(t,e,n)}),n)}),e(function(t,n){return f(rt,e(function(e,n){return f(Rn,t(e),e,n)}),hn,n)}),e(function(t,n){return f(nt,e(function(n,r){return f(Bn,t(n),function(t){return z(s(F,{ctor:"::",_0:n,_1:{ctor:"[]"}},s($,e(function(t,e){return{ctor:"::",_0:t,_1:e}})(n),t)))},r)}),hn,n)})),_a=e(function(t,e){return s(Dc,t,Vn(e))}),va=e(function(t,e){return s(Dc,t,Hn(e))}),ga=(va("volume"),e(function(t,e){return s(Dc,t,Jn(e))})),ya=e(function(t,e){return s(Dc,t,Gn(e))}),ma=(ya("low"),ya("high"),ya("optimum"),ya("innerHTML"),Mc(g),function(t){return f(Xc,"click",v.update(Yc,{stopPropagation:!0}),Zn(t))}),ba=(s(ar,{ctor:"::",_0:"target",_1:{ctor:"::",_0:"selectedIndex",_1:{ctor:"[]"}}},s(rr,function(t){return v.eq(t,-1)?U:z(t)},lr)),s(ar,{ctor:"::",_0:"target",_1:{ctor:"::",_0:"valueAsNumber",_1:{ctor:"[]"}}},lr),e(function(t,e){return s(Xn,function(t){var e=t;return"Ok"===e.ctor?Zn(e._0):Qn(e._0)},s(rr,e,t))})),wa=s(ba,s(ar,{ctor:"::",_0:"target",_1:{ctor:"::",_0:"valueAsNumber",_1:{ctor:"[]"}}},fr),function(t){return S(t)?jt("Not a number"):Rt(t)}),ka=s(ba,Kc,function(t){return Rt(v.eq(t,"")?U:z(t))}),xa=(s(Xn,function(t){return"Nothing"===t.ctor?Zn(U):s(rr,z,wa)},ka),function(){s(ba,ka,e(function(t,e){var n=e;return"Nothing"===n.ctor?Rt(U):s(It,z,t(n._0))})(Wt))}(),s(ba,Kc,Ut),s(ba,Kc,Wt),function(){s(ba,ka,e(function(t,e){var n=e;return"Nothing"===n.ctor?Rt(U):s(It,z,t(n._0))})(Ut))}(),function(){s(ba,ka,e(function(t,e){var n=e;return"Nothing"===n.ctor?Rt(U):s(It,z,t(n._0))})(Wt))}(),s(rr,function(t){return s($,he,ce(t))},s(cr,"charCode",pr)),n(function(t,e,n){var r=v.cmp(ot(n),0)>0,o=v.cmp(t,0)>0&&v.cmp(e,0)>0,i=s(K,e,n),u=s(xt,t,n);return o&&r?{ctor:"::",_0:u,_1:f(xa,t,e,i)}:{ctor:"[]"}})),Ta=(e(function(t,e){return f(xa,t,t,e)}),n(function(t,e,n){var r=v.cmp(t,0)>0&&v.cmp(e,0)>0,o=s(K,e,n),i=s(xt,t,n),u=v.eq(t,ot(i));return r&&u?{ctor:"::",_0:i,_1:f(Ta,t,e,o)}:{ctor:"[]"}})),Sa=(e(function(t,e){return f(Ta,t,t,e)}),Y(o(function(t,e,n,r,o){return{ctor:"_Tuple5",_0:t,_1:e,_2:n,_3:r,_4:o}})),X(r(function(t,e,n,r){return{ctor:"_Tuple4",_0:t,_1:e,_2:n,_3:r}})),Q(n(function(t,e,n){return{ctor:"_Tuple3",_0:t,_1:e,_2:n}})),Z(e(function(t,e){return{ctor:"_Tuple2",_0:t,_1:e}})),e(function(t,e){var n={ctor:"_Tuple2",_0:t,_1:e};return"[]"===n._0.ctor||"[]"!==n._1.ctor&&v.eq(n._0._0,n._1._0)&&s(Sa,n._0._1,n._1._1)})),Ea=(e(function(t,e){return s(Sa,_t(t),_t(e))}),function(t){var e=t;if("[]"===e.ctor)return{ctor:"[]"};var n=e._1,r=e._0;return{ctor:"::",_0:{ctor:"_Tuple2",_0:r,_1:n},_1:s(lt,function(t){var e=t;return{ctor:"_Tuple2",_0:e._0,_1:{ctor:"::",_0:r,_1:e._1}}},Ea(n))}}),Aa=e(function(t,e){var n=e;if("::"===n.ctor){var r=n._0;return{ctor:"::",_0:{ctor:"::",_0:t,_1:r},_1:{ctor:"::",_0:r,_1:n._1}}}return{ctor:"[]"}}),Ca=s(nt,Aa,{ctor:"::",_0:{ctor:"[]"},_1:{ctor:"[]"}}),Oa=(e(function(t,e){return s(tt,Sa(t),Ca(e))}),s(nt,e(function(t,n){return{ctor:"::",_0:{ctor:"[]"},_1:s(lt,e(function(t,e){return{ctor:"::",_0:t,_1:e}})(t),n)}}),{ctor:"::",_0:{ctor:"[]"},_1:{ctor:"[]"}}),e(function(t,e){var n=e;if("[]"===n.ctor)return{ctor:"[]"};if("[]"===n._1.ctor)return{ctor:"::",_0:{ctor:"::",_0:n._0,_1:{ctor:"[]"}},_1:{ctor:"[]"}};var r=n._0,o=s(Oa,t,n._1);return"::"===o.ctor?s(t,r,n._1._0)?{ctor:"::",_0:{ctor:"::",_0:r,_1:o._0},_1:o._1}:{ctor:"::",_0:{ctor:"::",_0:r,_1:{ctor:"[]"}},_1:o}:{ctor:"[]"}})),ja=(e(function(t,n){return f(rt,e(function(t,e){var n=e;return"Nothing"===n.ctor?U:"[]"===n._0.ctor?U:v.eq(t,n._0._0)?z(n._0._1):U}),z(n),t)}),e(function(t,e){return{ctor:"_Tuple2",_0:s(xt,t,e),_1:s(K,t,e)}})),Ba=n(function(t,e,n){for(;;){var r={ctor:"_Tuple2",_0:t,_1:e};if("_Tuple2"!==r.ctor||"::"!==r._0.ctor||"::"!==r._1.ctor)return _t(n);var o=s(ja,r._0._0,e),i=o._0,u=o._1,c=r._0._1,a=u,f={ctor:"::",_0:i,_1:n};t=c,e=a,n=f}}),Ra=(e(function(t,e){return f(Ba,t,e,{ctor:"[]"})}),e(function(t,e){var n=t(e);return"Nothing"===n.ctor?{ctor:"[]"}:{ctor:"::",_0:n._0._0,_1:s(Ra,t,n._0._1)}})),Ia=e(function(t,e){var n=e;if("[]"===n.ctor)return{ctor:"[]"};if("[]"===n._1.ctor)return{ctor:"::",_0:n._0,_1:{ctor:"[]"}};var r=s(Ia,t,n._1);return"::"===r.ctor?{ctor:"::",_0:s(t,n._0,r._0),_1:r}:{ctor:"[]"}}),qa=n(function(t,e,n){var r=n;if("[]"===r.ctor)return{ctor:"::",_0:e,_1:{ctor:"[]"}};var o=f(qa,t,e,r._1);return"::"===o.ctor?{ctor:"::",_0:s(t,r._0,o._0),_1:o}:{ctor:"[]"}}),Ma=(e(function(t,e){var n=e;return"[]"===n.ctor?{ctor:"[]"}:f(vt,t,n._0,n._1)}),n(function(t,n,r){return pe(f(nt,e(function(e,n){var r=n,o=r._0;return{ctor:"_Tuple2",_0:o-1,_1:f(t,o,e,r._1)}}),{ctor:"_Tuple2",_0:ot(r)-1,_1:n},r))}),n(function(t,n,r){return pe(f(rt,e(function(e,n){var r=n,o=r._0;return{ctor:"_Tuple2",_0:o+1,_1:f(t,o,e,r._1)}}),{ctor:"_Tuple2",_0:0,_1:n},r))}),e(function(t,n){return f(nt,e(function(e,n){return z(function(){var r=n;return"Nothing"===r.ctor?e:s(t,e,r._0)}())}),U,n)}),e(function(t,n){return f(rt,e(function(e,n){return z(function(){var r=n;return"Nothing"===r.ctor?e:s(t,r._0,e)}())}),U,n)})),Na=n(function(t,e,n){t:for(;;){var r={ctor:"_Tuple2",_0:t,_1:e};e:do{if("::"===r._0.ctor){if("::"===r._1.ctor){var o=r._0._1,i=r._1._1,u=s(x["++"],n,{ctor:"::",_0:r._0._0,_1:{ctor:"::",_0:r._1._0,_1:{ctor:"[]"}}});t=o,e=i,n=u;continue t}break e}if("[]"===r._1.ctor)break e;return s(x["++"],n,r._1)}while(!1);return s(x["++"],n,r._0)}}),Da=(e(function(t,e){return f(Na,t,e,{ctor:"[]"})}),function(t){var n=t;return"[]"===n.ctor?{ctor:"::",_0:{ctor:"[]"},_1:{ctor:"[]"}}:s(mt,function(t){var n=t;return s(lt,e(function(t,e){return{ctor:"::",_0:t,_1:e}})(n._0),Da(n._1))},Ea(n))}),La=(e(function(t,e){return s(ut,t,Da(e))}),function(t){var n=t;if("[]"===n.ctor)return{ctor:"[]"};var r=n._0;return{ctor:"::",_0:{ctor:"::",_0:r,_1:{ctor:"[]"}},_1:f(nt,e(function(t,e){return{ctor:"::",_0:t,_1:{ctor:"::",_0:{ctor:"::",_0:r,_1:t},_1:e}}}),{ctor:"[]"},La(n._1))}}),Pa=function(t){return{ctor:"::",_0:{ctor:"[]"},_1:La(t)}},Fa=(e(function(t,e){return s(ut,t,Pa(e))}),e(function(t,e){return s(dt,function(e){return!t(e)},e)}),e(function(t,e){if(v.cmp(t,0)<0)return e;var n=at(s(K,t,e)),r=s(xt,t,e),o=n;return"Nothing"===o.ctor?e:s(gt,r,o._0)}),e(function(t,n){return s(lt,he,s(V,e(function(e,n){var r=e,o=n,i=s(t,r._0,o._0);return"EQ"===i.ctor?s(I,r._1,o._1):i}),s(At,e(function(t,e){return{ctor:"_Tuple2",_0:e,_1:t}}),n)))}),n(function(t,e,n){if(v.cmp(t,0)<0)return U;var r=at(s(K,t,n)),o=s(xt,t,n),i=r;return"Nothing"===i.ctor?U:z(s(gt,o,{ctor:"::",_0:e,_1:i._0}))}),e(function(t,e){var n=e;if("[]"===n.ctor)return{ctor:"[]"};var r=n._1,o=n._0;return v.eq(t,o)?r:{ctor:"::",_0:o,_1:s(Fa,t,r)}})),Ua=n(function(t,n,r){return s(At,e(function(e,r){return t(e)?n(r):r}),r)}),Wa=(n(function(t,n,r){return v.cmp(t,0)<0||v.cmp(t,ot(r))>-1?U:z(f(Ua,e(function(t,e){return v.eq(t,e)})(t),n,r))}),n(function(t,e,n){return s(lt,function(n){return t(n)?e(n):n},n)})),za=n(function(t,e,n){return f(Wa,t,w(e),n)}),$a=e(function(t,e){for(;;){var n=e;if("[]"===n.ctor)return U;var r=n._0;if(t(r))return z(r);var o=t,i=n._1;t=o,e=i}}),Ja=mt,Ha=(n(function(t,e,n){return s(Ja,function(e){return s(Ja,function(n){return{ctor:"::",_0:s(t,e,n),_1:{ctor:"[]"}}},n)},e)}),r(function(t,e,n,r){return s(Ja,function(e){return s(Ja,function(n){return s(Ja,function(r){return{ctor:"::",_0:f(t,e,n,r),_1:{ctor:"[]"}}},r)},n)},e)}),o(function(t,e,n,r,o){return s(Ja,function(e){return s(Ja,function(n){return s(Ja,function(r){return s(Ja,function(o){return{ctor:"::",_0:l(t,e,n,r,o),_1:{ctor:"[]"}}},o)},r)},n)},e)}),e(function(t,n){return f(Z,e(function(t,e){return t(e)}),n,t)}),n(function(t,e,n){for(;;){var r=n;if("[]"===r.ctor)return{ctor:"[]"};var o=r._1,i=r._0,u=t(i);if(!s(Hu,u,e))return{ctor:"::",_0:i,_1:f(Ha,t,s(Ku,u,e),o)};var c=t,a=e,l=o;t=c,e=a,n=l}})),Va=e(function(t,e){return f(Ha,t,Gu,e)}),Ga=(e(function(t,e){return v.eq(ot(e),ot(s(Va,t,e)))}),e(function(t,e){for(;;){var n=e;if("[]"===n.ctor)return{ctor:"[]"};if(!t(n._0))return e;var r=t,o=n._1;t=r,e=o}})),Ka=function(t){return e(function(e,n){for(;;){var r=n;if("[]"===r.ctor)return _t(e);var o=r._0;if(!t(o))return _t(e);var i={ctor:"::",_0:o,_1:e},u=r._1;e=i,n=u}})({ctor:"[]"})},Ya=e(function(t,e){return{ctor:"_Tuple2",_0:s(Ka,t,e),_1:s(Ga,t,e)}}),Xa=e(function(t,e){var n=e;if("[]"===n.ctor)return{ctor:"[]"};var r=n._0,o=s(Ya,t(r),n._1);return{ctor:"::",_0:{ctor:"::",_0:r,_1:o._0},_1:s(Xa,t,o._1)}}),Qa=(Xa(e(function(t,e){return v.eq(t,e)})),e(function(t,n){var r=e(function(e,n){var r=n,o=r._1,i=t(e);return v.cmp(i,o)<0?{ctor:"_Tuple2",_0:e,_1:i}:{ctor:"_Tuple2",_0:r._0,_1:o}}),o=n;if("::"===o.ctor){if("[]"===o._1.ctor)return z(o._0);var i=o._0;return z(he(f(rt,r,{ctor:"_Tuple2",_0:i,_1:t(i)},o._1)))}return U}),e(function(t,n){var r=e(function(e,n){var r=n,o=r._1,i=t(e);return v.cmp(i,o)>0?{ctor:"_Tuple2",_0:e,_1:i}:{ctor:"_Tuple2",_0:r._0,_1:o}}),o=n;if("::"===o.ctor){if("[]"===o._1.ctor)return z(o._0);var i=o._0;return z(he(f(rt,r,{ctor:"_Tuple2",_0:i,_1:t(i)},o._1)))}return U}),function(t){var e=t;return"[]"===e.ctor?U:z({ctor:"_Tuple2",_0:e._0,_1:e._1})}),Za=(n(function(t,n,r){for(;;){if(v.eq(t,n))return z(r);if(!(v.cmp(t,n)>0)){if(v.cmp(t,0)<0)return U;var o=s(ja,t,r),i=o._0,u=o._1,c=s(ja,n-t,u),a=c._0,l=c._1;return f(J,e(function(t,e){var n=t,r=e;return yt({ctor:"::",_0:i,_1:{ctor:"::",_0:{ctor:"::",_0:r._0,_1:n._1},_1:{ctor:"::",_0:{ctor:"::",_0:n._0,_1:r._1},_1:{ctor:"[]"}}}})}),Qa(a),Qa(l))}var d=n,p=t,h=r;t=d,n=p,r=h}}),e(function(t,e){var n=t(e);return"Just"===n.ctor?{ctor:"::",_0:e,_1:s(Za,t,n._0)}:{ctor:"::",_0:e,_1:{ctor:"[]"}}})),ts=e(function(t,e){return v.cmp(t,0)<0?U:st(s(K,t,e))}),es=es||{};es["!!"]=b(ts);var ns=(function(){var t=e(function(t,e){return function(n){return s(F,t,s($,e,n))}});s(nt,function(n){return function(r){return z(f(t,{ctor:"[]"},e(function(t,e){return{ctor:"::",_0:t,_1:e}})(n),r))}},U)}(),Ma(b(w)),e(function(t,e){var n=t;return"Nothing"===n.ctor?e:{ctor:"::",_0:n._0,_1:e}})),rs=(s(nt,ns,{ctor:"[]"}),e(function(t,e){var n=s($,t,e);return"Just"===n.ctor&&n._0===!0?e:U}),function(t){return s(Ue,e(function(e,n){var r=t(e);return"Nothing"===r.ctor?U:s($,Pe(r._0),n)}),z(Fe))}),os=(rs(k),function(t){return s(nt,e(function(n,r){var o=t(n);return"Nothing"===o.ctor?U:s($,e(function(t,e){return{ctor:"::",_0:t,_1:e}})(o._0),r)}),z({ctor:"[]"}))}),is=(os(k),function(t){var e=t;return"Nothing"===e.ctor?{ctor:"[]"}:{ctor:"::",_0:e._0,_1:{ctor:"[]"}}}),us=(e(function(t,e){return"Nothing"===e.ctor?t:e}),e(function(t,e){return"Nothing"===e.ctor?t({ctor:"_Tuple0"}):e}),e(function(t,e){return"Nothing"===t.ctor?e({ctor:"_Tuple0"}):t}),e(function(t,e){return"Nothing"===t.ctor?e:t}),J(w),J(b(w)),J(e(function(t,e){return e(t)})),n(function(t,e,n){var r=n;return"Nothing"===r.ctor?t({ctor:"_Tuple0"}):e(r._0)})),cs=(n(function(t,e,n){var r=n;return"Nothing"===r.ctor?t:e(r._0)}),cs||{});cs["?"]=e(function(t,e){return s(F,e,t)});var as=(e(function(t,e){return"Err"===e.ctor?t:e}),e(function(t,e){return"Err"===e.ctor?t({ctor:"_Tuple0"}):e}),e(function(t,e){return"Err"===t.ctor?e({ctor:"_Tuple0"}):t}),e(function(t,e){return"Err"===t.ctor?e:t}),e(function(t,e){var n={ctor:"_Tuple2",_0:t,_1:e};return"Err"===n._1.ctor?jt(n._1._0):s(It,n._1._0,n._0)}),s(nt,qt(e(function(t,e){return{ctor:"::",_0:t,_1:e}})),Rt({ctor:"[]"})),n(function(t,e,n){var r=n;return"Ok"===r.ctor?Rt(e(r._0)):jt(t(r._0))}),n(function(t,e,n){var r=n;return"Ok"===r.ctor?e(r._0):t(r._0)}),n(function(t,e,n){var r=n;return"Ok"===r.ctor?e(r._0):t}),e(function(t,e){var n=e;return"Ok"===n.ctor?n._0:t(n._0)}),function(){return{and:e(function(t,e){return t&e}),or:e(function(t,e){return t|e}),xor:e(function(t,e){return t^e}),complement:function(t){return~t},shiftLeftBy:e(function(t,e){return e<<t}),shiftRightBy:e(function(t,e){return e>>t}),shiftRightZfBy:e(function(t,e){return e>>>t})}}()),ss=(as.shiftRightZfBy,as.shiftRightBy,as.shiftLeftBy,as.complement,as.xor,as.or,as.and,e(function(t,e){return s(F,"",s($,s(b,te,e),st(_t(s(zt,t,e)))))}),e(function(t,n){return s(F,"",s($,function(r){return f(b,Qt,n,s(e(function(t,e){return t+e}),oe(t),r))},st(_t(s(zt,t,n)))))}),e(function(t,e){for(;;){var n=e;if("[]"===n.ctor)return t;if("Just"===n._0.ctor)return n._0._0;var r=t,o=n._1;t=r,e=o}})),fs=function(t){return s(ss,"",t)},ls=(e(function(t,e){return s(ne,"",s(lt,function(t){return fs(function(t){return t.submatches}(t))},f(bi,Ti(1),ki(s(x["++"],"^(.*?)",xi(t))),e)))}),e(function(t,e){return s(ne,"",s(lt,function(t){return fs(function(t){return t.submatches}(t))},f(bi,Ti(1),ki(s(x["++"],xi(t),"(.*)$")),e)))}),n(function(t,e,n){return v.eq(n,1)?s(x["++"],"1 ",t):s(x["++"],T(n),s(x["++"]," ",e))}),n(function(t,e,n){for(;;){var r=n;if("[]"===r.ctor)return e;if("[]"===r._1.ctor)return s(x["++"],e,s(x["++"],t,r._0));var o=t,i=s(x["++"],e,s(x["++"],", ",r._0)),u=r._1;t=o,e=i,n=u}}),n(function(t,e,n){return v.cmp(oe(n),t)<1?n:s(x["++"],s(te,t-oe(e),n),e)})),ds=(e(function(t,e){return f(ls,t,"...",e)}),e(function(t,e){return v.eq(oe(t),0)||v.eq(oe(e),0)?0:ot(s(zt,t,e))}),function(t){return Ht(l(mi,Si,ki("[_-\\s]+"),w("-"),l(mi,Si,ki("([A-Z])"),function(t){return s(ue,"-",function(t){return t.match}(t))},Gt(t))))}),ps=(e(function(t,e){if(s(Jt,t,e)&&s($t,t,e)){var n=oe(t);return s(Xt,n,s(Qt,n,e))}return e}),e(function(t,e){return s(x["++"],t,s(x["++"],e,t))}),function(t){return s(wi,ki("^\\s*$"),t)}),hs=function(t){return ki(s(x["++"],".{1,",s(x["++"],T(t),"}(\\s+|$)|\\S+?(\\s+|$)")))},_s=(e(function(t,e){return v.cmp(oe(e),t)<1?e:f(b,ue,"...",l(mi,Si,ki("([\\.,;:\\s])+$"),w(""),s(ne,"",s(lt,function(t){return t.match},f(bi,Ti(1),hs(t),e)))))}),e(function(t,e){return v.cmp(t,0)<1?{ctor:"[]"}:s(lt,function(t){return t.match},f(bi,Si,hs(t),e))})),vs=n(function(t,e,n){return s(ne,e,s(_s,t,n))}),gs=(e(function(t,e){return f(vs,t,"\n",e)}),n(function(t,e,n){for(;;){if(""===e)return _t(n);var r=t,o=s(Qt,t,e),i={ctor:"::",_0:f(ee,0,t,e),_1:n};t=r,e=o,n=i}})),ys=e(function(t,e){return v.eq(t,0)||v.eq(e,"")?{ctor:"::",_0:e,_1:{ctor:"[]"}}:f(gs,t,e,{ctor:"[]"})}),ms=n(function(t,e,n){return s(ne,e,s(ys,t,n))}),bs=(e(function(t,e){return f(ms,t,"\n",e)}),r(function(t,e,n,r){return s(x["++"],f(ee,0,e,r),s(x["++"],t,f(ee,n,oe(r),r)))})),ws=(n(function(t,e,n){return l(bs,t,e,e,n)}),n(function(t,e,n){return l(mi,Si,ki(xi(t)),function(t){return e},n)}),e(function(t,e){return s(F,"",s($,function(e){var n=e;return s(ae,t(n._0),n._1)},ce(e)))}),ve.kill),ks=(ve.sleep,ve.spawn),xs=function(){function t(t){return function(e,n,r){return ve.nativeBinding(function(o){function i(t){var e=s(tr,n,t);"Ok"===e.ctor&&ve.rawSpawn(r(e._0))}return t.addEventListener(e,i),function(){t.removeEventListener(e,i)}})}}function r(t,e){return ve.nativeBinding(function(n){m(function(){var r=document.getElementById(t);if(null===r)return void n(ve.fail({ctor:"NotFound",_0:t}));n(ve.succeed(e(r)))})})}function o(t){return r(t,function(t){return t.focus(),v.Tuple0})}function i(t){return r(t,function(t){return t.blur(),v.Tuple0})}function u(t){return r(t,function(t){return t.scrollTop})}function c(t,e){return r(t,function(t){return t.scrollTop=e,v.Tuple0})}function a(t){return r(t,function(t){return t.scrollTop=t.scrollHeight,v.Tuple0})}function f(t){return r(t,function(t){return t.scrollLeft})}function l(t,e){return r(t,function(t){return t.scrollLeft=e,v.Tuple0})}function d(t){return r(t,function(t){return t.scrollLeft=t.scrollWidth,v.Tuple0})}function p(t,e){return r(e,function(e){switch(t.ctor){case"Content":return e.scrollWidth;case"VisibleContent":return e.clientWidth;case"VisibleContentWithBorders":return e.offsetWidth;case"VisibleContentWithBordersAndMargins":var n=e.getBoundingClientRect();return n.right-n.left}})}function h(t,e){return r(e,function(e){switch(t.ctor){case"Content":return e.scrollHeight;case"VisibleContent":return e.clientHeight;case"VisibleContentWithBorders":return e.offsetHeight;case"VisibleContentWithBordersAndMargins":var n=e.getBoundingClientRect();return n.bottom-n.top}})}var _={addEventListener:function(){},removeEventListener:function(){}},g=t("undefined"!=typeof document?document:_),y=t("undefined"!=typeof window?window:_),m="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:function(t){t()};return{onDocument:n(g),onWindow:n(y),focus:o,blur:i,getScrollTop:u,setScrollTop:e(c),getScrollLeft:f,setScrollLeft:e(l),toBottom:a,toRight:d,height:e(h),width:e(p)}}(),Ts=(xs.blur,xs.focus,xs.onWindow),Ss=xs.onDocument,Es=sc,As=(Es("ol"),Es("ul"),function(){function t(t){return encodeURIComponent(t)}function n(t){try{return z(decodeURIComponent(t))}catch(t){return U}}function r(t,e){return ve.nativeBinding(function(n){var r=new XMLHttpRequest;o(r,e),r.addEventListener("error",function(){n(ve.fail({ctor:"NetworkError"}))}),r.addEventListener("timeout",function(){n(ve.fail({ctor:"Timeout"}))}),r.addEventListener("load",function(){n(c(r,t.expect.responseToResult))});try{r.open(t.method,t.url,!0)}catch(e){return n(ve.fail({ctor:"BadUrl",_0:t.url}))}return i(r,t),u(r,t.body),function(){r.abort()}})}function o(t,e){"Nothing"!==e.ctor&&t.addEventListener("progress",function(t){t.lengthComputable&&ve.rawSpawn(e._0({bytes:t.loaded,bytesExpected:t.total}))})}function i(t,e){function n(e){t.setRequestHeader(e._0,e._1)}s(lt,n,e.headers),t.responseType=e.expect.responseType,t.withCredentials=e.withCredentials,"Just"===e.timeout.ctor&&(t.timeout=e.timeout._0)}function u(t,e){switch(e.ctor){case"EmptyBody":return void t.send();case"StringBody":return t.setRequestHeader("Content-Type",e._0),void t.send(e._1);case"FormDataBody":return void t.send(e._0)}}function c(t,e){var n=a(t);if(t.status<200||300<=t.status)return n.body=t.responseText,ve.fail({ctor:"BadStatus",_0:n});var r=e(n);return"Ok"===r.ctor?ve.succeed(r._0):(n.body=t.responseText,ve.fail({ctor:"BadPayload",_0:r._0,_1:n}))}function a(t){return{status:{code:t.status,message:t.statusText},headers:l(t.getAllResponseHeaders()),url:t.responseURL,body:t.response}}function l(t){var e=hn;if(!t)return e;for(var n=t.split("\r\n"),r=n.length;r--;){var o=n[r],i=o.indexOf(": ");if(i>0){var u=o.substring(0,i),c=o.substring(i+2);e=f(Bn,u,function(t){return z("Just"===t.ctor?c+", "+t._0:c)},e)}}return e}function d(t){return{responseType:"text",responseToResult:t}}function p(t,e){return{responseType:e.responseType,responseToResult:function(n){return s(It,t,e.responseToResult(n))}}}function h(t){for(var e=new FormData;"[]"!==t.ctor;){var n=t._0;e.append(n._0,n._1),t=t._1}return{ctor:"FormDataBody",_0:e}}return{toTask:e(r),expectStringResponse:d,mapExpect:e(p),multipart:h,encodeUri:t,decodeUri:n}}()),Cs=(e(function(t,e){return v.update(e,{expect:s(As.mapExpect,t,e.expect)})}),u(function(t,e,n,r,o,i,u){return{method:t,headers:e,url:n,body:r,expect:o,timeout:i,withCredentials:u}}),function(t){return{ctor:"Request",_0:t}}),Os=(e(function(t,e){return{ctor:"StringBody",_0:t,_1:e}}),{ctor:"EmptyBody"}),js=(e(function(t,e){return{ctor:"Header",_0:t,_1:e}}),As.decodeUri),Bs=As.encodeUri,Rs=As.expectStringResponse,Is=function(t){return Rs(function(e){return s(er,t,e.body)})},qs=(Rs(function(t){return Rt(t.body)}),As.multipart,Os),Ms=Cs,Ns=(n(function(t,e,n){return Ms({method:"POST",headers:{ctor:"[]"},url:t,body:e,expect:Is(n),timeout:U,withCredentials:!1})}),e(function(t,e){return Ms({method:"GET",headers:{ctor:"[]"},url:t,body:qs,expect:Is(e),timeout:U,withCredentials:!1})}),function(t){var e=t;return s(As.toTask,e._0,U)}),Ds=(e(function(t,e){return s(Jr,t,Ns(e))}),r(function(t,e,n,r){return{url:t,status:e,headers:n,body:r}}),e(function(t,e){return{ctor:"BadPayload",_0:t,_1:e}}),e(function(t,e){return{ctor:"StringPart",_0:t,_1:e}}),n(function(t,e,n){var r=e,o=s(tn,r.category,n);if("Nothing"===o.ctor)return Mr(n);var i=function(e){return s(Se,t,e(r.keyCode))};return s(Rr,function(t){return Mr(n)},Lr(s(lt,i,o._0.taggers)))})),Ls=Ls||{};Ls["&>"]=e(function(t,e){return s(Rr,function(t){return e},t)});var Ps=Mr(hn),Fs=e(function(t,e){var n=e;return z("Nothing"===n.ctor?{ctor:"::",_0:t,_1:{ctor:"[]"}}:{ctor:"::",_0:t,_1:n._0})}),Us=e(function(t,e){for(;;){var n=t;if("[]"===n.ctor)return e;var r=n._1,o=f(Bn,n._0._0,Fs(n._0._1),e);t=r,e=o}}),Ws=function(t){return s(Us,t,hn)},zs=s(cr,"keyCode",lr),$s=_e.leaf("Keyboard"),Js=e(function(t,e){return{taggers:t,pid:e}}),Hs=e(function(t,e){return{category:t,keyCode:e}}),Vs=n(function(t,e,o){var i=n(function(e,n,r){return s(Rr,function(r){return s(Rr,function(t){return Mr(f(Rn,e,s(Js,n,t),r))},ks(f(Ss,e,zs,function(n){return s(Te,t,s(Hs,e,n))})))},r)}),u=r(function(t,e,n,r){return s(Nr,s(Rn,t,s(Js,n,e.pid)),r)});return p(Ke,n(function(t,e,n){var r=e;return s(Ls["&>"],ws(r.pid),n)}),u,i,o,Ws(e),Mr(hn))}),Gs=e(function(t,e){return{ctor:"MySub",_0:t,_1:e}}),Ks=function(t){return $s(s(Gs,"keyup",t))},Ys=e(function(t,e){var n=e;return s(Gs,n._0,function(e){return t(n._1(e))})});_e.effectManagers.Keyboard={pkg:"elm-lang/keyboard",init:Ps,onEffects:Vs,onSelfMsg:Ds,tag:"sub",subMap:Ys};var Xs=function(){function t(t){var e,n=!1;return function(r){return n||(e=t(r),n=!0),e}}return{memoize:t}}(),Qs=function(t){return t._0({ctor:"_Tuple0"})},Zs=function(t){return{ctor:"Lazy",_0:t}},tf=function(t){return Zs(Xs.memoize(t))},ef=(e(function(t,e){return tf(function(n){return t(Qs(e))})}),n(function(t,e,n){return tf(function(r){return s(t,Qs(e),Qs(n))})}),r(function(t,e,n,r){return tf(function(o){return f(t,Qs(e),Qs(n),Qs(r))})}),o(function(t,e,n,r,o){return tf(function(i){return l(t,Qs(e),Qs(n),Qs(r),Qs(o))})}),i(function(t,e,n,r,o,i){return tf(function(u){return d(t,Qs(e),Qs(n),Qs(r),Qs(o),Qs(i))})}),e(function(t,e){return tf(function(n){return s(Qs,t,Qs(e))})}),e(function(t,e){return tf(function(n){return Qs(t(Qs(e)))})}),function(){function t(t){return ve.nativeBinding(function(e){0!==t&&history.go(t),e(ve.succeed(v.Tuple0))})}function e(t){return ve.nativeBinding(function(e){history.pushState({},"",t),e(ve.succeed(i()))})}function n(t){return ve.nativeBinding(function(e){history.replaceState({},"",t),e(ve.succeed(i()))})}function r(t){return ve.nativeBinding(function(e){document.location.reload(t),e(ve.succeed(v.Tuple0))})}function o(t){return ve.nativeBinding(function(e){try{window.location=t}catch(t){document.location.reload(!1)}e(ve.succeed(v.Tuple0))})}function i(){var t=document.location;return{href:t.href,host:t.host,hostname:t.hostname,protocol:t.protocol,origin:t.origin,port_:t.port,pathname:t.pathname,search:t.search,hash:t.hash,username:t.username,password:t.password}}function u(){return window.navigator.userAgent.indexOf("Trident")!==-1}return{go:t,setLocation:o,reloadPage:r,pushState:e,replaceState:n,getLocation:i,isInternetExplorer11:u}}()),nf=ef.replaceState,rf=ef.pushState,of=ef.go,uf=ef.reloadPage,cf=ef.setLocation,af=af||{};af["&>"]=e(function(t,e){return s(Rr,function(t){return e},t)});var sf=n(function(t,e,n){var r=function(e){return s(Se,t,e._0(n))};return s(af["&>"],Lr(s(lt,r,e)),Mr({ctor:"_Tuple0"}))}),ff=n(function(t,e,n){var r=n;switch(r.ctor){case"Jump":return of(r._0);case"New":return s(Rr,s(sf,t,e),rf(r._0));case"Modify":return s(Rr,s(sf,t,e),nf(r._0));case"Visit":return cf(r._0);default:return uf(r._0)}}),lf=function(t){var e=t;return"Normal"===e.ctor?ws(e._0):s(af["&>"],ws(e._0),ws(e._1))},df=n(function(t,e,n){return s(af["&>"],f(sf,t,n.subs,e),Mr(n))}),pf=_e.leaf("Navigation"),hf=_e.leaf("Navigation"),_f=e(function(t,e){return{subs:t,popWatcher:e}}),vf=Mr(s(_f,{ctor:"[]"},U)),gf=function(t){return{ctor:"Reload",_0:t}},yf=(hf(gf(!1)),hf(gf(!0)),function(t){return{ctor:"Visit",_0:t}}),mf=function(t){return{ctor:"Modify",_0:t}},bf=function(t){return hf(mf(t))},wf=function(t){return{ctor:"New",_0:t}},kf=function(t){return hf(wf(t))},xf=function(t){return{ctor:"Jump",_0:t}},Tf=function(t){return hf(xf(0-t))},Sf=function(t){return hf(xf(t))},Ef=e(function(t,e){var n=e;switch(n.ctor){case"Jump":return xf(n._0);case"New":return wf(n._0);case"Modify":return mf(n._0);case"Visit":return yf(n._0);default:return gf(n._0)}}),Af=function(t){return{ctor:"Monitor",_0:t}},Cf=(e(function(t,e){var n=e.init(ef.getLocation({ctor:"_Tuple0"})),r=function(n){return we({ctor:"::",_0:pf(Af(t)),_1:{ctor:"::",_0:e.subscriptions(n),_1:{ctor:"[]"}}})};return wc({init:n,view:e.view,update:e.update,subscriptions:r})}),e(function(t,e){var n=function(t){return s(e.init,t,ef.getLocation({ctor:"_Tuple0"}))},r=function(n){return we({ctor:"::",_0:pf(Af(t)),_1:{ctor:"::",_0:e.subscriptions(n),_1:{ctor:"[]"}}})};return bc({init:n,view:e.view,update:e.update,subscriptions:r})})),Of=e(function(t,e){var n=e;return Af(function(e){return t(n._0(e))})}),jf=e(function(t,e){return{ctor:"InternetExplorer",_0:t,_1:e}}),Bf=function(t){return{ctor:"Normal",_0:t}},Rf=function(t){var e=function(e){return s(Te,t,ef.getLocation({ctor:"_Tuple0"}))};return ef.isInternetExplorer11({ctor:"_Tuple0"})?f(Dr,jf,ks(f(Ts,"popstate",Yn,e)),ks(f(Ts,"hashchange",Yn,e))):s(Nr,Bf,ks(f(Ts,"popstate",Yn,e)))
},If=r(function(t,e,n,r){var o=r,i=o.popWatcher,u=function(){var e={ctor:"_Tuple2",_0:n,_1:i};t:do{if("[]"===e._0.ctor){if("Just"===e._1.ctor)return s(af["&>"],lf(e._1._0),Mr(s(_f,n,U)));break t}if("Nothing"===e._1.ctor)return s(Nr,function(t){return s(_f,n,z(t))},Rf(t));break t}while(!1);return Mr(s(_f,n,i))}();return s(af["&>"],Lr(s(lt,s(ff,t,n),e)),u)});_e.effectManagers.Navigation={pkg:"elm-lang/navigation",init:vf,onEffects:If,onSelfMsg:df,tag:"fx",cmdMap:Ef,subMap:Of};var qf=e(function(t,e){var n=65535&e,r=65535&e>>>16,o=65535&t;return 0|o*n+((65535&t>>>16)*n+o*r<<16>>>0)}),Mf=r(function(t,e,n,r){for(;;){if(v.cmp(e,1)<0)return{ctor:"_Tuple2",_0:t,_1:r};var o=n(r),i=o._0,u=o._1,c={ctor:"::",_0:i,_1:t},a=e-1,s=n,f=u;t=c,e=a,n=s,r=f}}),Nf=function(t){var e=t,n=e._0,r=277803737*(n^n>>>4+(n>>>28));return(r>>>22^r)>>>0},Df=e(function(t,e){return t._0(e)}),Lf=n(function(t,e,n){for(;;){var r=s(Df,t,n),o=r._0,i=r._1;if(e(o))return{ctor:"_Tuple2",_0:o,_1:i};var u=t,c=e,a=i;t=u,e=c,n=a}}),Pf=function(t){return{ctor:"Generator",_0:t}},Ff=e(function(t,e){var n=e;return Pf(function(e){return l(Mf,{ctor:"[]"},t,n._0,e)})}),Uf=function(t){return Pf(function(e){return{ctor:"_Tuple2",_0:t,_1:e}})},Wf=e(function(t,e){var n=e;return Pf(function(e){var r=n._0(e),o=r._0,i=r._1;return{ctor:"_Tuple2",_0:t(o),_1:i}})}),zf=n(function(t,e,n){var r=e,o=n;return Pf(function(e){var n=r._0(e),i=n._0,u=n._1,c=o._0(u),a=c._0,f=c._1;return{ctor:"_Tuple2",_0:s(t,i,a),_1:f}})}),$f=(e(function(t,n){return f(zf,e(function(t,e){return{ctor:"_Tuple2",_0:t,_1:e}}),t,n)}),zf(e(function(t,e){return e(t)})),r(function(t,e,n,r){var o=e,i=n,u=r;return Pf(function(e){var n=o._0(e),r=n._0,c=n._1,a=i._0(c),s=a._0,l=a._1,d=u._0(l),p=d._0,h=d._1;return{ctor:"_Tuple2",_0:f(t,r,s,p),_1:h}})})),Jf=(o(function(t,e,n,r,o){var i=e,u=n,c=r,a=o;return Pf(function(e){var n=i._0(e),r=n._0,o=n._1,s=u._0(o),f=s._0,d=s._1,p=c._0(d),h=p._0,_=p._1,v=a._0(_),g=v._0,y=v._1;return{ctor:"_Tuple2",_0:l(t,r,f,h,g),_1:y}})}),i(function(t,e,n,r,o,i){var u=e,c=n,a=r,s=o,f=i;return Pf(function(e){var n=u._0(e),r=n._0,o=n._1,i=c._0(o),l=i._0,p=i._1,h=a._0(p),_=h._0,v=h._1,g=s._0(v),y=g._0,m=g._1,b=f._0(m),w=b._0,k=b._1;return{ctor:"_Tuple2",_0:d(t,r,l,_,y,w),_1:k}})}),e(function(t,e){var n=e;return Pf(function(e){var r=n._0(e),o=r._0,i=r._1;return(0,t(o)._0)(i)})})),Hf=(e(function(t,e){return s(Jf,function(t){return t?s(Wf,z,e):Uf(U)},t)}),e(function(t,e){return Pf(s(Lf,e,t))}),e(function(t,e){return{ctor:"Seed",_0:t,_1:e}})),Vf=function(t){var e=t,n=e._1;return s(Hf,1664525*e._0+n>>>0,n)},Gf=function(t){var e=Vf(s(Hf,0,1013904223));return Vf(s(Hf,e._0+t>>>0,e._1))},Kf=(e(function(t,e){return s($r,t,s(Nr,function(t){return he(s(Df,e,Gf(j(t))))},Xr))}),e(function(t,e){return Pf(function(n){var r=v.cmp(t,e)<0?{ctor:"_Tuple2",_0:t,_1:e}:{ctor:"_Tuple2",_0:e,_1:t},o=r._0,i=r._1,u=i-o+1;if(v.eq(u-1&u,0))return{ctor:"_Tuple2",_0:((u-1&Nf(n))>>>0)+o,_1:Vf(n)};var c=s(N,0-u>>>0,u)>>>0;return function(t){for(;;){var e=Vf(t),n=Nf(t);if(!(v.cmp(n,c)<0))return{ctor:"_Tuple2",_0:s(N,n,u)+o,_1:e};t=e}}(n)})})),Yf=s(Wf,e(function(t,e){return v.eq(t,e)})(1),s(Kf,0,1)),Xf=(e(function(t,e){return s(Wf,function(n){return n?t:e},Yf)}),function(){e(function(t,e){for(;;){var n=e;if("[]"===n.ctor)return U;if(v.eq(t,0))return z(n._0);var r=t-1,o=n._1;t=r,e=o}})}(),e(function(t,e){return Pf(function(n){var r=q(e-t),o=Nf(n),i=1*E(67108863&o),u=Vf(n);return{ctor:"_Tuple2",_0:(134217728*i+1*E(134217727&Nf(u)))/9007199254740992*r+t,_1:Vf(u)}})})),Qf=Pf(function(t){var e=s(Kf,0,4294967295),r=s(Df,l($f,n(function(t,e,n){return{ctor:"_Tuple3",_0:t,_1:e,_2:n}}),e,e,e),t),o=r._0._0,i=r._0._1,u=r._0._2;return{ctor:"_Tuple2",_0:r._1,_1:Vf(s(Hf,o,1|i^u))}}),Zf=(e(function(t,e){var n=e,r=n._1,o=i(function(e,n,r,o,i,u){t:for(;;){var c=i>>>1,a=s(qf,r,r),f=s(qf,r+1,o),l=v.eq(1&i,1)?{ctor:"_Tuple2",_0:s(qf,e,r),_1:s(qf,n,r)+o>>>0}:{ctor:"_Tuple2",_0:e,_1:n},d=l._0,p=l._1;if(v.eq(c,0)){if(v.cmp(t,0)<0&&u){var h=d,_=p,g=a,y=f;e=h,n=_,r=g,o=y,i=-1,u=!1;continue t}return{ctor:"_Tuple2",_0:d,_1:p}}var m=d,b=p,w=a,k=f,x=c,T=u;e=m,n=b,r=w,o=k,i=x,u=T}}),u=p(o,1,0,1664525,r,t,!0),c=u._0,a=u._1;return s(Hf,s(qf,c,n._0)+a>>>0,r)}),or({ctor:"::",_0:f(nr,Hf,s(ur,0,lr),s(ur,1,lr)),_1:{ctor:"::",_0:s(rr,Gf,lr),_1:{ctor:"[]"}}}),e(function(t,e){return{x:t,y:e}}),e(function(t,n){return s(dt,e(function(t,e){return!v.eq(t,e)})(t),n)})),tl=e(function(t,n){return s(e(function(t,e){return{ctor:"::",_0:t,_1:e}}),t,s(Zf,t,n))}),el=function(t){return{ctor:"Up",_0:t}},nl=function(t){return{ctor:"Down",_0:t}},rl=we({ctor:"::",_0:function(t){return $s(s(Gs,"keydown",t))}(nl),_1:{ctor:"::",_0:Ks(el),_1:{ctor:"[]"}}}),ol=function(t){return{ctor:"State",_0:t}},il=ol({ctor:"[]"}),ul=e(function(t,e){var n=e,r=n._0,o=t;return ol("Down"===o.ctor?s(tl,o._0,r):s(Zf,o._0,r))}),cl=function(t){return{ctor:"KeyUp",_0:t}},al=function(t){return{ctor:"KeyDown",_0:t}},sl={ctor:"Other"},fl={ctor:"Altgr"},ll={ctor:"Meta"},dl={ctor:"Quote"},pl={ctor:"CloseBracket"},hl={ctor:"BackSlash"},_l={ctor:"OpenBracket"},vl={ctor:"BackQuote"},gl={ctor:"Slash"},yl={ctor:"Period"},ml={ctor:"Minus"},bl={ctor:"Comma"},wl={ctor:"VolumeUp"},kl={ctor:"VolumeDown"},xl={ctor:"VolumeMute"},Tl={ctor:"Tilde"},Sl={ctor:"CloseCurlyBracket"},El={ctor:"OpenCurlyBracket"},Al={ctor:"HyphenMinus"},Cl={ctor:"Pipe"},Ol={ctor:"Plus"},jl={ctor:"Asterisk"},Bl={ctor:"CloseParen"},Rl={ctor:"OpenParen"},Il={ctor:"Underscore"},ql={ctor:"Ampersand"},Ml={ctor:"Percent"},Nl={ctor:"Dollar"},Dl={ctor:"Hash"},Ll={ctor:"DoubleQuote"},Pl={ctor:"Exclamation"},Fl={ctor:"Circumflex"},Ul={ctor:"ScrollLock"},Wl={ctor:"NumLock"},zl={ctor:"F24"},$l={ctor:"F23"},Jl={ctor:"F22"},Hl={ctor:"F21"},Vl={ctor:"F20"},Gl={ctor:"F19"},Kl={ctor:"F18"},Yl={ctor:"F17"},Xl={ctor:"F16"},Ql={ctor:"F15"},Zl={ctor:"F14"},td={ctor:"F13"},ed={ctor:"F12"},nd={ctor:"F11"},rd={ctor:"F10"},od={ctor:"F9"},id={ctor:"F8"},ud={ctor:"F7"},cd={ctor:"F6"},ad={ctor:"F5"},sd={ctor:"F4"},fd={ctor:"F3"},ld={ctor:"F2"},dd={ctor:"F1"},pd={ctor:"Divide"},hd={ctor:"Decimal"},_d={ctor:"Subtract"},vd={ctor:"Separator"},gd={ctor:"Add"},yd={ctor:"Multiply"},md={ctor:"Numpad9"},bd={ctor:"Numpad8"},wd={ctor:"Numpad7"},kd={ctor:"Numpad6"},xd={ctor:"Numpad5"},Td={ctor:"Numpad4"},Sd={ctor:"Numpad3"},Ed={ctor:"Numpad2"},Ad={ctor:"Numpad1"},Cd={ctor:"Numpad0"},Od={ctor:"Sleep"},jd={ctor:"ContextMenu"},Bd={ctor:"Super"},Rd={ctor:"CharZ"},Id={ctor:"CharY"},qd={ctor:"CharX"},Md={ctor:"CharW"},Nd={ctor:"CharV"},Dd={ctor:"CharU"},Ld={ctor:"CharT"},Pd={ctor:"CharS"},Fd={ctor:"CharR"},Ud={ctor:"CharQ"},Wd={ctor:"CharP"},zd={ctor:"CharO"},$d={ctor:"CharN"},Jd={ctor:"CharM"},Hd={ctor:"CharL"},Vd={ctor:"CharK"},Gd={ctor:"CharJ"},Kd={ctor:"CharI"},Yd={ctor:"CharH"},Xd={ctor:"CharG"},Qd={ctor:"CharF"},Zd={ctor:"CharE"},tp={ctor:"CharD"},ep={ctor:"CharC"},np={ctor:"CharB"},rp={ctor:"CharA"},op={ctor:"At"},ip={ctor:"QuestionMark"},up={ctor:"GreaterThan"},cp={ctor:"Equals"},ap={ctor:"LessThan"},sp={ctor:"Semicolon"},fp={ctor:"Colon"},lp={ctor:"Number9"},dp={ctor:"Number8"},pp={ctor:"Number7"},hp={ctor:"Number6"},_p={ctor:"Number5"},vp={ctor:"Number4"},gp={ctor:"Number3"},yp={ctor:"Number2"},mp={ctor:"Number1"},bp={ctor:"Number0"},wp={ctor:"Delete"},kp={ctor:"Insert"},xp={ctor:"PrintScreen"},Tp={ctor:"Execute"},Sp={ctor:"Print"},Ep={ctor:"Select"},Ap={ctor:"ArrowDown"},Cp={ctor:"ArrowRight"},Op={ctor:"ArrowUp"},jp={ctor:"ArrowLeft"},Bp={ctor:"Home"},Rp={ctor:"End"},Ip={ctor:"PageDown"},qp={ctor:"PageUp"},Mp={ctor:"Space"},Np={ctor:"ModeChange"},Dp={ctor:"Accept"},Lp={ctor:"NonConvert"},Pp={ctor:"Convert"},Fp={ctor:"Escape"},Up={ctor:"CapsLock"},Wp={ctor:"Pause"},zp={ctor:"Alt"},$p={ctor:"Control"},Jp={ctor:"Shift"},Hp={ctor:"Enter"},Vp={ctor:"Clear"},Gp={ctor:"Tab"},Kp={ctor:"BackSpace"},Yp={ctor:"Help"},Xp={ctor:"Cancel"},Qp={ctor:"::",_0:{ctor:"_Tuple2",_0:3,_1:Xp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:6,_1:Yp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:8,_1:Kp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:9,_1:Gp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:12,_1:Vp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:13,_1:Hp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:16,_1:Jp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:17,_1:$p},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:18,_1:zp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:19,_1:Wp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:20,_1:Up},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:27,_1:Fp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:28,_1:Pp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:29,_1:Lp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:30,_1:Dp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:31,_1:Np},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:32,_1:Mp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:33,_1:qp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:34,_1:Ip},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:35,_1:Rp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:36,_1:Bp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:37,_1:jp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:38,_1:Op},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:39,_1:Cp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:40,_1:Ap},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:41,_1:Ep},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:42,_1:Sp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:43,_1:Tp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:44,_1:xp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:45,_1:kp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:46,_1:wp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:48,_1:bp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:49,_1:mp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:50,_1:yp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:51,_1:gp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:52,_1:vp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:53,_1:_p},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:54,_1:hp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:55,_1:pp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:56,_1:dp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:57,_1:lp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:58,_1:fp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:59,_1:sp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:60,_1:ap},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:61,_1:cp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:62,_1:up},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:63,_1:ip},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:64,_1:op},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:65,_1:rp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:66,_1:np},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:67,_1:ep},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:68,_1:tp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:69,_1:Zd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:70,_1:Qd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:71,_1:Xd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:72,_1:Yd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:73,_1:Kd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:74,_1:Gd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:75,_1:Vd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:76,_1:Hd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:77,_1:Jd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:78,_1:$d},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:79,_1:zd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:80,_1:Wd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:81,_1:Ud},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:82,_1:Fd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:83,_1:Pd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:84,_1:Ld},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:85,_1:Dd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:86,_1:Nd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:87,_1:Md},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:88,_1:qd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:89,_1:Id},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:90,_1:Rd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:91,_1:Bd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:93,_1:jd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:95,_1:Od},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:96,_1:Cd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:97,_1:Ad},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:98,_1:Ed},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:99,_1:Sd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:100,_1:Td},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:101,_1:xd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:102,_1:kd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:103,_1:wd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:104,_1:bd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:105,_1:md},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:106,_1:yd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:107,_1:gd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:108,_1:vd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:109,_1:_d},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:110,_1:hd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:111,_1:pd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:112,_1:dd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:113,_1:ld},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:114,_1:fd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:115,_1:sd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:116,_1:ad},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:117,_1:cd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:118,_1:ud},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:119,_1:id},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:120,_1:od},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:121,_1:rd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:122,_1:nd},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:123,_1:ed},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:124,_1:td},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:125,_1:Zl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:126,_1:Ql},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:127,_1:Xl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:128,_1:Yl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:129,_1:Kl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:130,_1:Gl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:131,_1:Vl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:132,_1:Hl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:133,_1:Jl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:134,_1:$l},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:135,_1:zl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:144,_1:Wl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:145,_1:Ul},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:160,_1:Fl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:161,_1:Pl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:162,_1:Ll},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:163,_1:Dl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:164,_1:Nl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:165,_1:Ml},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:166,_1:ql},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:167,_1:Il},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:168,_1:Rl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:169,_1:Bl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:170,_1:jl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:171,_1:Ol},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:172,_1:Cl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:173,_1:Al},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:174,_1:El},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:175,_1:Sl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:176,_1:Tl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:181,_1:xl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:182,_1:kl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:183,_1:wl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:186,_1:sp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:187,_1:cp},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:188,_1:bl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:189,_1:ml},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:190,_1:yl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:191,_1:gl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:192,_1:vl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:219,_1:_l},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:220,_1:hl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:221,_1:pl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:222,_1:dl},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:224,_1:ll},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:225,_1:fl},_1:{ctor:"[]"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},Zp=function(t){return s(F,0,st(s(lt,he,s(dt,function(n){return s(e(function(t,e){return v.eq(t,e)}),t,pe(n))},Qp))))},th=(e(function(t,n){var r=n;return ol(f(rt,e(function(t,e){return s(Zf,t,e)}),r._0,s(lt,Zp,t)))}),e(function(t,e){var n=e;return s(ut,Zp(t),n._0)})),eh=Ln(Qp),nh=function(t){return s(F,sl,s(tn,t,eh))},rh=function(t){return Ks(function(e){return t(nh(e))})},oh=(e(function(t,e){var n=e,r=n._0,o=t;if("Down"===o.ctor){var i=o._0,u=s(tl,i,r),c=v.eq(ot(u),ot(r))?U:z(al(nh(i)));return{ctor:"_Tuple2",_0:ol(u),_1:c}}var a=o._0,u=s(Zf,a,r),c=v.eq(ot(u),ot(r))?U:z(cl(nh(a)));return{ctor:"_Tuple2",_0:ol(u),_1:c}}),s(rr,nh,s(cr,"keyCode",lr))),ih=(e(function(t,e){var n=s(gt,e.path,t);return v.update(e,{path:n})}),e(function(t,e){var n=s(Pn,t,e.query);return v.update(e,{query:n})}),n(function(t,e,n){var r=s(In,t,e);return v.update(n,{query:r})}),n(function(t,e,n){var r=fe(e)?s(Pn,t,n.query):f(Rn,t,e,n.query);return v.update(n,{query:r})}),function(t){var e=Ve(t.query),n=s(lt,function(t){var e=t;return{ctor:"_Tuple2",_0:Bs(e._0),_1:Bs(e._1)}},e),r=s(lt,function(t){var e=t;return s(x["++"],e._0,s(x["++"],"=",e._1))},n);return _n(t.query)?"":s(x["++"],"?",s(ne,"&",r))}),uh=function(t){var e=s(re,"=",t);return{ctor:"_Tuple2",_0:s(F,"",js(s(F,"",st(e)))),_1:s(F,"",js(s(F,"",st(s(K,1,e)))))}},ch=function(t){var e=s(re,"&",t);return fe(t)?{ctor:"[]"}:s(lt,uh,e)},ah=function(t){return Ln(ch(t))},sh=function(t){return s(F,"",st(s(re,"#",s(F,"",st(s(K,1,s(re,"?",t)))))))},fh=function(t){return ah(sh(t))},lh=function(t){return s(F,"",st(s(K,1,s(re,"#",t))))},dh=function(t){return lh(t)},ph=function(t){return s(re,".",t)},hh=function(t){var e=s(re,"://",t);return 1===ot(e)?"":s(F,"",st(e))},_h=function(t){var e=ki(":\\d+"),n=f(bi,Ti(1),e,t);return function(e){var n=e;if("Ok"===n.ctor)return n._0;switch(hh(t)){case"http":return 80;case"https":return 443;case"ftp":return 21;case"sftp":return 22;default:return 0}}(Wt(s(Qt,1,s(F,"",st(s(lt,function(t){return t.match},n))))))},vh=(e(function(t,e){var n=s(re,t,e),r=st(n);switch(ot(n)){case 0:case 1:return"";default:return s(F,"",r)}}),e(function(t,e){return s(F,"",st(s(re,t,e)))})),gh=e(function(t,e){return s(F,"",st(_t(s(re,t,e))))}),yh=function(t){var e=s(x["++"],"(",s(x["++"],"((\\w|-)+\\.)+(\\w|-)+",s(x["++"],"|",s(x["++"],"localhost",")"))));return s(F,"",st(s(lt,function(t){return t.match},f(bi,Ti(1),ki(e),s(vh,"/",s(gh,"//",t))))))},mh=function(t){return ph(yh(t))},bh=function(t){var e=yh(t);return l(mi,Ti(1),ki(":\\d+"),function(t){return""},l(mi,Ti(1),ki(e),function(t){return""},s(vh,"#",s(vh,"?",s(gh,"//",t)))))},wh=function(t){return s(wi,ki("^/"),bh(t))},kh=function(t){return s(wi,ki("/$"),bh(t))},xh=(e(function(t,e){var n=s(re,t,e);switch(ot(n)){case 0:case 1:return"";default:return s(F,"",st(_t(n)))}}),function(t){return!fe(t)}),Th=function(t){return s(lt,F(""),s(lt,js,s(dt,xh,s(re,"/",t))))},Sh=function(t){return Th(bh(t))},Eh=function(t){return{host:mh(t),hash:dh(t),password:"",path:Sh(t),hasLeadingSlash:wh(t),hasTrailingSlash:kh(t),port_:_h(t),protocol:hh(t),query:fh(t),username:""}},Ah=function(t){return s(x["++"],"/",s(x["++"],s(ne,"/",t.path),t.hasTrailingSlash&&!ct(t.path)?"/":""))},Ch=e(function(t,e){return v.eq(t.path,e.path)&&v.eq(t.hasTrailingSlash,e.hasTrailingSlash)&&v.eq(t.hash,e.hash)&&v.eq(Ve(t.query),Ve(e.query))}),Oh=e(function(t,e){return s(Ch,Eh(e.url),t)?U:z(e)}),jh=e(function(t,e){return v.update(e,{url:t(e.url)})}),Bh=e(function(t,e){return s(jh,s(Jt,"?",e.url)?function(e){return s(x["++"],Ah(t),e)}:s(Jt,"#",e.url)?function(e){return s(x["++"],Ah(t),s(x["++"],ih(t),e))}:function(t){return t},e)}),Rh=function(t){return function(){return"NewEntry"===t.entry.ctor?kf:bf}()(t.url)},Ih=function(t){return s(Cf,t.locationToMessage,{init:t.init,update:t.update,view:t.view,subscriptions:t.subscriptions})},qh=(n(function(t,e,n){var r=n;return"RouterMsg"===r.ctor?t(r._0):e(r._0)}),function(t){return{delta2url:t.delta2url,location2messages:t.location2messages,update:t.update,subscriptions:t.subscriptions,view:t.view}}),Mh=(i(function(t,e,n,r,o,i){return{delta2url:t,location2messages:e,init:n,update:r,subscriptions:o,view:i}}),i(function(t,e,n,r,o,i){return{delta2url:t,location2messages:e,init:n,update:r,subscriptions:o,view:i}}),o(function(t,e,n,r,o){return{delta2url:t,location2messages:e,update:n,subscriptions:r,view:o}}),e(function(t,e){return{entry:t,url:e}}),e(function(t,e){return{reportedUrl:t,expectedUrlChanges:e}}),o(function(t,e,n,r,o){return{locationToMessage:t,init:e,update:n,view:r,subscriptions:o}}),o(function(t,e,n,r,o){return{locationToMessage:t,init:e,update:n,view:r,subscriptions:o}}),{ctor:"NewEntry"}),Nh=e(function(t,e){return{ctor:"WrappedModel",_0:t,_1:e}}),Dh=(e(function(t,e){var n=e;return s(Nh,t(n._0),n._1)}),function(t){return{ctor:"UserMsg",_0:t}}),Lh=e(function(t,e){var n=e;return s(kc,Dh,t.view(n._0))}),Ph=e(function(t,e){var n=e;return s(xe,Dh,t.subscriptions(n._0))}),Fh=r(function(t,e,n,r){var o={expectedUrlChanges:0,reportedUrl:Eh(r.href)},i=f(Wu,e.update,e.location2messages(r),t(n)),u=i._0,c=i._1;return{ctor:"_Tuple2",_0:s(Nh,u,o),_1:s(be,Dh,c)}}),Uh=(n(function(t,e,n){var r={expectedUrlChanges:0,reportedUrl:Eh(n.href)},o=f(Wu,e.update,e.location2messages(n),t),i=o._0,u=o._1;return{ctor:"_Tuple2",_0:s(Nh,i,r),_1:s(be,Dh,u)}}),n(function(t,e,n){var r=n,o=r._0,i=r._1,u=e;if("RouterMsg"===u.ctor){var c=u._0,a={reportedUrl:Eh(c.href),expectedUrlChanges:v.cmp(i.expectedUrlChanges,0)>0?i.expectedUrlChanges-1:0};if(v.cmp(i.expectedUrlChanges,0)>0)return{ctor:"_Tuple2",_0:s(Nh,o,a),_1:ye};var l=f(Wu,t.update,t.location2messages(c),{ctor:"_Tuple2",_0:o,_1:ye}),d=l._0,p=l._1;return{ctor:"_Tuple2",_0:s(Nh,d,a),_1:s(be,Dh,p)}}var h=s(t.update,u._0,o),d=h._0,_=h._1,g=s(W,Oh(i.reportedUrl),s($,Bh(i.reportedUrl),s(t.delta2url,o,d))),y=g;if("Just"===y.ctor){var m=y._0;return{ctor:"_Tuple2",_0:s(Nh,d,{reportedUrl:Eh(m.url),expectedUrlChanges:i.expectedUrlChanges+1}),_1:s(be,Dh,ge({ctor:"::",_0:Rh(m),_1:{ctor:"::",_0:_,_1:{ctor:"[]"}}}))}}return{ctor:"_Tuple2",_0:s(Nh,d,i),_1:s(be,Dh,_)}})),Wh=function(t){return{ctor:"RouterMsg",_0:t}},zh=function(t){var e=qh(t);return{locationToMessage:Wh,init:s(Fh,t.init,e),update:Uh(e),view:Lh(e),subscriptions:Ph(e)}},$h=e(function(t,e){var r=e,o=r._0,i=t?"$":"#",u=v.eq(o.hash,"")?"":s(x["++"],i,Bs(o.hash)),c=n(function(t,e,n){return{ctor:"::",_0:s(x["++"],Bs(t),s(x["++"],"=",Bs(e))),_1:n}}),a=s(ne,"/",s(lt,Bs,o.path)),l=t?"^":"?",d=_n(o.query)?"":s(x["++"],l,s(ne,"&",f(Ge,c,{ctor:"[]"},o.query))),p=t?"#!/":"/";return{entry:o.entry,url:s(x["++"],p,s(x["++"],a,s(x["++"],d,u)))}}),Jh=($h(!1),$h(!0)),Hh=(e(function(t,e){return s(tn,t,e._0.query)}),function(t){return t._0.path}),Vh=function(t){return{ctor:"Builder",_0:t}},Gh=Vh({entry:Mh,path:{ctor:"[]"},query:hn,hash:""}),Kh=(e(function(t,e){var n=e,r=n._0;return Vh(v.update(r,{path:t(r.path)}))}),e(function(t,e){var n=e;return Vh(v.update(n._0,{path:t}))})),Yh=e(function(t,e){var n=e,r=n._0;return Vh(v.update(r,{query:t(r.query)}))}),Xh=(e(function(t,e){return Yh(s(Rn,t,e))}),e(function(t,e){return Yh(s(Bn,t,e))}),e(function(t,e){var n=e;return Vh(v.update(n._0,{query:t}))}),e(function(t,e){var n=e,r=n._0;return Vh(v.update(r,{hash:t(r.hash)}))}),e(function(t,e){var n=e;return Vh(v.update(n._0,{hash:t}))}),function(t){var e=Eh(l(mi,Ti(1),ki("\\^"),w("?"),l(mi,Ti(1),ki("$"),w("#"),l(mi,Ti(1),ki("^!"),w(""),function(t){return t.hash}(Eh(t))))));return Vh({entry:Mh,path:e.path,query:e.query,hash:e.hash})}),Qh=(e(function(t,e){return!v.eq(t,e)}),e(function(t,e){return v.eq(t,e)})),Zh=(e(function(t,e){return t&&e}),e(function(t,e){return t||e}),e(function(t,e){return v.cmp(t,e)<0}),e(function(t,e){return v.cmp(t,e)>0}),e(function(t,n){return f(nt,e(function(e,n){return t(e)?n:{ctor:"::",_0:e,_1:n}}),{ctor:"[]"},n)})),t_=r(function(t,e,n,r){return t(r)?e(r):n(r)}),e_=(n(function(t,e,n){return l(t_,t,e,function(t){return n},n)}),n(function(t,e,n){return s(ec,e,s(Zu,t,n))})),n_=(n(function(t,e,n){return s(y,e,s(tc,t,n))}),n(function(t,e,n){return s(oc["?="],s(oc["?|>"],t(n),s(oc["#"],e,n)),n)})),r_=n(function(t,e,n){var r=t;return f(e_,{ctor:"_Tuple3",_0:r._0,_1:r._1,_2:k},e,n)}),o_=n(function(t,e,n){return s(e,t(n),n)}),i_=e(function(t,e){return e(t)}),u_=(e(function(t,e){return s(et,i_(e),t)}),e(function(t,e){return s(tt,i_(e),t)})),c_=c_||{};c_[">>>>"]=o(function(t,e,n,r,o){return e(f(t,n,r,o))});var c_=c_||{};c_["<<<<"]=b(e(function(t,e){return s(c_[">>>>"],t,e)}));var c_=c_||{};c_[">>>"]=r(function(t,e,n,r){return e(s(t,n,r))});var c_=c_||{};c_["<<<"]=b(e(function(t,e){return s(c_[">>>"],t,e)}));var c_=c_||{};c_[">>?+"]=e(function(t,e){return function(n){return s(W,e,t(n))}});var c_=c_||{};c_[">>?="]=e(function(t,e){return function(n){return s(F,e,t(n))}});var c_=c_||{};c_[">>?"]=e(function(t,e){return function(n){return s($,e,t(n))}});var c_=c_||{};c_["?>>"]=e(function(t,e){return function(n){return s($,e,t(n))}});var c_=c_||{};c_["=>"]=e(function(t,e){return{ctor:"_Tuple2",_0:t,_1:e}});var a_=function(t){return v.update(t,{deleted:!t.deleted})},s_=(e(function(t,e){return v.update(e,{deleted:t})}),function(t){return t.deleted}),f_=function(t){return l(gr,"deleted",dr,!1,l(gr,"modifiedAt",fr,0,l(gr,"createdAt",fr,0,f(yr,"_rev",pr,f(yr,"_id",pr,t)))))},l_=function(t){return{ctor:"::",_0:s(c_["=>"],"_id",Gn(t.id)),_1:{ctor:"::",_0:s(c_["=>"],"_rev",Gn(t.rev)),_1:{ctor:"::",_0:s(c_["=>"],"createdAt",Vn(j(t.createdAt))),_1:{ctor:"::",_0:s(c_["=>"],"modifiedAt",Vn(j(t.modifiedAt))),_1:{ctor:"::",_0:s(c_["=>"],"deleted",Jn(t.deleted)),_1:{ctor:"[]"}}}}}}},d_=e(function(t,e){return zn(s(x["++"],l_(e),t(e)))}),p_=function(t){return t.id},h_=function(t){return function(e){return s(Qh,t,p_(e))}},__=e(function(t,e){return v.eq(p_(t),p_(e))}),v_=(i(function(t,e,n,r,o,i){return{id:t,rev:e,dirty:n,deleted:r,createdAt:o,modifiedAt:i}}),function(t){return s(Wf,t,Qf)}),g_=function(t){return Gf(j(t))},y_=s(Wf,function(t){return Dt(t+48)},s(Kf,0,9)),m_=s(Wf,function(t){return Dt(t+65)},s(Kf,0,25)),b_=s(Wf,function(t){return Dt(t+97)},s(Kf,0,25)),w_=function(t){var n=e(function(t,e){for(;;){var n=t;if("::"!==n.ctor||"_Tuple2"!==n._0.ctor)return v.crashCase("Random.Pcg",{start:{line:677,column:13},end:{line:685,column:77}},n)("Empty list passed to Random.Pcg.frequency!");var r=n._0._0;if(v.cmp(e,r)<1)return n._0._1;var o=n._1,i=e-r;t=o,e=i}}),r=it(s(lt,function(t){return q(he(t))},t));return s(Jf,n(t),s(Xf,0,r))}({ctor:"::",_0:{ctor:"_Tuple2",_0:26,_1:b_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:26,_1:m_},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:10,_1:y_},_1:{ctor:"[]"}}}}),k_=s(Wf,Ft,s(Ff,64,w_)),x_=function(t){return s(Wf,t,k_)},T_=e(function(t,e){return v.update(e,{list:t})}),S_=e(function(t,e){return s(T_,t(e),e)}),E_=function(t){return t.list},A_=e(function(t,e){return v.update(e,{seed:t})}),C_=(e(function(t,e){return s(A_,t(e),e)}),function(t){return t.seed}),O_=function(t){return function(e){return s($a,t,E_(e))}},j_=function(t){return O_(function(n){return s(e(function(t,e){return v.eq(t,e)}),t,function(t){return t.id}(n))})},B_=function(t){return function(e){return s(Zh,t,E_(e))}},R_=function(t){return function(e){return s(lt,t,E_(e))}},I_=function(t){return S_(function(n){return s(e(function(t,e){return{ctor:"::",_0:t,_1:e}}),t,E_(n))})},q_=e(function(t,e){return s(le,s(oc["#"],A_,e),s(Df,t,C_(e)))}),M_=e(function(t,e){return function(t){var e=t,n=v.update(e._0,{dirty:!0});return{ctor:"_Tuple2",_0:n,_1:s(I_,n,e._1)}}(s(oc["#"],q_,e)(x_(t)))}),N_=e(function(t,e){var n=v.update(t,{dirty:!0});return s(oc["#"],T_,e)(f(za,__(t),n,e.list))}),D_=function(t){return function(e){return s(ht,function(t){var e=t;return"Ok"===e.ctor?z(e._0):(s(P,"Error while decoding Project",e._0),U)},s(lt,tr(t),e))}},L_=o(function(t,e,n,r,o){return{seed:o,list:s(D_,n,r),name:t,otherFieldsEncoder:e,decoder:n}}),P_=r(function(t,e,n,r){return v_(l(L_,t,e,n,r))}),F_=_e.outgoingPort("pouchDBUpsert",function(t){return[t._0,t._1,t._2]}),U_=n(function(t,e,n){return F_({ctor:"_Tuple3",_0:t,_1:n.id,_2:s(d_,e,n)})}),W_=function(t){var e=s(oc["#"],T_,t)(s(oc[".|>"],t.list,function(t){return v.update(t,{dirty:!1})})),n=s(dt,function(t){return t.dirty},t.list),r=s(oc[".|>"],n,s(U_,t.name,t.otherFieldsEncoder));return s(me["!"],e,r)},z_=(o(function(t,e,n,r,o){return{seed:t,list:e,otherFieldsEncoder:n,decoder:r,name:o}}),function(t){return Wn(s(R_,function(t){return Gn(function(t){return t.name}(t))},t))}),$_=function(t){return Ln(s(R_,tc({ctor:"_Tuple2",_0:p_,_1:k}),t))},J_=(e(function(t,e){return v.update(e,{deleted:t})}),e(function(t,e){return v.update(e,{modifiedAt:t})})),H_=e(function(t,e){return v.update(e,{name:t})}),V_=function(t){return t.name},G_=function(t){return s(c_[">>?"],j_(t),V_)},K_=function(t){return O_(function(e){return s(Qh,Gt(t),V_(e))})},Y_=function(t){return{ctor:"::",_0:s(c_["=>"],"name",Gn(V_(t))),_1:{ctor:"[]"}}},X_=i(function(t,e,n,r,o,i){return{id:t,rev:e,createdAt:n,modifiedAt:r,dirty:!1,deleted:o,name:i}}),Q_=n(function(t,e,n){return p(X_,n,"",e,e,!1,t)}),Z_=n(function(t,e,n){var r=Gt(t);return fe(r)||v.eq(Ht(r),"inbox")?n:f(us,function(t){return pe(s(M_,s(Q_,r,e),n))},function(t){return n},s(K_,r,n))}),tv=f(yr,"name",pr,f_(hr(X_))),ev=f(P_,"context-db",Y_,tv),nv=p(X_,"","",0,0,!1,"Inbox"),rv=Qh(nv),ov=e(function(t,e){return s(Xn,function(n){var r=s(tr,e,n);return"Ok"===r.ctor?Zn(r._0):Qn(s(P,t,r._0))},Yn)}),iv=(th(ll),th(zp),th($p),th(Jp),ul),uv=function(t){return s(xe,t,rl)},cv=il,av=rh,sv=(e(function(t,e){return s(Xn,function(n){return s(P,"actualKey, expectedKey",{ctor:"_Tuple2",_0:n,_1:t}),v.eq(t,n)?Zn(e):Qn("Not intrested")},oh)}),s(rr,nh,s(cr,"keyCode",lr))),fv=e(function(t,e){return{key:t,isShiftDown:e}}),lv=f(yr,"shiftKey",dr,s(_r,sv,Zn(fv))),dv=function(t){return s(Qc,"keyup",s(rr,t,lv))},pv=i(function(t,e,n,r,o,i){return{id:t,rev:e,createdAt:n,modifiedAt:r,deleted:o,dirty:!1,name:i}}),hv=n(function(t,e,n){return p(pv,n,"",e,e,!1,t)}),_v=p(pv,"","",0,0,!1,"<No Project>"),vv=Qh(_v),gv=f(yr,"name",pr,f_(hr(pv))),yv=e(function(t,e){return v.update(e,{modifiedAt:t})}),mv=(e(function(t,e){return v.update(e,{deleted:t})}),e(function(t,e){return v.update(e,{name:t})})),bv=(e(function(t,e){return s(mv,t(e),e)}),function(t){return t.name}),wv=function(t){return{ctor:"::",_0:s(c_["=>"],"name",Gn(bv(t))),_1:{ctor:"[]"}}},kv=e(function(t,e){return v.update(e,{rev:t})}),xv=(e(function(t,e){return s(kv,t(e),e)}),e(function(t,e){return v.update(e,{id:t})})),Tv=(e(function(t,e){return s(xv,t(e),e)}),function(t){return function(e){return s(Qh,t,bv(e))}}),Sv=function(t){return O_(Tv(Gt(t)))},Ev=n(function(t,e,n){return ps(t)?n:f(us,function(r){return pe(s(M_,s(hv,t,e),n))},function(t){return n},s(Sv,t,n))}),Av=f(P_,"project-db",wv,gv),Cv=function(t){return s(c_[">>?"],j_(t),bv)},Ov=function(t){return Ln(s(R_,tc({ctor:"_Tuple2",_0:p_,_1:bv}),t))},jv=function(t){return Wn(s(R_,function(t){return Gn(bv(t))},t))},Bv=k,Rv=function(t){return function(e){return s(et,k,s(Qu,t,e))}},Iv=function(t){return t.contextId},qv=function(t){return t.done},Mv=function(t){return t.text},Nv=n(function(t,e,n){return v.update(e,{id:n,rev:"",createdAt:t,modifiedAt:t})}),Dv=function(t){return function(e){return function(n){return function(r){return function(o){return function(i){return function(u){return function(c){return function(a){return function(s){return{id:t,rev:e,dirty:!1,done:i,text:u,dueAt:c,deleted:o,projectId:a,contextId:s,createdAt:n,modifiedAt:r}}}}}}}}}}},Lv=U,Pv=function(t){return l(gr,"contextId",pr,"",l(gr,"projectId",pr,"",l(gr,"dueAt",ir(fr),Lv,f(yr,"text",pr,l(gr,"done",dr,!1,t)))))}(f_(hr(Dv))),Fv=n(function(t,e,n){return Dv(n)("")(t)(t)(!1)(!1)(e)(Lv)("")("")}),Uv=e(function(t,e){return v.update(e,{modifiedAt:t})}),Wv=(e(function(t,e){return s(Uv,t(e),e)}),function(t){return t.modifiedAt}),zv=function(t){return function(e){return f(Fu,v.update(qu,{includeSeconds:!0}),_o(t),_o(Wv(e)))}},$v=e(function(t,e){return v.update(e,{createdAt:t})}),Jv=(e(function(t,e){return s($v,t(e),e)}),function(t){return t.createdAt}),Hv=function(t){return function(e){return f(Fu,v.update(qu,{includeSeconds:!0}),_o(t),_o(Jv(e)))}},Vv=e(function(t,e){return v.update(e,{projectId:t})}),Gv=(e(function(t,e){return s(Vv,t(e),e)}),function(t){return t.projectId}),Kv=function(t){return function(e){return s(Qh,t,Gv(e))}},Yv=e(function(t,e){return v.update(e,{deleted:t})}),Xv=e(function(t,e){return s(Yv,t(e),e)}),Qv=function(t){return t.deleted},Zv=Qv,tg=function(t){return!Qv(t)},eg=Rv({ctor:"::",_0:tg,_1:{ctor:"::",_0:qv,_1:{ctor:"[]"}}}),ng=function(t){return Rv({ctor:"::",_0:Kv(t),_1:{ctor:"::",_0:tg,_1:{ctor:"::",_0:function(t){return!qv(t)},_1:{ctor:"[]"}}}})},rg=Rv({ctor:"::",_0:Qv,_1:{ctor:"[]"}}),og=e(function(t,e){return v.update(e,{done:t})}),ig=e(function(t,e){return s(og,t(e),e)}),ug=function(t){return t.done},cg=e(function(t,e){return v.update(e,{dueAt:t})}),ag=(e(function(t,e){return s(cg,t(e),e)}),function(t){return t.dueAt}),sg=function(t){return{
ctor:"::",_0:s(c_["=>"],"done",Jn(qv(t))),_1:{ctor:"::",_0:s(c_["=>"],"text",Gn(Mv(t))),_1:{ctor:"::",_0:s(c_["=>"],"dueAt",s(oc["?="],s($,Hn,ag(t)),$n)),_1:{ctor:"::",_0:s(c_["=>"],"projectId",Gn(t.projectId)),_1:{ctor:"::",_0:s(c_["=>"],"contextId",Gn(t.contextId)),_1:{ctor:"[]"}}}}}}},fg=f(P_,"todo-db",sg,Pv),lg=e(function(t,e){return v.update(e,{rev:t})}),dg=(e(function(t,e){return s(lg,t(e),e)}),o(function(t,e,n,r,o){return{done:t,text:e,dueAt:n,projectId:r,contextId:o}}),{ctor:"ToggleDeleted"}),pg={ctor:"ToggleDone"},hg=function(t){return{ctor:"SetProjectId",_0:t}},_g=function(t){return{ctor:"SetContext",_0:t}},vg=function(t){return{ctor:"SetContextId",_0:t}},gg=e(function(t,n){var r=e(function(t,e){t:for(;;){var n=t;switch(n.ctor){case"SetDone":return v.update(e,{done:n._0});case"SetDeleted":return v.update(e,{deleted:n._0});case"SetText":return v.update(e,{text:n._0});case"SetContextId":return v.update(e,{contextId:n._0});case"SetProjectId":return s(Vv,n._0,e);case"SetContext":var r=vg(p_(n._0)),o=e;t=r,e=o;continue t;case"SetProject":return s(Vv,p_(n._0),e);case"ToggleDone":return s(ig,function(t){return!ug(t)},e);default:return s(Xv,function(t){return!Qv(t)},e)}}});return function(e){return s(Uv,n,s(oc["#"],rt(r),t)(e))}}),yg=function(t){return{ctor:"SetText",_0:t}},mg=function(t){return{ctor:"SetDone",_0:t}},bg=function(t){var e=t;return"EditTodo"===e.ctor?z(e._0):U},wg=(r(function(t,e,n,r){return{id:t,todoText:e,projectName:n,contextName:r}}),e(function(t,e){return{id:t,name:e}}),e(function(t,e){return{id:t,name:e}}),{ctor:"SwitchToGroupedView"}),kg={ctor:"SwitchView"},xg={ctor:"None"},Tg=xg,Sg=function(t){return{ctor:"EditProject",_0:t}},Eg=function(t){return Sg({id:p_(t),name:bv(t)})},Ag=e(function(t,e){return Sg(v.update(e,{name:t}))}),Cg=function(t){return{ctor:"EditContext",_0:t}},Og=function(t){return Cg({id:p_(t),name:V_(t)})},jg=e(function(t,e){return Cg(v.update(e,{name:t}))}),Bg=function(t){return{ctor:"EditTodo",_0:t}},Rg=n(function(t,e,n){return Bg({id:p_(t),todoText:Mv(t),projectName:e,contextName:n})}),Ig=e(function(t,e){return Bg(v.update(e,{todoText:t}))}),qg=e(function(t,e){return Bg(v.update(e,{projectName:t}))}),Mg=e(function(t,e){return Bg(v.update(e,{contextName:t}))}),Ng=function(t){return{ctor:"NewTodo",_0:t}},Dg=Ng,Lg=e(function(t,e){var n=e.state;return"Running"===n.ctor&&v.cmp(t-n._0.lastBeepedAt,6e5)>0}),Pg=function(t){var e=t.state;return"Running"===e.ctor?z(e._0):U},Fg=e(function(t,e){var n=e.state;return"Running"===n.ctor?t-n._0.startedAt+e.timeSpent:e.timeSpent}),Ug=function(t){return t.id},Wg=e(function(t,e){return{startedAt:t,lastBeepedAt:e}}),zg=r(function(t,e,n,r){return{id:t,state:e,timeSpent:n,startTime:r}}),$g=function(t){return{ctor:"Running",_0:t}},Jg=s(c_[">>>"],Wg,$g),Hg=e(function(t,e){return z(l(zg,p_(t),s(Jg,e,e),0,e))}),Vg=e(function(t,e){return s(oc["?="],s(oc["?|>"],Pg(e),function(n){return v.update(e,{state:$g(v.update(n,{lastBeepedAt:t}))})}),e)}),Gg=function(t){return{ctor:"ContextView",_0:t}},Kg={ctor:"GroupByProjectView"},Yg={ctor:"BinView"},Xg={ctor:"DoneView"},Qg=function(t){return{ctor:"ProjectView",_0:t}},Zg={ctor:"GroupByContextView"},ty=function(t){return{ctor:"NameChanged",_0:t}},ey={ctor:"Save"},ny={ctor:"ToggleDeleted"},ry={ctor:"StartEditing"},oy=function(t){return{ctor:"TodoEntity",_0:t}},iy=function(t){return{ctor:"ContextEntity",_0:t}},uy=function(t){return{ctor:"ProjectEntity",_0:t}},cy={ctor:"ContextEntityType"},ay={ctor:"ProjectEntityType"},sy=_e.outgoingPort("focusPaperInput",function(t){return t}),fy=function(t){return je(sy(t))},ly=fy(".auto-focus"),dy=e(function(t,e){return s($r,k,function(e){return Mr(t(e))}(e))}),py=e(function(t,e){return{ctor:"OnEntityAction",_0:t,_1:e}}),hy=function(t){return{ctor:"OnKeyUp",_0:t}},_y=function(t){return{ctor:"OnKeyboardMsg",_0:t}},vy=function(t){return{ctor:"OnMsgList",_0:t}},gy=(dy(vy),function(t){return{ctor:"OnNowChanged",_0:t}}),yy=function(t){return{ctor:"SetView",_0:t}},my={ctor:"SelectionTrashClicked"},by={ctor:"SelectionEditClicked"},wy={ctor:"SelectionDoneClicked"},ky={ctor:"ClearSelection"},xy=function(t){return{ctor:"TodoCheckBoxClicked",_0:t}},Ty=e(function(t,e){return{ctor:"EditTodoKeyUp",_0:t,_1:e}}),Sy=e(function(t,e){return{ctor:"EditTodoContextNameChanged",_0:t,_1:e}}),Ey=e(function(t,e){return{ctor:"EditTodoProjectNameChanged",_0:t,_1:e}}),Ay=e(function(t,e){return{ctor:"EditTodoTextChanged",_0:t,_1:e}}),Cy=function(t){return{ctor:"FocusPaperInput",_0:t}},Oy={ctor:"SaveEditingEntity"},jy=function(t){return{ctor:"StartEditingTodo",_0:t}},By=e(function(t,e){return{ctor:"NewTodoKeyUp",_0:t,_1:e}}),Ry={ctor:"DeactivateEditingMode"},Iy=function(t){return{ctor:"NewTodoTextChanged",_0:t}},qy=Iy,My={ctor:"StartAddingTodo"},Ny=function(t){return{ctor:"CopyAndEditTodoById",_0:t}},Dy=function(t){return{ctor:"CopyAndEditTodo",_0:t}},Ly=function(t){return{ctor:"CreateTodo",_0:t}},Py=e(function(t,e){return{ctor:"SetTodoContext",_0:t,_1:e}}),Fy=function(t){return{ctor:"ToggleTodoDone",_0:t}},Uy={ctor:"MarkRunningTodoDone"},Wy=Uy,zy={ctor:"Stop"},$y=zy,Jy={ctor:"ToggleShowDeletedEntity"},Hy=function(t){return{ctor:"TriggerNotification",_0:t}},Vy={ctor:"ShowNotification"},Gy={ctor:"NoOp"},Ky=(e(function(t,e){return v.update(e,{now:t(e)})}),e(function(t,e){return v.update(e,{now:t})})),Yy=function(t){return t.now},Xy=e(function(t,e){return v.update(e,{mainViewType:t})}),Qy=(e(function(t,e){return s(Xy,t(e),e)}),function(t){return t.mainViewType}),Zy=e(function(t,e){return v.update(e,{projectStore:t})}),tm=(e(function(t,e){return s(Zy,t(e),e)}),function(t){return t.projectStore}),em=e(function(t,e){return v.update(e,{maybeRunningTodo:t})}),nm=e(function(t,e){return s(em,t(e),e)}),rm=function(t){return t.maybeRunningTodo},om=e(function(t,e){return v.update(e,{editMode:t})}),im=e(function(t,e){return s(om,t(e),e)}),um=function(t){return t.editMode},cm=e(function(t,e){return v.update(e,{todoStore:t})}),am=function(t){return t.todoStore},sm=(e(function(t,e){return v.update(e,{todoStore:t(am(e))})}),e(function(t,e){return v.update(e,{seed:t})})),fm=(e(function(t,e){return s(sm,t(e),e)}),e(function(t,e){return s(le,s(oc["#"],cm,e),t)})),lm=function(t){return s(o_,am,function(e){return fm(s(M_,t,e))})},dm=e(function(t,e){return lm(s(Fv,e,t))}),pm=e(function(t,e){return lm(s(Nv,e,t))}),hm=e(function(t,e){return s(r_,{ctor:"_Tuple2",_0:Yy,_1:am},s(c_[">>>"],function(n){return N_(s(oc["#"],gg(t),e)(n))},cm))}),_m=function(t){return function(e){return s(j_,t,am(e))}},vm=e(function(t,e){return s(n_,_m(e),hm(t))}),gm=function(t){var e=Qy(t);switch(e.ctor){case"BinView":return rg;case"DoneView":return eg;case"ProjectView":return ng(e._0);default:return w(!0)}},ym=function(t){return s(G,function(t){return M(Wv(t))},s(y,dt,s(tc,{ctor:"_Tuple2",_0:gm,_1:function(t){return E_(am(t))}},t)))},mm=(r(function(t,e,n,r){return{name:t,todoList:e,count:n,isEmpty:r}}),r(function(t,e,n,r){return s(t.set,s(n,e.get(r),t.get(r)),r)}),n(function(t,e,n){return s(t.set,e(t.get(n)),n)})),bm=(e(function(t,e){return v.update(e,{now:t})}),{get:function(t){return t.contextStore},set:e(function(t,e){return v.update(e,{contextStore:t})})}),wm={get:function(t){return t.todoStore},set:e(function(t,e){return v.update(e,{todoStore:t})})},km={get:function(t){return t.keyboardState},set:e(function(t,e){return v.update(e,{keyboardState:t})})},xm={get:function(t){return t.projectStore},set:e(function(t,e){return v.update(e,{projectStore:t})})},Tm=function(t){return s(B_,u_({ctor:"::",_0:Zv,_1:{ctor:"::",_0:qv,_1:{ctor:"[]"}}}),function(t){return t.todoStore}(t))},Sm=function(t){return function(e){return s(ha,t,Tm(e))}},Em=e(function(t,e){var n={ctor:"_Tuple2",_0:t,_1:e.editMode};t:do{if("_Tuple2"===n.ctor){if("ProjectEntityType"===n._0.ctor){if("EditProject"===n._1.ctor)return z(n._1._0);break t}if("EditContext"===n._1.ctor)return z(n._1._0);break t}break t}while(!1);return U}),Am=function(t){return"ProjectEntityType"===t.ctor?function(t){return t.projectStore}:function(t){return t.contextStore}},Cm=(s(c_[">>>"],Am,E_),s(c_[">>>"],Am,function(t){return function(e){return s(dt,t,E_(e))}}(s_))),Om=s(c_[">>>"],Am,B_(s_)),jm=function(t){return t.selection},Bm=function(t){var e=t.selection;return v.eq(Ju(e),1)?s(oc["?+>"],st($u(e)),s(oc["#"],j_,t.todoStore)):U},Rm=function(t){return v.update(t,{selection:Gu})},Im=e(function(t,e){var n=e.selection,r=p_(t);return s(Hu,r,n)?v.update(e,{selection:s(Xu,r,n)}):v.update(e,{selection:s(Ku,r,n)})}),qm=function(t){return s(r_,{ctor:"_Tuple2",_0:Yy,_1:function(t){return t.contextStore}},s(c_[">>>"],Z_(t),e(function(t,e){return v.update(e,{contextStore:t})})))},Mm=function(t){return s(r_,{ctor:"_Tuple2",_0:Yy,_1:tm},s(c_[">>>"],Ev(t),Zy))},Nm=e(function(t,e){return s(oc["#"],G_,e.contextStore)(Iv(t))}),Dm=e(function(t,e){return s(oc["#"],Cv,tm(e))(Gv(t))}),Lm=function(t){return z_(function(t){return t.contextStore}(t))},Pm=function(t){return $_(function(t){return t.contextStore}(t))},Fm=function(t){return function(e){return s(K_,t,function(t){return t.contextStore}(e))}},Um=function(t){return function(e){return s(Sv,t,tm(e))}},Wm=function(t){var n=t;return s(e_,{ctor:"_Tuple3",_0:Fm(n.contextName),_1:Um(n.projectName),_2:k},e(function(t,e){return s(vm,{ctor:"::",_0:yg(n.todoText),_1:{ctor:"::",_0:hg(s(oc["?="],s(oc["?|>"],e,p_),"")),_1:{ctor:"::",_0:vg(s(oc["?="],s(oc["?|>"],t,p_),"")),_1:{ctor:"[]"}}}},n.id)}))},zm=i(function(t,e,r,o,i,u){var c=l($f,n(function(t,e,n){return{ctor:"_Tuple3",_0:t,_1:e,_2:n}}),fg(e),Av(r),ev(o)),a=s(Df,c,g_(t));return{now:t,todoStore:a._0._0,projectStore:a._0._1,contextStore:a._0._2,editMode:Tg,mainViewType:Zg,seed:a._1,maybeRunningTodo:U,keyboardState:cv,selection:Gu,showDeleted:!1,remotePeerId:u,myPeerId:i,shouldTriggerNotification:!1}}),$m=(e(function(t,e){return{get:t,set:e}}),n(function(t,e,n){var r=e.isNull(n),o=py(e.entityWrapper(n)),i=r?Gy:o(ny),u=p_(n),c=t(u),a=ot(c);return s(oc["?+>"],e.maybeEditModel,function(t){return v.eq(t.id,u)?z(t):U}),{id:u,name:n.name,isDeleted:s_(n),todoList:c,isEmpty:v.eq(a,0),count:ot(c),onActiveStateChanged:function(t){return t?yy(e.getViewType(u)):Gy},startEditingMsg:o(ry),onDeleteClicked:i,onSaveClicked:o(ey),onNameChanged:function(t){return o(ty(t))},onCancelClicked:Ry}})),Jm=e(function(t,n){var r=n.showDeleted?s(Cm,t.entityType,n):s(e(function(t,e){return{ctor:"::",_0:t,_1:e}}),t.nullEntity,s(Om,t.entityType,n)),o=(n.showDeleted&&s(oc["#"],gt,s(Cm,t.entityType,n)),s(Sm,t.groupByFn,n)),i=function(t){return s(oc["?="],s(tn,t,o),{ctor:"[]"})};return s(oc[".|>"],r,s($m,i,t))}),Hm=function(t){return s(Jm,{groupByFn:Gv,entityType:ay,entityWrapper:uy,nullEntity:_v,isNull:vv,getViewType:Qg,maybeEditModel:s(Em,ay,t)},t)},Vm=function(t){return{vmList:Hm(t),viewType:Kg,title:"Project",showDeleted:t.showDeleted}},Gm=function(t){return s(Jm,{groupByFn:Iv,entityType:cy,entityWrapper:iy,nullEntity:nv,isNull:rv,getViewType:Gg,maybeEditModel:s(Em,cy,t)},t)},Km=function(t){return{vmList:Gm(t),viewType:Zg,title:"Contexts",showDeleted:t.showDeleted}},Ym=e(function(t,e){return t(e),e}),Xm=(e(function(t,e){return Ym(function(n){return s(P,e,t(n))})}),b(Be),e(function(t,e){return Be(function(n){return s(oc["?="],s(oc["?|>"],t(n),e),n)})}),e(function(t,e){return Be(function(n){return s(e,t(n),n)})})),Qm=e(function(t,e){return Me(function(n){return s(e,t(n),n)})}),Zm=(e(function(t,e){return Me(function(n){return s(oc["?="],s(oc["?|>"],t(n),e),n)})}),e(function(t,e){return Be(function(n){return s(e,t(n),Ie(n))})})),tb=e(function(t,e){return Be(function(n){return s(i_,Ie(n),s(oc["?="],s(oc["?|>"],t(n),e),k))})}),eb=function(t){var e=j(t),n=(s(x["%"],e,1e3),s(x["%"],e/1e3|0,60));return{ctor:"::",_0:e/36e5|0,_1:{ctor:"::",_0:s(x["%"],e/6e4|0,60),_1:{ctor:"::",_0:n,_1:{ctor:"[]"}}}}},nb=n(function(t,e,n){for(;;){if(v.cmp(t,oe(n))<1)return n;var r=t,o=e,i=s(x["++"],se(e),n);t=r,e=o,n=i}}),rb=function(t){return s(ne,":",s(lt,function(t){return f(nb,2,v.chr("0"),T(t))},eb(t)))},ob=om(Tg),ib=e(function(t,e){return om(s(Mg,t,e))}),ub=e(function(t,e){return om(s(qg,t,e))}),cb=function(t){return bg(um(t))},ab=e(function(t,e){return om(s(Ig,t,e))}),sb=e(function(t,e){var n=s(oc["?="],s(Nm,t,e),"");return f(Rg,t,s(oc["?="],s(Dm,t,e),""),n)}),fb=e(function(t,e){var n=t;switch(n.ctor){case"ContextEntity":return Og(n._0);case"ProjectEntity":return Eg(n._0);default:return s(sb,n._0,e)}}),lb=e(function(t,e){return v.update(e,{contextStore:t})}),db=function(t){var e=t.editMode;switch(e.ctor){case"EditContext":var n=e._0;return s(oc["?="],s(oc["?|>"],s(j_,n.id,t.contextStore),function(e){return s(oc["#"],lb,t)(s(oc["#"],N_,t.contextStore)(s(J_,t.now,s(H_,n.name,e))))}),t);case"EditProject":var r=e._0;return s(oc["?="],s(oc["?|>"],s(j_,r.id,t.projectStore),function(e){return s(oc["#"],Zy,t)(s(oc["#"],N_,t.projectStore)(s(yv,t.now,s(mv,r.name,e))))}),t);case"EditTodo":var o=e._0;return function(t){return s(Wm,o,s(qm,o.contextName,s(Mm,o.projectName,t)))}(t);default:return t}},pb=e(function(t,e){var n=t;switch(n.ctor){case"ContextEntity":return s(oc["#"],lb,e)(s(oc["#"],N_,e.contextStore)(s(J_,e.now,a_(n._0))));case"ProjectEntity":return s(oc["#"],Zy,e)(s(oc["#"],N_,e.projectStore)(s(yv,e.now,a_(n._0))));default:var r=n._0;return s(P,"todo deleted called",r),f(hm,{ctor:"::",_0:dg,_1:{ctor:"[]"}},r,e)}}),hb=n(function(t,e,n){var r=n.editMode;switch(r.ctor){case"EditContext":return s(om,s(jg,t,r._0),n);case"EditProject":return s(om,s(Ag,t,r._0),n);default:return n}}),_b=e(function(t,e){return s(om,s(fb,t,e),e)}),vb=function(t){return im(sb(t))},gb=function(t){return om(Dg(t))},yb=function(t){return nm(s(c_["?>>"],rm,Vg(t)))},mb=s(c_[">>?="],s(c_[">>?"],function(t){return rc(s(tc,{ctor:"_Tuple2",_0:function(t){return z(Yy(t))},_1:rm},t))},y(Lg)),!1),bb=function(t){return nm(function(e){return s(Hg,t,Yy(e))})},wb=em(U),kb=(e(function(t,e){var n=t,r=Yy(e);return{todoVM:Bv(n._1),now:r,elapsedTime:s(Fg,r,n._0)}}),s(c_[">>?"],rm,Ug)),xb=function(t){return s(oc["?+>"],kb(t),s(oc["#"],_m,t))},Tb=(n(function(t,e,n){return{todoVM:t,now:e,elapsedTime:n}}),function(t){var e=Hh(t);t:do{if("::"!==e.ctor)break t;if("::"!==e._1.ctor){if("Inbox"===e._0)return{ctor:"::",_0:yy(Gg("")),_1:{ctor:"[]"}};break t}if("[]"!==e._1._1.ctor)break t;switch(e._0){case"lists":switch(e._1._0){case"contexts":return{ctor:"::",_0:yy(Zg),_1:{ctor:"[]"}};case"projects":return{ctor:"::",_0:yy(Kg),_1:{ctor:"[]"}};case"bin":return{ctor:"::",_0:yy(Yg),_1:{ctor:"[]"}};case"done":return{ctor:"::",_0:yy(Xg),_1:{ctor:"[]"}};default:break t}case"project":return"NotAssigned"===e._1._0?{ctor:"::",_0:yy(Qg("")),_1:{ctor:"[]"}}:{ctor:"::",_0:yy(Qg(e._1._0)),_1:{ctor:"[]"}};case"context":return{ctor:"::",_0:yy(Gg(e._1._0)),_1:{ctor:"[]"}};default:break t}}while(!1);return{ctor:"[]"}}),Sb=function(t){return Tb(Xh(t.href))},Eb=function(t){var e=Qy(t);switch(e.ctor){case"GroupByContextView":return{ctor:"::",_0:"lists",_1:{ctor:"::",_0:"contexts",_1:{ctor:"[]"}}};case"BinView":return{ctor:"::",_0:"lists",_1:{ctor:"::",_0:"bin",_1:{ctor:"[]"}}};case"DoneView":return{ctor:"::",_0:"lists",_1:{ctor:"::",_0:"done",_1:{ctor:"[]"}}};case"GroupByProjectView":return{ctor:"::",_0:"lists",_1:{ctor:"::",_0:"projects",_1:{ctor:"[]"}}};case"ProjectView":var n=e._0;return fe(n)?{ctor:"::",_0:"project",_1:{ctor:"::",_0:"NotAssigned",_1:{ctor:"[]"}}}:{ctor:"::",_0:"project",_1:{ctor:"::",_0:n,_1:{ctor:"[]"}}};default:var r=e._0;return fe(r)?{ctor:"::",_0:"Inbox",_1:{ctor:"[]"}}:{ctor:"::",_0:"context",_1:{ctor:"::",_0:r,_1:{ctor:"[]"}}}}},Ab=e(function(t,e){return z(s(Kh,Eb(e),Gh))}),Cb=s(c_[">>>"],Ab,$(Jh)),Ob=e(function(t,e){return s(Ac,{ctor:"::",_0:Pc("hide-on-hover"),_1:{ctor:"[]"}},t?e:{ctor:"[]"})}),jb=Ac({ctor:"::",_0:Pc("show-on-hover"),_1:{ctor:"[]"}}),Bb=f(Tc,"iron-icon",{ctor:"::",_0:Gc("delete"),_1:{ctor:"[]"}},{ctor:"[]"}),Rb=e(function(t,e){return s(ua,{ctor:"::",_0:Gc(t),_1:{ctor:"::",_0:ma(e),_1:{ctor:"[]"}}},{ctor:"[]"})}),Ib=(Rb("av:play-circle-outline"),Rb("delete")),qb=Rb("settings"),Mb=Ac({ctor:"::",_0:Pc("flex11"),_1:{ctor:"[]"}}),Nb=Ac({ctor:"::",_0:Pc("row"),_1:{ctor:"[]"}}),Db=function(t){return Nb({ctor:"::",_0:s(Ac,{ctor:"::",_0:Pc("ellipsis"),_1:{ctor:"[]"}},{ctor:"::",_0:xc(t.name),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(Ac,{ctor:"::",_0:Hc({ctor:"::",_0:s(c_["=>"],"margin-left","0.5rem"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}},{ctor:"::",_0:xc(s(x["++"]," (",s(x["++"],T(t.count),")"))),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}})},Lb=function(t){return{now:Yy(t),encodedProjectNames:jv(tm(t)),encodedContextNames:Lm(t),maybeEditTodoModel:cb(t),projectIdToNameDict:Ov(tm(t)),contextByIdDict:Pm(t),selection:jm(t),editMode:um(t)}},Pb=(c(function(t,e,n,r,o,i,u,c){return{now:t,encodedProjectNames:e,encodedContextNames:n,maybeEditTodoModel:r,editMode:o,projectIdToNameDict:i,contextByIdDict:u,selection:c}}),e(function(t,e){return s(da,{ctor:"::",_0:ma(Gy),_1:{ctor:"::",_0:s(Nc,"horizontal-align","right"),_1:{ctor:"[]"}}},{ctor:"::",_0:s(ua,{ctor:"::",_0:Gc("more-vert"),_1:{ctor:"::",_0:Pc("dropdown-trigger"),_1:{ctor:"[]"}}},{ctor:"[]"}),_1:{ctor:"::",_0:s(la,{ctor:"::",_0:Pc("dropdown-content"),_1:{ctor:"::",_0:s(Nc,"attr-for-selected","context-name"),_1:{ctor:"::",_0:s(Nc,"selected",t.contextName),_1:{ctor:"[]"}}}},s(oc[".|>"],He(e.contextByIdDict),function(e){return s(aa,{ctor:"::",_0:s(Nc,"context-name",V_(e)),_1:{ctor:"::",_0:ma(t.setContextMsg(e)),_1:{ctor:"[]"}}},{ctor:"::",_0:xc(V_(e)),_1:{ctor:"[]"}})})),_1:{ctor:"[]"}}})})),Fb=function(t){return Ib(t.onDeleteClicked)},Ub=function(t){return s(ua,{ctor:"::",_0:Pc(s(x["++"],"done-",T(t.isDone))),_1:{ctor:"::",_0:ma(t.onDoneClicked),_1:{ctor:"::",_0:Gc("check"),_1:{ctor:"[]"}}}},{ctor:"[]"})},Wb=e(function(t,e){return s(Ac,{ctor:"::",_0:Pc("show-on-hover"),_1:{ctor:"[]"}},{ctor:"::",_0:Ub(t),_1:{ctor:"::",_0:Fb(t),_1:{ctor:"::",_0:s(Pb,t,e),_1:{ctor:"[]"}}}})}),zb=function(t){return s(oa,{ctor:"::",_0:zc(t.isSelected),_1:{ctor:"::",_0:ma(t.onCheckBoxClicked),_1:{ctor:"[]"}}},{ctor:"[]"})},$b=e(function(t,e){var n=function(){var n=p_(e);return{isDone:ug(e),isDeleted:Qv(e),text:Mv(e),isSelected:s(Hu,n,t.selection),projectName:s(oc["?="],s(oc["#"],tn,t.projectIdToNameDict)(Gv(e)),"<No Project>"),contextName:s(oc["?="],function(e){return s($,V_,s(oc["#"],tn,t.contextByIdDict)(e))}(Iv(e)),"Inbox"),onCheckBoxClicked:xy(e),setContextMsg:s(oc["#"],Py,e),startEditingMsg:jy(e),onDoneClicked:Fy(e),onDeleteClicked:s(py,oy(e),ny)}}();return s(aa,{ctor:"::",_0:Pc("todo-item"),_1:{ctor:"::",_0:ma(n.startEditingMsg),_1:{ctor:"[]"}}},{ctor:"::",_0:zb(n),_1:{ctor:"::",_0:s(sa,{ctor:"[]"},{ctor:"::",_0:s(Cc,{ctor:"::",_0:Jc({ctor:"::",_0:s(c_["=>"],"ellipsis",!0),_1:{ctor:"::",_0:s(c_["=>"],"done",qv(e)),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}},{ctor:"::",_0:xc(Mv(e)),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(Cc,{ctor:"::",_0:Pc("small dim"),_1:{ctor:"[]"}},{ctor:"::",_0:xc(n.projectName),_1:{ctor:"::",_0:xc(" : "),_1:{ctor:"::",_0:xc(s(x["++"],"created ",s(x["++"],s(Hv,t.now,e)," ago. "))),_1:{ctor:"::",_0:xc(s(x["++"],"modified ",s(x["++"],s(zv,t.now,e)," ago"))),_1:{ctor:"[]"}}}}}),_1:{ctor:"[]"}}}),_1:{ctor:"::",_0:s(Wb,n,t),_1:{ctor:"::",_0:s(Ob,n.isDone,{ctor:"::",_0:Ub(n),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(Ob,n.isDeleted,{ctor:"::",_0:Fb(n),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}}}})}),Jb=n(function(t,e,n){var r=n.id;return{todo:{text:n.todoText,id:r,inputId:s(x["++"],"edit-todo-input-",r)},project:{name:n.projectName,inputId:s(x["++"],"edit-todo-project-input-",r)},context:{name:n.contextName,inputId:s(x["++"],"edit-todo-context-input-",r)},onKeyUp:Ty(n),onTodoTextChanged:Ay(n),onProjectNameChanged:Ey(n),onContextNameChanged:Sy(n),encodedProjectNames:t.encodedProjectNames,encodedContextNames:t.encodedContextNames,onSaveClicked:Oy,onCancelClicked:Ry,onDeleteClicked:s(py,oy(e),ny)}}),Hb=s(ar,{ctor:"::",_0:"detail",_1:{ctor:"::",_0:"text",_1:{ctor:"[]"}}},pr),Vb=function(t){return s(Qc,"autocomplete-selected",s(rr,t,s(ov,"selected",Hb)))},Gb=function(t){return s(aa,{ctor:"::",_0:Pc("todo-item"),_1:{ctor:"[]"}},{ctor:"::",_0:s(sa,{ctor:"[]"},{ctor:"::",_0:s(ca,{ctor:"::",_0:Fc(t.todo.inputId),_1:{ctor:"::",_0:Pc("edit-todo-input auto-focus"),_1:{ctor:"::",_0:s(Vc,"label","Todo"),_1:{ctor:"::",_0:Uc(t.todo.text),_1:{ctor:"::",_0:ta(t.onTodoTextChanged),_1:{ctor:"::",_0:$c(!0),_1:{ctor:"::",_0:ma(Cy(".edit-todo-input")),_1:{ctor:"::",_0:dv(t.onKeyUp),_1:{ctor:"[]"}}}}}}}}},{ctor:"[]"}),_1:{ctor:"::",_0:s(ca,{ctor:"::",_0:Fc(t.project.inputId),_1:{ctor:"::",_0:Pc("project-name-input"),_1:{ctor:"::",_0:ma(Cy(".project-name-input")),_1:{ctor:"::",_0:ta(t.onProjectNameChanged),_1:{ctor:"::",_0:s(Vc,"label","Project Name"),_1:{ctor:"::",_0:Uc(t.project.name),_1:{ctor:"[]"}}}}}}},{ctor:"[]"}),_1:{ctor:"::",_0:f(Tc,"paper-autocomplete-suggestions",{ctor:"::",_0:s(Vc,"for",t.project.inputId),_1:{ctor:"::",_0:s(Dc,"source",t.encodedProjectNames),_1:{ctor:"::",_0:Vb(t.onProjectNameChanged),_1:{ctor:"::",_0:s(_a,"minLength",0),_1:{ctor:"[]"}}}}},{ctor:"[]"}),_1:{ctor:"::",_0:s(ca,{ctor:"::",_0:Fc(t.context.inputId),_1:{ctor:"::",_0:Pc("context-name-input"),_1:{ctor:"::",_0:ma(Cy(".context-name-input")),_1:{ctor:"::",_0:ta(t.onContextNameChanged),_1:{ctor:"::",_0:s(Vc,"label","Context Name"),_1:{ctor:"::",_0:Uc(t.context.name),_1:{ctor:"[]"}}}}}}},{ctor:"[]"}),_1:{ctor:"::",_0:f(Tc,"paper-autocomplete-suggestions",{ctor:"::",_0:s(Vc,"for",t.context.inputId),_1:{ctor:"::",_0:s(Dc,"source",t.encodedContextNames),_1:{ctor:"::",_0:Vb(t.onContextNameChanged),_1:{ctor:"::",_0:s(_a,"minLength",0),_1:{ctor:"[]"}}}}},{ctor:"[]"}),_1:{ctor:"::",_0:Nb({ctor:"::",_0:s(ra,{ctor:"::",_0:ea(t.onSaveClicked),_1:{ctor:"[]"}},{ctor:"::",_0:xc("Save"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(ra,{ctor:"::",_0:ea(t.onCancelClicked),_1:{ctor:"[]"}},{ctor:"::",_0:xc("Cancel"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:Mb({ctor:"[]"}),_1:{ctor:"::",_0:Ib(t.onDeleteClicked),_1:{ctor:"[]"}}}}}),_1:{ctor:"[]"}}}}}}}),_1:{ctor:"[]"}})},Kb=e(function(t,e){var n=function(n){return s($b,t,e)},r=function(){var r=t.maybeEditTodoModel;if("Just"===r.ctor){var o=r._0;return s(h_,o.id,e)?Gb(f(Jb,t,e,o)):n()}return n()}();return{ctor:"_Tuple2",_0:p_(e),_1:r}}),Yb=e(function(t,e){return s(fa,{ctor:"::",_0:Pc("edit-entity-view"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Ac,{ctor:"[]"},{ctor:"::",_0:s(sa,{ctor:"[]"},{ctor:"::",_0:s(ca,{ctor:"::",_0:Pc("edit-entity-name-input auto-focus"),_1:{ctor:"::",_0:s(ya,"label","Name"),_1:{ctor:"::",_0:Uc(t.name),_1:{ctor:"::",_0:ta(e.onNameChanged),_1:{ctor:"::",_0:ma(Cy(".edit-entity-name-input")),_1:{ctor:"[]"}}}}}},{ctor:"[]"}),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:Nb({ctor:"::",_0:s(ra,{ctor:"::",_0:ea(e.onSaveClicked),_1:{ctor:"[]"}},{ctor:"::",_0:xc("Save"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(ra,{ctor:"::",_0:ea(e.onCancelClicked),_1:{ctor:"[]"}},{ctor:"::",_0:xc("Cancel"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:Mb({ctor:"[]"}),_1:{ctor:"::",_0:Ib(e.onDeleteClicked),_1:{ctor:"[]"}}}}}),_1:{ctor:"[]"}}})}),Xb=function(t){return s(aa,{ctor:"::",_0:ea(t.startEditingMsg),_1:{ctor:"[]"}},{ctor:"::",_0:s(sa,{ctor:"[]"},{ctor:"::",_0:Db(t),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:jb({ctor:"::",_0:qb(t.startEditingMsg),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(Ob,t.isDeleted,{ctor:"::",_0:Ib(Gy),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}})},Qb=e(function(t,e){if(v.eq(e.id,""))return Xb(e);var n=t.editMode;switch(n.ctor){case"EditProject":var r=n._0;return v.eq(r.id,e.id)?s(Yb,r,e):Xb(e);case"EditContext":var o=n._0;return v.eq(e.id,o.id)?s(Yb,o,e):Xb(e);default:return Xb(e)}}),Zb=e(function(t,e){var n=Lb(e),r=function(t){return{ctor:"_Tuple2",_0:t.id,_1:s(Ac,{ctor:"::",_0:Pc("todo-list-container"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Qb,n,t),_1:{ctor:"::",_0:f(Es,"paper-material",{ctor:"::",_0:Pc("todo-list"),_1:{ctor:"[]"}},s(oc[".|>"],t.todoList,Kb(n))),_1:{ctor:"[]"}}})}};return f(Es,"div",{ctor:"[]"},s(oc[".|>"],t,r))}),tw=e(function(t,e){return Zb(is(s($a,function(t){return s(Qh,e,function(t){return t.id}(t))},t)))}),ew=function(t){return function(t){var e=t;return f(Es,"paper-material",{ctor:"::",_0:Pc("todo-list"),_1:{ctor:"[]"}},s(oc[".|>"],e._1,e._0))}(s(tc,{ctor:"_Tuple2",_0:function(t){return Kb(Lb(t))},_1:ym},t))},nw=function(t){return s(Ac,{ctor:"::",_0:Pc("show-on-hover"),_1:{ctor:"[]"}},{ctor:"::",_0:qb(t.startEditingMsg),_1:{ctor:"[]"}})},rw=e(function(t,e){return s(Qc,s(x["++"],ds(t),"-changed"),s(rr,e,s(ar,{ctor:"::",_0:"detail",_1:{ctor:"::",_0:"value",_1:{ctor:"[]"}}},dr)))}),ow=function(t){return s(aa,{ctor:"::",_0:Pc(""),_1:{ctor:"::",_0:s(rw,"focused",t.onActiveStateChanged),_1:{ctor:"[]"}}},{ctor:"::",_0:s(sa,{ctor:"[]"},{ctor:"::",_0:Db(t),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:nw(t),_1:{ctor:"::",_0:s(Ob,t.isDeleted,{ctor:"::",_0:Ib(Gy),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}})},iw=(s(ar,{ctor:"::",_0:"detail",_1:{ctor:"::",_0:"value",_1:{ctor:"[]"}}},dr),function(t){return s(aa,{ctor:"::",_0:ea(yy(Xg)),_1:{ctor:"[]"}},{ctor:"::",_0:xc("Done"),_1:{ctor:"[]"}})}),uw=function(t){return s(aa,{ctor:"::",_0:ea(yy(Yg)),_1:{ctor:"[]"}},{ctor:"::",_0:xc("Bin"),_1:{ctor:"[]"}})},cw=s(Ec,{ctor:"[]"},{ctor:"[]"}),aw=function(t){var e=t;return s(x["++"],{ctor:"::",_0:s(aa,{ctor:"::",_0:ea(yy(e.viewType)),_1:{ctor:"[]"}},{ctor:"::",_0:s(sa,{ctor:"[]"},{ctor:"::",_0:s(Cc,{ctor:"::",_0:Pc("ellipsis"),_1:{ctor:"[]"}},{ctor:"::",_0:xc(e.title),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:jb({ctor:"::",_0:Bb,_1:{ctor:"::",_0:s(pa,{ctor:"::",_0:zc(e.showDeleted),_1:{ctor:"::",_0:ea(Jy),_1:{ctor:"[]"}}},{ctor:"[]"}),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}}}),_1:{ctor:"::",_0:cw,_1:{ctor:"[]"}}},s(lt,ow,e.vmList))},sw=n(function(t,e,n){return s(jc,{ctor:"::",_0:s(Nc,"slot","drawer"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Ac,{ctor:"::",_0:Hc({ctor:"::",_0:s(c_["=>"],"height","100%"),_1:{ctor:"::",_0:s(c_["=>"],"overflow","scroll"),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}},{ctor:"::",_0:s(la,{ctor:"::",_0:s(ya,"selected","0"),_1:{ctor:"::",_0:s(ya,"selectable","paper-item"),_1:{ctor:"::",_0:s(ya,"selectedAttribute","selected"),_1:{ctor:"[]"}}}},s(x["++"],aw(t),s(x["++"],{ctor:"::",_0:cw,_1:{ctor:"[]"}},s(x["++"],aw(e),s(x["++"],{ctor:"::",_0:cw,_1:{ctor:"[]"}},{ctor:"::",_0:uw(),_1:{ctor:"::",_0:iw(n),_1:{ctor:"[]"}}}))))),_1:{ctor:"[]"}}),_1:{ctor:"[]"}})}),fw=function(t){return s(ia,{ctor:"::",_0:Fc("add-fab"),_1:{ctor:"::",_0:s(Nc,"icon","add"),_1:{ctor:"::",_0:ea(My),_1:{ctor:"[]"}}}},{ctor:"[]"})},lw=function(t){var e=Ju(jm(t)),n=um(t);switch(n.ctor){case"NewTodo":var r=n._0;return s(ca,{ctor:"::",_0:Fc("new-todo-input"),_1:{ctor:"::",_0:Pc("auto-focus"),_1:{ctor:"::",_0:ta(qy),_1:{ctor:"::",_0:Uc(r),_1:{ctor:"::",_0:Zc(Ry),_1:{ctor:"::",_0:dv(By(r)),_1:{ctor:"::",_0:s(ya,"label","New Todo"),_1:{ctor:"::",_0:s(ga,"alwaysFloatLabel",!0),_1:{ctor:"::",_0:Hc({ctor:"::",_0:{ctor:"_Tuple2",_0:"width",_1:"100%"},_1:{ctor:"::",_0:s(c_["=>"],"color","white"),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}}}}}}}}}},{ctor:"[]"});case"SwitchView":return s(Cc,{ctor:"[]"},{ctor:"::",_0:xc("Switch View: (A)ll, (P)rojects, (D)one, (B)in, (G)roup By."),_1:{ctor:"[]"}});case"SwitchToGroupedView":return s(Cc,{ctor:"[]"},{ctor:"::",_0:xc("Group By: (P)rojects, (C)ontexts "),_1:{ctor:"[]"}});default:return v.eq(e,0)?s(Sc,{ctor:"::",_0:Pc("ellipsis"),_1:{ctor:"[]"}},{ctor:"::",_0:xc("SimpleGTD - alpha"),_1:{ctor:"[]"}}):s(Cc,{ctor:"[]"},{ctor:"::",_0:xc(s(x["++"],"(",s(x["++"],T(e),")"))),_1:{ctor:"::",_0:s(ua,{ctor:"::",_0:Gc("done-all"),_1:{ctor:"::",_0:ea(wy),_1:{ctor:"[]"}}},{ctor:"[]"}),_1:{ctor:"::",_0:s(ua,{ctor:"::",_0:Gc("create"),_1:{ctor:"::",_0:ea(by),_1:{ctor:"[]"}}},{ctor:"[]"}),_1:{ctor:"::",_0:s(ua,{ctor:"::",_0:Gc("delete"),_1:{ctor:"::",_0:ea(my),_1:{ctor:"[]"}}},{ctor:"[]"}),_1:{ctor:"::",_0:s(ua,{ctor:"::",_0:Gc("cancel"),_1:{ctor:"::",_0:ea(ky),_1:{ctor:"[]"}}},{ctor:"[]"}),_1:{ctor:"[]"}}}}}})}},dw=function(t){return s(fa,{ctor:"[]"},{ctor:"::",_0:s(aa,{ctor:"[]"},{ctor:"::",_0:s(sa,{ctor:"[]"},{ctor:"::",_0:Nb({ctor:"::",_0:s(ra,{ctor:"::",_0:ea(Vy),_1:{ctor:"[]"}},{ctor:"::",_0:xc("show notification"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}),_1:{ctor:"[]"}})},pw=n(function(t,e,n){return s(Ac,{ctor:"::",_0:Fc("main-view"),_1:{ctor:"[]"}},{ctor:"::",_0:dw(),_1:{ctor:"::",_0:function(){var r=Qy(n);switch(r.ctor){case"GroupByContextView":return s(Zb,t,n);case"GroupByProjectView":return s(Zb,e,n);case"ProjectView":return f(tw,e,r._0,n);case"ContextView":return f(tw,t,r._0,n);case"BinView":default:return ew(n)}}(),_1:{ctor:"[]"}}})}),hw=(e(function(t,e){var n=t;return s(Ac,{ctor:"[]"},{ctor:"::",_0:s(Ac,{ctor:"::",_0:Pc("title"),_1:{ctor:"[]"}},{ctor:"::",_0:xc(n.todoVM.text),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(Ac,{ctor:"::",_0:Pc("col"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Ac,{ctor:"::",_0:Pc("elapsed-time"),_1:{ctor:"[]"}},{ctor:"::",_0:xc(rb(n.elapsedTime)),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(ua,{ctor:"::",_0:Gc("av:pause"),_1:{ctor:"[]"}},{ctor:"[]"}),_1:{ctor:"::",_0:s(ua,{ctor:"::",_0:Gc("av:stop"),_1:{ctor:"::",_0:ea($y),_1:{ctor:"[]"}}},{ctor:"[]"}),_1:{ctor:"::",_0:s(ua,{ctor:"::",_0:Gc("check"),_1:{ctor:"::",_0:ea(Wy),_1:{ctor:"[]"}}},{ctor:"[]"}),_1:{ctor:"[]"}}}}}),_1:{ctor:"[]"}}})}),function(t){return s(Rc,{ctor:"::",_0:s(Nc,"reveals","true"),_1:{ctor:"::",_0:s(Nc,"fixed","true"),_1:{ctor:"::",_0:s(Nc,"condenses","true"),_1:{ctor:"::",_0:s(Nc,"effects","waterfall"),_1:{ctor:"::",_0:s(Nc,"slot","header"),_1:{ctor:"[]"}}}}}},{ctor:"::",_0:s(qc,{ctor:"[]"},{ctor:"::",_0:s(ua,{ctor:"::",_0:Gc("menu"),_1:{ctor:"::",_0:s(Nc,"drawer-toggle","true"),_1:{ctor:"[]"}}},{ctor:"[]"}),_1:{ctor:"::",_0:lw(t),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}})}),_w=function(t){var e=Vm(t),n=e.vmList,r=Km(t),o=r.vmList;return s(Bc,{ctor:"[]"},{ctor:"::",_0:f(sw,r,e,t),_1:{ctor:"::",_0:s(Ic,{ctor:"[]"},{ctor:"::",_0:hw(t),_1:{ctor:"::",_0:f(pw,o,n,t),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}}})},vw=function(t){return s(Ac,{ctor:"[]"},{ctor:"::",_0:_w(t),_1:{ctor:"::",_0:fw(),_1:{ctor:"[]"}}})},gw=Me(wb),yw=function(t){return Me(gb(t))},mw=e(function(t,e){return Me(s(hm,t,e))}),bw=function(t){return Be(function(e){return s(de,s(oc["#"],t.set,e),W_(t.get(e)))})},ww=function(t){return s(bw,bm,s(bw,wm,s(bw,xm,t)))},kw=_e.outgoingPort("startSync",function(t){return[t._0,t._1]}),xw=_e.outgoingPort("showTestNotification",function(t){return t}),Tw=_e.outgoingPort("startAlarm",function(t){return null}),Sw=function(t){return function(e){return s(Be,function(e){return mb(e)?{ctor:"_Tuple2",_0:s(yb,t,e),_1:Tw({ctor:"_Tuple0"})}:Ie(e)},s(Me,Ky(t),e))}},Ew=function(t){return function(e){return ww(function(){var e=t;switch(e.ctor){case"NoOp":return k;case"ToggleNotification":return Me(function(t){return v.update(t,{shouldTriggerNotification:!t.shouldTriggerNotification})});case"ShowNotification":return je(xw("Test Notification"));case"TriggerNotification":return k;case"OnMyPeerIdChanged":return Me(function(t){return v.update(t,{myPeerId:e._0})});case"OnRemotePeerIdChanged":return Me(function(t){return v.update(t,{remotePeerId:e._0})});case"StartSync":return Oe(function(t){return kw({ctor:"_Tuple2",_0:t.myPeerId,_1:t.remotePeerId})});case"ToggleShowDeletedEntity":return Me(function(t){return v.update(t,{showDeleted:!t.showDeleted})});case"FocusPaperInput":return fy(e._0);case"Start":return Me(bb(e._0));case"Stop":return gw;case"MarkRunningTodoDone":return s(tb,xb,function(t){return function(e){return gw(f(mw,{ctor:"::",_0:mg(!0),_1:{ctor:"[]"}},t,e))}});case"ToggleTodoDone":return s(mw,{ctor:"::",_0:pg,_1:{ctor:"[]"}},e._0);case"SetTodoContext":return s(mw,{ctor:"::",_0:_g(e._0),_1:{ctor:"[]"}},e._1);case"CreateTodo":return s(Qm,Yy,function(t){return function(n){return pe(f(dm,e._0,t,n))}});case"StartAddingTodo":return function(t){return ly(s(yw,"",t))};case"NewTodoTextChanged":return yw(e._0);case"DeactivateEditingMode":return Me(ob);case"NewTodoKeyUp":switch(e._1.key.ctor){case"Enter":return function(t){return s(Aw,My,s(Aw,Ly(e._0),t))};case"Escape":return Aw(Ry);default:return k}case"StartEditingTodo":return function(t){return ly(s(Me,vb(e._0),t))};case"EditTodoTextChanged":return Me(s(ab,e._1,e._0))
;case"EditTodoProjectNameChanged":return Me(s(ub,e._1,e._0));case"EditTodoContextNameChanged":return Me(s(ib,e._1,e._0));case"CopyAndEditTodoById":return s(tb,_m(e._0),function(t){return Aw(Dy(t))});case"CopyAndEditTodo":return s(Xm,Yy,function(t){return function(n){return s(y,Ew,s(de,jy,f(pm,e._0,t,n)))}});case"EditTodoKeyUp":switch(e._1.key.ctor){case"Enter":return function(t){return s(Aw,e._1.isShiftDown?Ny(e._0.id):Gy,s(Aw,Oy,t))};case"Escape":return Aw(Ry);default:return k}case"TodoCheckBoxClicked":return Me(Im(e._0));case"SetView":return function(t){return s(Aw,ky,s(Me,Xy(e._0),t))};case"ClearSelection":case"SelectionDoneClicked":return Me(Rm);case"SelectionEditClicked":return s(tb,Bm,function(t){return Aw(jy(t))});case"SelectionTrashClicked":return Me(Rm);case"OnNowChanged":return Sw(e._0);case"OnMsgList":return Cw(e._0);case"OnKeyboardMsg":return Me(s(mm,km,iv(e._0)));case"SaveEditingEntity":return function(t){return s(Aw,Ry,s(Me,db,t))};case"OnEntityAction":var n=e._0,r=e._1;switch(r.ctor){case"StartEditing":return function(t){return ly(s(Me,_b(n),t))};case"NameChanged":return Me(s(hb,r._0,n));case"Save":return Aw(Oy);default:return Me(pb(n))}default:var o=e._0;return s(Zm,um,function(t){switch(t.ctor){case"None":switch(o.ctor){case"CharQ":return Aw(My);case"CharC":return Aw(ky);case"OpenBracket":return je(Tf(1));case"CloseBracket":return je(Sf(1));case"CharG":return Me(om(kg));default:return k}case"SwitchView":return function(t){return function(){return"CharG"===o.ctor?Me(om(wg)):Aw(Ry)}()(function(){switch(o.ctor){case"CharP":return Aw(yy(Kg));case"CharA":return Aw(yy(Zg));case"CharB":return Aw(yy(Yg));case"CharD":return Aw(yy(Xg));default:return k}}()(t))};case"SwitchToGroupedView":return function(t){return s(Aw,Ry,function(){switch(o.ctor){case"CharP":return Aw(yy(Kg));case"CharC":return Aw(yy(Zg));default:return k}}()(t))};default:return"Escape"===o.ctor?Aw(Ry):k}})}}()(Ie(e)))}},Aw=function(t){return Be(Ew(t))},Cw=b(rt(function(t){return Be(Ew(t))})),Ow=(_e.outgoingPort("stopAlarm",function(t){return null}),function(t){return we({ctor:"::",_0:s(oo,1e3,gy),_1:{ctor:"::",_0:uv(_y),_1:{ctor:"::",_0:av(hy),_1:{ctor:"::",_0:s(oo,3e4,Hy),_1:{ctor:"[]"}}}}})}),jw=function(t){var e=t;return Ie(p(zm,e.now,e.encodedTodoList,e.encodedProjectList,e.encodedContextList,e.myPeerId,e.remotePeerId))},Bw=function(t){return Ih(zh(t))}({delta2url:Cb,location2messages:Sb,init:jw,update:Ew,view:vw,subscriptions:Ow})(s(Xn,function(t){return s(Xn,function(e){return s(Xn,function(n){return s(Xn,function(r){return s(Xn,function(o){return s(Xn,function(i){return Zn({encodedContextList:t,encodedProjectList:e,encodedTodoList:n,myPeerId:r,now:o,remotePeerId:i})},s(cr,"remotePeerId",pr))},s(cr,"now",fr))},s(cr,"myPeerId",pr))},s(cr,"encodedTodoList",sr(Yn)))},s(cr,"encodedProjectList",sr(Yn)))},s(cr,"encodedContextList",sr(Yn)))),Rw=(i(function(t,e,n,r,o,i){return{now:t,encodedTodoList:e,encodedProjectList:n,encodedContextList:r,myPeerId:o,remotePeerId:i}}),{});Rw.Main=Rw.Main||{},void 0!==Bw&&Bw(Rw.Main,"Main",void 0);var Iw=function(){};if(t.hot&&function(e){function n(){return++l}function r(t,e){var n=[];for(var o in t){var i=t[o],u=e?e+"."+o:o;"fullscreen"in i?n.push({path:u,module:i}):n=n.concat(r(i,u))}return n}function o(t,e){for(var n=e.split("."),r=t,o=0;o<n.length;++o){var i=n[o];if(i in r&&(r=r[i]),!r)return null}return r}function i(t,e,r,o){var i=n(),u={id:i,path:r,domNode:t,flags:e,portSubscribes:o,elmProxy:null,lastState:null,callbacks:[]};return u.subscribe=function(t){return u.callbacks.push(t),function(){u.callbacks.splice(u.callbacks.indexOf(t),1)}},u.dispatch=function(t){u.callbacks.forEach(function(e){e(t,{flags:u.flags,state:"_0"in u.lastState?u.lastState._0:u.lastState})})},f[i]=u}function u(t,e){var n=e.embed,r=e.fullscreen;e.embed=function(e,r){var o,u={};return p=i(e,r,t,u),o=n(e,r),a(o,u),o=p.elmProxy={ports:o.ports,hot:{subscribe:p.subscribe}},p=null,o},e.fullscreen=function(e){var n,o={};return p=i(document.body,e,t,o),n=r(e),a(n,o),n=p.elmProxy={ports:n.ports,hot:{subscribe:p.subscribe}},p=null,n}}function c(t,e){console.log("[elm-hot] Hot-swapping module: "+e.path),h=e;for(var n=e.domNode;n.lastChild;)n.removeChild(n.lastChild);var r,i=o(t,e.path);if(i){e.dispatch("swap");var u=e.flags;r=e.isFullscreen?i.fullscreen(u):i.embed(n,u),e.elmProxy.ports=r.ports,Object.keys(e.portSubscribes).forEach(function(t){if(t in r.ports&&"subscribe"in r.ports[t]){var n=e.portSubscribes[t];if(!n.length)return;console.log("[elm-hot] Reconnect "+n.length+" handler(s) to port '"+t+"' ("+e.path+")."),n.forEach(function(e){r.ports[t].subscribe(e)})}else delete e.portSubscribes[t],console.log("[elm-hot] Port was removed: "+t)})}else console.log("[elm-hot] Module was removed: "+e.path);h=null}function a(t,e){var n=Object.keys(t.ports||{});return n.length&&n.filter(function(e){return"subscribe"in t.ports[e]}).forEach(function(n){var r=t.ports[n],o=r.subscribe,i=r.unsubscribe;t.ports[n]=Object.assign(r,{subscribe:function(t){return console.log("[elm-hot] ports."+n+".subscribe called."),e[n]?e[n].push(t):e[n]=[t],o.call(r,t)},unsubscribe:function(t){console.log("[elm-hot] ports."+n+".unsubscribe called.");var o=e[n];return o&&o.indexOf(t)!==-1?o.splice(o.lastIndexOf(t),1):console.warn("[elm-hot] ports."+n+".unsubscribe: handler not subscribed"),i.call(r,t)}})}),e}var s=function(){try{if(_e.initialize)return"0.18"}catch(t){}try{if(1===cc.length)return"0.17"}catch(t){}return"unknown"}();if(console.log("[elm-hot] Elm version:",s),"0.17"===s)throw new Error("[elm-hot] Please use elm-hot-loader@0.4.x");if("0.18"!==s)throw new Error("[elm-hot] Elm version not supported.");"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var e=1;e<arguments.length;e++){var n=arguments[e];if(null!=n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t});var f=t.hot.data?t.hot.data.instances||{}:{},l=t.hot.data?t.hot.data.uid||0:0,d=[],p=null,h=null;t.hot.accept(),t.hot.dispose(function(t){if(t.instances=f,t.uid=l,ve.nativeBinding=function(){return ve.fail(new Error("[elm-hot] Inactive Elm instance."))},d.length){console.log("[elm-hot] Killing "+d.length+" running processes...");try{d.forEach(function(t){t()})}catch(t){console.warn("[elm-hot] Kill process error: "+t.message)}}});var _=_e.initialize;_e.initialize=function(t,e,n,r){function o(t){return t&&"object"==typeof t&&"boolean"==typeof t.isDebuggerOpen&&"state"in t}var i=p,u=h,c=!!h,a=!0,s=o(t._0);return h&&(s?t._0.state=h.lastState:t._0=h.lastState),_(t,e,function(t){var e;if(c){c=!1;try{e=n(t)}catch(t){throw new Error("[elm-hot] Hot-swapping is not possible, please reload page. Error: "+t.message)}}else e=n(t);return i?o(t)?i.lastState=t.state:i.lastState=t:i=u,a=!1,e},r)};var v=ve.nativeBinding;ve.nativeBinding=function(){var t=v.apply(this,arguments),e=t.callback;return t.callback=function(){var t=e.apply(this,arguments);return t?(d.push(t),function(){return d.splice(d.indexOf(t),1),t()}):t},t},Iw=function(t){var e=[];for(var n in f){var o=f[n];o.domNode.parentNode?c(t,o):e.push(n)}e.forEach(function(t){delete o[t]}),r(t).forEach(function(t){u(t.path,t.module)})}}(),Iw(Rw),"function"==typeof define&&define.amd)return void define([],function(){return Rw});if("object"==typeof t)return void(t.exports=Rw);var qw=this.Elm;if(void 0===qw)return void(this.Elm=Rw);for(var Mw in Rw){if(Mw in qw)throw new Error("There are two Elm modules called `"+Mw+"` on this page! Rename one of them.");qw[Mw]=Rw[Mw]}}).call(this)},function(t,e,n){(function(n){var r,o;!function(){"use strict";var i=function(){this.init()};i.prototype={init:function(){var t=this||u;return t._counter=0,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.mobileAutoEnable=!0,t._setup(),t},volume:function(t){var e=this||u;if(t=parseFloat(t),e.ctx||h(),void 0!==t&&t>=0&&t<=1){if(e._volume=t,e._muted)return e;e.usingWebAudio&&(e.masterGain.gain.value=t);for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var r=e._howls[n]._getSoundIds(),o=0;o<r.length;o++){var i=e._howls[n]._soundById(r[o]);i&&i._node&&(i._node.volume=i._volume*t)}return e}return e._volume},mute:function(t){var e=this||u;e.ctx||h(),e._muted=t,e.usingWebAudio&&(e.masterGain.gain.value=t?0:e._volume);for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var r=e._howls[n]._getSoundIds(),o=0;o<r.length;o++){var i=e._howls[n]._soundById(r[o]);i&&i._node&&(i._node.muted=!!t||i._muted)}return e},unload:function(){for(var t=this||u,e=t._howls.length-1;e>=0;e--)t._howls[e].unload();return t.usingWebAudio&&t.ctx&&void 0!==t.ctx.close&&(t.ctx.close(),t.ctx=null,h()),t},codecs:function(t){return(this||u)._codecs[t.replace(/^x-/,"")]},_setup:function(){var t=this||u;if(t.state=t.ctx?t.ctx.state||"running":"running",t._autoSuspend(),!t.usingWebAudio)if("undefined"!=typeof Audio)try{var e=new Audio;void 0===e.oncanplaythrough&&(t._canPlayEvent="canplay")}catch(e){t.noAudio=!0}else t.noAudio=!0;try{var e=new Audio;e.muted&&(t.noAudio=!0)}catch(t){}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||u,e=null;try{e="undefined"!=typeof Audio?new Audio:null}catch(e){return t}if(!e||"function"!=typeof e.canPlayType)return t;var n=e.canPlayType("audio/mpeg;").replace(/^no$/,""),r=t._navigator&&t._navigator.userAgent.match(/OPR\/([0-6].)/g),o=r&&parseInt(r[0].split("/")[1],10)<33;return t._codecs={mp3:!(o||!n&&!e.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!e.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!e.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(e.canPlayType("audio/x-mp4;")||e.canPlayType("audio/mp4;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(e.canPlayType("audio/x-flac;")||e.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_enableMobileAudio:function(){var t=this||u,e=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(t._navigator&&t._navigator.userAgent),n=!!("ontouchend"in window||t._navigator&&t._navigator.maxTouchPoints>0||t._navigator&&t._navigator.msMaxTouchPoints>0);if(!t._mobileEnabled&&t.ctx&&(e||n)){t._mobileEnabled=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var r=function(){var e=t.ctx.createBufferSource();e.buffer=t._scratchBuffer,e.connect(t.ctx.destination),void 0===e.start?e.noteOn(0):e.start(0),e.onended=function(){e.disconnect(0),t._mobileEnabled=!0,t.mobileAutoEnable=!1,document.removeEventListener("touchend",r,!0)}};return document.addEventListener("touchend",r,!0),t}},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&void 0!==t.ctx.suspend&&u.usingWebAudio){for(var e=0;e<t._howls.length;e++)if(t._howls[e]._webAudio)for(var n=0;n<t._howls[e]._sounds.length;n++)if(!t._howls[e]._sounds[n]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout(function(){t.autoSuspend&&(t._suspendTimer=null,t.state="suspending",t.ctx.suspend().then(function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())}))},3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&void 0!==t.ctx.resume&&u.usingWebAudio)return"running"===t.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state?(t.state="resuming",t.ctx.resume().then(function(){t.state="running";for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("resume")}),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var u=new i,c=function(t){var e=this;if(!t.src||0===t.src.length)return void console.error("An array of source files must be passed with any new Howl.");e.init(t)};c.prototype={init:function(t){var e=this;return u.ctx||h(),e._autoplay=t.autoplay||!1,e._format="string"!=typeof t.format?t.format:[t.format],e._html5=t.html5||!1,e._muted=t.mute||!1,e._loop=t.loop||!1,e._pool=t.pool||5,e._preload="boolean"!=typeof t.preload||t.preload,e._rate=t.rate||1,e._sprite=t.sprite||{},e._src="string"!=typeof t.src?t.src:[t.src],e._volume=void 0!==t.volume?t.volume:1,e._duration=0,e._state="unloaded",e._sounds=[],e._endTimers={},e._queue=[],e._onend=t.onend?[{fn:t.onend}]:[],e._onfade=t.onfade?[{fn:t.onfade}]:[],e._onload=t.onload?[{fn:t.onload}]:[],e._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],e._onpause=t.onpause?[{fn:t.onpause}]:[],e._onplay=t.onplay?[{fn:t.onplay}]:[],e._onstop=t.onstop?[{fn:t.onstop}]:[],e._onmute=t.onmute?[{fn:t.onmute}]:[],e._onvolume=t.onvolume?[{fn:t.onvolume}]:[],e._onrate=t.onrate?[{fn:t.onrate}]:[],e._onseek=t.onseek?[{fn:t.onseek}]:[],e._onresume=[],e._webAudio=u.usingWebAudio&&!e._html5,void 0!==u.ctx&&u.ctx&&u.mobileAutoEnable&&u._enableMobileAudio(),u._howls.push(e),e._autoplay&&e._queue.push({event:"play",action:function(){e.play()}}),e._preload&&e.load(),e},load:function(){var t=this,e=null;if(u.noAudio)return void t._emit("loaderror",null,"No audio support.");"string"==typeof t._src&&(t._src=[t._src]);for(var n=0;n<t._src.length;n++){var r,o;if(t._format&&t._format[n])r=t._format[n];else{if("string"!=typeof(o=t._src[n])){t._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}r=/^data:audio\/([^;,]+);/i.exec(o),r||(r=/\.([^.]+)$/.exec(o.split("?",1)[0])),r&&(r=r[1].toLowerCase())}if(r||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),r&&u.codecs(r)){e=t._src[n];break}}return e?(t._src=e,t._state="loading","https:"===window.location.protocol&&"http:"===e.slice(0,5)&&(t._html5=!0,t._webAudio=!1),new a(t),t._webAudio&&f(t),t):void t._emit("loaderror",null,"No codec support for selected audio sources.")},play:function(t,e){var n=this,r=null;if("number"==typeof t)r=t,t=null;else{if("string"==typeof t&&"loaded"===n._state&&!n._sprite[t])return null;if(void 0===t){t="__default";for(var o=0,i=0;i<n._sounds.length;i++)n._sounds[i]._paused&&!n._sounds[i]._ended&&(o++,r=n._sounds[i]._id);1===o?t=null:r=null}}var c=r?n._soundById(r):n._inactiveSound();if(!c)return null;if(r&&!t&&(t=c._sprite||"__default"),"loaded"!==n._state&&!n._sprite[t])return n._queue.push({event:"play",action:function(){n.play(n._soundById(c._id)?c._id:void 0)}}),c._id;if(r&&!c._paused)return e||setTimeout(function(){n._emit("play",c._id)},0),c._id;n._webAudio&&u._autoResume();var a=Math.max(0,c._seek>0?c._seek:n._sprite[t][0]/1e3),s=Math.max(0,(n._sprite[t][0]+n._sprite[t][1])/1e3-a),f=1e3*s/Math.abs(c._rate);c._paused=!1,c._ended=!1,c._sprite=t,c._seek=a,c._start=n._sprite[t][0]/1e3,c._stop=(n._sprite[t][0]+n._sprite[t][1])/1e3,c._loop=!(!c._loop&&!n._sprite[t][2]);var l=c._node;if(n._webAudio){var d=function(){n._refreshBuffer(c);var t=c._muted||n._muted?0:c._volume;l.gain.setValueAtTime(t,u.ctx.currentTime),c._playStart=u.ctx.currentTime,void 0===l.bufferSource.start?c._loop?l.bufferSource.noteGrainOn(0,a,86400):l.bufferSource.noteGrainOn(0,a,s):c._loop?l.bufferSource.start(0,a,86400):l.bufferSource.start(0,a,s),1/0!==f&&(n._endTimers[c._id]=setTimeout(n._ended.bind(n,c),f)),e||setTimeout(function(){n._emit("play",c._id)},0)},p="running"===u.state;if("loaded"===n._state&&p)d();else{var h=p||"loaded"!==n._state?"load":"resume";n.once(h,d,p?c._id:null),n._clearTimer(c._id)}}else{var _=function(){l.currentTime=a,l.muted=c._muted||n._muted||u._muted||l.muted,l.volume=c._volume*u.volume(),l.playbackRate=c._rate,l.play(),1/0!==f&&(n._endTimers[c._id]=setTimeout(n._ended.bind(n,c),f)),e||n._emit("play",c._id)},v="loaded"===n._state&&(window&&window.ejecta||!l.readyState&&u._navigator.isCocoonJS);if(4===l.readyState||v)_();else{var g=function(){_(),l.removeEventListener(u._canPlayEvent,g,!1)};l.addEventListener(u._canPlayEvent,g,!1),n._clearTimer(c._id)}}return c._id},pause:function(t){var e=this;if("loaded"!==e._state)return e._queue.push({event:"pause",action:function(){e.pause(t)}}),e;for(var n=e._getSoundIds(t),r=0;r<n.length;r++){e._clearTimer(n[r]);var o=e._soundById(n[r]);if(o&&!o._paused&&(o._seek=e.seek(n[r]),o._rateSeek=0,o._paused=!0,e._stopFade(n[r]),o._node))if(e._webAudio){if(!o._node.bufferSource)return e;void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),e._cleanBuffer(o._node)}else isNaN(o._node.duration)&&1/0!==o._node.duration||o._node.pause();arguments[1]||e._emit("pause",o?o._id:null)}return e},stop:function(t,e){var n=this;if("loaded"!==n._state)return n._queue.push({event:"stop",action:function(){n.stop(t)}}),n;for(var r=n._getSoundIds(t),o=0;o<r.length;o++){n._clearTimer(r[o]);var i=n._soundById(r[o]);if(i&&(i._seek=i._start||0,i._rateSeek=0,i._paused=!0,i._ended=!0,n._stopFade(r[o]),i._node))if(n._webAudio){if(!i._node.bufferSource)return e||n._emit("stop",i._id),n;void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),n._cleanBuffer(i._node)}else isNaN(i._node.duration)&&1/0!==i._node.duration||(i._node.currentTime=i._start||0,i._node.pause());i&&!e&&n._emit("stop",i._id)}return n},mute:function(t,e){var n=this;if("loaded"!==n._state)return n._queue.push({event:"mute",action:function(){n.mute(t,e)}}),n;if(void 0===e){if("boolean"!=typeof t)return n._muted;n._muted=t}for(var r=n._getSoundIds(e),o=0;o<r.length;o++){var i=n._soundById(r[o]);i&&(i._muted=t,n._webAudio&&i._node?i._node.gain.setValueAtTime(t?0:i._volume,u.ctx.currentTime):i._node&&(i._node.muted=!!u._muted||t),n._emit("mute",i._id))}return n},volume:function(){var t,e,n=this,r=arguments;if(0===r.length)return n._volume;1===r.length||2===r.length&&void 0===r[1]?n._getSoundIds().indexOf(r[0])>=0?e=parseInt(r[0],10):t=parseFloat(r[0]):r.length>=2&&(t=parseFloat(r[0]),e=parseInt(r[1],10));var o;if(!(void 0!==t&&t>=0&&t<=1))return o=e?n._soundById(e):n._sounds[0],o?o._volume:0;if("loaded"!==n._state)return n._queue.push({event:"volume",action:function(){n.volume.apply(n,r)}}),n;void 0===e&&(n._volume=t),e=n._getSoundIds(e);for(var i=0;i<e.length;i++)(o=n._soundById(e[i]))&&(o._volume=t,r[2]||n._stopFade(e[i]),n._webAudio&&o._node&&!o._muted?o._node.gain.setValueAtTime(t,u.ctx.currentTime):o._node&&!o._muted&&(o._node.volume=t*u.volume()),n._emit("volume",o._id));return n},fade:function(t,e,n,r){var o=this,i=Math.abs(t-e),c=t>e?"out":"in",a=i/.01,s=a>0?n/a:n;if(s<4&&(a=Math.ceil(a/(4/s)),s=4),"loaded"!==o._state)return o._queue.push({event:"fade",action:function(){o.fade(t,e,n,r)}}),o;o.volume(t,r);for(var f=o._getSoundIds(r),l=0;l<f.length;l++){var d=o._soundById(f[l]);if(d){if(r||o._stopFade(f[l]),o._webAudio&&!d._muted){var p=u.ctx.currentTime,h=p+n/1e3;d._volume=t,d._node.gain.setValueAtTime(t,p),d._node.gain.linearRampToValueAtTime(e,h)}var _=t;d._interval=setInterval(function(n,i){a>0&&(_+="in"===c?.01:-.01),_=Math.max(0,_),_=Math.min(1,_),_=Math.round(100*_)/100,o._webAudio?(void 0===r&&(o._volume=_),i._volume=_):o.volume(_,n,!0),(e<t&&_<=e||e>t&&_>=e)&&(clearInterval(i._interval),i._interval=null,o.volume(e,n),o._emit("fade",n))}.bind(o,f[l],d),s)}}return o},_stopFade:function(t){var e=this,n=e._soundById(t);return n&&n._interval&&(e._webAudio&&n._node.gain.cancelScheduledValues(u.ctx.currentTime),clearInterval(n._interval),n._interval=null,e._emit("fade",t)),e},loop:function(){var t,e,n,r=this,o=arguments;if(0===o.length)return r._loop;if(1===o.length){if("boolean"!=typeof o[0])return!!(n=r._soundById(parseInt(o[0],10)))&&n._loop;t=o[0],r._loop=t}else 2===o.length&&(t=o[0],e=parseInt(o[1],10));for(var i=r._getSoundIds(e),u=0;u<i.length;u++)(n=r._soundById(i[u]))&&(n._loop=t,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=t,t&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop)));return r},rate:function(){var t,e,n=this,r=arguments;if(0===r.length)e=n._sounds[0]._id;else if(1===r.length){var o=n._getSoundIds(),i=o.indexOf(r[0]);i>=0?e=parseInt(r[0],10):t=parseFloat(r[0])}else 2===r.length&&(t=parseFloat(r[0]),e=parseInt(r[1],10));var c;if("number"!=typeof t)return c=n._soundById(e),c?c._rate:n._rate;if("loaded"!==n._state)return n._queue.push({event:"rate",action:function(){n.rate.apply(n,r)}}),n;void 0===e&&(n._rate=t),e=n._getSoundIds(e);for(var a=0;a<e.length;a++)if(c=n._soundById(e[a])){c._rateSeek=n.seek(e[a]),c._playStart=n._webAudio?u.ctx.currentTime:c._playStart,c._rate=t,n._webAudio&&c._node&&c._node.bufferSource?c._node.bufferSource.playbackRate.value=t:c._node&&(c._node.playbackRate=t);var s=n.seek(e[a]),f=(n._sprite[c._sprite][0]+n._sprite[c._sprite][1])/1e3-s,l=1e3*f/Math.abs(c._rate);!n._endTimers[e[a]]&&c._paused||(n._clearTimer(e[a]),n._endTimers[e[a]]=setTimeout(n._ended.bind(n,c),l)),n._emit("rate",c._id)}return n},seek:function(){var t,e,n=this,r=arguments;if(0===r.length)e=n._sounds[0]._id;else if(1===r.length){var o=n._getSoundIds(),i=o.indexOf(r[0]);i>=0?e=parseInt(r[0],10):(e=n._sounds[0]._id,t=parseFloat(r[0]))}else 2===r.length&&(t=parseFloat(r[0]),e=parseInt(r[1],10));if(void 0===e)return n;if("loaded"!==n._state)return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var c=n._soundById(e);if(c){if(!("number"==typeof t&&t>=0)){if(n._webAudio){var a=n.playing(e)?u.ctx.currentTime-c._playStart:0,s=c._rateSeek?c._rateSeek-c._seek:0;return c._seek+(s+a*Math.abs(c._rate))}return c._node.currentTime}var f=n.playing(e);f&&n.pause(e,!0),c._seek=t,c._ended=!1,n._clearTimer(e),f&&n.play(e,!0),!n._webAudio&&c._node&&(c._node.currentTime=t),n._emit("seek",e)}return n},playing:function(t){var e=this;if("number"==typeof t){var n=e._soundById(t);return!!n&&!n._paused}for(var r=0;r<e._sounds.length;r++)if(!e._sounds[r]._paused)return!0;return!1},duration:function(t){var e=this,n=e._duration,r=e._soundById(t);return r&&(n=e._sprite[r._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var t=this,e=t._sounds,n=0;n<e.length;n++){e[n]._paused||t.stop(e[n]._id),t._webAudio||(e[n]._node.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA",e[n]._node.removeEventListener("error",e[n]._errorFn,!1),e[n]._node.removeEventListener(u._canPlayEvent,e[n]._loadFn,!1)),delete e[n]._node,t._clearTimer(e[n]._id);var r=u._howls.indexOf(t);r>=0&&u._howls.splice(r,1)}var o=!0;for(n=0;n<u._howls.length;n++)if(u._howls[n]._src===t._src){o=!1;break}return s&&o&&delete s[t._src],u.noAudio=!1,t._state="unloaded",t._sounds=[],t=null,null},on:function(t,e,n,r){var o=this,i=o["_on"+t];return"function"==typeof e&&i.push(r?{id:n,fn:e,once:r}:{id:n,fn:e}),o},off:function(t,e,n){var r=this,o=r["_on"+t],i=0;if(e){for(i=0;i<o.length;i++)if(e===o[i].fn&&n===o[i].id){o.splice(i,1);break}}else if(t)r["_on"+t]=[];else{var u=Object.keys(r);for(i=0;i<u.length;i++)0===u[i].indexOf("_on")&&Array.isArray(r[u[i]])&&(r[u[i]]=[])}return r},once:function(t,e,n){var r=this;return r.on(t,e,n,1),r},_emit:function(t,e,n){for(var r=this,o=r["_on"+t],i=o.length-1;i>=0;i--)o[i].id&&o[i].id!==e&&"load"!==t||(setTimeout(function(t){t.call(this,e,n)}.bind(r,o[i].fn),0),o[i].once&&r.off(t,o[i].fn,o[i].id));return r},_loadQueue:function(){var t=this;if(t._queue.length>0){var e=t._queue[0];t.once(e.event,function(){t._queue.shift(),t._loadQueue()}),e.action()}return t},_ended:function(t){var e=this,n=t._sprite,r=!(!t._loop&&!e._sprite[n][2]);if(e._emit("end",t._id),!e._webAudio&&r&&e.stop(t._id,!0).play(t._id),e._webAudio&&r){e._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=u.ctx.currentTime;var o=1e3*(t._stop-t._start)/Math.abs(t._rate);e._endTimers[t._id]=setTimeout(e._ended.bind(e,t),o)}return e._webAudio&&!r&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,e._clearTimer(t._id),e._cleanBuffer(t._node),u._autoSuspend()),e._webAudio||r||e.stop(t._id),e},_clearTimer:function(t){var e=this;return e._endTimers[t]&&(clearTimeout(e._endTimers[t]),delete e._endTimers[t]),e},_soundById:function(t){for(var e=this,n=0;n<e._sounds.length;n++)if(t===e._sounds[n]._id)return e._sounds[n];return null},_inactiveSound:function(){var t=this;t._drain();for(var e=0;e<t._sounds.length;e++)if(t._sounds[e]._ended)return t._sounds[e].reset();return new a(t)},_drain:function(){var t=this,e=t._pool,n=0,r=0;if(!(t._sounds.length<e)){for(r=0;r<t._sounds.length;r++)t._sounds[r]._ended&&n++;for(r=t._sounds.length-1;r>=0;r--){if(n<=e)return;t._sounds[r]._ended&&(t._webAudio&&t._sounds[r]._node&&t._sounds[r]._node.disconnect(0),t._sounds.splice(r,1),n--)}}},_getSoundIds:function(t){var e=this;if(void 0===t){for(var n=[],r=0;r<e._sounds.length;r++)n.push(e._sounds[r]._id);return n}return[t]},_refreshBuffer:function(t){var e=this;return t._node.bufferSource=u.ctx.createBufferSource(),t._node.bufferSource.buffer=s[e._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop),t._node.bufferSource.playbackRate.value=t._rate,e},_cleanBuffer:function(t){var e=this;if(e._scratchBuffer){t.bufferSource.onended=null,t.bufferSource.disconnect(0);try{t.bufferSource.buffer=e._scratchBuffer}catch(t){}}return t.bufferSource=null,e}};var a=function(t){this._parent=t,this.init()};a.prototype={init:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._muted=e._muted,t._rate=e._rate,t._seek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++u._counter,e._sounds.push(t),t.create(),t},create:function(){var t=this,e=t._parent,n=u._muted||t._muted||t._parent._muted?0:t._volume;return e._webAudio?(t._node=void 0===u.ctx.createGain?u.ctx.createGainNode():u.ctx.createGain(),t._node.gain.setValueAtTime(n,u.ctx.currentTime),t._node.paused=!0,t._node.connect(u.masterGain)):(t._node=new Audio,t._errorFn=t._errorListener.bind(t),t._node.addEventListener("error",t._errorFn,!1),t._loadFn=t._loadListener.bind(t),t._node.addEventListener(u._canPlayEvent,t._loadFn,!1),t._node.src=e._src,t._node.preload="auto",t._node.volume=n*u.volume(),t._node.load()),t},reset:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._muted=e._muted,t._rate=e._rate,t._seek=0,t._rateSeek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++u._counter,t},_errorListener:function(){var t=this;t._parent._emit("loaderror",t._id,t._node.error?t._node.error.code:0),t._node.removeEventListener("error",t._errorListener,!1)},_loadListener:function(){var t=this,e=t._parent;e._duration=Math.ceil(10*t._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),t._node.removeEventListener(u._canPlayEvent,t._loadFn,!1)}};var s={},f=function(t){var e=t._src;if(s[e])return t._duration=s[e].duration,void p(t);if(/^data:[^;]+;base64,/.test(e)){for(var n=atob(e.split(",")[1]),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);d(r.buffer,t)}else{var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer",i.onload=function(){var e=(i.status+"")[0];if("0"!==e&&"2"!==e&&"3"!==e)return void t._emit("loaderror",null,"Failed loading audio file with status: "+i.status+".");d(i.response,t)},i.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete s[e],t.load())},l(i)}},l=function(t){try{t.send()}catch(e){t.onerror()}},d=function(t,e){u.ctx.decodeAudioData(t,function(t){t&&e._sounds.length>0&&(s[e._src]=t,p(e,t))},function(){e._emit("loaderror",null,"Decoding audio data failed.")})},p=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue())},h=function(){try{"undefined"!=typeof AudioContext?u.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?u.ctx=new webkitAudioContext:u.usingWebAudio=!1}catch(t){u.usingWebAudio=!1}var t=/iP(hone|od|ad)/.test(u._navigator&&u._navigator.platform),e=u._navigator&&u._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=e?parseInt(e[1],10):null;if(t&&n&&n<9){var r=/safari/.test(u._navigator&&u._navigator.userAgent.toLowerCase());(u._navigator&&u._navigator.standalone&&!r||u._navigator&&!u._navigator.standalone&&!r)&&(u.usingWebAudio=!1)}u.usingWebAudio&&(u.masterGain=void 0===u.ctx.createGain?u.ctx.createGainNode():u.ctx.createGain(),u.masterGain.gain.value=1,u.masterGain.connect(u.ctx.destination)),u._setup()};r=[],void 0!==(o=function(){return{Howler:u,Howl:c}}.apply(e,r))&&(t.exports=o),e.Howler=u,e.Howl=c,"undefined"!=typeof window?(window.HowlerGlobal=i,window.Howler=u,window.Howl=c,window.Sound=a):void 0!==n&&(n.HowlerGlobal=i,n.Howler=u,n.Howl=c,n.Sound=a)}(),function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var e=this;if(!e.ctx||!e.ctx.listener)return e;for(var n=e._howls.length-1;n>=0;n--)e._howls[n].stereo(t);return e},HowlerGlobal.prototype.pos=function(t,e,n){var r=this;return r.ctx&&r.ctx.listener?(e="number"!=typeof e?r._pos[1]:e,n="number"!=typeof n?r._pos[2]:n,"number"!=typeof t?r._pos:(r._pos=[t,e,n],r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]),r)):r},HowlerGlobal.prototype.orientation=function(t,e,n,r,o,i){var u=this;if(!u.ctx||!u.ctx.listener)return u;var c=u._orientation;return e="number"!=typeof e?c[1]:e,n="number"!=typeof n?c[2]:n,r="number"!=typeof r?c[3]:r,o="number"!=typeof o?c[4]:o,i="number"!=typeof i?c[5]:i,"number"!=typeof t?c:(u._orientation=[t,e,n,r,o,i],u.ctx.listener.setOrientation(t,e,n,r,o,i),u)},Howl.prototype.init=function(t){return function(e){var n=this;return n._orientation=e.orientation||[1,0,0],n._stereo=e.stereo||null,n._pos=e.pos||null,n._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:0,distanceModel:void 0!==e.distanceModel?e.distanceModel:"inverse",maxDistance:void 0!==e.maxDistance?e.maxDistance:1e4,panningModel:void 0!==e.panningModel?e.panningModel:"HRTF",refDistance:void 0!==e.refDistance?e.refDistance:1,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:1},n._onstereo=e.onstereo?[{fn:e.onstereo}]:[],n._onpos=e.onpos?[{fn:e.onpos}]:[],n._onorientation=e.onorientation?[{fn:e.onorientation}]:[],t.call(this,e)}}(Howl.prototype.init),Howl.prototype.stereo=function(e,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(e,n)}}),r;var o=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof e)return r._stereo;r._stereo=e,r._pos=[e,0,0]}for(var i=r._getSoundIds(n),u=0;u<i.length;u++){var c=r._soundById(i[u]);if(c){if("number"!=typeof e)return c._stereo;c._stereo=e,c._pos=[e,0,0],c._node&&(c._pannerAttr.panningModel="equalpower",c._panner&&c._panner.pan||t(c,o),"spatial"===o?c._panner.setPosition(e,0,0):c._panner.pan.value=e),r._emit("stereo",c._id)}}return r},Howl.prototype.pos=function(e,n,r,o){var i=this;if(!i._webAudio)return i
;if("loaded"!==i._state)return i._queue.push({event:"pos",action:function(){i.pos(e,n,r,o)}}),i;if(n="number"!=typeof n?0:n,r="number"!=typeof r?-.5:r,void 0===o){if("number"!=typeof e)return i._pos;i._pos=[e,n,r]}for(var u=i._getSoundIds(o),c=0;c<u.length;c++){var a=i._soundById(u[c]);if(a){if("number"!=typeof e)return a._pos;a._pos=[e,n,r],a._node&&(a._panner&&!a._panner.pan||t(a,"spatial"),a._panner.setPosition(e,n,r)),i._emit("pos",a._id)}}return i},Howl.prototype.orientation=function(e,n,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"orientation",action:function(){i.orientation(e,n,r,o)}}),i;if(n="number"!=typeof n?i._orientation[1]:n,r="number"!=typeof r?i._orientation[2]:r,void 0===o){if("number"!=typeof e)return i._orientation;i._orientation=[e,n,r]}for(var u=i._getSoundIds(o),c=0;c<u.length;c++){var a=i._soundById(u[c]);if(a){if("number"!=typeof e)return a._orientation;a._orientation=[e,n,r],a._node&&(a._panner||(a._pos||(a._pos=i._pos||[0,0,-.5]),t(a,"spatial")),a._panner.setOrientation(e,n,r)),i._emit("orientation",a._id)}}return i},Howl.prototype.pannerAttr=function(){var e,n,r,o=this,i=arguments;if(!o._webAudio)return o;if(0===i.length)return o._pannerAttr;if(1===i.length){if("object"!=typeof i[0])return r=o._soundById(parseInt(i[0],10)),r?r._pannerAttr:o._pannerAttr;e=i[0],void 0===n&&(o._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:o._coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:o._coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:o._coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:o._distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:o._maxDistance,panningModel:void 0!==e.panningModel?e.panningModel:o._panningModel,refDistance:void 0!==e.refDistance?e.refDistance:o._refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:o._rolloffFactor})}else 2===i.length&&(e=i[0],n=parseInt(i[1],10));for(var u=o._getSoundIds(n),c=0;c<u.length;c++)if(r=o._soundById(u[c])){var a=r._pannerAttr;a={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:a.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:a.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:a.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:a.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:a.maxDistance,panningModel:void 0!==e.panningModel?e.panningModel:a.panningModel,refDistance:void 0!==e.refDistance?e.refDistance:a.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:a.rolloffFactor};var s=r._panner;s?(s.coneInnerAngle=a.coneInnerAngle,s.coneOuterAngle=a.coneOuterAngle,s.coneOuterGain=a.coneOuterGain,s.distanceModel=a.distanceModel,s.maxDistance=a.maxDistance,s.panningModel=a.panningModel,s.refDistance=a.refDistance,s.rolloffFactor=a.rolloffFactor):(r._pos||(r._pos=o._pos||[0,0,-.5]),t(r,"spatial"))}return o},Sound.prototype.init=function(t){return function(){var e=this,n=e._parent;e._orientation=n._orientation,e._stereo=n._stereo,e._pos=n._pos,e._pannerAttr=n._pannerAttr,t.call(this),e._stereo?n.stereo(e._stereo):e._pos&&n.pos(e._pos[0],e._pos[1],e._pos[2],e._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var e=this,n=e._parent;return e._orientation=n._orientation,e._pos=n._pos,e._pannerAttr=n._pannerAttr,t.call(this)}}(Sound.prototype.reset);var t=function(t,e){e=e||"spatial","spatial"===e?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.panningModel=t._pannerAttr.panningModel,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.value=t._stereo),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id)}}()}).call(e,n(30))},function(t,e){e.read=function(t,e,n,r,o){var i,u,c=8*o-r-1,a=(1<<c)-1,s=a>>1,f=-7,l=n?o-1:0,d=n?-1:1,p=t[e+l];for(l+=d,i=p&(1<<-f)-1,p>>=-f,f+=c;f>0;i=256*i+t[e+l],l+=d,f-=8);for(u=i&(1<<-f)-1,i>>=-f,f+=r;f>0;u=256*u+t[e+l],l+=d,f-=8);if(0===i)i=1-s;else{if(i===a)return u?0/0:1/0*(p?-1:1);u+=Math.pow(2,r),i-=s}return(p?-1:1)*u*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var u,c,a,s=8*i-o-1,f=(1<<s)-1,l=f>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,h=r?1:-1,_=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(c=isNaN(e)?1:0,u=f):(u=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-u))<1&&(u--,a*=2),e+=u+l>=1?d/a:d*Math.pow(2,1-l),e*a>=2&&(u++,a/=2),u+l>=f?(c=0,u=f):u+l>=1?(c=(e*a-1)*Math.pow(2,o),u+=l):(c=e*Math.pow(2,l-1)*Math.pow(2,o),u=0));o>=8;t[n+p]=255&c,p+=h,c/=256,o-=8);for(u=u<<o|c,s+=o;s>0;t[n+p]=255&u,p+=h,u/=256,s-=8);t[n+p-h]|=128*_}},function(t,e){var n=Array.isArray,r=Object.prototype.toString;t.exports=n||function(t){return!!t&&"[object Array]"==r.call(t)}},function(t,e){function n(t,e,n,o){return JSON.stringify(t,r(e,o),n)}function r(t,e){var n=[],r=[];return null==e&&(e=function(t,e){return n[0]===e?"[Circular ~]":"[Circular ~."+r.slice(0,n.indexOf(e)).join(".")+"]"}),function(o,i){if(n.length>0){var u=n.indexOf(this);~u?n.splice(u+1):n.push(this),~u?r.splice(u,1/0,o):r.push(o),~n.indexOf(i)&&(i=e.call(this,o,i))}else n.push(i);return null==t?i:t.call(this,o,i)}}e=t.exports=n,e.getSerialize=r},function(t,e,n){(function(e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function r(t,e){for(var n=-1,r=t?t.length:0,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function o(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function i(t,e,n,r,u){var c=-1,s=t.length;for(n||(n=a),u||(u=[]);++c<s;){var f=t[c];e>0&&n(f)?e>1?i(f,e-1,n,r,u):o(u,f):r||(u[u.length]=f)}return u}function u(t,e){return t=Object(t),c(t,e,function(e,n){return n in t})}function c(t,e,n){for(var r=-1,o=e.length,i={};++r<o;){var u=e[r],c=t[u];n(c,u)&&(i[u]=c)}return i}function a(t){return q(t)||f(t)||!!(R&&t&&t[R])}function s(t){if("string"==typeof t||g(t))return t;var e=t+"";return"0"==e&&1/t==-y?"-0":e}function f(t){return d(t)&&C.call(t,"callee")&&(!B.call(t,"callee")||O.call(t)==b)}function l(t){return null!=t&&h(t.length)&&!p(t)}function d(t){return v(t)&&l(t)}function p(t){var e=_(t)?O.call(t):"";return e==w||e==k}function h(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=m}function _(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function v(t){return!!t&&"object"==typeof t}function g(t){return"symbol"==typeof t||v(t)&&O.call(t)==x}var y=1/0,m=9007199254740991,b="[object Arguments]",w="[object Function]",k="[object GeneratorFunction]",x="[object Symbol]",T="object"==typeof e&&e&&e.Object===Object&&e,S="object"==typeof self&&self&&self.Object===Object&&self,E=T||S||Function("return this")(),A=Object.prototype,C=A.hasOwnProperty,O=A.toString,j=E.Symbol,B=A.propertyIsEnumerable,R=j?j.isConcatSpreadable:void 0,I=Math.max,q=Array.isArray,M=function(t,e){return e=I(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=I(r.length-e,0),u=Array(i);++o<i;)u[o]=r[e+o];o=-1;for(var c=Array(e+1);++o<e;)c[o]=r[o];return c[e]=u,n(t,this,c)}}(function(t,e){return null==t?{}:u(t,r(i(e,1),s))});t.exports=M}).call(e,n(30))},function(t,e){e.endianness=function(){return"LE"},e.hostname=function(){return"undefined"!=typeof location?location.hostname:""},e.loadavg=function(){return[]},e.uptime=function(){return 0},e.freemem=function(){return Number.MAX_VALUE},e.totalmem=function(){return Number.MAX_VALUE},e.cpus=function(){return[]},e.type=function(){return"Browser"},e.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},e.networkInterfaces=e.getNetworkInterfaces=function(){return{}},e.arch=function(){return"javascript"},e.platform=function(){return"browser"},e.tmpdir=e.tmpDir=function(){return"/tmp"},e.EOL="\n"},function(t,e,n){function r(t,e,n){if(!(this instanceof r))return new r(t,e,n);i.call(this),this.options=o.extend({serialization:"binary",reliable:!1},n),this.open=!1,this.type="data",this.peer=t,this.provider=e,this.id=this.options.connectionId||r._idPrefix+o.randomToken(),this.label=this.options.label||this.id,this.metadata=this.options.metadata,this.serialization=this.options.serialization,this.reliable=this.options.reliable,this._buffer=[],this._buffering=!1,this.bufferSize=0,this._chunkedData={},this.options._payload&&(this._peerBrowser=this.options._payload.browser),u.startConnection(this,this.options._payload||{originator:!0})}var o=n(79),i=n(98),u=n(204),c=n(713);o.inherits(r,i),r._idPrefix="dc_",r.prototype.initialize=function(t){this._dc=this.dataChannel=t,this._configureDataChannel()},r.prototype._configureDataChannel=function(){var t=this;o.supports.sctp&&(this._dc.binaryType="arraybuffer"),this._dc.onopen=function(){o.log("Data channel connection success"),t.open=!0,t.emit("open")},!o.supports.sctp&&this.reliable&&(this._reliable=new c(this._dc,o.debug)),this._reliable?this._reliable.onmessage=function(e){t.emit("data",e)}:this._dc.onmessage=function(e){t._handleDataMessage(e)},this._dc.onclose=function(e){o.log("DataChannel closed for:",t.peer),t.close()}},r.prototype._handleDataMessage=function(t){var e=this,n=t.data,r=n.constructor;if("binary"===this.serialization||"binary-utf8"===this.serialization){if(r===Blob)return void o.blobToArrayBuffer(n,function(t){n=o.unpack(t),e.emit("data",n)});if(r===ArrayBuffer)n=o.unpack(n);else if(r===String){var i=o.binaryStringToArrayBuffer(n);n=o.unpack(i)}}else"json"===this.serialization&&(n=JSON.parse(n));if(n.__peerData){var u=n.__peerData,c=this._chunkedData[u]||{data:[],count:0,total:n.total};return c.data[n.n]=n.data,c.count+=1,c.total===c.count&&(delete this._chunkedData[u],n=new Blob(c.data),this._handleDataMessage({data:n})),void(this._chunkedData[u]=c)}this.emit("data",n)},r.prototype.close=function(){this.open&&(this.open=!1,u.cleanup(this),this.emit("close"))},r.prototype.send=function(t,e){if(!this.open)return void this.emit("error",new Error("Connection is not open. You should listen for the `open` event before sending messages."));if(this._reliable)return void this._reliable.send(t);var n=this;if("json"===this.serialization)this._bufferedSend(JSON.stringify(t));else if("binary"===this.serialization||"binary-utf8"===this.serialization){var r=o.pack(t),i=o.chunkedBrowsers[this._peerBrowser]||o.chunkedBrowsers[o.browser];if(i&&!e&&r.size>o.chunkedMTU)return void this._sendChunks(r);o.supports.sctp?o.supports.binaryBlob?this._bufferedSend(r):o.blobToArrayBuffer(r,function(t){n._bufferedSend(t)}):o.blobToBinaryString(r,function(t){n._bufferedSend(t)})}else this._bufferedSend(t)},r.prototype._bufferedSend=function(t){!this._buffering&&this._trySend(t)||(this._buffer.push(t),this.bufferSize=this._buffer.length)},r.prototype._trySend=function(t){try{this._dc.send(t)}catch(t){this._buffering=!0;var e=this;return setTimeout(function(){e._buffering=!1,e._tryBuffer()},100),!1}return!0},r.prototype._tryBuffer=function(){if(0!==this._buffer.length){var t=this._buffer[0];this._trySend(t)&&(this._buffer.shift(),this.bufferSize=this._buffer.length,this._tryBuffer())}},r.prototype._sendChunks=function(t){for(var e=o.chunk(t),n=0,r=e.length;n<r;n+=1){var t=e[n];this.send(t,!0)}},r.prototype.handleMessage=function(t){var e=t.payload;switch(t.type){case"ANSWER":this._peerBrowser=e.browser,u.handleSDP(t.type,this,e.sdp);break;case"CANDIDATE":u.handleCandidate(this,e.candidate);break;default:o.warn("Unrecognized message type:",t.type,"from peer:",this.peer)}},t.exports=r},function(t,e,n){function r(t,e,n){if(!(this instanceof r))return new r(t,e,n);i.call(this),this.options=o.extend({},n),this.open=!1,this.type="media",this.peer=t,this.provider=e,this.metadata=this.options.metadata,this.localStream=this.options._stream,this.id=this.options.connectionId||r._idPrefix+o.randomToken(),this.localStream&&u.startConnection(this,{_stream:this.localStream,originator:!0})}var o=n(79),i=n(98),u=n(204);o.inherits(r,i),r._idPrefix="mc_",r.prototype.addStream=function(t){o.log("Receiving stream",t),this.remoteStream=t,this.emit("stream",t)},r.prototype.handleMessage=function(t){var e=t.payload;switch(t.type){case"ANSWER":u.handleSDP(t.type,this,e.sdp),this.open=!0;break;case"CANDIDATE":u.handleCandidate(this,e.candidate);break;default:o.warn("Unrecognized message type:",t.type,"from peer:",this.peer)}},r.prototype.answer=function(t){if(this.localStream)return void o.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");this.options._payload._stream=t,this.localStream=t,u.startConnection(this,this.options._payload);for(var e=this.provider._getMessages(this.id),n=0,r=e.length;n<r;n+=1)this.handleMessage(e[n]);this.open=!0},r.prototype.close=function(){this.open&&(this.open=!1,u.cleanup(this),this.emit("close"))},t.exports=r},function(t,e,n){function r(t,e){return this instanceof r?(i.call(this),t&&t.constructor==Object?(e=t,t=void 0):t&&(t=t.toString()),e=o.extend({debug:0,host:o.CLOUD_HOST,port:o.CLOUD_PORT,key:"peerjs",path:"/",token:o.randomToken(),config:o.defaultConfig},e),this.options=e,"/"===e.host&&(e.host=window.location.hostname),"/"!==e.path[0]&&(e.path="/"+e.path),"/"!==e.path[e.path.length-1]&&(e.path+="/"),void 0===e.secure&&e.host!==o.CLOUD_HOST&&(e.secure=o.isSecure()),e.logFunction&&o.setLogFunction(e.logFunction),o.setLogLevel(e.debug),o.supports.audioVideo||o.supports.data?o.validateId(t)?o.validateKey(e.key)?e.secure&&"0.peerjs.com"===e.host?void this._delayedAbort("ssl-unavailable","The cloud server currently does not support HTTPS. Please run your own PeerServer to use HTTPS."):(this.destroyed=!1,this.disconnected=!1,this.open=!1,this.connections={},this._lostMessages={},this._initializeServerConnection(),void(t?this._initialize(t):this._retrieveId())):void this._delayedAbort("invalid-key",'API KEY "'+e.key+'" is invalid'):void this._delayedAbort("invalid-id",'ID "'+t+'" is invalid'):void this._delayedAbort("browser-incompatible","The current browser does not support WebRTC")):new r(t,e)}var o=n(79),i=n(98),u=n(481),c=n(479),a=n(478);o.inherits(r,i),r.prototype._initializeServerConnection=function(){var t=this;this.socket=new u(this.options.secure,this.options.host,this.options.port,this.options.path,this.options.key),this.socket.on("message",function(e){t._handleMessage(e)}),this.socket.on("error",function(e){t._abort("socket-error",e)}),this.socket.on("disconnected",function(){t.disconnected||(t.emitError("network","Lost connection to server."),t.disconnect())}),this.socket.on("close",function(){t.disconnected||t._abort("socket-closed","Underlying socket is already closed.")})},r.prototype._retrieveId=function(t){var e=this,n=new XMLHttpRequest,r=this.options.secure?"https://":"http://",i=r+this.options.host+":"+this.options.port+this.options.path+this.options.key+"/id";i+="?ts="+(new Date).getTime()+Math.random(),n.open("get",i,!0),n.onerror=function(t){o.error("Error retrieving ID",t);var n="";"/"===e.options.path&&e.options.host!==o.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),e._abort("server-error","Could not get an ID from the server."+n)},n.onreadystatechange=function(){if(4===n.readyState)return 200!==n.status?void n.onerror():void e._initialize(n.responseText)},n.send(null)},r.prototype._initialize=function(t){this.id=t,this.socket.start(this.id,this.options.token)},r.prototype._handleMessage=function(t){var e,n=t.type,r=t.payload,i=t.src;switch(n){case"OPEN":this.emit("open",this.id),this.open=!0;break;case"ERROR":this._abort("server-error",r.msg);break;case"ID-TAKEN":this._abort("unavailable-id","ID `"+this.id+"` is taken");break;case"INVALID-KEY":this._abort("invalid-key",'API KEY "'+this.options.key+'" is invalid');break;case"LEAVE":o.log("Received leave message from",i),this._cleanupPeer(i);break;case"EXPIRE":this.emitError("peer-unavailable","Could not connect to peer "+i);break;case"OFFER":var u=r.connectionId;if(e=this.getConnection(i,u))o.warn("Offer received for existing Connection ID:",u);else{if("media"===r.type)e=new c(i,this,{connectionId:u,_payload:r,metadata:r.metadata}),this._addConnection(i,e),this.emit("call",e);else{if("data"!==r.type)return void o.warn("Received malformed connection type:",r.type);e=new a(i,this,{connectionId:u,_payload:r,metadata:r.metadata,label:r.label,serialization:r.serialization,reliable:r.reliable}),this._addConnection(i,e),this.emit("connection",e)}for(var s=this._getMessages(u),f=0,l=s.length;f<l;f+=1)e.handleMessage(s[f])}break;default:if(!r)return void o.warn("You received a malformed message from "+i+" of type "+n);var d=r.connectionId;e=this.getConnection(i,d),e&&e.pc?e.handleMessage(t):d?this._storeMessage(d,t):o.warn("You received an unrecognized message:",t)}},r.prototype._storeMessage=function(t,e){this._lostMessages[t]||(this._lostMessages[t]=[]),this._lostMessages[t].push(e)},r.prototype._getMessages=function(t){var e=this._lostMessages[t];return e?(delete this._lostMessages[t],e):[]},r.prototype.connect=function(t,e){if(this.disconnected)return o.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),void this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");var n=new a(t,this,e);return this._addConnection(t,n),n},r.prototype.call=function(t,e,n){if(this.disconnected)return o.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),void this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");if(!e)return void o.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");n=n||{},n._stream=e;var r=new c(t,this,n);return this._addConnection(t,r),r},r.prototype._addConnection=function(t,e){this.connections[t]||(this.connections[t]=[]),this.connections[t].push(e)},r.prototype.getConnection=function(t,e){var n=this.connections[t];if(!n)return null;for(var r=0,o=n.length;r<o;r++)if(n[r].id===e)return n[r];return null},r.prototype._delayedAbort=function(t,e){var n=this;o.setZeroTimeout(function(){n._abort(t,e)})},r.prototype._abort=function(t,e){o.error("Aborting!"),this._lastServerId?this.disconnect():this.destroy(),this.emitError(t,e)},r.prototype.emitError=function(t,e){o.error("Error:",e),"string"==typeof e&&(e=new Error(e)),e.type=t,this.emit("error",e)},r.prototype.destroy=function(){this.destroyed||(this._cleanup(),this.disconnect(),this.destroyed=!0)},r.prototype._cleanup=function(){if(this.connections)for(var t=Object.keys(this.connections),e=0,n=t.length;e<n;e++)this._cleanupPeer(t[e]);this.emit("close")},r.prototype._cleanupPeer=function(t){for(var e=this.connections[t],n=0,r=e.length;n<r;n+=1)e[n].close()},r.prototype.disconnect=function(){var t=this;o.setZeroTimeout(function(){t.disconnected||(t.disconnected=!0,t.open=!1,t.socket&&t.socket.close(),t.emit("disconnected",t.id),t._lastServerId=t.id,t.id=null)})},r.prototype.reconnect=function(){if(this.disconnected&&!this.destroyed)o.log("Attempting reconnection to server with ID "+this._lastServerId),this.disconnected=!1,this._initializeServerConnection(),this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(this.disconnected||this.open)throw new Error("Peer "+this.id+" cannot reconnect because it is not disconnected from the server!");o.error("In a hurry? We're still trying to make the initial connection!")}},r.prototype.listAllPeers=function(t){t=t||function(){};var e=this,n=new XMLHttpRequest,r=this.options.secure?"https://":"http://",i=r+this.options.host+":"+this.options.port+this.options.path+this.options.key+"/peers";i+="?ts="+(new Date).getTime()+Math.random(),n.open("get",i,!0),n.onerror=function(n){e._abort("server-error","Could not get peers from the server."),t([])},n.onreadystatechange=function(){if(4===n.readyState){if(401===n.status){var r="";throw r=e.options.host!==o.CLOUD_HOST?"It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":"You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",t([]),new Error("It doesn't look like you have permission to list peers IDs. "+r)}t(200!==n.status?[]:JSON.parse(n.responseText))}},n.send(null)},t.exports=r},function(t,e,n){function r(t,e,n,o,u){if(!(this instanceof r))return new r(t,e,n,o,u);i.call(this),this.disconnected=!1,this._queue=[];var c=t?"https://":"http://",a=t?"wss://":"ws://";this._httpUrl=c+e+":"+n+o+u,this._wsUrl=a+e+":"+n+o+"peerjs?key="+u}var o=n(79),i=n(98);o.inherits(r,i),r.prototype.start=function(t,e){this.id=t,this._httpUrl+="/"+t+"/"+e,this._wsUrl+="&id="+t+"&token="+e,this._startXhrStream(),this._startWebSocket()},r.prototype._startWebSocket=function(t){var e=this;this._socket||(this._socket=new WebSocket(this._wsUrl),this._socket.onmessage=function(t){try{var n=JSON.parse(t.data)}catch(e){return void o.log("Invalid server message",t.data)}e.emit("message",n)},this._socket.onclose=function(t){o.log("Socket closed."),e.disconnected=!0,e.emit("disconnected")},this._socket.onopen=function(){e._timeout&&(clearTimeout(e._timeout),setTimeout(function(){e._http.abort(),e._http=null},5e3)),e._sendQueuedMessages(),o.log("Socket open")})},r.prototype._startXhrStream=function(t){try{var e=this;this._http=new XMLHttpRequest,this._http._index=1,this._http._streamIndex=t||0,this._http.open("post",this._httpUrl+"/id?i="+this._http._streamIndex,!0),this._http.onerror=function(){clearTimeout(e._timeout),e.emit("disconnected")},this._http.onreadystatechange=function(){2==this.readyState&&this.old?(this.old.abort(),delete this.old):this.readyState>2&&200===this.status&&this.responseText&&e._handleStream(this)},this._http.send(null),this._setHTTPTimeout()}catch(t){o.log("XMLHttpRequest not available; defaulting to WebSockets")}},r.prototype._handleStream=function(t){var e=t.responseText.split("\n");if(t._buffer)for(;t._buffer.length>0;){var n=t._buffer.shift(),r=e[n];try{r=JSON.parse(r)}catch(e){t._buffer.shift(n);break}this.emit("message",r)}var i=e[t._index];if(i)if(t._index+=1,t._index===e.length)t._buffer||(t._buffer=[]),t._buffer.push(t._index-1);else{try{i=JSON.parse(i)}catch(t){return void o.log("Invalid server message",i)}this.emit("message",i)}},r.prototype._setHTTPTimeout=function(){var t=this;this._timeout=setTimeout(function(){var e=t._http;t._wsOpen()?e.abort():(t._startXhrStream(e._streamIndex+1),t._http.old=e)},25e3)},r.prototype._wsOpen=function(){return this._socket&&1==this._socket.readyState},r.prototype._sendQueuedMessages=function(){for(var t=0,e=this._queue.length;t<e;t+=1)this.send(this._queue[t])},r.prototype.send=function(t){if(!this.disconnected){if(!this.id)return void this._queue.push(t);if(!t.type)return void this.emit("error","Invalid message");var e=JSON.stringify(t);if(this._wsOpen())this._socket.send(e);else{var n=new XMLHttpRequest,r=this._httpUrl+"/"+t.type.toLowerCase();n.open("post",r,!0),n.setRequestHeader("Content-Type","application/json"),n.send(e)}}},r.prototype.close=function(){!this.disconnected&&this._wsOpen()&&(this._socket.close(),this.disconnected=!0)},t.exports=r},function(t,e,n){"use strict";t.exports=function(t,e,n){t.on("newListener",function(t,r){~n.indexOf(t)&&e.on(t,r)}),t.on("removeListener",function(t,r){~n.indexOf(t)&&e.removeListener(t,r)})}},function(t,e,n){"use strict";var r=n(487),o=n(486);e.createReadStream=function(t){return t=t||{},new o(this,t)},e.createWriteStream=function(t){return t=t||{},new r(this,t)};var i=n(482),u=["drain","pipe","unpipe","error"];e.write=function(t,e,n){return this.__stream||(this.__stream=new r(this),i(this,this.__stream,u),this.on("destroy",function(){this.__stream.end()})),this.__stream.write(t,e,n)},e.end=function(){this.emit("done")}},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e,n){function r(t){if(!(this instanceof r))return new r(t);o.call(this,t)}t.exports=r;var o=n(206),i=n(38);i.inherits=n(15),i.inherits(r,o),r.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){"use strict";function r(t,e){if(!(this instanceof r))return new r(t,e);i.call(this,{objectMode:!0}),e=e||{};var n=this.opts={since:0};Object.keys(e).forEach(function(t){n[t]=e[t]}),this.opts.returnDocs=!1,this.last=e.since,this.db=t,this.changes=void 0,this.canceled=!1}var o=n(15),i=n(208).Readable;t.exports=r,o(r,i),r.prototype._read=function(){if(!this.changes){var t=this;this.opts.since=this.last,this.changes=this.db.changes(this.opts).on("complete",function(e){t.cancel=function(){},e.canceled||t.push(null)}),this.changes.on("change",function(e){t.last=e.seq,t.push(e)||t.changes.cancel()})}},r.prototype.cancel=function(){if(this.canceled=!0,this.changes&&"function"==typeof this.changes.cancel)return this.changes.cancel()}},function(t,e,n){"use strict";(function(e){function r(t,e){if(!(this instanceof r))return new r(t);i.call(this,{objectMode:!0}),this.db=t,this.opts=e||{}}var o=n(15),i=n(208).Writable;t.exports=r,o(r,i),r.prototype._write=function(t,n,r){if(e.isBuffer(t)&&(t=t.toString()),"string"==typeof t)try{t=JSON.parse(t)}catch(t){return r(t)}Array.isArray(t)?this.db.bulkDocs({docs:t},this.opts).then(function(){r()},r):"_id"in t?this.db.put(t,this.opts).then(function(){r()},r):this.db.post(t,this.opts).then(function(){r()},r)}}).call(e,n(26).Buffer)},function(t,e,n){"use strict";(function(e){function r(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function o(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer||"undefined"!=typeof Blob&&t instanceof Blob}function i(t){if("function"==typeof t.slice)return t.slice(0);var e=new ArrayBuffer(t.byteLength),n=new Uint8Array(e),r=new Uint8Array(t);return n.set(r),e}function u(t){if(t instanceof ArrayBuffer)return i(t);var e=t.size,n=t.type;return"function"==typeof t.slice?t.slice(0,e,n):t.webkitSlice(0,e,n)}function c(t){var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=e.constructor;return"function"==typeof n&&n instanceof n&&Br.call(n)==Rr}function a(t){var e,n,r;if(!t||"object"!=typeof t)return t;if(Array.isArray(t)){for(e=[],n=0,r=t.length;n<r;n++)e[n]=a(t[n]);return e}if(t instanceof Date)return t.toISOString();if(o(t))return u(t);if(!c(t))return t;e={};for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=a(t[n]);void 0!==i&&(e[n]=i)}return e}function s(t){var e=!1;return kr(function(n){if(e)throw new Error("once called more than once");e=!0,t.apply(this,n)})}function f(t){return kr(function(e){e=a(e);var n=this,r="function"==typeof e[e.length-1]&&e.pop(),o=new jr(function(r,o){var i;try{var u=s(function(t,e){t?o(t):r(e)});e.push(u),(i=t.apply(n,e))&&"function"==typeof i.then&&r(i)}catch(t){o(t)}});return r&&o.then(function(t){r(null,t)},r),o})}function l(t,e){function n(t,e,n){if(Ir.enabled){for(var r=[t.name,e],o=0;o<n.length-1;o++)r.push(n[o]);Ir.apply(null,r);var i=n[n.length-1];n[n.length-1]=function(n,r){var o=[t.name,e];o=o.concat(n?["error",n]:["success",r]),Ir.apply(null,o),i(n,r)}}}return f(kr(function(r){if(this._closed)return jr.reject(new Error("database is closed"));if(this._destroyed)return jr.reject(new Error("database is destroyed"));var o=this;return n(o,t,r),this.taskqueue.isReady?e.apply(this,r):new jr(function(e,n){o.taskqueue.addTask(function(i){i?n(i):e(o[t].apply(o,r))})})}))}function d(t){return"$"+t}function p(t){return t.substring(1)}function h(){this._store={}}function _(t){if(this._store=new h,t&&Array.isArray(t))for(var e=0,n=t.length;e<n;e++)this.add(t[e])}function v(t,e){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];i in t&&(n[i]=t[i])}return n}function g(t){return t}function y(t){return[{ok:t}]}function m(t,e,n){function r(){var t=[];d.forEach(function(e){e.docs.forEach(function(n){t.push({id:e.id,docs:[n]})})}),n(null,{results:t})}function o(){++l===f&&r()}function i(t,e,n){d[t]={id:e,docs:n},o()}function u(){if(!(h>=p.length)){var t=Math.min(h+Dr,p.length),e=p.slice(h,t);c(e,h),h+=e.length}}function c(n,r){n.forEach(function(n,o){var c=r+o,a=s.get(n),f=v(a[0],["atts_since","attachments"]);f.open_revs=a.map(function(t){return t.rev}),f.open_revs=f.open_revs.filter(g);var l=g;0===f.open_revs.length&&(delete f.open_revs,l=y),["revs","attachments","binary","ajax","latest"].forEach(function(t){t in e&&(f[t]=e[t])}),t.get(n,f,function(t,e){var r;r=t?[{error:t}]:l(e),i(c,n,r),u()})})}var a=e.docs,s=new Mr;a.forEach(function(t){s.has(t.id)?s.get(t.id).push(t):s.set(t.id,[t])});var f=s.size,l=0,d=new Array(f),p=[];s.forEach(function(t,e){p.push(e)});var h=0;u()}function b(){return"undefined"!=typeof chrome&&void 0!==chrome.storage&&void 0!==chrome.storage.local}function w(){return Nr}function k(t){b()?chrome.storage.onChanged.addListener(function(e){null!=e.db_name&&t.emit(e.dbName.newValue)}):w()&&("undefined"!=typeof addEventListener?addEventListener("storage",function(e){t.emit(e.key)}):window.attachEvent("storage",function(e){t.emit(e.key)}))}function x(){Tr.EventEmitter.call(this),this._listeners={},k(this)}function T(t){if("undefined"!==console&&t in console){var e=Array.prototype.slice.call(arguments,1);console[t].apply(console,e)}}function S(t,e){return t=parseInt(t,10)||0,e=parseInt(e,10),e!==e||e<=t?e=(t||1)<<1:e+=1,e>6e5&&(t=3e5,e=6e5),~~((e-t)*Math.random()+t)}function E(t){var e=0;return t||(e=2e3),S(t,e)}function A(t,e){T("info","The above "+t+" is totally normal. "+e)}function C(t,e,n){Error.call(this,n),this.status=t,this.name=e,this.message=n,this.error=!0}function O(t,e){function n(e){for(var n in t)"function"!=typeof t[n]&&(this[n]=t[n]);void 0!==e&&(this.reason=e)}return n.prototype=C.prototype,new n(e)}function j(t){if("object"!=typeof t){var e=t;t=Hr,t.data=e}return"error"in t&&"conflict"===t.error&&(t.name="conflict",t.status=409),"name"in t||(t.name=t.error||"unknown"),"status"in t||(t.status=500),"message"in t||(t.message=t.message||t.reason),t}function B(t,e,n){try{return!t(e,n)}catch(t){var r="Filter function threw: "+t.toString();return O(Yr,r)}}function R(t){var e={},n=t.filter&&"function"==typeof t.filter;return e.query=t.query_params,function(r){r.doc||(r.doc={});var o=n&&B(t.filter,r.doc,e);if("object"==typeof o)return o;if(o)return!1;if(t.include_docs){if(!t.attachments)for(var i in r.doc._attachments)r.doc._attachments.hasOwnProperty(i)&&(r.doc._attachments[i].stub=!0)}else delete r.doc;return!0}}function I(t){for(var e=[],n=0,r=t.length;n<r;n++)e=e.concat(t[n]);return e}function q(){}function M(t){var e;if(t?"string"!=typeof t?e=O(zr):/^_/.test(t)&&!/^_(design|local)/.test(t)&&(e=O(Jr)):e=O($r),e)throw e}function N(t,e){return"listenerCount"in t?t.listenerCount(e):Tr.EventEmitter.listenerCount(t,e)}function D(t){if(!t)return null;var e=t.split("/");return 2===e.length?e:1===e.length?[t,t]:null}function L(t){var e=D(t);return e?e.join("/"):null}function P(t){for(var e=io.exec(t),n={},r=14;r--;){var o=no[r],i=e[r]||"",u=["user","password"].indexOf(o)!==-1;n[o]=u?decodeURIComponent(i):i}return n[ro]={},n[no[12]].replace(oo,function(t,e,r){e&&(n[ro][e]=r)}),n}function F(t,e,n){return new jr(function(r,o){t.get(e,function(i,u){if(i){
if(404!==i.status)return o(i);u={}}var c=u._rev,a=n(u);if(!a)return r({updated:!1,rev:c});a._id=e,a._rev=c,r(U(t,a,n))})})}function U(t,e,n){return t.put(e).then(function(t){return{updated:!0,rev:t.rev}},function(r){if(409!==r.status)throw r;return F(t,e._id,n)})}function W(t){return 0|Math.random()*t}function z(t,e){e=e||uo.length;var n="",r=-1;if(t){for(;++r<t;)n+=uo[W(e)];return n}for(;++r<36;)switch(r){case 8:case 13:case 18:case 23:n+="-";break;case 19:n+=uo[3&W(16)|8];break;default:n+=uo[W(16)]}return n}function $(t){for(var e,n,r,o,i=t.rev_tree.slice();o=i.pop();){var u=o.ids,c=u[2],a=o.pos;if(c.length)for(var s=0,f=c.length;s<f;s++)i.push({pos:a+1,ids:c[s]});else{var l=!!u[1].deleted,d=u[0];e&&!(r!==l?r:n!==a?n<a:e<d)||(e=d,n=a,r=l)}}return n+"-"+e}function J(t,e){for(var n,r=t.slice();n=r.pop();)for(var o=n.pos,i=n.ids,u=i[2],c=e(0===u.length,o,i[0],n.ctx,i[1]),a=0,s=u.length;a<s;a++)r.push({pos:o+1,ids:u[a],ctx:c})}function H(t,e){return t.pos-e.pos}function V(t){var e=[];J(t,function(t,n,r,o,i){t&&e.push({rev:n+"-"+r,pos:n,opts:i})}),e.sort(H).reverse();for(var n=0,r=e.length;n<r;n++)delete e[n].pos;return e}function G(t){for(var e=$(t),n=V(t.rev_tree),r=[],o=0,i=n.length;o<i;o++){var u=n[o];u.rev===e||u.opts.deleted||r.push(u.rev)}return r}function K(t){var e=[];return J(t.rev_tree,function(t,n,r,o,i){"available"!==i.status||t||(e.push(n+"-"+r),i.status="missing")}),e}function Y(t){for(var e,n=[],r=t.slice();e=r.pop();){var o=e.pos,i=e.ids,u=i[0],c=i[1],a=i[2],s=0===a.length,f=e.history?e.history.slice():[];f.push({id:u,opts:c}),s&&n.push({pos:o+1-f.length,ids:f});for(var l=0,d=a.length;l<d;l++)r.push({pos:o+1,ids:a[l],history:f})}return n.reverse()}function X(t,e){return t.pos-e.pos}function Q(t,e,n){for(var r,o=0,i=t.length;o<i;)r=o+i>>>1,n(t[r],e)<0?o=r+1:i=r;return o}function Z(t,e,n){var r=Q(t,e,n);t.splice(r,0,e)}function tt(t,e){for(var n,r,o=e,i=t.length;o<i;o++){var u=t[o],c=[u.id,u.opts,[]];r?(r[2].push(c),r=c):n=r=c}return n}function et(t,e){return t[0]<e[0]?-1:1}function nt(t,e){for(var n=[{tree1:t,tree2:e}],r=!1;n.length>0;){var o=n.pop(),i=o.tree1,u=o.tree2;(i[1].status||u[1].status)&&(i[1].status="available"===i[1].status||"available"===u[1].status?"available":"missing");for(var c=0;c<u[2].length;c++)if(i[2][0]){for(var a=!1,s=0;s<i[2].length;s++)i[2][s][0]===u[2][c][0]&&(n.push({tree1:i[2][s],tree2:u[2][c]}),a=!0);a||(r="new_branch",Z(i[2],u[2][c],et))}else r="new_leaf",i[2][0]=u[2][c]}return{conflicts:r,tree:t}}function rt(t,e,n){var r,o=[],i=!1,u=!1;if(!t.length)return{tree:[e],conflicts:"new_leaf"};for(var c=0,a=t.length;c<a;c++){var s=t[c];if(s.pos===e.pos&&s.ids[0]===e.ids[0])r=nt(s.ids,e.ids),o.push({pos:s.pos,ids:r.tree}),i=i||r.conflicts,u=!0;else if(n!==!0){var f=s.pos<e.pos?s:e,l=s.pos<e.pos?e:s,d=l.pos-f.pos,p=[],h=[];for(h.push({ids:f.ids,diff:d,parent:null,parentIdx:null});h.length>0;){var _=h.pop();if(0!==_.diff)for(var v=_.ids[2],g=0,y=v.length;g<y;g++)h.push({ids:v[g],diff:_.diff-1,parent:_.ids,parentIdx:g});else _.ids[0]===l.ids[0]&&p.push(_)}var m=p[0];m?(r=nt(m.ids,l.ids),m.parent[2][m.parentIdx]=r.tree,o.push({pos:f.pos,ids:f.ids}),i=i||r.conflicts,u=!0):o.push(s)}else o.push(s)}return u||o.push(e),o.sort(X),{tree:o,conflicts:i||"internal_node"}}function ot(t,e){for(var n,r,o=Y(t),i=0,u=o.length;i<u;i++){var c,a=o[i],s=a.ids;if(s.length>e){n||(n={});var f=s.length-e;c={pos:a.pos+f,ids:tt(s,f)};for(var l=0;l<f;l++)n[a.pos+l+"-"+s[l].id]=!0}else c={pos:a.pos,ids:tt(s,0)};r=r?rt(r,c,!0).tree:[c]}return n&&J(r,function(t,e,r){delete n[e+"-"+r]}),{tree:r,revs:n?Object.keys(n):[]}}function it(t,e,n){var r=rt(t,e),o=ot(r.tree,n);return{tree:o.tree,stemmedRevs:o.revs,conflicts:r.conflicts}}function ut(t,e){for(var n,r=t.slice(),o=e.split("-"),i=parseInt(o[0],10),u=o[1];n=r.pop();){if(n.pos===i&&n.ids[0]===u)return!0;for(var c=n.ids[2],a=0,s=c.length;a<s;a++)r.push({pos:n.pos+1,ids:c[a]})}return!1}function ct(t){return t.ids}function at(t,e){e||(e=$(t));for(var n,r=e.substring(e.indexOf("-")+1),o=t.rev_tree.map(ct);n=o.pop();){if(n[0]===r)return!!n[1].deleted;o=o.concat(n[2])}}function st(t){return/^_local/.test(t)}function ft(t,e){for(var n,r=e.rev_tree.slice();n=r.pop();){var o=n.pos,i=n.ids,u=i[0],c=i[1],a=i[2],s=0===a.length,f=n.history?n.history.slice():[];if(f.push({id:u,pos:o,opts:c}),s)for(var l=0,d=f.length;l<d;l++){var p=f[l],h=p.pos+"-"+p.id;if(h===t)return o+"-"+u}for(var _=0,v=a.length;_<v;_++)r.push({pos:o+1,ids:a[_],history:f})}throw new Error("Unable to resolve latest revision for id "+e.id+", rev "+t)}function lt(t){return Ar('"use strict";\nreturn '+t+";",{})}function dt(t){return Ar(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+t+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{})}function pt(t,e){try{t.emit("change",e)}catch(t){T("error",'Error in .on("change", function):',t)}}function ht(t,e,n){function r(){o.cancel()}Tr.EventEmitter.call(this);var o=this;this.db=t,e=e?a(e):{};var i=e.complete=s(function(e,n){e?N(o,"error")>0&&o.emit("error",e):o.emit("complete",n),o.removeAllListeners(),t.removeListener("destroyed",r)});n&&(o.on("complete",function(t){n(null,t)}),o.on("error",n)),t.once("destroyed",r),e.onChange=function(t){o.isCancelled||pt(o,t)};var u=new jr(function(t,n){e.complete=function(e,r){e?n(e):t(r)}});o.once("cancel",function(){t.removeListener("destroyed",r),e.complete(null,{status:"cancelled"})}),this.then=u.then.bind(u),this.catch=u.catch.bind(u),this.then(function(t){i(null,t)},i),t.taskqueue.isReady?o.doChanges(e):t.taskqueue.addTask(function(t){t?e.complete(t):o.isCancelled?o.emit("cancel"):o.doChanges(e)})}function _t(t,e,n){var r=[{rev:t._rev}];"all_docs"===n.style&&(r=V(e.rev_tree).map(function(t){return{rev:t.rev}}));var o={id:e.id,changes:r,doc:t};return at(e,t._rev)&&(o.deleted=!0),n.conflicts&&(o.doc._conflicts=G(e),o.doc._conflicts.length||delete o.doc._conflicts),o}function vt(t,e){return t<e?-1:t>e?1:0}function gt(t){return function(e,n){e||n[0]&&n[0].error?t(e||n[0]):t(null,n.length?n[0]:n)}}function yt(t){for(var e=0;e<t.length;e++){var n=t[e];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),o=0;o<r.length;o++){var i=r[o];n._attachments[i]=v(n._attachments[i],["data","digest","content_type","length","revpos","stub"])}}}function mt(t,e){var n=vt(t._id,e._id);return 0!==n?n:vt(t._revisions?t._revisions.start:0,e._revisions?e._revisions.start:0)}function bt(t){var e={},n=[];return J(t,function(t,r,o,i){var u=r+"-"+o;return t&&(e[u]=0),void 0!==i&&n.push({from:i,to:u}),u}),n.reverse(),n.forEach(function(t){void 0===e[t.from]?e[t.from]=1+e[t.to]:e[t.from]=Math.min(e[t.from],1+e[t.to])}),e}function wt(t,e,n){var r="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;if(e.descending&&r.reverse(),!r.length)return t._allDocs({limit:0},n);var o={offset:e.skip};return jr.all(r.map(function(n){var r=Pr({key:n,deleted:"ok"},e);return["limit","skip","keys"].forEach(function(t){delete r[t]}),new jr(function(e,i){t._allDocs(r,function(t,r){if(t)return i(t);o.total_rows=r.total_rows,e(r.rows[0]||{key:n,error:"not_found"})})})})).then(function(t){return o.rows=t,o})}function kt(t){var e=t._compactionQueue[0],n=e.opts,r=e.callback;t.get("_local/compaction").catch(function(){return!1}).then(function(e){e&&e.last_seq&&(n.last_seq=e.last_seq),t._compact(n,function(e,n){e?r(e):r(null,n),Er(function(){t._compactionQueue.shift(),t._compactionQueue.length&&kt(t)})})})}function xt(t){return"_"===t.charAt(0)&&t+" is not a valid attachment name, attachment names cannot start with '_'"}function Tt(){Tr.EventEmitter.call(this)}function St(){this.isReady=!1,this.failed=!1,this.queue=[]}function Et(t,e){var n=t.match(/([a-z\-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var r=Ct.adapters,o=Ct.preferredAdapters,i=Ct.prefix,u=e.adapter;if(!u)for(var c=0;c<o.length&&("idb"===(u=o[c])&&"websql"in r&&w()&&localStorage["_pouch__websqldb_"+i+t]);++c)T("log",'PouchDB is downgrading "'+t+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var a=r[u];return{name:a&&"use_prefix"in a&&!a.use_prefix?t:i+t,adapter:u}}function At(t){function e(){t.removeListener("closed",r),t.constructor.emit("destroyed",t.name)}function n(){t.removeListener("destroyed",e),t.removeListener("closed",r),t.emit("destroyed")}function r(){t.removeListener("destroyed",e),o.delete(t.name)}var o=t.constructor._destructionListeners;t.once("destroyed",e),t.once("closed",r),o.has(t.name)||o.set(t.name,[]),o.get(t.name).push(n)}function Ct(t,e){if(!(this instanceof Ct))return new Ct(t,e);var n=this;if(e=e||{},t&&"object"==typeof t&&(e=t,t=e.name,delete e.name),this.__opts=e=a(e),n.auto_compaction=e.auto_compaction,n.prefix=Ct.prefix,"string"!=typeof t)throw new Error("Missing/invalid DB name");var r=(e.prefix||"")+t,o=Et(r,e);if(e.name=o.name,e.adapter=e.adapter||o.adapter,n.name=t,n._adapter=e.adapter,xr("pouchdb:adapter")("Picked adapter: "+e.adapter),!Ct.adapters[e.adapter]||!Ct.adapters[e.adapter].valid())throw new Error("Invalid Adapter: "+e.adapter);Tt.call(n),n.taskqueue=new St,n.adapter=e.adapter,Ct.adapters[e.adapter].call(n,e,function(t){if(t)return n.taskqueue.fail(t);At(n),n.emit("created",n),Ct.emit("created",n.name),n.taskqueue.ready(n)})}function Ot(t){return t.reduce(function(t,e){return t[e]=!0,t},{})}function jt(t){if(!/^\d+\-./.test(t))return O(to);var e=t.indexOf("-"),n=t.substring(0,e),r=t.substring(e+1);return{prefix:parseInt(n,10),id:r}}function Bt(t,e){for(var n=t.start-t.ids.length+1,r=t.ids,o=[r[0],e,[]],i=1,u=r.length;i<u;i++)o=[r[i],{status:"missing"},[o]];return[{pos:n,ids:o}]}function Rt(t,e){var n,r,o,i={status:"available"};if(t._deleted&&(i.deleted=!0),e)if(t._id||(t._id=z()),r=z(32,16).toLowerCase(),t._rev){if(o=jt(t._rev),o.error)return o;t._rev_tree=[{pos:o.prefix,ids:[o.id,{status:"missing"},[[r,i,[]]]]}],n=o.prefix+1}else t._rev_tree=[{pos:1,ids:[r,i,[]]}],n=1;else if(t._revisions&&(t._rev_tree=Bt(t._revisions,i),n=t._revisions.start,r=t._revisions.ids[0]),!t._rev_tree){if(o=jt(t._rev),o.error)return o;n=o.prefix,r=o.id,t._rev_tree=[{pos:n,ids:[r,i,[]]}]}M(t._id),t._rev=n+"-"+r;var u={metadata:{},data:{}};for(var c in t)if(Object.prototype.hasOwnProperty.call(t,c)){var a="_"===c[0];if(a&&!so[c]){var s=O(Kr,c);throw s.message=Kr.message+": "+c,s}a&&!fo[c]?u.metadata[c.slice(1)]=t[c]:u.data[c]=t[c]}return u}function It(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(i){if("TypeError"!==i.name)throw i;for(var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,r=new n,o=0;o<t.length;o+=1)r.append(t[o]);return r.getBlob(e.type)}}function qt(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),o=0;o<e;o++)r[o]=t.charCodeAt(o);return n}function Mt(t,e){return It([qt(t)],{type:e})}function Nt(t,e){return Mt(lo(t),e)}function Dt(t){for(var e="",n=new Uint8Array(t),r=n.byteLength,o=0;o<r;o++)e+=String.fromCharCode(n[o]);return e}function Lt(t,e){if("undefined"==typeof FileReader)return e(Dt((new FileReaderSync).readAsArrayBuffer(t)));var n=new FileReader,r="function"==typeof n.readAsBinaryString;n.onloadend=function(t){var n=t.target.result||"";if(r)return e(n);e(Dt(n))},r?n.readAsBinaryString(t):n.readAsArrayBuffer(t)}function Pt(t,e){Lt(t,function(t){e(t)})}function Ft(t,e){Pt(t,function(t){e(po(t))})}function Ut(t,e){if("undefined"==typeof FileReader)return e((new FileReaderSync).readAsArrayBuffer(t));var n=new FileReader;n.onloadend=function(t){e(t.target.result||new ArrayBuffer(0))},n.readAsArrayBuffer(t)}function Wt(t){return po(t)}function zt(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.slice(e,n)}function $t(t,e,n,r,o){(n>0||r<e.size)&&(e=zt(e,n,r)),Ut(e,function(e){t.append(e),o()})}function Jt(t,e,n,r,o){(n>0||r<e.length)&&(e=e.substring(n,r)),t.appendBinary(e),o()}function Ht(t,e){function n(){ho(o)}function r(){e(Wt(f.end(!0))),f.destroy()}function o(){var e=s*c,o=e+c;s++,s<a?l(f,t,e,o,n):l(f,t,e,o,r)}var i="string"==typeof t,u=i?t.length:t.size,c=Math.min(_o,u),a=Math.ceil(u/c),s=0,f=i?new Cr:new Cr.ArrayBuffer,l=i?Jt:$t;o()}function Vt(t){return Cr.hash(t)}function Gt(t){try{return lo(t)}catch(t){var e=O(Vr,"Attachment is not a valid base64 string");return{error:e}}}function Kt(t,e,n){var r=Gt(t.data);if(r.error)return n(r.error);t.length=r.length,t.data="blob"===e?Mt(r,t.content_type):"base64"===e?po(r):r,Ht(r,function(e){t.digest="md5-"+e,n()})}function Yt(t,e,n){Ht(t.data,function(r){t.digest="md5-"+r,t.length=t.data.size||t.data.length||0,"binary"===e?Pt(t.data,function(e){t.data=e,n()}):"base64"===e?Ft(t.data,function(e){t.data=e,n()}):n()})}function Xt(t,e,n){if(t.stub)return n();"string"==typeof t.data?Kt(t,e,n):Yt(t,e,n)}function Qt(t,e,n){function r(){i++,t.length===i&&(o?n(o):n())}if(!t.length)return n();var o,i=0;t.forEach(function(t){function n(t){o=t,++u===i.length&&r()}var i=t.data&&t.data._attachments?Object.keys(t.data._attachments):[],u=0;if(!i.length)return r();for(var c in t.data._attachments)t.data._attachments.hasOwnProperty(c)&&Xt(t.data._attachments[c],e,n)})}function Zt(t,e,n,r,o,i,u,c){if(ut(e.rev_tree,n.metadata.rev))return r[o]=n,i();var a=e.winningRev||$(e),s="deleted"in e?e.deleted:at(e,a),f="deleted"in n.metadata?n.metadata.deleted:at(n.metadata),l=/^1-/.test(n.metadata.rev);if(s&&!f&&c&&l){var d=n.data;d._rev=a,d._id=n.metadata.id,n=Rt(d,c)}var p=it(e.rev_tree,n.metadata.rev_tree[0],t);if(c&&(s&&f&&"new_leaf"!==p.conflicts||!s&&"new_leaf"!==p.conflicts||s&&!f&&"new_branch"===p.conflicts)){var h=O(Wr);return r[o]=h,i()}var _=n.metadata.rev;n.metadata.rev_tree=p.tree,n.stemmedRevs=p.stemmedRevs||[],e.rev_map&&(n.metadata.rev_map=e.rev_map);var v,g=$(n.metadata),y=at(n.metadata,g),m=s===y?0:s<y?-1:1;v=_===g?y:at(n.metadata,_),u(n,g,y,v,!0,m,o,i)}function te(t){return"missing"===t.metadata.rev_tree[0].ids[1].status}function ee(t,e,n,r,o,i,u,c,a){function s(t,e,n){var r=$(t.metadata),o=at(t.metadata,r);if("was_delete"in c&&o)return i[e]=O(Ur,"deleted"),n();if(l&&te(t)){var a=O(Wr);return i[e]=a,n()}u(t,r,o,o,!1,o?0:1,e,n)}function f(){++p===h&&a&&a()}t=t||1e3;var l=c.new_edits,d=new Mr,p=0,h=e.length;e.forEach(function(t,e){if(t._id&&st(t._id))return void n[t._deleted?"_removeLocal":"_putLocal"](t,{ctx:o},function(t,n){i[e]=t||n,f()});var r=t.metadata.id;d.has(r)?(h--,d.get(r).push([t,e])):d.set(r,[[t,e]])}),d.forEach(function(e,n){function o(){++a<e.length?c():f()}function c(){var c=e[a],f=c[0],d=c[1];if(r.has(n))Zt(t,r.get(n),f,i,d,o,u,l);else{var p=it([],f.metadata.rev_tree[0],t);f.metadata.rev_tree=p.tree,f.stemmedRevs=p.stemmedRevs||[],s(f,d,o)}}var a=0;c()})}function ne(t){try{return JSON.parse(t)}catch(e){return Or.parse(t)}}function re(t){try{return JSON.stringify(t)}catch(e){return Or.stringify(t)}}function oe(t){return function(e){var n="unknown_error";e.target&&e.target.error&&(n=e.target.error.name||e.target.error.message),t(O(Qr,n,e.type))}}function ie(t,e,n){return{data:re(t),winningRev:e,deletedOrLocal:n?"1":"0",seq:t.seq,id:t.id}}function ue(t){if(!t)return null;var e=ne(t.data);return e.winningRev=t.winningRev,e.deleted="1"===t.deletedOrLocal,e.seq=t.seq,e}function ce(t){if(!t)return t;var e=t._doc_id_rev.lastIndexOf(":");return t._id=t._doc_id_rev.substring(0,e-1),t._rev=t._doc_id_rev.substring(e+1),delete t._doc_id_rev,t}function ae(t,e,n,r){n?r(t?"string"!=typeof t?t:Nt(t,e):It([""],{type:e})):t?"string"!=typeof t?Lt(t,function(t){r(po(t))}):r(t):r("")}function se(t,e,n,r){function o(){++c===u.length&&r&&r()}function i(t,e){var r=t._attachments[e],i=r.digest;n.objectStore(mo).get(i).onsuccess=function(t){r.body=t.target.result.body,o()}}var u=Object.keys(t._attachments||{});if(!u.length)return r&&r();var c=0;u.forEach(function(n){e.attachments&&e.include_docs?i(t,n):(t._attachments[n].stub=!0,o())})}function fe(t,e){return jr.all(t.map(function(t){if(t.doc&&t.doc._attachments){var n=Object.keys(t.doc._attachments);return jr.all(n.map(function(n){var r=t.doc._attachments[n];if("body"in r){var o=r.body,i=r.content_type;return new jr(function(u){ae(o,i,e,function(e){t.doc._attachments[n]=Pr(v(r,["digest","content_type"]),{data:e}),u()})})}}))}}))}function le(t,e,n){function r(){--s||o()}function o(){i.length&&i.forEach(function(t){a.index("digestSeq").count(IDBKeyRange.bound(t+"::",t+"::￿",!1,!1)).onsuccess=function(e){e.target.result||c.delete(t)}})}var i=[],u=n.objectStore(yo),c=n.objectStore(mo),a=n.objectStore(bo),s=t.length;t.forEach(function(t){var n=u.index("_doc_id_rev"),o=e+"::"+t;n.getKey(o).onsuccess=function(t){var e=t.target.result;if("number"!=typeof e)return r();u.delete(e),a.index("seq").openCursor(IDBKeyRange.only(e)).onsuccess=function(t){var e=t.target.result;if(e){var n=e.value.digestSeq.split("::")[0];i.push(n),a.delete(e.primaryKey),e.continue()}else r()}}})}function de(t,e,n){try{return{txn:t.transaction(e,n)}}catch(t){return{error:t}}}function pe(t,e,n,r,o,i){function u(){var t=[go,yo,mo,ko,bo,wo],e=de(o,t,"readwrite");if(e.error)return i(e.error);m=e.txn,m.onabort=oe(i),m.ontimeout=oe(i),m.oncomplete=l,b=m.objectStore(go),w=m.objectStore(yo),k=m.objectStore(mo),x=m.objectStore(bo),T=m.objectStore(wo),T.get(wo).onsuccess=function(t){E=t.target.result,s()},p(function(t){if(t)return N=!0,i(t);f()})}function c(){R=!0,s()}function a(){ee(t.revs_limit,A,r,M,m,q,h,n,c)}function s(){E&&R&&(E.docCount+=I,T.put(E))}function f(){function t(){++n===A.length&&a()}function e(e){var n=ue(e.target.result);n&&M.set(n.id,n),t()}if(A.length)for(var n=0,r=0,o=A.length;r<o;r++){var i=A[r];if(i._id&&st(i._id))t();else{var u=b.get(i.metadata.id);u.onsuccess=e}}}function l(){N||(To.notify(r._meta.name),i(null,q))}function d(t,e){k.get(t).onsuccess=function(n){if(n.target.result)e();else{var r=O(eo,"unknown stub attachment with digest "+t);r.status=412,e(r)}}}function p(t){function e(){++o===n.length&&t(r)}var n=[];if(A.forEach(function(t){t.data&&t.data._attachments&&Object.keys(t.data._attachments).forEach(function(e){var r=t.data._attachments[e];r.stub&&n.push(r.digest)})}),!n.length)return t();var r,o=0;n.forEach(function(t){d(t,function(t){t&&!r&&(r=t),e()})})}function h(t,e,n,r,o,i,u,c){t.metadata.winningRev=e,t.metadata.deleted=n;var a=t.data;if(a._id=t.metadata.id,a._rev=t.metadata.rev,r&&(a._deleted=!0),a._attachments&&Object.keys(a._attachments).length)return v(t,e,n,o,u,c);I+=i,s(),_(t,e,n,o,u,c)}function _(t,e,n,o,i,u){function c(i){var u=t.stemmedRevs||[];o&&r.auto_compaction&&(u=u.concat(K(t.metadata))),u&&u.length&&le(u,t.metadata.id,m),l.seq=i.target.result;var c=ie(l,e,n);b.put(c).onsuccess=s}function a(t){t.preventDefault(),t.stopPropagation(),w.index("_doc_id_rev").getKey(f._doc_id_rev).onsuccess=function(t){w.put(f,t.target.result).onsuccess=c}}function s(){q[i]={ok:!0,id:l.id,rev:l.rev},M.set(t.metadata.id,t.metadata),g(t,l.seq,u)}var f=t.data,l=t.metadata;f._doc_id_rev=l.id+"::"+l.rev,delete f._id,delete f._rev;var d=w.put(f);d.onsuccess=c,d.onerror=a}function v(t,e,n,r,o,i){function u(){s===f.length&&_(t,e,n,r,o,i)}function c(){s++,u()}var a=t.data,s=0,f=Object.keys(a._attachments);f.forEach(function(n){var r=t.data._attachments[n];if(r.stub)s++,u();else{var o=r.data;delete r.data,r.revpos=parseInt(e,10),y(r.digest,o,c)}})}function g(t,e,n){function r(){++o===i.length&&n()}var o=0,i=Object.keys(t.data._attachments||{});if(!i.length)return n();for(var u=0;u<i.length;u++)!function(n){var o=t.data._attachments[n].digest,i=x.put({seq:e,digestSeq:o+"::"+e});i.onsuccess=r,i.onerror=function(t){t.preventDefault(),t.stopPropagation(),r()}}(i[u])}function y(t,e,n){k.count(t).onsuccess=function(r){if(r.target.result)return n();var o={digest:t,body:e};k.put(o).onsuccess=n}}for(var m,b,w,k,x,T,S,E,A=e.docs,C=0,j=A.length;C<j;C++){var B=A[C];B._id&&st(B._id)||(B=A[C]=Rt(B,n.new_edits),B.error&&!S&&(S=B))}if(S)return i(S);var R=!1,I=0,q=new Array(A.length),M=new Mr,N=!1;Qt(A,r._meta.blobSupport?"blob":"base64",function(t){if(t)return i(t);u()})}function he(t,e,n,r,o){function i(t){f=t.target.result,s&&o(s,f,l)}function u(t){s=t.target.result,f&&o(s,f,l)}function c(){if(!s.length)return o();var n,c=s[s.length-1];if(e&&e.upper)try{n=IDBKeyRange.bound(c,e.upper,!0,e.upperOpen)}catch(t){if("DataError"===t.name&&0===t.code)return o()}else n=IDBKeyRange.lowerBound(c,!0);e=n,s=null,f=null,t.getAll(e,r).onsuccess=i,t.getAllKeys(e,r).onsuccess=u}function a(t){var e=t.target.result;if(!e)return o();o([e.key],[e.value],e)}var s,f,l;"function"==typeof t.getAll&&"function"==typeof t.getAllKeys&&r>1&&!n?(l={continue:c},t.getAll(e,r).onsuccess=i,t.getAllKeys(e,r).onsuccess=u):n?t.openCursor(e,"prev").onsuccess=a:t.openCursor(e).onsuccess=a}function _e(t,e,n){function r(t){var e=t.target.result;e?(o.push(e.value),e.continue()):n({target:{result:o}})}if("function"==typeof t.getAll)return void(t.getAll(e).onsuccess=n);var o=[];t.openCursor(e).onsuccess=r}function ve(t,e,n,r,o){try{if(t&&e)return o?IDBKeyRange.bound(e,t,!n,!1):IDBKeyRange.bound(t,e,!1,!n);if(t)return o?IDBKeyRange.upperBound(t):IDBKeyRange.lowerBound(t);if(e)return o?IDBKeyRange.lowerBound(e,!n):IDBKeyRange.upperBound(e,!n);if(r)return IDBKeyRange.only(r)}catch(t){return{error:t}}return null}function ge(t,e,n){function r(e,n,r){var o=e.id+"::"+r;S.get(o).onsuccess=function(r){if(n.doc=ce(r.target.result),t.conflicts){var o=G(e);o.length&&(n.doc._conflicts=o)}se(n.doc,t,b)}}function o(e,n){var o={id:n.id,key:n.id,value:{rev:e}},i=n.deleted;"ok"===t.deleted?(E.push(o),i?(o.value.deleted=!0,o.doc=null):t.include_docs&&r(n,o,e)):!i&&p--<=0&&(E.push(o),t.include_docs&&r(n,o,e))}function i(t){for(var e=0,n=t.length;e<n&&E.length!==h;e++){var r=t[e],i=ue(r);o(i.winningRev,i)}}function u(t,e,n){n&&(i(e),E.length<h&&n.continue())}function c(e){var n=e.target.result;t.descending&&(n=n.reverse()),i(n)}function a(){n(null,{total_rows:w,offset:t.skip,rows:E})}function s(){t.attachments?fe(E,t.binary).then(a):a()}var f="startkey"in t&&t.startkey,l="endkey"in t&&t.endkey,d="key"in t&&t.key,p=t.skip||0,h="number"==typeof t.limit?t.limit:-1,_=t.inclusive_end!==!1,v=ve(f,l,_,d,t.descending),g=v&&v.error;if(g&&("DataError"!==g.name||0!==g.code))return n(O(Qr,g.name,g.message));var y=[go,yo,wo];t.attachments&&y.push(mo);var m=de(e,y,"readonly");if(m.error)return n(m.error);var b=m.txn;b.oncomplete=s,b.onabort=oe(n);var w,k=b.objectStore(go),x=b.objectStore(yo),T=b.objectStore(wo),S=x.index("_doc_id_rev"),E=[];return T.get(wo).onsuccess=function(t){w=t.target.result.docCount},g||0===h?void 0:h===-1?_e(k,v,c):void he(k,v,t.descending,h+p,u)}function ye(t){return new jr(function(e){var n=It([""]);t.objectStore(xo).put(n,"key").onsuccess=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/);e(navigator.userAgent.match(/Edge\//)||!t||parseInt(t[1],10)>=43)},t.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)}}).catch(function(){return!1})}function me(t,e){t.objectStore(go).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(t){e(t.target.result)}}function be(t,e,n,r){try{t(e,n)}catch(t){r.emit("error",t)}}function we(){!So&&Eo.length&&(So=!0,Eo.shift()())}function ke(t,e,n){Eo.push(function(){t(function(t,r){be(e,t,r,n),So=!1,Er(function(){we(n)})})}),we()}function xe(t,e,n,r){function o(e,n,r){function o(e,n){var r=t.processChange(n,e,t);d=r.seq=e.seq;var o=w(r);if("object"==typeof o)return t.complete(o);o&&(b++,h&&m.push(r),t.attachments&&t.include_docs?se(n,t,_,function(){fe([r],t.binary).then(function(){t.onChange(r)})}):t.onChange(r))}function i(){for(var t=0,e=c.length;t<e&&b!==p;t++){var n=c[t];n&&o(a[t],n)}b!==p&&r.continue()}if(r&&e.length){var c=new Array(e.length),a=new Array(e.length),s=0;n.forEach(function(t,n){u(ce(t),e[n],function(t,r){a[n]=t,c[n]=r,++s===e.length&&i()})})}}function i(t,e,n,r){if(n.seq!==e)return r();if(n.winningRev===t._rev)return r(n,t);var o=t._id+"::"+n.winningRev;y.get(o).onsuccess=function(t){r(n,ce(t.target.result))}}function u(t,e,n){if(l&&!l.has(t._id))return n();var r=k.get(t._id);if(r)return i(t,e,r,n);g.get(t._id).onsuccess=function(o){r=ue(o.target.result),k.set(t._id,r),i(t,e,r,n)}}function c(){t.complete(null,{results:m,last_seq:d})}function s(){!t.continuous&&t.attachments?fe(m).then(c):c()}if(t=a(t),t.continuous){var f=n+":"+z();return To.addListener(n,f,e,t),To.notify(n),{cancel:function(){To.removeListener(n,f)}}}var l=t.doc_ids&&new qr(t.doc_ids);t.since=t.since||0;var d=t.since,p="limit"in t?t.limit:-1;0===p&&(p=1);var h;h="return_docs"in t?t.return_docs:!("returnDocs"in t)||t.returnDocs;var _,v,g,y,m=[],b=0,w=R(t),k=new Mr,x=[go,yo];t.attachments&&x.push(mo);var T=de(r,x,"readonly");if(T.error)return t.complete(T.error);_=T.txn,_.onabort=oe(t.complete),_.oncomplete=s,v=_.objectStore(yo),g=_.objectStore(go),y=v.index("_doc_id_rev"),he(v,t.since&&!t.descending?IDBKeyRange.lowerBound(t.since,!0):null,t.descending,p,o)}function Te(t,e){var n=this;ke(function(e){Se(n,t,e)},e,n.constructor)}function Se(t,e,n){function r(t){var e=t.createObjectStore(go,{keyPath:"id"});t.createObjectStore(yo,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),t.createObjectStore(mo,{keyPath:"digest"}),t.createObjectStore(wo,{keyPath:"id",autoIncrement:!1}),t.createObjectStore(xo),e.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),t.createObjectStore(ko,{keyPath:"_id"});var n=t.createObjectStore(bo,{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}function o(t,e){var n=t.objectStore(go);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(t){var r=t.target.result;if(r){var o=r.value,i=at(o);o.deletedOrLocal=i?"1":"0",n.put(o),r.continue()}else e()}}function i(t){t.createObjectStore(ko,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function u(t,e){var n=t.objectStore(ko),r=t.objectStore(go),o=t.objectStore(yo);r.openCursor().onsuccess=function(t){var i=t.target.result;if(i){var u=i.value,c=u.id,a=st(c),s=$(u);if(a){var f=c+"::"+s,l=c+"::",d=c+"::~",p=o.index("_doc_id_rev"),h=IDBKeyRange.bound(l,d,!1,!1),_=p.openCursor(h);_.onsuccess=function(t){if(_=t.target.result){var e=_.value;e._doc_id_rev===f&&n.put(e),o.delete(_.primaryKey),_.continue()}else r.delete(i.primaryKey),i.continue()}}else i.continue()}else e&&e()}}function c(t){var e=t.createObjectStore(bo,{autoIncrement:!0});e.createIndex("seq","seq"),e.createIndex("digestSeq","digestSeq",{unique:!0})}function a(t,e){var n=t.objectStore(yo),r=t.objectStore(mo),o=t.objectStore(bo);r.count().onsuccess=function(t){if(!t.target.result)return e();n.openCursor().onsuccess=function(t){var n=t.target.result;if(!n)return e();for(var r=n.value,i=n.primaryKey,u=Object.keys(r._attachments||{}),c={},a=0;a<u.length;a++)c[r._attachments[u[a]].digest]=!0;var s=Object.keys(c);for(a=0;a<s.length;a++){var f=s[a];o.put({seq:i,digestSeq:f+"::"+i})}n.continue()}}}function s(t){function e(t){return t.data?ue(t):(t.deleted="1"===t.deletedOrLocal,t)}var n=t.objectStore(yo),r=t.objectStore(go);r.openCursor().onsuccess=function(t){function o(){var t=ie(u,u.winningRev,u.deleted);r.put(t).onsuccess=function(){i.continue()}}var i=t.target.result;if(i){var u=e(i.value);if(u.winningRev=u.winningRev||$(u),u.seq)return o();!function(){var t=u.id+"::",e=u.id+"::￿",r=n.index("_doc_id_rev").openCursor(IDBKeyRange.bound(t,e)),i=0;r.onsuccess=function(t){var e=t.target.result;if(!e)return u.seq=i,o();var n=e.primaryKey;n>i&&(i=n),e.continue()}}()}}}var l=e.name,d=null;t._meta=null,t.type=function(){return"idb"},t._id=f(function(e){e(null,t._meta.instanceId)}),t._bulkDocs=function(n,r,o){pe(e,n,r,t,d,o)},t._get=function(t,e,n){function r(){n(u,{doc:o,metadata:i,ctx:c})}var o,i,u,c=e.ctx;if(!c){var a=de(d,[go,yo,mo],"readonly");if(a.error)return n(a.error);c=a.txn}c.objectStore(go).get(t).onsuccess=function(t){if(!(i=ue(t.target.result)))return u=O(Ur,"missing"),r();var n;if(e.rev)n=e.latest?ft(e.rev,i):e.rev;else if(n=i.winningRev,at(i))return u=O(Ur,"deleted"),r();var a=c.objectStore(yo),s=i.id+"::"+n;a.index("_doc_id_rev").get(s).onsuccess=function(t){if(o=t.target.result,o&&(o=ce(o)),!o)return u=O(Ur,"missing"),r();r()}}},t._getAttachment=function(t,e,n,r,o){var i;if(r.ctx)i=r.ctx;else{var u=de(d,[go,yo,mo],"readonly");if(u.error)return o(u.error);i=u.txn}var c=n.digest,a=n.content_type;i.objectStore(mo).get(c).onsuccess=function(t){ae(t.target.result.body,a,r.binary,function(t){o(null,t)})}},t._info=function(e){var n,r,o=de(d,[wo,yo],"readonly");if(o.error)return e(o.error);var i=o.txn;i.objectStore(wo).get(wo).onsuccess=function(t){r=t.target.result.docCount},i.objectStore(yo).openCursor(null,"prev").onsuccess=function(t){var e=t.target.result;n=e?e.key:0},i.oncomplete=function(){e(null,{doc_count:r,update_seq:n,idb_attachment_format:t._meta.blobSupport?"binary":"base64"})}},t._allDocs=function(t,e){ge(t,d,e)},t._changes=function(e){xe(e,t,l,d)},t._close=function(t){d.close(),Ao.delete(l),t()},t._getRevisionTree=function(t,e){var n=de(d,[go],"readonly");if(n.error)return e(n.error);n.txn.objectStore(go).get(t).onsuccess=function(t){var n=ue(t.target.result);n?e(null,n.rev_tree):e(O(Ur))}},t._doCompaction=function(t,e,n){var r=[go,yo,mo,bo],o=de(d,r,"readwrite");if(o.error)return n(o.error);var i=o.txn;i.objectStore(go).get(t).onsuccess=function(n){var r=ue(n.target.result);J(r.rev_tree,function(t,n,r,o,i){var u=n+"-"+r;e.indexOf(u)!==-1&&(i.status="missing")}),le(e,t,i);var o=r.winningRev,u=r.deleted;i.objectStore(go).put(ie(r,o,u))},i.onabort=oe(n),i.oncomplete=function(){n()}},t._getLocal=function(t,e){var n=de(d,[ko],"readonly");if(n.error)return e(n.error);var r=n.txn,o=r.objectStore(ko).get(t);o.onerror=oe(e),o.onsuccess=function(t){var n=t.target.result;n?(delete n._doc_id_rev,e(null,n)):e(O(Ur))}},t._putLocal=function(t,e,n){"function"==typeof e&&(n=e,e={}),delete t._revisions;var r=t._rev,o=t._id;t._rev=r?"0-"+(parseInt(r.split("-")[1],10)+1):"0-1";var i,u=e.ctx;if(!u){var c=de(d,[ko],"readwrite");if(c.error)return n(c.error);u=c.txn,u.onerror=oe(n),u.oncomplete=function(){i&&n(null,i)}}var a,s=u.objectStore(ko);r?(a=s.get(o),a.onsuccess=function(o){var u=o.target.result;u&&u._rev===r?s.put(t).onsuccess=function(){i={ok:!0,id:t._id,rev:t._rev},e.ctx&&n(null,i)}:n(O(Wr))}):(a=s.add(t),a.onerror=function(t){n(O(Wr)),t.preventDefault(),t.stopPropagation()},a.onsuccess=function(){i={ok:!0,id:t._id,rev:t._rev},e.ctx&&n(null,i)})},t._removeLocal=function(t,e,n){"function"==typeof e&&(n=e,e={});var r=e.ctx;if(!r){var o=de(d,[ko],"readwrite");if(o.error)return n(o.error);r=o.txn,r.oncomplete=function(){i&&n(null,i)}}var i,u=t._id,c=r.objectStore(ko),a=c.get(u);a.onerror=oe(n),a.onsuccess=function(r){var o=r.target.result;o&&o._rev===t._rev?(c.delete(u),i={ok:!0,id:u,rev:"0-0"},e.ctx&&n(null,i)):n(O(Ur))}},t._destroy=function(t,e){To.removeAllListeners(l);var n=Co.get(l);n&&n.result&&(n.result.close(),Ao.delete(l));var r=indexedDB.deleteDatabase(l);r.onsuccess=function(){Co.delete(l),w()&&l in localStorage&&delete localStorage[l],e(null,{ok:!0})},r.onerror=oe(e)};var p=Ao.get(l);if(p)return d=p.idb,t._meta=p.global,Er(function(){n(null,t)});var h;h=e.storage?Ee(l,e.storage):indexedDB.open(l,vo),Co.set(l,h),h.onupgradeneeded=function(t){function e(){var t=l[d-1];d++,t&&t(f,e)}var n=t.target.result;if(t.oldVersion<1)return r(n);var f=t.currentTarget.transaction;t.oldVersion<3&&i(n),t.oldVersion<4&&c(n);var l=[o,u,a,s],d=t.oldVersion;e()},h.onsuccess=function(e){function r(){void 0!==c&&f&&(t._meta={name:l,instanceId:a,blobSupport:c},Ao.set(l,{idb:d,global:t._meta}),n(null,t))}function o(){if(void 0!==u&&void 0!==i){var t=l+"_id";t in i?a=i[t]:i[t]=a=z(),i.docCount=u,s.objectStore(wo).put(i)}}d=e.target.result,d.onversionchange=function(){d.close(),Ao.delete(l)},d.onabort=function(t){
T("error","Database has a global failure",t.target.error),d.close(),Ao.delete(l)};var i,u,c,a,s=d.transaction([wo,xo,go],"readwrite"),f=!1;s.objectStore(wo).get(wo).onsuccess=function(t){i=t.target.result||{id:wo},o()},me(s,function(t){u=t,o()}),ao||(ao=ye(s)),ao.then(function(t){c=t,r()}),s.oncomplete=function(){f=!0,r()}},h.onerror=function(){var t="Failed to open indexedDB, are you in private browsing mode?";T("error",t),n(O(Qr,t))}}function Ee(t,e){try{return indexedDB.open(t,{version:vo,storage:e})}catch(e){return indexedDB.open(t,vo)}}function Ae(t){return decodeURIComponent(escape(t))}function Ce(t){return t<65?t-48:t-55}function Oe(t,e,n){for(var r="";e<n;)r+=String.fromCharCode(Ce(t.charCodeAt(e++))<<4|Ce(t.charCodeAt(e++)));return r}function je(t,e,n){for(var r="";e<n;)r+=String.fromCharCode(Ce(t.charCodeAt(e+2))<<12|Ce(t.charCodeAt(e+3))<<8|Ce(t.charCodeAt(e))<<4|Ce(t.charCodeAt(e+1))),e+=4;return r}function Be(t,e){return"UTF-8"===e?Ae(Oe(t,0,t.length)):je(t,0,t.length)}function Re(t){return"'"+t+"'"}function Ie(t){return t.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"")}function qe(t){return t.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,"")}function Me(t){return delete t._id,delete t._rev,JSON.stringify(t)}function Ne(t,e,n){return t=JSON.parse(t),t._id=e,t._rev=n,t}function De(t){for(var e="(";t--;)e+="?",t&&(e+=",");return e+")"}function Le(t,e,n,r,o){return"SELECT "+t+" FROM "+("string"==typeof e?e:e.join(" JOIN "))+(n?" ON "+n:"")+(r?" WHERE "+("string"==typeof r?r:r.join(" AND ")):"")+(o?" ORDER BY "+o:"")}function Pe(t,e,n){function r(){++i===t.length&&o()}function o(){if(u.length){var t="SELECT DISTINCT digest AS digest FROM "+No+" WHERE seq IN "+De(u.length);n.executeSql(t,u,function(t,e){for(var n=[],r=0;r<e.rows.length;r++)n.push(e.rows.item(r).digest);if(n.length){var o="DELETE FROM "+No+" WHERE seq IN ("+u.map(function(){return"?"}).join(",")+")";t.executeSql(o,u,function(t){var e="SELECT digest FROM "+No+" WHERE digest IN ("+n.map(function(){return"?"}).join(",")+")";t.executeSql(e,n,function(t,e){for(var r=new qr,o=0;o<e.rows.length;o++)r.add(e.rows.item(o).digest);n.forEach(function(e){r.has(e)||(t.executeSql("DELETE FROM "+No+" WHERE digest=?",[e]),t.executeSql("DELETE FROM "+Io+" WHERE digest=?",[e]))})})})}})}}if(t.length){var i=0,u=[];t.forEach(function(t){var o="SELECT seq FROM "+Ro+" WHERE doc_id=? AND rev=?";n.executeSql(o,[e,t],function(t,e){if(!e.rows.length)return r();var n=e.rows.item(0).seq;u.push(n),t.executeSql("DELETE FROM "+Ro+" WHERE seq=?",[n],r)})})}}function Fe(t){return function(e){T("error","WebSQL threw an error",e);var n=e&&e.constructor.toString().match(/function ([^\(]+)/),r=n&&n[1]||e.type;t(O(Zr,e.target||e.message,r))}}function Ue(t){return"size"in t?1e6*t.size:"undefined"!=typeof navigator&&/Android/.test(navigator.userAgent)?5e6:1}function We(t,e,n,r,o,i,u){function c(){if(m)return u(m);i.notify(r._name),u(null,b)}function a(t,e){var n="SELECT count(*) as cnt FROM "+Io+" WHERE digest=?";y.executeSql(n,[t],function(n,r){0===r.rows.item(0).cnt?e(O(eo,"unknown stub attachment with digest "+t)):e()})}function s(t){function e(){++o===n.length&&t(r)}var n=[];if(v.forEach(function(t){t.data&&t.data._attachments&&Object.keys(t.data._attachments).forEach(function(e){var r=t.data._attachments[e];r.stub&&n.push(r.digest)})}),!n.length)return t();var r,o=0;n.forEach(function(t){a(t,function(t){t&&!r&&(r=t),e()})})}function f(t,e,n,o,i,u,c,a){function s(){function e(t,e){function r(){return++o===i.length&&e(),!1}var o=0,i=Object.keys(n._attachments||{});if(!i.length)return e();for(var u=0;u<i.length;u++)!function(e){var o="INSERT INTO "+No+" (digest, seq) VALUES (?,?)",i=[n._attachments[e].digest,t];y.executeSql(o,i,r,r)}(i[u])}var n=t.data,r=o?1:0,i=n._id,u=n._rev,c=Me(n),a="INSERT INTO "+Ro+" (doc_id, rev, json, deleted) VALUES (?, ?, ?, ?);",s=[i,u,c,r];y.executeSql(a,s,function(t,n){var r=n.insertId;e(r,function(){d(t,r)})},function(){var t=Le("seq",Ro,null,"doc_id=? AND rev=?");return y.executeSql(t,[i,u],function(t,n){var o=n.rows.item(0).seq,a="UPDATE "+Ro+" SET json=?, deleted=? WHERE doc_id=? AND rev=?;",s=[c,r,i,u];t.executeSql(a,s,function(t){e(o,function(){d(t,o)})})}),!1})}function f(t){h||(t?(h=t,a(h)):_===v.length&&s())}function l(t){_++,f(t)}function d(n,o){var u=t.metadata.id,s=t.stemmedRevs||[];i&&r.auto_compaction&&(s=K(t.metadata).concat(s)),s.length&&Pe(s,u,n),t.metadata.seq=o;var f=t.metadata.rev;delete t.metadata.rev;var l=i?"UPDATE "+Bo+" SET json=?, max_seq=?, winningseq=(SELECT seq FROM "+Ro+" WHERE doc_id="+Bo+".id AND rev=?) WHERE id=?":"INSERT INTO "+Bo+" (id, winningseq, max_seq, json) VALUES (?,?,?,?);",d=re(t.metadata),p=i?[d,o,e,u]:[u,o,o,d];n.executeSql(l,p,function(){b[c]={ok:!0,id:t.metadata.id,rev:f},w.set(u,t.metadata),a()})}var h=null,_=0;t.data._id=t.metadata.id,t.data._rev=t.metadata.rev;var v=Object.keys(t.data._attachments||{});o&&(t.data._deleted=!0),v.forEach(function(n){var r=t.data._attachments[n];if(r.stub)_++,f();else{var o=r.data;delete r.data,r.revpos=parseInt(e,10),p(r.digest,o,l)}}),v.length||s()}function l(){ee(t.revs_limit,v,r,w,y,b,f,n)}function d(t){function e(){++n===v.length&&t()}if(!v.length)return t();var n=0;v.forEach(function(t){if(t._id&&st(t._id))return e();var n=t.metadata.id;y.executeSql("SELECT json FROM "+Bo+" WHERE id = ?",[n],function(t,r){if(r.rows.length){var o=ne(r.rows.item(0).json);w.set(n,o)}e()})})}function p(t,e,n){var r="SELECT digest FROM "+Io+" WHERE digest=?";y.executeSql(r,[t],function(o,i){if(i.rows.length)return n();r="INSERT INTO "+Io+" (digest, body, escaped) VALUES (?,?,1)",o.executeSql(r,[t,Ie(e)],function(){n()},function(){return n(),!1})})}var h=n.new_edits,_=e.docs,v=_.map(function(t){return t._id&&st(t._id)?t:Rt(t,h)}),g=v.filter(function(t){return t.error});if(g.length)return u(g[0]);var y,m,b=new Array(v.length),w=new Mr;Qt(v,"binary",function(t){if(t)return u(t);o.transaction(function(t){y=t,s(function(t){t?m=t:d(l)})},Fe(u),c)})}function ze(t){return t.websql(t.name,t.version,t.description,t.size)}function $e(t){try{return{db:ze(t)}}catch(t){return{error:t}}}function Je(t){var e=Do.get(t.name);return e||(e=$e(t),Do.set(t.name,e)),e}function He(t,e,n,r,o){function i(){++a===c.length&&o&&o()}function u(t,o){var u=t._attachments[o],c={binary:e.binary,ctx:r};n._getAttachment(t._id,o,u,c,function(e,n){t._attachments[o]=Pr(v(u,["digest","content_type"]),{data:n}),i()})}var c=Object.keys(t._attachments||{});if(!c.length)return o&&o();var a=0;c.forEach(function(n){e.attachments&&e.include_docs?u(t,n):(t._attachments[n].stub=!0,i())})}function Ve(t,e){function n(){w()&&(window.localStorage["_pouch__websqldb_"+m._name]=!0),e(null,m)}function r(t,e){t.executeSql(Wo),t.executeSql("ALTER TABLE "+Ro+" ADD COLUMN deleted TINYINT(1) DEFAULT 0",[],function(){t.executeSql(Fo),t.executeSql("ALTER TABLE "+Bo+" ADD COLUMN local TINYINT(1) DEFAULT 0",[],function(){t.executeSql("CREATE INDEX IF NOT EXISTS 'doc-store-local-idx' ON "+Bo+" (local, id)");var n="SELECT "+Bo+".winningseq AS seq, "+Bo+".json AS metadata FROM "+Ro+" JOIN "+Bo+" ON "+Ro+".seq = "+Bo+".winningseq";t.executeSql(n,[],function(t,n){for(var r=[],o=[],i=0;i<n.rows.length;i++){var u=n.rows.item(i),c=u.seq,a=JSON.parse(u.metadata);at(a)&&r.push(c),st(a.id)&&o.push(a.id)}t.executeSql("UPDATE "+Bo+"SET local = 1 WHERE id IN "+De(o.length),o,function(){t.executeSql("UPDATE "+Ro+" SET deleted = 1 WHERE seq IN "+De(r.length),r,e)})})})})}function o(t,e){var n="CREATE TABLE IF NOT EXISTS "+qo+" (id UNIQUE, rev, json)";t.executeSql(n,[],function(){var n="SELECT "+Bo+".id AS id, "+Ro+".json AS data FROM "+Ro+" JOIN "+Bo+" ON "+Ro+".seq = "+Bo+".winningseq WHERE local = 1";t.executeSql(n,[],function(t,n){function r(){if(!o.length)return e(t);var n=o.shift(),i=JSON.parse(n.data)._rev;t.executeSql("INSERT INTO "+qo+" (id, rev, json) VALUES (?,?,?)",[n.id,i,n.data],function(t){t.executeSql("DELETE FROM "+Bo+" WHERE id=?",[n.id],function(t){t.executeSql("DELETE FROM "+Ro+" WHERE seq=?",[n.seq],function(){r()})})})}for(var o=[],i=0;i<n.rows.length;i++)o.push(n.rows.item(i));r()})})}function i(t,e){function n(n){function r(){if(!n.length)return e(t);var o=n.shift(),i=Be(o.hex,y),u=i.lastIndexOf("::"),c=i.substring(0,u),a=i.substring(u+2),s="UPDATE "+Ro+" SET doc_id=?, rev=? WHERE doc_id_rev=?";t.executeSql(s,[c,a,i],function(){r()})}r()}var r="ALTER TABLE "+Ro+" ADD COLUMN doc_id";t.executeSql(r,[],function(t){var e="ALTER TABLE "+Ro+" ADD COLUMN rev";t.executeSql(e,[],function(t){t.executeSql(Uo,[],function(t){var e="SELECT hex(doc_id_rev) as hex FROM "+Ro;t.executeSql(e,[],function(t,e){for(var r=[],o=0;o<e.rows.length;o++)r.push(e.rows.item(o));n(r)})})})})}function u(t,e){function n(t){var n="SELECT COUNT(*) AS cnt FROM "+Io;t.executeSql(n,[],function(t,n){function r(){var n=Le(Ho+", "+Bo+".id AS id",[Bo,Ro],Jo,null,Bo+".id ");n+=" LIMIT "+i+" OFFSET "+o,o+=i,t.executeSql(n,[],function(t,n){if(!n.rows.length)return e(t);for(var o={},i=0;i<n.rows.length;i++)for(var u=n.rows.item(i),c=Ne(u.data,u.id,u.rev),a=Object.keys(c._attachments||{}),s=0;s<a.length;s++){var f=c._attachments[a[s]];!function(t,e){var n=o[t]=o[t]||[];n.indexOf(e)===-1&&n.push(e)}(f.digest,u.seq)}var l=[];if(Object.keys(o).forEach(function(t){o[t].forEach(function(e){l.push([t,e])})}),!l.length)return r();var d=0;l.forEach(function(e){var n="INSERT INTO "+No+" (digest, seq) VALUES (?,?)";t.executeSql(n,e,function(){++d===l.length&&r()})})})}if(!n.rows.item(0).cnt)return e(t);var o=0,i=10;r()})}var r="CREATE TABLE IF NOT EXISTS "+No+" (digest, seq INTEGER)";t.executeSql(r,[],function(t){t.executeSql($o,[],function(t){t.executeSql(zo,[],n)})})}function c(t,e){var n="ALTER TABLE "+Io+" ADD COLUMN escaped TINYINT(1) DEFAULT 0";t.executeSql(n,[],e)}function s(t,e){var n="ALTER TABLE "+Bo+" ADD COLUMN max_seq INTEGER";t.executeSql(n,[],function(t){var n="UPDATE "+Bo+" SET max_seq=(SELECT MAX(seq) FROM "+Ro+" WHERE doc_id=id)";t.executeSql(n,[],function(t){var n="CREATE UNIQUE INDEX IF NOT EXISTS 'doc-max-seq-idx' ON "+Bo+" (max_seq)";t.executeSql(n,[],e)})})}function l(t,e){t.executeSql('SELECT HEX("a") AS hex',[],function(t,n){y=2===n.rows.item(0).hex.length?"UTF-8":"UTF-16",e()})}function d(){for(;x.length>0;)x.pop()(null,b)}function p(t,e){if(0===e){var n="CREATE TABLE IF NOT EXISTS "+Mo+" (dbid, db_version INTEGER)",a="CREATE TABLE IF NOT EXISTS "+Io+" (digest UNIQUE, escaped TINYINT(1), body BLOB)",f="CREATE TABLE IF NOT EXISTS "+No+" (digest, seq INTEGER)",l="CREATE TABLE IF NOT EXISTS "+Bo+" (id unique, json, winningseq, max_seq INTEGER UNIQUE)",p="CREATE TABLE IF NOT EXISTS "+Ro+" (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, json, deleted TINYINT(1), doc_id, rev)",h="CREATE TABLE IF NOT EXISTS "+qo+" (id UNIQUE, rev, json)";t.executeSql(a),t.executeSql(h),t.executeSql(f,[],function(){t.executeSql(zo),t.executeSql($o)}),t.executeSql(l,[],function(){t.executeSql(Wo),t.executeSql(p,[],function(){t.executeSql(Fo),t.executeSql(Uo),t.executeSql(n,[],function(){var e="INSERT INTO "+Mo+" (db_version, dbid) VALUES (?,?)";b=z();var n=[jo,b];t.executeSql(e,n,function(){d()})})})})}else{var _=function(){e<jo&&t.executeSql("UPDATE "+Mo+" SET db_version = "+jo);var n="SELECT dbid FROM "+Mo;t.executeSql(n,[],function(t,e){b=e.rows.item(0).dbid,d()})},v=[r,o,i,u,c,s,_],g=e,y=function(t){v[g-1](t,y),g++};y(t)}}function h(t){var e="SELECT sql FROM sqlite_master WHERE tbl_name = "+Mo;t.executeSql(e,[],function(t,e){e.rows.length?/db_version/.test(e.rows.item(0).sql)?t.executeSql("SELECT db_version FROM "+Mo,[],function(t,e){p(t,e.rows.item(0).db_version)}):t.executeSql("ALTER TABLE "+Mo+" ADD COLUMN db_version INTEGER",[],function(){p(t,1)}):p(t,0)})}function _(t,e){var n="SELECT MAX(seq) AS seq FROM "+Ro;t.executeSql(n,[],function(t,n){e(n.rows.item(0).seq||0)})}function v(t,e){var n=Le("COUNT("+Bo+".id) AS 'num'",[Bo,Ro],Jo,Ro+".deleted=0");t.executeSql(n,[],function(t,n){e(n.rows.item(0).num)})}function g(t,e,n,r,o){var i=Le(Ho,[Bo,Ro],Jo,Bo+".id=?"),u=[e];t.executeSql(i,u,function(t,e){if(!e.rows.length)return o(O(Ur,"missing"));r(ft(n,ne(e.rows.item(0).metadata)))})}var y,m=this,b=null,k=Ue(t),x=[];m._name=t.name;var T=Pr({},t,{version:Po,description:t.name,size:k}),S=Je(T);if(S.error)return Fe(e)(S.error);var E=S.db;"function"!=typeof E.readTransaction&&(E.readTransaction=E.transaction),function(){E.transaction(function(t){l(t,function(){h(t)})},Fe(e),n)}(),m.type=function(){return"websql"},m._id=f(function(t){t(null,b)}),m._info=function(t){var e,n;E.readTransaction(function(t){_(t,function(t){e=t}),v(t,function(t){n=t})},Fe(t),function(){t(null,{doc_count:n,update_seq:e,websql_encoding:y})})},m._bulkDocs=function(e,n,r){We(t,e,n,m,E,Lo,r)},m._get=function(t,e,n){function r(t){n(t,{doc:o,metadata:i,ctx:u})}var o,i,u=e.ctx;if(!u)return E.readTransaction(function(r){m._get(t,Pr({ctx:r},e),n)});var c,a;if(e.rev){if(e.latest)return void g(u,t,e.rev,function(r){e.latest=!1,e.rev=r,m._get(t,e,n)},r);c=Le(Ho,[Bo,Ro],Bo+".id="+Ro+".doc_id",[Ro+".doc_id=?",Ro+".rev=?"]),a=[t,e.rev]}else c=Le(Ho,[Bo,Ro],Jo,Bo+".id=?"),a=[t];u.executeSql(c,a,function(t,n){if(!n.rows.length)return r(O(Ur,"missing"));var u=n.rows.item(0);if(i=ne(u.metadata),u.deleted&&!e.rev)return r(O(Ur,"deleted"));o=Ne(u.data,i.id,u.rev),r()})},m._allDocs=function(t,e){var n,r=[],o="startkey"in t&&t.startkey,i="endkey"in t&&t.endkey,u="key"in t&&t.key,c="descending"in t&&t.descending,a="limit"in t?t.limit:-1,s="skip"in t?t.skip:0,f=t.inclusive_end!==!1,l=[],d=[];if(u!==!1)d.push(Bo+".id = ?"),l.push(u);else if(o!==!1||i!==!1){if(o!==!1&&(d.push(Bo+".id "+(c?"<=":">=")+" ?"),l.push(o)),i!==!1){var p=c?">":"<";f&&(p+="="),d.push(Bo+".id "+p+" ?"),l.push(i)}u!==!1&&(d.push(Bo+".id = ?"),l.push(u))}"ok"!==t.deleted&&d.push(Ro+".deleted = 0"),E.readTransaction(function(e){if(v(e,function(t){n=t}),0!==a){var o=Le(Ho,[Bo,Ro],Jo,d,Bo+".id "+(c?"DESC":"ASC"));o+=" LIMIT "+a+" OFFSET "+s,e.executeSql(o,l,function(e,n){for(var o=0,i=n.rows.length;o<i;o++){var u=n.rows.item(o),c=ne(u.metadata),a=c.id,s=Ne(u.data,a,u.rev),f=s._rev,l={id:a,key:a,value:{rev:f}};if(t.include_docs){if(l.doc=s,l.doc._rev=f,t.conflicts){var d=G(c);d.length&&(l.doc._conflicts=d)}He(l.doc,t,m,e)}if(u.deleted){if("ok"!==t.deleted)continue;l.value.deleted=!0,l.doc=null}r.push(l)}})}},Fe(e),function(){e(null,{total_rows:n,offset:t.skip,rows:r})})},m._changes=function(t){if(t=a(t),t.continuous){var e=m._name+":"+z();return Lo.addListener(m._name,e,m,t),Lo.notify(m._name),{cancel:function(){Lo.removeListener(m._name,e)}}}var n=t.descending;t.since=t.since&&!n?t.since:0;var r="limit"in t?t.limit:-1;0===r&&(r=1);var o;o="return_docs"in t?t.return_docs:!("returnDocs"in t)||t.returnDocs;var i=[],u=0;!function(){var e=Bo+".json AS metadata, "+Bo+".max_seq AS maxSeq, "+Ro+".json AS winningDoc, "+Ro+".rev AS winningRev ",c=Bo+" JOIN "+Ro,a=Bo+".id="+Ro+".doc_id AND "+Bo+".winningseq="+Ro+".seq",s=["maxSeq > ?"],f=[t.since];t.doc_ids&&(s.push(Bo+".id IN "+De(t.doc_ids.length)),f=f.concat(t.doc_ids));var l="maxSeq "+(n?"DESC":"ASC"),d=Le(e,c,a,s,l),p=R(t);t.view||t.filter||(d+=" LIMIT "+r);var h=t.since||0;E.readTransaction(function(e){e.executeSql(d,f,function(e,n){function c(e){return function(){t.onChange(e)}}for(var a=0,s=n.rows.length;a<s;a++){var f=n.rows.item(a),l=ne(f.metadata);h=f.maxSeq;var d=Ne(f.winningDoc,l.id,f.winningRev),_=t.processChange(d,l,t);_.seq=f.maxSeq;var v=p(_);if("object"==typeof v)return t.complete(v);if(v&&(u++,o&&i.push(_),t.attachments&&t.include_docs?He(d,t,m,e,c(_)):c(_)()),u===r)break}})},Fe(t.complete),function(){t.continuous||t.complete(null,{results:i,last_seq:h})})}()},m._close=function(t){t()},m._getAttachment=function(t,e,n,r,o){var i,u=r.ctx,c=n.digest,a=n.content_type,s="SELECT escaped, CASE WHEN escaped = 1 THEN body ELSE HEX(body) END AS body FROM "+Io+" WHERE digest=?";u.executeSql(s,[c],function(t,e){var n=e.rows.item(0),u=n.escaped?qe(n.body):Be(n.body,y);i=r.binary?Mt(u,a):po(u),o(null,i)})},m._getRevisionTree=function(t,e){E.readTransaction(function(n){var r="SELECT json AS metadata FROM "+Bo+" WHERE id = ?";n.executeSql(r,[t],function(t,n){n.rows.length?e(null,ne(n.rows.item(0).metadata).rev_tree):e(O(Ur))})})},m._doCompaction=function(t,e,n){if(!e.length)return n();E.transaction(function(n){var r="SELECT json AS metadata FROM "+Bo+" WHERE id = ?";n.executeSql(r,[t],function(n,r){var o=ne(r.rows.item(0).metadata);J(o.rev_tree,function(t,n,r,o,i){var u=n+"-"+r;e.indexOf(u)!==-1&&(i.status="missing")});var i="UPDATE "+Bo+" SET json = ? WHERE id = ?";n.executeSql(i,[re(o),t])}),Pe(e,t,n)},Fe(n),function(){n()})},m._getLocal=function(t,e){E.readTransaction(function(n){var r="SELECT json, rev FROM "+qo+" WHERE id=?";n.executeSql(r,[t],function(n,r){if(r.rows.length){var o=r.rows.item(0);e(null,Ne(o.json,t,o.rev))}else e(O(Ur))})})},m._putLocal=function(t,e,n){function r(t){var r,s;i?(r="UPDATE "+qo+" SET rev=?, json=? WHERE id=? AND rev=?",s=[o,a,u,i]):(r="INSERT INTO "+qo+" (id, rev, json) VALUES (?,?,?)",s=[u,o,a]),t.executeSql(r,s,function(t,r){r.rowsAffected?(c={ok:!0,id:u,rev:o},e.ctx&&n(null,c)):n(O(Wr))},function(){return n(O(Wr)),!1})}"function"==typeof e&&(n=e,e={}),delete t._revisions;var o,i=t._rev,u=t._id;o=t._rev=i?"0-"+(parseInt(i.split("-")[1],10)+1):"0-1";var c,a=Me(t);e.ctx?r(e.ctx):E.transaction(r,Fe(n),function(){c&&n(null,c)})},m._removeLocal=function(t,e,n){function r(r){var i="DELETE FROM "+qo+" WHERE id=? AND rev=?",u=[t._id,t._rev];r.executeSql(i,u,function(r,i){if(!i.rowsAffected)return n(O(Ur));o={ok:!0,id:t._id,rev:"0-0"},e.ctx&&n(null,o)})}"function"==typeof e&&(n=e,e={});var o;e.ctx?r(e.ctx):E.transaction(r,Fe(n),function(){o&&n(null,o)})},m._destroy=function(t,e){Lo.removeAllListeners(m._name),E.transaction(function(t){[Bo,Ro,Io,Mo,qo,No].forEach(function(e){t.executeSql("DROP TABLE IF EXISTS "+e,[])})},Fe(e),function(){w()&&(delete window.localStorage["_pouch__websqldb_"+m._name],delete window.localStorage[m._name]),e(null,{ok:!0})})}}function Ge(){try{return openDatabase("_pouch_validate_websql",1,"",1),!0}catch(t){return!1}}function Ke(){if("undefined"==typeof indexedDB||null===indexedDB||!/iP(hone|od|ad)/.test(navigator.userAgent))return!0;var t=w(),e="_pouch__websqldb_valid_"+navigator.userAgent;if(t&&localStorage[e])return"1"===localStorage[e];var n=Ge();return t&&(localStorage[e]=n?"1":"0"),n}function Ye(){return"function"==typeof openDatabase&&Ke()}function Xe(t,e,n,r){return openDatabase(t,e,n,r)}function Qe(t,e){var n=Pr({websql:Xe},t);Ve.call(this,n,e)}function Ze(){for(var t={},e=new jr(function(e,n){t.resolve=e,t.reject=n}),n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.promise=e,jr.resolve().then(function(){return fetch.apply(null,n)}).then(function(e){t.resolve(e)}).catch(function(e){t.reject(e)}),t}function tn(t,e){var n,r,o,i=new Headers,u={method:t.method,credentials:"include",headers:i};return t.json&&(i.set("Accept","application/json"),i.set("Content-Type",t.headers["Content-Type"]||"application/json")),t.body&&t.processData&&"string"!=typeof t.body?u.body=JSON.stringify(t.body):u.body="body"in t?t.body:null,Object.keys(t.headers).forEach(function(e){t.headers.hasOwnProperty(e)&&i.set(e,t.headers[e])}),n=Ze(t.url,u),t.timeout>0&&(r=setTimeout(function(){n.reject(new Error("Load timeout for resource: "+t.url))},t.timeout)),n.promise.then(function(e){return o={statusCode:e.status},t.timeout>0&&clearTimeout(r),o.statusCode>=200&&o.statusCode<300?t.binary?e.blob():e.text():e.json()}).then(function(t){o.statusCode>=200&&o.statusCode<300?e(null,o,t):(t.status=o.statusCode,e(t))}).catch(function(t){t||(t=new Error("canceled")),e(t)}),{abort:n.reject}}function en(t,e){var n,r,o=!1,i=function(){n.abort(),a()},u=function(){o=!0,n.abort(),a()},c={abort:i},a=function(){clearTimeout(r),c.abort=function(){},n&&(n.onprogress=void 0,n.upload&&(n.upload.onprogress=void 0),n.onreadystatechange=void 0,n=void 0)};n=t.xhr?new t.xhr:new XMLHttpRequest;try{n.open(t.method,t.url)}catch(t){return e(new Error(t.name||"Url is invalid"))}n.withCredentials=!("withCredentials"in t)||t.withCredentials,"GET"===t.method?delete t.headers["Content-Type"]:t.json&&(t.headers.Accept="application/json",t.headers["Content-Type"]=t.headers["Content-Type"]||"application/json",t.body&&t.processData&&"string"!=typeof t.body&&(t.body=JSON.stringify(t.body))),t.binary&&(n.responseType="arraybuffer"),"body"in t||(t.body=null);for(var s in t.headers)t.headers.hasOwnProperty(s)&&n.setRequestHeader(s,t.headers[s]);return t.timeout>0&&(r=setTimeout(u,t.timeout),n.onprogress=function(){clearTimeout(r),4!==n.readyState&&(r=setTimeout(u,t.timeout))},void 0!==n.upload&&(n.upload.onprogress=n.onprogress)),n.onreadystatechange=function(){if(4===n.readyState){var r={statusCode:n.status};if(n.status>=200&&n.status<300){var i;i=t.binary?It([n.response||""],{type:n.getResponseHeader("Content-Type")}):n.responseText,e(null,r,i)}else{var u={};if(o)u=new Error("ETIMEDOUT"),u.code="ETIMEDOUT";else if("string"==typeof n.response)try{u=JSON.parse(n.response)}catch(t){}u.status=n.status,e(u)}a()}},t.body&&t.body instanceof Blob?Ut(t.body,function(t){n.send(t)}):n.send(t.body),c}function nn(t,e){return Go||t.xhr?en(t,e):tn(t,e)}function rn(){return""}function on(t,e){function n(e,n,r){if(!t.binary&&t.json&&"string"==typeof e)try{e=JSON.parse(e)}catch(t){return r(t)}Array.isArray(e)&&(e=e.map(function(t){return t.error||t.missing?j(t):t})),t.binary&&Ko(e,n),r(null,e,n)}return t=a(t),t=Pr({method:"GET",headers:{},json:!0,processData:!0,timeout:1e4,cache:!1},t),t.json&&(t.binary||(t.headers.Accept="application/json"),t.headers["Content-Type"]=t.headers["Content-Type"]||"application/json"),t.binary&&(t.encoding=null,t.json=!1),t.processData||(t.json=!1),nn(t,function(r,o,i){if(r)return e(j(r));var u,c=o.headers&&o.headers["content-type"],a=i||rn();if(!t.binary&&(t.json||!t.processData)&&"object"!=typeof a&&(/json/.test(c)||/^[\s]*\{/.test(a)&&/\}[\s]*$/.test(a)))try{a=JSON.parse(a.toString())}catch(t){}o.statusCode>=200&&o.statusCode<300?n(a,o,e):(u=j(a),u.status=o.statusCode,e(u))})}function un(t,e){var n=navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",r=n.indexOf("safari")!==-1&&n.indexOf("chrome")===-1,o=n.indexOf("msie")!==-1,i=n.indexOf("edge")!==-1,u=r||(o||i)&&"GET"===t.method,c=!("cache"in t)||t.cache;if(!/^blob:/.test(t.url)&&(u||!c)){var a=t.url.indexOf("?")!==-1;t.url+=(a?"&":"?")+"_nonce="+Date.now()}return on(t,e)}function cn(t,e){return new jr(function(n,r){function o(){f++,t[l++]().then(u,c)}function i(){++d===p?s?r(s):n():a()}function u(){f--,i()}function c(t){f--,s=s||t,i()}function a(){for(;f<e&&l<p;)o()}var s,f=0,l=0,d=0,p=t.length;a()})}function an(t){var e=t.doc&&t.doc._attachments;e&&Object.keys(e).forEach(function(t){var n=e[t];n.data=Nt(n.data,n.content_type)})}function sn(t){return/^_design/.test(t)?"_design/"+encodeURIComponent(t.slice(8)):/^_local/.test(t)?"_local/"+encodeURIComponent(t.slice(7)):encodeURIComponent(t)}function fn(t){return t._attachments&&Object.keys(t._attachments)?jr.all(Object.keys(t._attachments).map(function(e){var n=t._attachments[e];if(n.data&&"string"!=typeof n.data)return new jr(function(t){Ft(n.data,t)}).then(function(t){n.data=t})})):jr.resolve()}function ln(t){if(!t.prefix)return!1;var e=P(t.prefix).protocol;return"http"===e||"https"===e}function dn(t,e){if(ln(e)){var n=e.name.substr(e.prefix.length);t=e.prefix+encodeURIComponent(n)}var r=P(t);(r.user||r.password)&&(r.auth={username:r.user,password:r.password});var o=r.path.replace(/(^\/|\/$)/g,"").split("/");return r.db=o.pop(),r.db.indexOf("%")===-1&&(r.db=encodeURIComponent(r.db)),r.path=o.join("/"),r}function pn(t,e){return hn(t,t.db+"/"+e)}function hn(t,e){var n=t.path?"/":"";return t.protocol+"://"+t.host+(t.port?":"+t.port:"")+"/"+t.path+n+e}function _n(t){return"?"+Object.keys(t).map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&")}function vn(t,e){function n(t,e,n){var r=t.ajax||{},o=Pr(a(d),r,e),i=a(d.headers||{});return o.headers=Pr(i,r.headers,e.headers||{}),Zo(o.method+" "+o.url),c._ajax(o,n)}function r(t,e){return new jr(function(r,o){n(t,e,function(t,e){if(t)return o(t);r(e)})})}function o(t,e){return l(t,kr(function(t){i().then(function(){return e.apply(this,t)}).catch(function(e){t.pop()(e)})}))}function i(){return t.skipSetup||t.skip_setup?jr.resolve():g||(g=r({},{method:"GET",url:f}).catch(function(t){return t&&t.status&&404===t.status?(A(404,"PouchDB is just detecting if the remote exists."),r({},{method:"PUT",url:f})):jr.reject(t)}).catch(function(t){return!(!t||!t.status||412!==t.status)||jr.reject(t)}),g.catch(function(){g=null}),g)}function u(t){return t.split("/").map(encodeURIComponent).join("/")}var c=this,s=dn(t.name,t),f=pn(s,"");t=a(t);var d=t.ajax||{};if(t.auth||s.auth){var p=t.auth||s.auth,h=p.username+":"+p.password,_=po(unescape(encodeURIComponent(h)));d.headers=d.headers||{},d.headers.Authorization="Basic "+_}c._ajax=un;var g;Er(function(){e(null,c)}),c.type=function(){return"http"},c.id=o("id",function(t){n({},{method:"GET",url:hn(s,"")},function(e,n){t(null,n&&n.uuid?n.uuid+s.db:pn(s,""))})}),c.request=o("request",function(t,e){t.url=pn(s,t.url),n({},t,e)}),c.compact=o("compact",function(t,e){"function"==typeof t&&(e=t,t={}),t=a(t),n(t,{url:pn(s,"_compact"),method:"POST"},function(){function n(){c.info(function(r,o){o&&!o.compact_running?e(null,{ok:!0}):setTimeout(n,t.interval||200)})}n()})}),c.bulkGet=l("bulkGet",function(t,e){function r(e){var r={};t.revs&&(r.revs=!0),t.attachments&&(r.attachments=!0),t.latest&&(r.latest=!0),n(t,{url:pn(s,"_bulk_get"+_n(r)),method:"POST",body:{docs:t.docs}},e)}function o(){for(var n=Xo,r=Math.ceil(t.docs.length/n),o=0,u=new Array(r),c=0;c<r;c++){var a=v(t,["revs","attachments","latest"]);a.ajax=d,a.docs=t.docs.slice(c*n,Math.min(t.docs.length,(c+1)*n)),m(i,a,function(t){return function(n,i){u[t]=i.results,++o===r&&e(null,{results:I(u)})}}(c))}}var i=this,u=hn(s,""),c=Qo[u];"boolean"!=typeof c?r(function(t,n){t?(Qo[u]=!1,A(t.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),o()):(Qo[u]=!0,e(null,n))}):c?r(e):o()}),c._info=function(t){i().then(function(){n({},{method:"GET",url:pn(s,"")},function(e,n){if(e)return t(e);n.host=pn(s,""),t(null,n)})}).catch(t)},c.get=o("get",function(t,e,n){function o(t){function n(n){var i=o[n];return r(e,{method:"GET",url:pn(s,sn(t._id)+"/"+u(n)+"?rev="+t._rev),binary:!0}).then(function(t){return e.binary?t:new jr(function(e){Ft(t,e)})}).then(function(t){delete i.stub,delete i.length,i.data=t})}var o=t._attachments,i=o&&Object.keys(o);if(o&&i.length)return cn(i.map(function(t){return function(){return n(t)}}),5)}function i(t){return Array.isArray(t)?jr.all(t.map(function(t){if(t.ok)return o(t.ok)})):o(t)}"function"==typeof e&&(n=e,e={}),e=a(e);var c={};e.revs&&(c.revs=!0),e.revs_info&&(c.revs_info=!0),e.latest&&(c.latest=!0),e.open_revs&&("all"!==e.open_revs&&(e.open_revs=JSON.stringify(e.open_revs)),c.open_revs=e.open_revs),e.rev&&(c.rev=e.rev),e.conflicts&&(c.conflicts=e.conflicts),t=sn(t),r(e,{method:"GET",url:pn(s,t+_n(c))}).then(function(t){return jr.resolve().then(function(){if(e.attachments)return i(t)}).then(function(){n(null,t)})}).catch(n)}),c.remove=o("remove",function(t,e,r,o){var i;"string"==typeof e?(i={_id:t,_rev:e},"function"==typeof r&&(o=r,r={})):(i=t,"function"==typeof e?(o=e,r={}):(o=r,r=e));var u=i._rev||r.rev;n(r,{method:"DELETE",url:pn(s,sn(i._id))+"?rev="+u},o)}),c.getAttachment=o("getAttachment",function(t,e,r,o){"function"==typeof r&&(o=r,r={});var i=r.rev?"?rev="+r.rev:"";n(r,{method:"GET",url:pn(s,sn(t))+"/"+u(e)+i,binary:!0},o)}),c.removeAttachment=o("removeAttachment",function(t,e,r,o){n({},{method:"DELETE",url:pn(s,sn(t)+"/"+u(e))+"?rev="+r},o)}),c.putAttachment=o("putAttachment",function(t,e,r,o,i,c){"function"==typeof i&&(c=i,i=o,o=r,r=null);var a=sn(t)+"/"+u(e),f=pn(s,a);if(r&&(f+="?rev="+r),"string"==typeof o){var l;try{l=lo(o)}catch(t){return c(O(Vr,"Attachment is not a valid base64 string"))}o=l?Mt(l,i):""}n({},{headers:{"Content-Type":i},method:"PUT",url:f,processData:!1,body:o,timeout:d.timeout||6e4},c)}),c._bulkDocs=function(t,e,r){t.new_edits=e.new_edits,i().then(function(){return jr.all(t.docs.map(fn))}).then(function(){n(e,{method:"POST",url:pn(s,"_bulk_docs"),timeout:e.timeout,body:t},function(t,e){if(t)return r(t);e.forEach(function(t){t.ok=!0}),r(null,e)})}).catch(r)},c._put=function(t,e,r){i().then(function(){return fn(t)}).then(function(){n(e,{method:"PUT",url:pn(s,sn(t._id)),body:t},function(t,e){if(t)return r(t);r(null,e)})}).catch(r)},c.allDocs=o("allDocs",function(t,e){"function"==typeof t&&(e=t,t={}),t=a(t);var n,o={},i="GET";t.conflicts&&(o.conflicts=!0),t.descending&&(o.descending=!0),t.include_docs&&(o.include_docs=!0),t.attachments&&(o.attachments=!0),t.key&&(o.key=JSON.stringify(t.key)),t.start_key&&(t.startkey=t.start_key),t.startkey&&(o.startkey=JSON.stringify(t.startkey)),t.end_key&&(t.endkey=t.end_key),t.endkey&&(o.endkey=JSON.stringify(t.endkey)),void 0!==t.inclusive_end&&(o.inclusive_end=!!t.inclusive_end),void 0!==t.limit&&(o.limit=t.limit),void 0!==t.skip&&(o.skip=t.skip);var u=_n(o);void 0!==t.keys&&(i="POST",n={keys:t.keys}),r(t,{method:i,url:pn(s,"_all_docs"+u),body:n}).then(function(n){t.include_docs&&t.attachments&&t.binary&&n.rows.forEach(an),e(null,n)}).catch(e)}),c._changes=function(t){var e="batch_size"in t?t.batch_size:Yo;t=a(t),t.timeout="timeout"in t?t.timeout:"timeout"in d?d.timeout:3e4;var r,o=t.timeout?{timeout:t.timeout-5e3}:{},u=void 0!==t.limit&&t.limit;r="return_docs"in t?t.return_docs:!("returnDocs"in t)||t.returnDocs;var c=u;if(t.style&&(o.style=t.style),(t.include_docs||t.filter&&"function"==typeof t.filter)&&(o.include_docs=!0),t.attachments&&(o.attachments=!0),t.continuous&&(o.feed="longpoll"),t.conflicts&&(o.conflicts=!0),t.descending&&(o.descending=!0),"heartbeat"in t?t.heartbeat&&(o.heartbeat=t.heartbeat):t.continuous&&(o.heartbeat=1e4),t.filter&&"string"==typeof t.filter&&(o.filter=t.filter),t.view&&"string"==typeof t.view&&(o.filter="_view",o.view=t.view),t.query_params&&"object"==typeof t.query_params)for(var f in t.query_params)t.query_params.hasOwnProperty(f)&&(o[f]=t.query_params[f]);var l,p="GET";t.doc_ids&&(o.filter="_doc_ids",p="POST",l={doc_ids:t.doc_ids});var h,_,v=function(r,a){if(!t.aborted){o.since=r,"object"==typeof o.since&&(o.since=JSON.stringify(o.since)),t.descending?u&&(o.limit=c):o.limit=!u||c>e?e:c;var f={method:p,url:pn(s,"_changes"+_n(o)),timeout:t.timeout,body:l};_=r,t.aborted||i().then(function(){h=n(t,f,a)}).catch(a)}},g={results:[]},y=function(n,o){if(!t.aborted){var i=0;if(o&&o.results)i=o.results.length,g.last_seq=o.last_seq,{}.query=t.query_params,o.results=o.results.filter(function(e){c--;var n=R(t)(e);return n&&(t.include_docs&&t.attachments&&t.binary&&an(e),r&&g.results.push(e),t.onChange(e)),n});else if(n)return t.aborted=!0,void t.complete(n);o&&o.last_seq&&(_=o.last_seq);var a=u&&c<=0||o&&i<e||t.descending;(!t.continuous||u&&c<=0)&&a?t.complete(null,g):Er(function(){v(_,y)})}};return v(t.since||0,y),{cancel:function(){t.aborted=!0,h&&h.abort()}}},c.revsDiff=o("revsDiff",function(t,e,r){"function"==typeof e&&(r=e,e={}),n(e,{method:"POST",url:pn(s,"_revs_diff"),body:t},r)}),c._close=function(t){t()},c._destroy=function(t,e){n(t,{url:pn(s,""),method:"DELETE"},function(t,n){if(t&&t.status&&404!==t.status)return e(t);e(null,n)})}}function gn(t){this.status=400,this.name="query_parse_error",this.message=t,this.error=!0;try{Error.captureStackTrace(this,gn)}catch(t){}}function yn(t){this.status=404,this.name="not_found",this.message=t,this.error=!0;try{Error.captureStackTrace(this,yn)}catch(t){}}function mn(t){this.status=500,this.name="invalid_value",this.message=t,this.error=!0;try{Error.captureStackTrace(this,mn)}catch(t){}}function bn(t,e){return e&&t.then(function(t){Er(function(){e(null,t)})},function(t){Er(function(){e(t)})}),t}
function wn(t){return kr(function(e){var n=e.pop(),r=t.apply(this,e);return"function"==typeof n&&bn(r,n),r})}function kn(t,e){return t.then(function(t){return e().then(function(){return t})},function(t){return e().then(function(){throw t})})}function xn(t,e){return function(){var n=arguments,r=this;return t.add(function(){return e.apply(r,n)})}}function Tn(t){var e=new qr(t),n=new Array(e.size),r=-1;return e.forEach(function(t){n[++r]=t}),n}function Sn(t){var e=new Array(t.size),n=-1;return t.forEach(function(t,r){e[++n]=r}),e}function En(t){return new mn("builtin "+t+" function requires map values to be numbers or number arrays")}function An(t){for(var e=0,n=0,r=t.length;n<r;n++){var o=t[n];if("number"!=typeof o){if(!Array.isArray(o))throw En("_sum");e="number"==typeof e?[e]:e;for(var i=0,u=o.length;i<u;i++){var c=o[i];if("number"!=typeof c)throw En("_sum");void 0===e[i]?e.push(c):e[i]+=c}}else"number"==typeof e?e+=o:e[0]+=o}return e}function Cn(t,e){return Ar("return ("+t.replace(/;\s*$/,"")+");",{emit:e,sum:An,log:ei,isArray:ni,toJSON:ri})}function On(t,e,n){for(var r="",o=n-t.length;r.length<o;)r+=e;return r}function jn(t,e,n){return On(t,e,n)+t}function Bn(t,e){if(t===e)return 0;t=Rn(t),e=Rn(e);var n=Un(t),r=Un(e);if(n-r!=0)return n-r;switch(typeof t){case"number":return t-e;case"boolean":return t<e?-1:1;case"string":return Pn(t,e)}return Array.isArray(t)?Ln(t,e):Fn(t,e)}function Rn(t){switch(typeof t){case"undefined":return null;case"number":return 1/0===t||t===-1/0||isNaN(t)?null:t;case"object":var e=t;if(Array.isArray(t)){var n=t.length;t=new Array(n);for(var r=0;r<n;r++)t[r]=Rn(e[r])}else{if(t instanceof Date)return t.toJSON();if(null!==t){t={};for(var o in e)if(e.hasOwnProperty(o)){var i=e[o];void 0!==i&&(t[o]=Rn(i))}}}}return t}function In(t){if(null!==t)switch(typeof t){case"boolean":return t?1:0;case"number":return Wn(t);case"string":return t.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var e=Array.isArray(t),n=e?t:Object.keys(t),r=-1,o=n.length,i="";if(e)for(;++r<o;)i+=qn(n[r]);else for(;++r<o;){var u=n[r];i+=qn(u)+qn(t[u])}return i}return""}function qn(t){return t=Rn(t),Un(t)+ui+In(t)+"\0"}function Mn(t,e){var n,r=e;if("1"===t[e])n=0,e++;else{var o="0"===t[e];e++;var i="",u=t.substring(e,e+ii),c=parseInt(u,10)+oi;for(o&&(c=-c),e+=ii;;){var a=t[e];if("\0"===a)break;i+=a,e++}i=i.split("."),n=1===i.length?parseInt(i,10):parseFloat(i[0]+"."+i[1]),o&&(n-=10),0!==c&&(n=parseFloat(n+"e"+c))}return{num:n,length:e-r}}function Nn(t,e){var n=t.pop();if(e.length){var r=e[e.length-1];n===r.element&&(e.pop(),r=e[e.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(n);else if(i===t.length-2){var u=t.pop();o[u]=n}else t.push(n)}}function Dn(t){for(var e=[],n=[],r=0;;){var o=t[r++];if("\0"!==o)switch(o){case"1":e.push(null);break;case"2":e.push("1"===t[r]),r++;break;case"3":var i=Mn(t,r);e.push(i.num),r+=i.length;break;case"4":for(var u="";;){var c=t[r];if("\0"===c)break;u+=c,r++}u=u.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),e.push(u);break;case"5":var a={element:[],index:e.length};e.push(a.element),n.push(a);break;case"6":var s={element:{},index:e.length};e.push(s.element),n.push(s);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+o)}else{if(1===e.length)return e.pop();Nn(e,n)}}}function Ln(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var o=Bn(t[r],e[r]);if(0!==o)return o}return t.length===e.length?0:t.length>e.length?1:-1}function Pn(t,e){return t===e?0:t>e?1:-1}function Fn(t,e){for(var n=Object.keys(t),r=Object.keys(e),o=Math.min(n.length,r.length),i=0;i<o;i++){var u=Bn(n[i],r[i]);if(0!==u)return u;if(0!==(u=Bn(t[n[i]],e[r[i]])))return u}return n.length===r.length?0:n.length>r.length?1:-1}function Un(t){var e=["boolean","number","string","object"],n=e.indexOf(typeof t);return~n?null===t?1:Array.isArray(t)?5:n<3?n+2:n+3:Array.isArray(t)?5:void 0}function Wn(t){if(0===t)return"1";var e=t.toExponential().split(/e\+?/),n=parseInt(e[1],10),r=t<0,o=r?"0":"2";o+=ui+jn(((r?-n:n)-oi).toString(),"0",ii);var i=Math.abs(parseFloat(e[0]));r&&(i=10-i);var u=i.toFixed(20);return u=u.replace(/\.?0+$/,""),o+=ui+u}function zn(){this.promise=new jr(function(t){t()})}function $n(t,e,n,r,o,i){var u,c=n.toString()+(r&&r.toString())+"undefined";if(!o&&(u=t._cachedViews=t._cachedViews||{},u[c]))return u[c];var a=t.info().then(function(a){function s(t){t.views=t.views||{};var n=e;n.indexOf("/")===-1&&(n=e+"/"+e);var r=t.views[n]=t.views[n]||{};if(!r[f])return r[f]=!0,t}var f=a.db_name+"-mrview-"+(o?"temp":Vt(c));return F(t,"_local/"+i,s).then(function(){return t.registerDependentDatabase(f).then(function(e){var o=e.db;o.auto_compaction=!0;var i={name:f,db:o,sourceDB:t,adapter:t.adapter,mapFun:n,reduceFun:r};return i.db.get("_local/lastSeq").catch(function(t){if(404!==t.status)throw t}).then(function(t){return i.seq=t?t.seq:0,u&&i.db.once("destroyed",function(){delete u[c]}),i})})})});return u&&(u[c]=a),a}function Jn(t){return t.indexOf("/")===-1?[t,t]:t.split("/")}function Hn(t){return 1===t.length&&/^1-/.test(t[0].rev)}function Vn(t,e){try{t.emit("error",e)}catch(t){T("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),T("error",e)}}function Gn(t,e){if("function"==typeof t&&2===t.length){var n=t;return function(t){return n(t,e)}}return Cn(t.toString(),e)}function Kn(t){return fi[t]?fi[t]:Cn(t.toString())}function Yn(t,e){var n=t.views&&t.views[e];if("string"!=typeof n.map)throw new yn("ddoc "+t._id+" has no string view named "+e+", instead found object of type: "+typeof n.map)}function Xn(t,e,n){return li.query.call(this,t,e,n)}function Qn(t){return li.viewCleanup.call(this,t)}function Zn(t){return/^1-/.test(t)}function tr(t,e,n){return!t._attachments||!t._attachments[n]||t._attachments[n].digest!==e._attachments[n].digest}function er(t,e){var n=Object.keys(e._attachments);return jr.all(n.map(function(n){return t.getAttachment(e._id,n,{rev:e._rev})}))}function nr(t,e,n){var r="http"===e.type()&&"http"!==t.type(),o=Object.keys(n._attachments);return r?t.get(n._id).then(function(r){return jr.all(o.map(function(o){return tr(r,n,o)?e.getAttachment(n._id,o):t.getAttachment(r._id,o)}))}).catch(function(t){if(404!==t.status)throw t;return er(e,n)}):er(e,n)}function rr(t){var e=[];return Object.keys(t).forEach(function(n){t[n].missing.forEach(function(t){e.push({id:n,rev:t})})}),{docs:e,revs:!0,latest:!0}}function or(t,e,n,r){function o(){var o=rr(n);if(o.docs.length)return t.bulkGet(o).then(function(n){if(r.cancelled)throw new Error("cancelled");return jr.all(n.results.map(function(n){return jr.all(n.docs.map(function(n){var r=n.ok;return n.error&&(d=!1),r&&r._attachments?nr(e,t,r).then(function(t){var e=Object.keys(r._attachments);return t.forEach(function(t,n){var o=r._attachments[e[n]];delete o.stub,delete o.length,o.data=t}),r}):r}))})).then(function(t){l=l.concat(I(t).filter(Boolean))})})}function i(t){return t._attachments&&Object.keys(t._attachments).length>0}function u(t){return t._conflicts&&t._conflicts.length>0}function c(e){return t.allDocs({keys:e,include_docs:!0,conflicts:!0}).then(function(t){if(r.cancelled)throw new Error("cancelled");t.rows.forEach(function(t){t.deleted||!t.doc||!Zn(t.value.rev)||i(t.doc)||u(t.doc)||(t.doc._conflicts&&delete t.doc._conflicts,l.push(t.doc),delete n[t.id])})})}function s(){var t=Object.keys(n).filter(function(t){var e=n[t].missing;return 1===e.length&&Zn(e[0])});if(t.length>0)return c(t)}function f(){return{ok:d,docs:l}}n=a(n);var l=[],d=!0;return jr.resolve().then(s).then(o).then(f)}function ir(t,e,n,r,o){return t.get(e).catch(function(n){if(404===n.status)return"http"===t.type()&&A(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:r,_id:e,history:[],replicator:hi,version:pi};throw n}).then(function(i){if(!o.cancelled&&i.last_seq!==n)return i.history=(i.history||[]).filter(function(t){return t.session_id!==r}),i.history.unshift({last_seq:n,session_id:r}),i.history=i.history.slice(0,_i),i.version=pi,i.replicator=hi,i.session_id=r,i.last_seq=n,t.put(i).catch(function(i){if(409===i.status)return ir(t,e,n,r,o);throw i})})}function ur(t,e,n,r){this.src=t,this.target=e,this.id=n,this.returnValue=r}function cr(t,e){return t.session_id===e.session_id?{last_seq:t.last_seq,history:t.history}:ar(t.history,e.history)}function ar(t,e){var n=t[0],r=t.slice(1),o=e[0],i=e.slice(1);return n&&0!==e.length?sr(n.session_id,e)?{last_seq:n.last_seq,history:t}:sr(o.session_id,r)?{last_seq:o.last_seq,history:i}:ar(r,i):{last_seq:vi,history:[]}}function sr(t,e){var n=e[0],r=e.slice(1);return!(!t||0===e.length)&&(t===n.session_id||sr(t,r))}function fr(t){return"number"==typeof t.status&&4===Math.floor(t.status/100)}function lr(t,e,n,r){if(t.retry===!1)return e.emit("error",n),void e.removeAllListeners();if("function"!=typeof t.back_off_function&&(t.back_off_function=E),e.emit("requestError",n),"active"===e.state||"pending"===e.state){e.emit("paused",n),e.state="stopped";var o=function(){t.current_back_off=yi},i=function(){e.removeListener("active",o)};e.once("paused",i),e.once("active",o)}t.current_back_off=t.current_back_off||yi,t.current_back_off=t.back_off_function(t.current_back_off),setTimeout(r,t.current_back_off)}function dr(t){return Object.keys(t).sort(Bn).reduce(function(e,n){return e[n]=t[n],e},{})}function pr(t,e,n){var r=n.doc_ids?n.doc_ids.sort(Bn):"",o=n.filter?n.filter.toString():"",i="",u="";return n.filter&&n.query_params&&(i=JSON.stringify(dr(n.query_params))),n.filter&&"_view"===n.filter&&(u=n.view.toString()),jr.all([t.id(),e.id()]).then(function(t){var e=t[0]+t[1]+o+u+i+r;return new jr(function(t){Ht(e,t)})}).then(function(t){return"_local/"+(t=t.replace(/\//g,".").replace(/\+/g,"_"))})}function hr(t,e,n,r,o){function i(){return x?jr.resolve():pr(t,e,n).then(function(n){k=n,x=new ur(t,e,k,r)})}function u(){if(N=[],0!==w.docs.length){var t=w.docs,i={timeout:n.timeout};return e.bulkDocs({docs:t,new_edits:!1},i).then(function(e){if(r.cancelled)throw h(),new Error("cancelled");var n=Object.create(null);e.forEach(function(t){t.error&&(n[t.id]=t)});var i=Object.keys(n).length;o.doc_write_failures+=i,o.docs_written+=t.length-i,t.forEach(function(t){var e=n[t._id];if(e){if(o.errors.push(e),"unauthorized"!==e.name&&"forbidden"!==e.name)throw e;r.emit("denied",a(e))}else N.push(t)})},function(e){throw o.doc_write_failures+=t.length,e})}}function c(){if(w.error)throw new Error("There was a problem getting docs.");o.last_seq=O=w.seq;var t=a(o);return N.length&&(t.docs=N,r.emit("change",t)),E=!0,x.writeCheckpoint(w.seq,D).then(function(){if(E=!1,r.cancelled)throw h(),new Error("cancelled");w=void 0,y()}).catch(function(t){throw b(t),t})}function s(){var t={};return w.changes.forEach(function(e){"_user/"!==e.id&&(t[e.id]=e.changes.map(function(t){return t.rev}))}),e.revsDiff(t).then(function(t){if(r.cancelled)throw h(),new Error("cancelled");w.diffs=t})}function f(){return or(t,e,w.diffs,r).then(function(t){w.error=!t.ok,t.docs.forEach(function(t){delete w.diffs[t._id],o.docs_read++,w.docs.push(t)})})}function l(){if(!r.cancelled&&!w){if(0===T.length)return void d(!0);w=T.shift(),s().then(f).then(u).then(c).then(l).catch(function(t){p("batch processing terminated with error",t)})}}function d(t){if(0===S.changes.length)return void(0!==T.length||w||((j&&L.live||A)&&(r.state="pending",r.emit("paused")),A&&h()));(t||A||S.changes.length>=B)&&(T.push(S),S={seq:0,changes:[],docs:[]},"pending"!==r.state&&"stopped"!==r.state||(r.state="active",r.emit("active")),l())}function p(t,e){C||(e.message||(e.message=t),o.ok=!1,o.status="aborting",T=[],S={seq:0,changes:[],docs:[]},h(e))}function h(i){C||r.cancelled&&(o.status="cancelled",E)||(o.status=o.status||"complete",o.end_time=new Date,o.last_seq=O,C=!0,i?(i.result=o,"unauthorized"===i.name||"forbidden"===i.name?(r.emit("error",i),r.removeAllListeners()):lr(n,r,i,function(){hr(t,e,n,r)})):(r.emit("complete",o),r.removeAllListeners()))}function _(t){if(r.cancelled)return h();R(n)(t)&&(S.seq=t.seq,S.changes.push(t),d(0===T.length&&L.live))}function v(t){if(q=!1,r.cancelled)return h();if(t.results.length>0)L.since=t.last_seq,y(),d(!0);else{var e=function(){j?(L.live=!0,y()):A=!0,d(!0)};w||0!==t.results.length?e():(E=!0,x.writeCheckpoint(t.last_seq,D).then(function(){E=!1,o.last_seq=O=t.last_seq,e()}).catch(b))}}function g(t){if(q=!1,r.cancelled)return h();p("changes rejected",t)}function y(){function e(){i.cancel()}function o(){r.removeListener("cancel",e)}if(!q&&!A&&T.length<I){q=!0,r._changes&&(r.removeListener("cancel",r._abortChanges),r._changes.cancel()),r.once("cancel",e);var i=t.changes(L).on("change",_);i.then(o,o),i.then(v).catch(g),n.retry&&(r._changes=i,r._abortChanges=e)}}function m(){i().then(function(){return r.cancelled?void h():x.getCheckpoint().then(function(t){O=t,L={since:O,limit:B,batch_size:B,style:"all_docs",doc_ids:M,return_docs:!0},n.filter&&("string"!=typeof n.filter?L.include_docs=!0:L.filter=n.filter),"heartbeat"in n&&(L.heartbeat=n.heartbeat),"timeout"in n&&(L.timeout=n.timeout),n.query_params&&(L.query_params=n.query_params),n.view&&(L.view=n.view),y()})}).catch(function(t){p("getCheckpoint rejected with ",t)})}function b(t){E=!1,p("writeCheckpoint completed with error",t)}var w,k,x,T=[],S={seq:0,changes:[],docs:[]},E=!1,A=!1,C=!1,O=0,j=n.continuous||n.live||!1,B=n.batch_size||100,I=n.batches_limit||10,q=!1,M=n.doc_ids,N=[],D=z();o=o||{ok:!0,start_time:new Date,docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var L={};if(r.ready(t,e),r.cancelled)return void h();r._addedListeners||(r.once("cancel",h),"function"==typeof n.complete&&(r.once("error",n.complete),r.once("complete",function(t){n.complete(null,t)})),r._addedListeners=!0),void 0===n.since?m():i().then(function(){return E=!0,x.writeCheckpoint(n.since,D)}).then(function(){if(E=!1,r.cancelled)return void h();O=n.since,m()}).catch(b)}function _r(){Tr.EventEmitter.call(this),this.cancelled=!1,this.state="pending";var t=this,e=new jr(function(e,n){t.once("complete",e),t.once("error",n)});t.then=function(t,n){return e.then(t,n)},t.catch=function(t){return e.catch(t)},t.catch(function(){})}function vr(t,e){var n=e.PouchConstructor;return"string"==typeof t?new n(t,e):t}function gr(t,e,n,r){if("function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw O(Yr,"`doc_ids` filter parameter is not a list.");n.complete=r,n=a(n),n.continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var o=new _r(n);return hr(vr(t,n),vr(e,n),n,o),o}function yr(t,e,n,r){return"function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),n=a(n),n.PouchConstructor=n.PouchConstructor||this,t=vr(t,n),e=vr(e,n),new mr(t,e,n,r)}function mr(t,e,n,r){function o(t){h.emit("change",{direction:"pull",change:t})}function i(t){h.emit("change",{direction:"push",change:t})}function u(t){h.emit("denied",{direction:"push",doc:t})}function c(t){h.emit("denied",{direction:"pull",doc:t})}function a(){h.pushPaused=!0,h.pullPaused&&h.emit("paused")}function s(){h.pullPaused=!0,h.pushPaused&&h.emit("paused")}function f(){h.pushPaused=!1,h.pullPaused&&h.emit("active",{direction:"push"})}function l(){h.pullPaused=!1,h.pushPaused&&h.emit("active",{direction:"pull"})}function d(t){return function(e,n){var r="change"===e&&(n===o||n===i),d="denied"===e&&(n===c||n===u),p="paused"===e&&(n===s||n===a),_="active"===e&&(n===l||n===f);(r||d||p||_)&&(e in g||(g[e]={}),g[e][t]=!0,2===Object.keys(g[e]).length&&h.removeAllListeners(e))}}function p(t,e,n){t.listeners(e).indexOf(n)==-1&&t.on(e,n)}var h=this;this.canceled=!1;var _=n.push?Pr({},n,n.push):n,v=n.pull?Pr({},n,n.pull):n;this.push=gr(t,e,_),this.pull=gr(e,t,v),this.pushPaused=!0,this.pullPaused=!0;var g={};n.live&&(this.push.on("complete",h.pull.cancel.bind(h.pull)),this.pull.on("complete",h.push.cancel.bind(h.push))),this.on("newListener",function(t){"change"===t?(p(h.pull,"change",o),p(h.push,"change",i)):"denied"===t?(p(h.pull,"denied",c),p(h.push,"denied",u)):"active"===t?(p(h.pull,"active",l),p(h.push,"active",f)):"paused"===t&&(p(h.pull,"paused",s),p(h.push,"paused",a))}),this.on("removeListener",function(t){"change"===t?(h.pull.removeListener("change",o),h.push.removeListener("change",i)):"denied"===t?(h.pull.removeListener("denied",c),h.push.removeListener("denied",u)):"active"===t?(h.pull.removeListener("active",l),h.push.removeListener("active",f)):"paused"===t&&(h.pull.removeListener("paused",s),h.push.removeListener("paused",a))}),this.pull.on("removeListener",d("pull")),this.push.on("removeListener",d("push"));var y=jr.all([this.push,this.pull]).then(function(t){var e={push:t[0],pull:t[1]};return h.emit("complete",e),r&&r(null,e),h.removeAllListeners(),e},function(t){if(h.cancel(),r?r(t):h.emit("error",t),h.removeAllListeners(),r)throw t});this.then=function(t,e){return y.then(t,e)},this.catch=function(t){return y.catch(t)}}function br(t){t.replicate=gr,t.sync=yr,Object.defineProperty(t.prototype,"replicate",{get:function(){var t=this;return{from:function(e,n,r){return t.constructor.replicate(e,t,n,r)},to:function(e,n,r){return t.constructor.replicate(t,e,n,r)}}}}),t.prototype.sync=function(t,e,n){return this.constructor.sync(this,t,e,n)}}var wr=r(n(489)),kr=r(n(168)),xr=r(n(469)),Tr=n(71),Sr=r(n(15)),Er=r(n(99)),Ar=r(n(715)),Cr=r(n(490)),Or=r(n(724)),jr="function"==typeof Promise?Promise:wr,Br=Function.prototype.toString,Rr=Br.call(Object),Ir=xr("pouchdb:api");h.prototype.get=function(t){var e=d(t);return this._store[e]},h.prototype.set=function(t,e){var n=d(t);return this._store[n]=e,!0},h.prototype.has=function(t){return d(t)in this._store},h.prototype.delete=function(t){var e=d(t),n=e in this._store;return delete this._store[e],n},h.prototype.forEach=function(t){for(var e=Object.keys(this._store),n=0,r=e.length;n<r;n++){var o=e[n],i=this._store[o];o=p(o),t(i,o)}},Object.defineProperty(h.prototype,"size",{get:function(){return Object.keys(this._store).length}}),_.prototype.add=function(t){return this._store.set(t,!0)},_.prototype.has=function(t){return this._store.has(t)},_.prototype.forEach=function(t){this._store.forEach(function(e,n){t(n)})},Object.defineProperty(_.prototype,"size",{get:function(){return this._store.size}});var qr,Mr;!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var t=Object.getOwnPropertyDescriptor(Map,Symbol.species);return t&&"get"in t&&Map[Symbol.species]===Map}()?(qr=_,Mr=h):(qr=Set,Mr=Map);var Nr,Dr=6;if(b())Nr=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),Nr=!!localStorage.getItem("_pouch_check_localstorage")}catch(t){Nr=!1}Sr(x,Tr.EventEmitter),x.prototype.addListener=function(t,e,n,r){function o(){function t(){u=!1}if(i._listeners[e]){if(u)return void(u="waiting");u=!0;var c=v(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);n.changes(c).on("change",function(t){t.seq>r.since&&!r.cancelled&&(r.since=t.seq,r.onChange(t))}).on("complete",function(){"waiting"===u&&Er(o),u=!1}).on("error",t)}}if(!this._listeners[e]){var i=this,u=!1;this._listeners[e]=o,this.on(t,o)}},x.prototype.removeListener=function(t,e){e in this._listeners&&(Tr.EventEmitter.prototype.removeListener.call(this,t,this._listeners[e]),delete this._listeners[e])},x.prototype.notifyLocalWindows=function(t){b()?chrome.storage.local.set({dbName:t}):w()&&(localStorage[t]="a"===localStorage[t]?"b":"a")},x.prototype.notify=function(t){this.emit(t),this.notifyLocalWindows(t)};var Lr;Lr="function"==typeof Object.assign?Object.assign:function(t){for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};var Pr=Lr;Sr(C,Error),C.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var Fr=(new C(401,"unauthorized","Name or password is incorrect."),new C(400,"bad_request","Missing JSON list of 'docs'")),Ur=new C(404,"not_found","missing"),Wr=new C(409,"conflict","Document update conflict"),zr=new C(400,"bad_request","_id field must contain a string"),$r=new C(412,"missing_id","_id is required for puts"),Jr=new C(400,"bad_request","Only reserved document ids may start with underscore."),Hr=(new C(412,"precondition_failed","Database not open"),new C(500,"unknown_error","Database encountered an unknown error")),Vr=new C(500,"badarg","Some query argument is invalid"),Gr=(new C(400,"invalid_request","Request was invalid"),new C(400,"query_parse_error","Some query parameter is invalid")),Kr=new C(500,"doc_validation","Bad special document member"),Yr=new C(400,"bad_request","Something wrong with the request"),Xr=new C(400,"bad_request","Document must be a JSON object"),Qr=(new C(404,"not_found","Database not found"),new C(500,"indexed_db_went_bad","unknown")),Zr=new C(500,"web_sql_went_bad","unknown"),to=(new C(500,"levelDB_went_went_bad","unknown"),new C(403,"forbidden","Forbidden by design doc validate_doc_update function"),new C(400,"bad_request","Invalid rev format")),eo=(new C(412,"file_exists","The database could not be created, the file already exists."),new C(412,"missing_stub","A pre-existing attachment stub wasn't found")),no=(new C(413,"invalid_url","Provided URL is invalid"),q.name,["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"]),ro="queryKey",oo=/(?:^|&)([^&=]*)=?([^&]*)/g,io=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,uo="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");Sr(ht,Tr.EventEmitter),ht.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},ht.prototype.doChanges=function(t){var e=this,n=t.complete;if(t=a(t),"live"in t&&!("continuous"in t)&&(t.continuous=t.live),t.processChange=_t,"latest"===t.since&&(t.since="now"),t.since||(t.since=0),"now"===t.since)return void this.db.info().then(function(r){if(e.isCancelled)return void n(null,{status:"cancelled"});t.since=r.update_seq,e.doChanges(t)},n);if(t.view&&!t.filter&&(t.filter="_view"),t.filter&&"string"==typeof t.filter&&("_view"===t.filter?t.view=L(t.view):t.filter=L(t.filter),"http"!==this.db.type()&&!t.doc_ids))return this.filterChanges(t);"descending"in t||(t.descending=!1),t.limit=0===t.limit?1:t.limit,t.complete=n;var r=this.db._changes(t);if(r&&"function"==typeof r.cancel){var o=e.cancel;e.cancel=kr(function(t){r.cancel(),o.apply(this,t)})}},ht.prototype.filterChanges=function(t){var e=this,n=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view)return n(O(Yr,"`view` filter parameter not found or invalid."));var r=D(t.view);this.db.get("_design/"+r[0],function(o,i){if(e.isCancelled)return n(null,{status:"cancelled"});if(o)return n(j(o));var u=i&&i.views&&i.views[r[1]]&&i.views[r[1]].map;if(!u)return n(O(Ur,i.views?"missing json key: "+r[1]:"missing json key: views"));t.filter=dt(u),e.doChanges(t)})}else{var o=D(t.filter);if(!o)return e.doChanges(t);this.db.get("_design/"+o[0],function(r,i){if(e.isCancelled)return n(null,{status:"cancelled"});if(r)return n(j(r));var u=i&&i.filters&&i.filters[o[1]];if(!u)return n(O(Ur,i&&i.filters?"missing json key: "+o[1]:"missing json key: filters"));t.filter=lt(u),e.doChanges(t)})}},Sr(Tt,Tr.EventEmitter),Tt.prototype.post=l("post",function(t,e,n){if("function"==typeof e&&(n=e,e={}),"object"!=typeof t||Array.isArray(t))return n(O(Xr));this.bulkDocs({docs:[t]},e,gt(n))}),Tt.prototype.put=l("put",function(t,e,n){return"function"==typeof e&&(n=e,e={}),"object"!=typeof t||Array.isArray(t)?n(O(Xr)):(M(t._id),st(t._id)&&"function"==typeof this._putLocal?t._deleted?this._removeLocal(t,n):this._putLocal(t,n):void("function"==typeof this._put&&e.new_edits!==!1?this._put(t,e,n):this.bulkDocs({docs:[t]},e,gt(n))))}),Tt.prototype.putAttachment=l("putAttachment",function(t,e,n,r,o){function i(t){var n="_rev"in t?parseInt(t._rev,10):0;return t._attachments=t._attachments||{},t._attachments[e]={content_type:o,data:r,revpos:++n},u.put(t)}var u=this;return"function"==typeof o&&(o=r,r=n,n=null),void 0===o&&(o=r,r=n,n=null),o||T("warn","Attachment",e,"on document",t,"is missing content_type"),u.get(t).then(function(t){if(t._rev!==n)throw O(Wr);return i(t)},function(e){if(e.reason===Ur.message)return i({_id:t});throw e})}),Tt.prototype.removeAttachment=l("removeAttachment",function(t,e,n,r){var o=this;o.get(t,function(t,i){return t?void r(t):i._rev!==n?void r(O(Wr)):i._attachments?(delete i._attachments[e],0===Object.keys(i._attachments).length&&delete i._attachments,void o.put(i,r)):r()})}),Tt.prototype.remove=l("remove",function(t,e,n,r){var o;"string"==typeof e?(o={_id:t,_rev:e},"function"==typeof n&&(r=n,n={})):(o=t,"function"==typeof e?(r=e,n={}):(r=n,n=e)),n=n||{},n.was_delete=!0;var i={_id:o._id,_rev:o._rev||n.rev};if(i._deleted=!0,st(i._id)&&"function"==typeof this._removeLocal)return this._removeLocal(o,r);this.bulkDocs({docs:[i]},n,gt(r))}),Tt.prototype.revsDiff=l("revsDiff",function(t,e,n){function r(t,e){c.has(t)||c.set(t,{missing:[]}),c.get(t).missing.push(e)}function o(e,n){var o=t[e].slice(0);J(n,function(t,n,i,u,c){var a=n+"-"+i,s=o.indexOf(a);s!==-1&&(o.splice(s,1),"available"!==c.status&&r(e,a))}),o.forEach(function(t){r(e,t)})}"function"==typeof e&&(n=e,e={});var i=Object.keys(t);if(!i.length)return n(null,{});var u=0,c=new Mr;i.map(function(e){this._getRevisionTree(e,function(r,a){if(r&&404===r.status&&"missing"===r.message)c.set(e,{missing:t[e]});else{if(r)return n(r);o(e,a)}if(++u===i.length){var s={};return c.forEach(function(t,e){s[e]=t}),n(null,s)}})},this)}),Tt.prototype.bulkGet=l("bulkGet",function(t,e){m(this,t,e)}),Tt.prototype.compactDocument=l("compactDocument",function(t,e,n){var r=this;this._getRevisionTree(t,function(o,i){if(o)return n(o);var u=bt(i),c=[],a=[];Object.keys(u).forEach(function(t){u[t]>e&&c.push(t)}),J(i,function(t,e,n,r,o){var i=e+"-"+n;"available"===o.status&&c.indexOf(i)!==-1&&a.push(i)}),r._doCompaction(t,a,n)})}),Tt.prototype.compact=l("compact",function(t,e){"function"==typeof t&&(e=t,t={});var n=this;t=t||{},n._compactionQueue=n._compactionQueue||[],n._compactionQueue.push({opts:t,callback:e}),1===n._compactionQueue.length&&kt(n)}),Tt.prototype._compact=function(t,e){function n(t){u.push(o.compactDocument(t.id,0))}function r(t){var n=t.last_seq;jr.all(u).then(function(){return F(o,"_local/compaction",function(t){return(!t.last_seq||t.last_seq<n)&&(t.last_seq=n,t)})}).then(function(){e(null,{ok:!0})}).catch(e)}var o=this,i={return_docs:!1,last_seq:t.last_seq||0},u=[];o.changes(i).on("change",n).on("complete",r).on("error",e)},Tt.prototype.get=l("get",function(t,e,n){function r(){var r=[],u=o.length;if(!u)return n(null,r);o.forEach(function(o){i.get(t,{rev:o,revs:e.revs,latest:e.latest,attachments:e.attachments},function(t,e){if(t)r.push({missing:o});else{for(var i,c=0,a=r.length;c<a;c++)if(r[c].ok&&r[c].ok._rev===e._rev){i=!0;break}i||r.push({ok:e})}--u||n(null,r)})})}if("function"==typeof e&&(n=e,e={}),"string"!=typeof t)return n(O(zr));if(st(t)&&"function"==typeof this._getLocal)return this._getLocal(t,n);var o=[],i=this;if(!e.open_revs)return this._get(t,e,function(t,r){if(t)return n(t);var o=r.doc,u=r.metadata,c=r.ctx;if(e.conflicts){var a=G(u);a.length&&(o._conflicts=a)}if(at(u,o._rev)&&(o._deleted=!0),e.revs||e.revs_info){for(var s=o._rev.split("-"),f=parseInt(s[0],10),l=s[1],d=Y(u.rev_tree),p=null,h=0;h<d.length;h++){var _=d[h],v=_.ids.map(function(t){return t.id}).indexOf(l);(v===f-1||!p&&v!==-1)&&(p=_)}var g=p.ids.map(function(t){return t.id}).indexOf(o._rev.split("-")[1])+1,y=p.ids.length-g;if(p.ids.splice(g,y),p.ids.reverse(),e.revs&&(o._revisions={start:p.pos+p.ids.length-1,ids:p.ids.map(function(t){return t.id})}),e.revs_info){var m=p.pos+p.ids.length;o._revs_info=p.ids.map(function(t){return m--,{rev:m+"-"+t.id,status:t.opts.status}})}}if(e.attachments&&o._attachments){var b=o._attachments,w=Object.keys(b).length;if(0===w)return n(null,o);Object.keys(b).forEach(function(t){this._getAttachment(o._id,t,b[t],{rev:o._rev,binary:e.binary,ctx:c},function(e,r){var i=o._attachments[t];i.data=r,delete i.stub,delete i.length,--w||n(null,o)})},i)}else{if(o._attachments)for(var k in o._attachments)o._attachments.hasOwnProperty(k)&&(o._attachments[k].stub=!0);n(null,o)}});if("all"===e.open_revs)this._getRevisionTree(t,function(t,e){if(t)return n(t);o=V(e).map(function(t){return t.rev}),r()});else{if(!Array.isArray(e.open_revs))return n(O(Hr,"function_clause"));o=e.open_revs;for(var u=0;u<o.length;u++){var c=o[u];if("string"!=typeof c||!/^\d+-/.test(c))return n(O(to))}r()}}),Tt.prototype.getAttachment=l("getAttachment",function(t,e,n,r){var o=this;n instanceof Function&&(r=n,n={}),this._get(t,n,function(i,u){return i?r(i):u.doc._attachments&&u.doc._attachments[e]?(n.ctx=u.ctx,n.binary=!0,void o._getAttachment(t,e,u.doc._attachments[e],n,r)):r(O(Ur))})}),Tt.prototype.allDocs=l("allDocs",function(t,e){if("function"==typeof t&&(e=t,t={}),t.skip=void 0!==t.skip?t.skip:0,t.start_key&&(t.startkey=t.start_key),t.end_key&&(t.endkey=t.end_key),"keys"in t){if(!Array.isArray(t.keys))return e(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter(function(e){return e in t})[0];if(n)return void e(O(Gr,"Query parameter `"+n+"` is not compatible with multi-get"));if("http"!==this.type())return wt(this,t,e)}return this._allDocs(t,e)}),Tt.prototype.changes=function(t,e){return"function"==typeof t&&(e=t,t={}),new ht(this,t,e)},Tt.prototype.close=l("close",function(t){return this._closed=!0,this.emit("closed"),this._close(t)}),Tt.prototype.info=l("info",function(t){var e=this;this._info(function(n,r){if(n)return t(n);r.db_name=r.db_name||e.name,r.auto_compaction=!(!e.auto_compaction||"http"===e.type()),r.adapter=e.type(),t(null,r)})}),Tt.prototype.id=l("id",function(t){return this._id(t)}),Tt.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},Tt.prototype.bulkDocs=l("bulkDocs",function(t,e,n){if("function"==typeof e&&(n=e,e={}),e=e||{},Array.isArray(t)&&(t={docs:t}),!t||!t.docs||!Array.isArray(t.docs))return n(O(Fr));for(var r=0;r<t.docs.length;++r)if("object"!=typeof t.docs[r]||Array.isArray(t.docs[r]))return n(O(Xr));var o;if(t.docs.forEach(function(t){t._attachments&&Object.keys(t._attachments).forEach(function(e){o=o||xt(e),t._attachments[e].content_type||T("warn","Attachment",e,"on document",t._id,"is missing content_type")})}),o)return n(O(Yr,o));"new_edits"in e||(e.new_edits=!("new_edits"in t)||t.new_edits);var i=this;e.new_edits||"http"===i.type()||t.docs.sort(mt),yt(t.docs);var u=t.docs.map(function(t){return t._id});return this._bulkDocs(t,e,function(t,r){if(t)return n(t);if(e.new_edits||(r=r.filter(function(t){return t.error})),"http"!==i.type())for(var o=0,c=r.length;o<c;o++)r[o].id=r[o].id||u[o];n(null,r)})}),Tt.prototype.registerDependentDatabase=l("registerDependentDatabase",function(t,e){function n(e){return e.dependentDbs=e.dependentDbs||{},!e.dependentDbs[t]&&(e.dependentDbs[t]=!0,e)}var r=new this.constructor(t,this.__opts);F(this,"_local/_pouch_dependentDbs",n).then(function(){e(null,{db:r})}).catch(e)}),Tt.prototype.destroy=l("destroy",function(t,e){function n(){r._destroy(t,function(t,n){if(t)return e(t);r._destroyed=!0,r.emit("destroyed"),e(null,n||{ok:!0})})}"function"==typeof t&&(e=t,t={});var r=this,o=!("use_prefix"in r)||r.use_prefix;if("http"===r.type())return n();r.get("_local/_pouch_dependentDbs",function(t,i){if(t)return 404!==t.status?e(t):n();var u=i.dependentDbs,c=r.constructor,a=Object.keys(u).map(function(t){
return new c(o?t.replace(new RegExp("^"+c.prefix),""):t,r.__opts).destroy()});jr.all(a).then(n,e)})}),St.prototype.execute=function(){var t;if(this.failed)for(;t=this.queue.shift();)t(this.failed);else for(;t=this.queue.shift();)t()},St.prototype.fail=function(t){this.failed=t,this.execute()},St.prototype.ready=function(t){this.isReady=!0,this.db=t,this.execute()},St.prototype.addTask=function(t){this.queue.push(t),this.failed&&this.execute()},Sr(Ct,Tt),Ct.debug=xr,Ct.adapters={},Ct.preferredAdapters=[],Ct.prefix="_pouch_";var co=new Tr.EventEmitter;(function(t){Object.keys(Tr.EventEmitter.prototype).forEach(function(e){"function"==typeof Tr.EventEmitter.prototype[e]&&(t[e]=co[e].bind(co))});var e=t._destructionListeners=new Mr;t.on("destroyed",function(t){e.get(t).forEach(function(t){t()}),e.delete(t)})})(Ct),Ct.adapter=function(t,e,n){e.valid()&&(Ct.adapters[t]=e,n&&Ct.preferredAdapters.push(t))},Ct.plugin=function(t){if("function"==typeof t)t(Ct);else{if("object"!=typeof t||0===Object.keys(t).length)throw new Error('Invalid plugin: got "'+t+'", expected an object or a function');Object.keys(t).forEach(function(e){Ct.prototype[e]=t[e]})}return this.__defaults&&(Ct.__defaults=Pr({},this.__defaults)),Ct},Ct.defaults=function(t){function e(t,n){if(!(this instanceof e))return new e(t,n);n=n||{},t&&"object"==typeof t&&(n=t,t=n.name,delete n.name),n=Pr({},e.__defaults,n),Ct.call(this,t,n)}return Sr(e,Ct),e.preferredAdapters=Ct.preferredAdapters.slice(),Object.keys(Ct).forEach(function(t){t in e||(e[t]=Ct[t])}),e.__defaults=Pr({},this.__defaults,t),e},Ct.version="6.1.2";var ao,so=Ot(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),fo=Ot(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]),lo=function(t){return atob(t)},po=function(t){return btoa(t)},ho=e.setImmediate||e.setTimeout,_o=32768,vo=5,go="document-store",yo="by-sequence",mo="attach-store",bo="attach-seq-store",wo="meta-store",ko="local-store",xo="detect-blob-support",To=new x,So=!1,Eo=[],Ao=new Mr,Co=new Mr;Te.valid=function(){return!("undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform))&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange};var Oo=function(t){t.adapter("idb",Te,!0)},jo=7,Bo=Re("document-store"),Ro=Re("by-sequence"),Io=Re("attach-store"),qo=Re("local-store"),Mo=Re("metadata-store"),No=Re("attach-seq-store"),Do=new Mr,Lo=new x,Po=1,Fo="CREATE INDEX IF NOT EXISTS 'by-seq-deleted-idx' ON "+Ro+" (seq, deleted)",Uo="CREATE UNIQUE INDEX IF NOT EXISTS 'by-seq-doc-id-rev' ON "+Ro+" (doc_id, rev)",Wo="CREATE INDEX IF NOT EXISTS 'doc-winningseq-idx' ON "+Bo+" (winningseq)",zo="CREATE INDEX IF NOT EXISTS 'attach-seq-seq-idx' ON "+No+" (seq)",$o="CREATE UNIQUE INDEX IF NOT EXISTS 'attach-seq-digest-idx' ON "+No+" (digest, seq)",Jo=Ro+".seq = "+Bo+".winningseq",Ho=Ro+".seq AS seq, "+Ro+".deleted AS deleted, "+Ro+".json AS data, "+Ro+".rev AS rev, "+Bo+".json AS metadata";Qe.valid=Ye,Qe.use_prefix=!0;var Vo=function(t){t.adapter("websql",Qe,!0)},Go=function(){try{return new XMLHttpRequest,!0}catch(t){return!1}}(),Ko=function(){},Yo=25,Xo=50,Qo={},Zo=xr("pouchdb:http");vn.valid=function(){return!0};var ti=function(t){t.adapter("http",vn,!1),t.adapter("https",vn,!1)};Sr(gn,Error),Sr(yn,Error),Sr(mn,Error);var ei=T.bind(null,"log"),ni=Array.isArray,ri=JSON.parse,oi=-324,ii=3,ui="";zn.prototype.add=function(t){return this.promise=this.promise.catch(function(){}).then(function(){return t()}),this.promise},zn.prototype.finish=function(){return this.promise};var ci={},ai=new zn,si=50,fi={_sum:function(t,e){return An(e)},_count:function(t,e){return e.length},_stats:function(t,e){return{sum:An(e),min:Math.min.apply(null,e),max:Math.max.apply(null,e),count:e.length,sumsqr:function(t){for(var e=0,n=0,r=t.length;n<r;n++){var o=t[n];e+=o*o}return e}(e)}}},li=function(t,e,n,r){function o(t,e,n){try{e(n)}catch(e){Vn(t,e)}}function i(t,e,n,r,o){try{return{output:e(n,r,o)}}catch(e){return Vn(t,e),{error:e}}}function u(t,e){var n=Bn(t.key,e.key);return 0!==n?n:Bn(t.value,e.value)}function c(t,e,n){return n=n||0,"number"==typeof e?t.slice(n,e+n):n>0?t.slice(n):t}function a(t){var e=t.value;return e&&"object"==typeof e&&e._id||t.id}function s(t){t.rows.forEach(function(t){var e=t.doc&&t.doc._attachments;e&&Object.keys(e).forEach(function(t){var n=e[t];e[t].data=Nt(n.data,n.content_type)})})}function f(t){return function(e){return t.include_docs&&t.attachments&&t.binary&&s(e),e}}function l(t,e,n,r){var o=e[t];void 0!==o&&(r&&(o=encodeURIComponent(JSON.stringify(o))),n.push(t+"="+o))}function d(t){if(void 0!==t){var e=Number(t);return isNaN(e)||e!==parseInt(t,10)?t:e}}function p(t){return t.group_level=d(t.group_level),t.limit=d(t.limit),t.skip=d(t.skip),t}function h(t){if(t){if("number"!=typeof t)return new gn('Invalid value for integer: "'+t+'"');if(t<0)return new gn('Invalid value for positive integer: "'+t+'"')}}function _(t,e){var n=t.descending?"endkey":"startkey",r=t.descending?"startkey":"endkey";if(void 0!==t[n]&&void 0!==t[r]&&Bn(t[n],t[r])>0)throw new gn("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(e.reduce&&t.reduce!==!1){if(t.include_docs)throw new gn("{include_docs:true} is invalid for reduce");if(t.keys&&t.keys.length>1&&!t.group&&!t.group_level)throw new gn("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(e){var n=h(t[e]);if(n)throw n})}function v(t,e,n){var r,o=[],i="GET";if(l("reduce",n,o),l("include_docs",n,o),l("attachments",n,o),l("limit",n,o),l("descending",n,o),l("group",n,o),l("group_level",n,o),l("skip",n,o),l("stale",n,o),l("conflicts",n,o),l("startkey",n,o,!0),l("start_key",n,o,!0),l("endkey",n,o,!0),l("end_key",n,o,!0),l("inclusive_end",n,o),l("key",n,o,!0),o=o.join("&"),o=""===o?"":"?"+o,void 0!==n.keys){var u="keys="+encodeURIComponent(JSON.stringify(n.keys));u.length+o.length+1<=2e3?o+=("?"===o[0]?"&":"?")+u:(i="POST","string"==typeof e?r={keys:n.keys}:e.keys=n.keys)}if("string"==typeof e){var c=Jn(e);return t.request({method:i,url:"_design/"+c[0]+"/_view/"+c[1]+o,body:r}).then(f(n))}return r=r||{},Object.keys(e).forEach(function(t){Array.isArray(e[t])?r[t]=e[t]:r[t]=e[t].toString()}),t.request({method:"POST",url:"_temp_view"+o,body:r}).then(f(n))}function g(t,e,n){return new jr(function(r,o){t._query(e,n,function(t,e){if(t)return o(t);r(e)})})}function y(t){return new jr(function(e,n){t._viewCleanup(function(t,r){if(t)return n(t);e(r)})})}function m(t){return function(e){if(404===e.status)return t;throw e}}function b(t,e,n){function r(t){return t.keys.length?e.db.allDocs({keys:t.keys,include_docs:!0}):jr.resolve({rows:[]})}function o(t,e){for(var n=[],r=new qr,o=0,i=e.rows.length;o<i;o++){var u=e.rows[o],c=u.doc;if(c&&(n.push(c),r.add(c._id),c._deleted=!a.has(c._id),!c._deleted)){var s=a.get(c._id);"value"in s&&(c.value=s.value)}}var f=Sn(a);return f.forEach(function(t){if(!r.has(t)){var e={_id:t},o=a.get(t);"value"in o&&(e.value=o.value),n.push(e)}}),t.keys=Tn(f.concat(t.keys)),n.push(t),n}var i="_local/doc_"+t,u={_id:i,keys:[]},c=n.get(t),a=c[0],s=c[1];return function(){return Hn(s)?jr.resolve(u):e.db.get(i).catch(m(u))}().then(function(t){return r(t).then(function(e){return o(t,e)})})}function w(t,e,n){var r="_local/lastSeq";return t.db.get(r).catch(m({_id:r,seq:0})).then(function(r){var o=Sn(e);return jr.all(o.map(function(n){return b(n,t,e)})).then(function(e){var o=I(e);return r.seq=n,o.push(r),t.db.bulkDocs({docs:o})})})}function k(t){var e="string"==typeof t?t:t.name,n=ci[e];return n||(n=ci[e]=new zn),n}function x(t){return xn(k(t),function(){return T(t)})()}function T(t){function n(t,e){var n={id:l._id,key:Rn(t)};void 0!==e&&null!==e&&(n.value=Rn(e)),f.push(n)}function r(e,n){return function(){return w(t,e,n)}}function i(){return t.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:p,limit:si}).then(c)}function c(t){var e=t.results;if(e.length){var n=a(e);if(h.add(r(n,p)),!(e.length<si))return i()}}function a(e){for(var n=new Mr,r=0,i=e.length;r<i;r++){var c=e[r];if("_"!==c.doc._id[0]){f=[],l=c.doc,l._deleted||o(t.sourceDB,d,l),f.sort(u);var a=s(f);n.set(c.doc._id,[a,c.changes])}p=c.seq}return n}function s(t){for(var e,n=new Mr,r=0,o=t.length;r<o;r++){var i=t[r],u=[i.key,i.id];r>0&&0===Bn(i.key,e)&&u.push(r),n.set(qn(u),i),e=i.key}return n}var f,l,d=e(t.mapFun,n),p=t.seq||0,h=new zn;return i().then(function(){return h.finish()}).then(function(){t.seq=p})}function S(t,e,r){0===r.group_level&&delete r.group_level;var o=r.group||r.group_level,u=n(t.reduceFun),a=[],s=isNaN(r.group_level)?Number.POSITIVE_INFINITY:r.group_level;e.forEach(function(t){var e=a[a.length-1],n=o?t.key:null;if(o&&Array.isArray(n)&&(n=n.slice(0,s)),e&&0===Bn(e.groupKey,n))return e.keys.push([t.key,t.id]),void e.values.push(t.value);a.push({keys:[[t.key,t.id]],values:[t.value],groupKey:n})}),e=[];for(var f=0,l=a.length;f<l;f++){var d=a[f],p=i(t.sourceDB,u,d.keys,d.values,!1);if(p.error&&p.error instanceof mn)throw p.error;e.push({value:p.error?null:p.output,key:d.groupKey})}return{rows:c(e,r.limit,r.skip)}}function E(t,e){return xn(k(t),function(){return A(t,e)})()}function A(t,e){function n(e){return e.include_docs=!0,t.db.allDocs(e).then(function(t){return o=t.total_rows,t.rows.map(function(t){if("value"in t.doc&&"object"==typeof t.doc.value&&null!==t.doc.value){var e=Object.keys(t.doc.value).sort(),n=["id","key","value"];if(!(e<n||e>n))return t.doc.value}var r=Dn(t.doc._id);return{key:r[0],id:r[1],value:"value"in t.doc?t.doc.value:null}})})}function r(n){var r;if(r=i?S(t,n,e):{total_rows:o,offset:u,rows:n},e.include_docs){var c=Tn(n.map(a));return t.sourceDB.allDocs({keys:c,include_docs:!0,conflicts:e.conflicts,attachments:e.attachments,binary:e.binary}).then(function(t){var e=new Mr;return t.rows.forEach(function(t){e.set(t.id,t.doc)}),n.forEach(function(t){var n=a(t),r=e.get(n);r&&(t.doc=r)}),r})}return r}var o,i=t.reduceFun&&e.reduce!==!1,u=e.skip||0;if(void 0===e.keys||e.keys.length||(e.limit=0,delete e.keys),void 0!==e.keys){var c=e.keys,s=c.map(function(t){return n({startkey:qn([t]),endkey:qn([t,{}])})});return jr.all(s).then(I).then(r)}var f={descending:e.descending};if(e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),void 0!==e.startkey&&(f.startkey=qn(e.descending?[e.startkey,{}]:[e.startkey])),void 0!==e.endkey){var l=e.inclusive_end!==!1;e.descending&&(l=!l),f.endkey=qn(l?[e.endkey,{}]:[e.endkey])}if(void 0!==e.key){var d=qn([e.key]),p=qn([e.key,{}]);f.descending?(f.endkey=d,f.startkey=p):(f.startkey=d,f.endkey=p)}return i||("number"==typeof e.limit&&(f.limit=e.limit),f.skip=u),n(f).then(r)}function C(t){return t.request({method:"POST",url:"_view_cleanup"})}function O(e){return e.get("_local/"+t).then(function(t){var n=new Mr;Object.keys(t.views).forEach(function(t){var e=Jn(t),r="_design/"+e[0],o=e[1],i=n.get(r);i||(i=new qr,n.set(r,i)),i.add(o)});var r={keys:Sn(n),include_docs:!0};return e.allDocs(r).then(function(r){var o={};r.rows.forEach(function(e){var r=e.key.substring(8);n.get(e.key).forEach(function(n){var i=r+"/"+n;t.views[i]||(i=n);var u=Object.keys(t.views[i]),c=e.doc&&e.doc.views&&e.doc.views[n];u.forEach(function(t){o[t]=o[t]||c})})});var i=Object.keys(o).filter(function(t){return!o[t]}),u=i.map(function(t){return xn(k(t),function(){return new e.constructor(t,e.__opts).destroy()})()});return jr.all(u).then(function(){return{ok:!0}})})},m({ok:!0}))}function j(e,n,o){if("http"===e.type())return v(e,n,o);if("function"==typeof e._query)return g(e,n,o);if("string"!=typeof n)return _(o,n),ai.add(function(){return $n(e,"temp_view/temp_view",n.map,n.reduce,!0,t).then(function(t){return kn(x(t).then(function(){return E(t,o)}),function(){return t.db.destroy()})})}),ai.finish();var i=n,u=Jn(i),c=u[0],a=u[1];return e.get("_design/"+c).then(function(n){var u=n.views&&n.views[a];if(!u)throw new yn("ddoc "+n._id+" has no view named "+a);return r(n,a),_(o,u),$n(e,i,u.map,u.reduce,!1,t).then(function(t){return"ok"===o.stale||"update_after"===o.stale?("update_after"===o.stale&&Er(function(){x(t)}),E(t,o)):x(t).then(function(){return E(t,o)})})})}function B(t,e,n){var r=this;"function"==typeof e&&(n=e,e={}),e=e?p(e):{},"function"==typeof t&&(t={map:t});var o=jr.resolve().then(function(){return j(r,t,e)});return bn(o,n),o}return{query:B,viewCleanup:wn(function(){var t=this;return"http"===t.type()?C(t):"function"==typeof t._viewCleanup?y(t):O(t)})}}("mrviews",Gn,Kn,Yn),di={query:Xn,viewCleanup:Qn},pi=1,hi="pouchdb",_i=5,vi=0;ur.prototype.writeCheckpoint=function(t,e){var n=this;return this.updateTarget(t,e).then(function(){return n.updateSource(t,e)})},ur.prototype.updateTarget=function(t,e){return ir(this.target,this.id,t,e,this.returnValue)},ur.prototype.updateSource=function(t,e){var n=this;return this.readOnlySource?jr.resolve(!0):ir(this.src,this.id,t,e,this.returnValue).catch(function(t){if(fr(t))return n.readOnlySource=!0,!0;throw t})};var gi={undefined:function(t,e){return 0===Bn(t.last_seq,e.last_seq)?e.last_seq:0},1:function(t,e){return cr(e,t).last_seq}};ur.prototype.getCheckpoint=function(){var t=this;return t.target.get(t.id).then(function(e){return t.readOnlySource?jr.resolve(e.last_seq):t.src.get(t.id).then(function(t){if(e.version!==t.version)return vi;var n;return n=e.version?e.version.toString():"undefined",n in gi?gi[n](e,t):vi},function(n){if(404===n.status&&e.last_seq)return t.src.put({_id:t.id,last_seq:vi}).then(function(){return vi},function(n){return fr(n)?(t.readOnlySource=!0,e.last_seq):vi});throw n})}).catch(function(t){if(404!==t.status)throw t;return vi})};var yi=0;Sr(_r,Tr.EventEmitter),_r.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},_r.prototype.ready=function(t,e){function n(){o.cancel()}function r(){t.removeListener("destroyed",n),e.removeListener("destroyed",n)}var o=this;o._readyCalled||(o._readyCalled=!0,t.once("destroyed",n),e.once("destroyed",n),o.once("complete",r))},Sr(mr,Tr.EventEmitter),mr.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},Ct.plugin(Oo).plugin(Vo).plugin(ti).plugin(di).plugin(br),t.exports=Ct}).call(e,n(30))},function(t,e,n){"use strict";function r(){}function o(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,t!==r&&a(this,t)}function i(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function u(t,e,n){h(function(){var r;try{r=e(n)}catch(e){return _.reject(t,e)}r===t?_.reject(t,new TypeError("Cannot resolve promise with itself")):_.resolve(t,r)})}function c(t){var e=t&&t.then;if(t&&"object"==typeof t&&"function"==typeof e)return function(){e.apply(t,arguments)}}function a(t,e){function n(e){i||(i=!0,_.reject(t,e))}function r(e){i||(i=!0,_.resolve(t,e))}function o(){e(r,n)}var i=!1,u=s(o);"error"===u.status&&n(u.value)}function s(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}function f(t){return t instanceof this?t:_.resolve(new this(r),t)}function l(t){var e=new this(r);return _.reject(e,t)}function d(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,o=!1;if(!n)return this.resolve([]);for(var i=new Array(n),u=0,c=-1,a=new this(r);++c<n;)!function(t,r){function c(t){i[r]=t,++u!==n||o||(o=!0,_.resolve(a,i))}e.resolve(t).then(c,function(t){o||(o=!0,_.reject(a,t))})}(t[c],c);return a}function p(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,o=!1;if(!n)return this.resolve([]);for(var i=-1,u=new this(r);++i<n;)!function(t){e.resolve(t).then(function(t){o||(o=!0,_.resolve(u,t))},function(t){o||(o=!0,_.reject(u,t))})}(t[i]);return u}var h=n(99),_={},v=["REJECTED"],g=["FULFILLED"],y=["PENDING"];t.exports=o,o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){if("function"!=typeof t&&this.state===g||"function"!=typeof e&&this.state===v)return this;var n=new this.constructor(r);return this.state!==y?u(n,this.state===g?t:e,this.outcome):this.queue.push(new i(n,t,e)),n},i.prototype.callFulfilled=function(t){_.resolve(this.promise,t)},i.prototype.otherCallFulfilled=function(t){u(this.promise,this.onFulfilled,t)},i.prototype.callRejected=function(t){_.reject(this.promise,t)},i.prototype.otherCallRejected=function(t){u(this.promise,this.onRejected,t)},_.resolve=function(t,e){var n=s(c,e);if("error"===n.status)return _.reject(t,n.value);var r=n.value;if(r)a(t,r);else{t.state=g,t.outcome=e;for(var o=-1,i=t.queue.length;++o<i;)t.queue[o].callFulfilled(e)}return t},_.reject=function(t,e){t.state=v,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},o.resolve=f,o.reject=l,o.all=d,o.race=p},function(t,e,n){!function(e){t.exports=function(t){"use strict";function e(t,e){var n=t[0],r=t[1],o=t[2],i=t[3];n+=(r&o|~r&i)+e[0]-680876936|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+e[1]-389564586|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+e[2]+606105819|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+e[3]-1044525330|0,r=(r<<22|r>>>10)+o|0,n+=(r&o|~r&i)+e[4]-176418897|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+e[5]+1200080426|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+e[6]-1473231341|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+e[7]-45705983|0,r=(r<<22|r>>>10)+o|0,n+=(r&o|~r&i)+e[8]+1770035416|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+e[9]-1958414417|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+e[10]-42063|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+e[11]-1990404162|0,r=(r<<22|r>>>10)+o|0,n+=(r&o|~r&i)+e[12]+1804603682|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+e[13]-40341101|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+e[14]-1502002290|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+e[15]+1236535329|0,r=(r<<22|r>>>10)+o|0,n+=(r&i|o&~i)+e[1]-165796510|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+e[6]-1069501632|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+e[11]+643717713|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+e[0]-373897302|0,r=(r<<20|r>>>12)+o|0,n+=(r&i|o&~i)+e[5]-701558691|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+e[10]+38016083|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+e[15]-660478335|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+e[4]-405537848|0,r=(r<<20|r>>>12)+o|0,n+=(r&i|o&~i)+e[9]+568446438|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+e[14]-1019803690|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+e[3]-187363961|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+e[8]+1163531501|0,r=(r<<20|r>>>12)+o|0,n+=(r&i|o&~i)+e[13]-1444681467|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+e[2]-51403784|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+e[7]+1735328473|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+e[12]-1926607734|0,r=(r<<20|r>>>12)+o|0,n+=(r^o^i)+e[5]-378558|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+e[8]-2022574463|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+e[11]+1839030562|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+e[14]-35309556|0,r=(r<<23|r>>>9)+o|0,n+=(r^o^i)+e[1]-1530992060|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+e[4]+1272893353|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+e[7]-155497632|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+e[10]-1094730640|0,r=(r<<23|r>>>9)+o|0,n+=(r^o^i)+e[13]+681279174|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+e[0]-358537222|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+e[3]-722521979|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+e[6]+76029189|0,r=(r<<23|r>>>9)+o|0,n+=(r^o^i)+e[9]-640364487|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+e[12]-421815835|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+e[15]+530742520|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+e[2]-995338651|0,r=(r<<23|r>>>9)+o|0,n+=(o^(r|~i))+e[0]-198630844|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+e[7]+1126891415|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+e[14]-1416354905|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+e[5]-57434055|0,r=(r<<21|r>>>11)+o|0,n+=(o^(r|~i))+e[12]+1700485571|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+e[3]-1894986606|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+e[10]-1051523|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+e[1]-2054922799|0,r=(r<<21|r>>>11)+o|0,n+=(o^(r|~i))+e[8]+1873313359|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+e[15]-30611744|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+e[6]-1560198380|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+e[13]+1309151649|0,r=(r<<21|r>>>11)+o|0,n+=(o^(r|~i))+e[4]-145523070|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+e[11]-1120210379|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+e[2]+718787259|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+e[9]-343485551|0,r=(r<<21|r>>>11)+o|0,t[0]=n+t[0]|0,t[1]=r+t[1]|0,t[2]=o+t[2]|0,t[3]=i+t[3]|0}function n(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}function r(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return n}function o(t){var r,o,i,u,c,a,s=t.length,f=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=s;r+=64)e(f,n(t.substring(r-64,r)));for(t=t.substring(r-64),o=t.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0;r<o;r+=1)i[r>>2]|=t.charCodeAt(r)<<(r%4<<3);if(i[r>>2]|=128<<(r%4<<3),r>55)for(e(f,i),r=0;r<16;r+=1)i[r]=0;return u=8*s,u=u.toString(16).match(/(.*?)(.{0,8})$/),c=parseInt(u[2],16),a=parseInt(u[1],16)||0,i[14]=c,i[15]=a,e(f,i),f}function i(t){var n,o,i,u,c,a,s=t.length,f=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=s;n+=64)e(f,r(t.subarray(n-64,n)));for(t=n-64<s?t.subarray(n-64):new Uint8Array(0),o=t.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<o;n+=1)i[n>>2]|=t[n]<<(n%4<<3);if(i[n>>2]|=128<<(n%4<<3),n>55)for(e(f,i),n=0;n<16;n+=1)i[n]=0;return u=8*s,u=u.toString(16).match(/(.*?)(.{0,8})$/),c=parseInt(u[2],16),a=parseInt(u[1],16)||0,i[14]=c,i[15]=a,e(f,i),f}function u(t){var e,n="";for(e=0;e<4;e+=1)n+=h[t>>8*e+4&15]+h[t>>8*e&15];return n}function c(t){var e;for(e=0;e<t.length;e+=1)t[e]=u(t[e]);return t.join("")}function a(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function s(t,e){var n,r=t.length,o=new ArrayBuffer(r),i=new Uint8Array(o);for(n=0;n<r;n+=1)i[n]=t.charCodeAt(n);return e?i:o}function f(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function l(t,e,n){var r=new Uint8Array(t.byteLength+e.byteLength);return r.set(new Uint8Array(t)),r.set(new Uint8Array(e),t.byteLength),n?r:r.buffer}function d(t){var e,n=[],r=t.length;for(e=0;e<r-1;e+=2)n.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,n)}function p(){this.reset()}var h=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return c(o("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(t,e){return t=0|t||0,t<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(n,r){var o,i,u,c,a=this.byteLength,s=e(n,a),f=a;return r!==t&&(f=e(r,a)),s>f?new ArrayBuffer(0):(o=f-s,i=new ArrayBuffer(o),u=new Uint8Array(i),c=new Uint8Array(this,s,o),u.set(c),i)}}(),p.prototype.append=function(t){return this.appendBinary(a(t)),this},p.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var r,o=this._buff.length;for(r=64;r<=o;r+=64)e(this._hash,n(this._buff.substring(r-64,r)));return this._buff=this._buff.substring(r-64),this},p.prototype.end=function(t){var e,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<o;e+=1)i[e>>2]|=r.charCodeAt(e)<<(e%4<<3);return this._finish(i,o),n=c(this._hash),t&&(n=d(n)),this.reset(),n},p.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},p.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},p.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},p.prototype._finish=function(t,n){var r,o,i,u=n;if(t[u>>2]|=128<<(u%4<<3),u>55)for(e(this._hash,t),u=0;u<16;u+=1)t[u]=0;r=8*this._length,r=r.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(r[2],16),i=parseInt(r[1],16)||0,t[14]=o,t[15]=i,e(this._hash,t)},p.hash=function(t,e){return p.hashBinary(a(t),e)},p.hashBinary=function(t,e){var n=o(t),r=c(n);return e?d(r):r},p.ArrayBuffer=function(){this.reset()},p.ArrayBuffer.prototype.append=function(t){var n,o=l(this._buff.buffer,t,!0),i=o.length;for(this._length+=t.byteLength,n=64;n<=i;n+=64)e(this._hash,r(o.subarray(n-64,n)));return this._buff=n-64<i?new Uint8Array(o.buffer.slice(n-64)):new Uint8Array(0),this},p.ArrayBuffer.prototype.end=function(t){var e,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<o;e+=1)i[e>>2]|=r[e]<<(e%4<<3);return this._finish(i,o),n=c(this._hash),t&&(n=d(n)),this.reset(),n},p.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.ArrayBuffer.prototype.getState=function(){var t=p.prototype.getState.call(this);return t.buff=f(t.buff),t},p.ArrayBuffer.prototype.setState=function(t){return t.buff=s(t.buff,!0),p.prototype.setState.call(this,t)},p.ArrayBuffer.prototype.destroy=p.prototype.destroy,p.ArrayBuffer.prototype._finish=p.prototype._finish,p.ArrayBuffer.hash=function(t,e){var n=i(new Uint8Array(t)),r=c(n);return e?d(r):r},p}()}()},function(t,e,n){"use strict";function r(t,e,n){for(var r="",o=n-t.length;r.length<o;)r+=e;return r}e.padLeft=function(t,e,n){return r(t,e,n)+t},e.padRight=function(t,e,n){return t+r(t,e,n)},e.stringLexCompare=function(t,e){var n,r=t.length,o=e.length;for(n=0;n<r;n++){if(n===o)return 1;var i=t.charAt(n),u=e.charAt(n);if(i!==u)return i<u?-1:1}return r<o?-1:0},e.intToDecimalForm=function(t){var e=t<0,n="";do{n=(e?-Math.ceil(t%10):Math.floor(t%10))+n,t=e?Math.ceil(t/10):Math.floor(t/10)}while(t);return e&&"0"!==n&&(n="-"+n),n}},function(t,e,n){"use strict";function r(t){if(!t)return"undefined";switch(typeof t){case"function":case"string":return t.toString();default:return JSON.stringify(t)}}var o=n(210),i=n(146),u=i.Promise;t.exports=function(t){var e=t.db,n=t.viewName,c=t.map,a=t.reduce,s=t.temporary,f=t.pluginName,l=r(c)+r(a)+"undefined";if(!s&&e._cachedViews){var d=e._cachedViews[l];if(d)return u.resolve(d)}return e.info().then(function(t){function r(t){t.views=t.views||{};var e=n;e.indexOf("/")===-1&&(e=n+"/"+n);var r=t.views[e]=t.views[e]||{};if(!r[u])return r[u]=!0,t}var u=t.db_name+"-mrview-"+(s?"temp":i.MD5(l));return o(e,"_local/"+f,r).then(function(){return e.registerDependentDatabase(u).then(function(t){var n=t.db;n.auto_compaction=!0;var r={name:u,db:n,sourceDB:e,adapter:e.adapter,mapFun:c,reduceFun:a};return r.db.get("_local/lastSeq").catch(function(t){if(404!==t.status)throw t}).then(function(t){return r.seq=t?t.seq:0,s||(e._cachedViews=e._cachedViews||{},e._cachedViews[l]=r,r.db.on("destroyed",function(){delete e._cachedViews[l]})),r})})})})}},function(t,e,n){"use strict";(function(e){function r(t){this.status=400,this.name="query_parse_error",this.message=t,this.error=!0;try{Error.captureStackTrace(this,r)}catch(t){}}function o(t){this.status=404,this.name="not_found",this.message=t,this.error=!0;try{Error.captureStackTrace(this,o)}catch(t){}}function i(t){return t.indexOf("/")===-1?[t,t]:t.split("/")}function u(t){return 1===t.length&&/^1-/.test(t[0].rev)}function c(t,e){var n=g(t.key,e.key);return 0!==n?n:g(t.value,e.value)}function a(t,e,n){return n=n||0,"number"==typeof e?t.slice(n,e+n):n>0?t.slice(n):t}function s(t){var e=t.value;return e&&"object"==typeof e&&e._id||t.id}function f(t,e){try{t.emit("error",e)}catch(t){console.error("The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),console.error(e)}}function l(t,e,n){try{return{output:e.apply(null,n)}}catch(e){return f(t,e),{error:e}}}function d(t,e){var n=t.descending?"endkey":"startkey",o=t.descending?"startkey":"endkey";if(void 0!==t[n]&&void 0!==t[o]&&g(t[n],t[o])>0)throw new r("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(e.reduce&&t.reduce!==!1){if(t.include_docs)throw new r("{include_docs:true} is invalid for reduce");if(t.keys&&t.keys.length>1&&!t.group&&!t.group_level)throw new r("Multi-key fetches for reduce views must use {group: true}")}if(t.group_level){if("number"!=typeof t.group_level)throw new r('Invalid value for integer: "'+t.group_level+'"');if(t.group_level<0)throw new r('Invalid value for positive integer: "'+t.group_level+'"')}}function p(t){return function(e){if(404===e.status)return t;throw e}}function h(t){function n(t,e,n){function r(t){return t.keys.length?e.db.allDocs({keys:t.keys,include_docs:!0}):k.resolve({rows:[]})}function o(t,e){for(var n=[],r={},o=0,i=e.rows.length;o<i;o++){var u=e.rows[o],c=u.doc;if(c&&(n.push(c),r[c._id]=!0,c._deleted=!s[c._id],!c._deleted)){var a=s[c._id];"value"in a&&(c.value=a.value)}}var f=Object.keys(s);return f.forEach(function(t){if(!r[t]){var e={_id:t},o=s[t];"value"in o&&(e.value=o.value),n.push(e)}}),t.keys=w.uniq(f.concat(t.keys)),n.push(t),n}var i="_local/doc_"+t,c={_id:i,keys:[]},a=n[t],s=a.indexableKeysToKeyValues,f=a.changes;return function(){return u(f)?k.resolve(c):e.db.get(i).catch(p(c))}().then(function(t){return r(t).then(function(e){return o(t,e)})})}function r(t,e,r){var o="_local/lastSeq";return t.db.get(o).catch(p({_id:o,seq:0})).then(function(o){var i=Object.keys(e);return k.all(i.map(function(r){return n(r,t,e)})).then(function(e){var n=w.flatten(e);return o.seq=r,n.push(o),t.db.bulkDocs({docs:n})})})}function f(t){var e="string"==typeof t?t:t.name,n=x[e];return n||(n=x[e]=new v),n}function h(t){return w.sequentialize(f(t),function(){return E(t)})()}function E(t){function e(t,e){var n={id:i._id,key:m(t)};void 0!==e&&null!==e&&(n.value=m(e)),o.push(n)}function n(e,n){return function(){return r(t,e,n)}}var o,i,u=I(t.mapFun,e),a=t.seq||0,s=new v;return new k(function(e,r){function f(){s.finish().then(function(){t.seq=a,e()})}function d(){function e(t){r(t)}t.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:a,limit:S}).on("complete",function(e){var r=e.results;if(!r.length)return f();for(var p={},h=0,_=r.length;h<_;h++){var v=r[h];if("_"!==v.doc._id[0]){o=[],i=v.doc,i._deleted||l(t.sourceDB,u,[i]),o.sort(c);for(var m,b={},w=0,k=o.length;w<k;w++){var x=o[w],T=[x.key,x.id];0===g(x.key,m)&&T.push(w),b[y(T)]=x,m=x.key}p[v.doc._id]={indexableKeysToKeyValues:b,changes:v.changes}}a=v.seq}return s.add(n(p,a)),r.length<S?f():d()}).on("error",e)}d()})}function A(t,e,n){0===n.group_level&&delete n.group_level;var r=n.group||n.group_level,o=q(t.reduceFun),i=[],u=n.group_level;e.forEach(function(t){var e=i[i.length-1],n=r?t.key:null;if(r&&Array.isArray(n)&&"number"==typeof u&&(n=n.length>u?n.slice(0,u):n),e&&0===g(e.key[0][0],n))return e.key.push([n,t.id]),void e.value.push(t.value);i.push({key:[[n,t.id]],value:[t.value]})});for(var c=0,s=i.length;c<s;c++){var f=i[c],d=l(t.sourceDB,o,[f.key,f.value,!1]);if(d.error&&/BuiltInError/.test(d.error.constructor))throw d.error;f.value=d.error?null:d.output,f.key=f.key[0][0]}return{rows:a(i,n.limit,n.skip)}}function C(t,e){return w.sequentialize(f(t),function(){return O(t,e)})()}function O(t,e){function n(e){return e.include_docs=!0,t.db.allDocs(e).then(function(t){return o=t.total_rows,t.rows.map(function(t){if("value"in t.doc&&"object"==typeof t.doc.value&&null!==t.doc.value){var e=Object.keys(t.doc.value).sort(),n=["id","key","value"];if(!(e<n||e>n))return t.doc.value}var r=_.parseIndexableString(t.doc._id);return{key:r[0],id:r[1],value:"value"in t.doc?t.doc.value:null}})})}function r(n){var r;if(r=i?A(t,n,e):{total_rows:o,offset:u,rows:n},
e.include_docs){var c=w.uniq(n.map(s));return t.sourceDB.allDocs({keys:c,include_docs:!0,conflicts:e.conflicts,attachments:e.attachments,binary:e.binary}).then(function(t){var e={};return t.rows.forEach(function(t){t.doc&&(e["$"+t.id]=t.doc)}),n.forEach(function(t){var n=s(t),r=e["$"+n];r&&(t.doc=r)}),r})}return r}var o,i=t.reduceFun&&e.reduce!==!1,u=e.skip||0;void 0===e.keys||e.keys.length||(e.limit=0,delete e.keys);var c=function(t){return t.reduce(function(t,e){return t.concat(e)})};if(void 0!==e.keys){var a=e.keys,f=a.map(function(t){return n({startkey:y([t]),endkey:y([t,{}])})});return k.all(f).then(c).then(r)}var l={descending:e.descending};if(void 0!==e.startkey&&(l.startkey=y(e.descending?[e.startkey,{}]:[e.startkey])),void 0!==e.endkey){var d=e.inclusive_end!==!1;e.descending&&(d=!d),l.endkey=y(d?[e.endkey,{}]:[e.endkey])}if(void 0!==e.key){var p=y([e.key]),h=y([e.key,{}]);l.descending?(l.endkey=p,l.startkey=h):(l.startkey=p,l.endkey=h)}return i||("number"==typeof e.limit&&(l.limit=e.limit),l.skip=u),n(l).then(r)}function j(t){return t.get("_local/"+R).then(function(e){var n={};Object.keys(e.views).forEach(function(t){var e=i(t),r="_design/"+e[0],o=e[1];n[r]=n[r]||{},n[r][o]=!0});var r={keys:Object.keys(n),include_docs:!0};return t.allDocs(r).then(function(r){var o={};r.rows.forEach(function(t){var r=t.key.substring(8);Object.keys(n[t.key]).forEach(function(n){var i=r+"/"+n;e.views[i]||(i=n);var u=Object.keys(e.views[i]),c=t.doc&&t.doc.views&&t.doc.views[n];u.forEach(function(t){o[t]=o[t]||c})})});var i=Object.keys(o).filter(function(t){return!o[t]}),u=i.map(function(e){return w.sequentialize(f(e),function(){return new t.constructor(e,t.__opts).destroy()})()});return k.all(u).then(function(){return{ok:!0}})})},p({ok:!0}))}function B(t,n,r){if("string"!=typeof n){d(r,n);var u={db:t,viewName:"temp_view/temp_view",map:n.map,reduce:n.reduce,temporary:!0,pluginName:R};return T.add(function(){return b(u).then(function(t){function e(){return t.db.destroy()}return w.fin(h(t).then(function(){return C(t,r)}),e)})}),T.finish()}var c=n,a=i(c),s=a[0],f=a[1];return t.get("_design/"+s).then(function(n){var i=n.views&&n.views[f];if(!i)throw new o("ddoc "+n._id+" has no view named "+f);return M(n,f),d(r,i),b({db:t,viewName:c,map:i.map,reduce:i.reduce,pluginName:R}).then(function(t){return"ok"===r.stale||"update_after"===r.stale?("update_after"===r.stale&&e.nextTick(function(){h(t)}),C(t,r)):h(t).then(function(){return C(t,r)})})})}var R=t.name,I=t.mapper,q=t.reducer,M=t.ddocValidator;return{query:function(t,e,n){var r=this;"function"==typeof e&&(n=e,e={}),e=w.extend(!0,{},e),"function"==typeof t&&(t={map:t});var o=k.resolve().then(function(){return B(r,t,e)});return w.promisedCallback(o,n),o},viewCleanup:w.callbackify(function(){return j(this)})}}var _=n(101),v=n(494),g=_.collate,y=_.toIndexableString,m=_.normalizeKey,b=n(492);"undefined"!=typeof console&&"function"==typeof console.log&&Function.prototype.bind.call(console.log,console);var w=n(146),k=w.Promise,x={},T=new v,S=50;w.inherits(r,Error),w.inherits(o,Error),t.exports=h}).call(e,n(11))},function(t,e,n){"use strict";function r(){this.promise=new o(function(t){t()})}var o=n(146).Promise;r.prototype.add=function(t){return this.promise=this.promise.catch(function(){}).then(function(){return t()}),this.promise},r.prototype.finish=function(){return this.promise},t.exports=r},function(t,e,n){"use strict";function r(t,e,n){e=c(e),t.request({method:"POST",url:"_index",body:e},n)}function o(t,e,n){t.request({method:"POST",url:"_find",body:e},n)}function i(t,e){t.request({method:"GET",url:"_index"},e)}function u(t,e,n){var r=e.ddoc,o=e.type||"json",i=e.name;if(!r)return n(new Error("you must provide an index's ddoc"));if(!i)return n(new Error("you must provide an index's name"));var u="_index/"+[r,o,i].map(encodeURIComponent).join("/");t.request({method:"DELETE",url:u},n)}var c=n(212);e.createIndex=r,e.find=o,e.getIndexes=i,e.deleteIndex=u},function(t,e,n){"use strict";function r(t,e,n){return c.upsert.call(t,e,n)}function o(t,e){function n(t){return t._rev&&"query"!==t.language&&(_=!0),t.language="query",t.views=t.views||{},!(v=!!t.views[s])&&(t.views[s]={map:{fields:i.mergeObjects(e.index.fields)},reduce:"_count",options:{def:o}},t)}e=d(e);var o=i.clone(e.index);e.index=l(e.index),f(e.index);var c=i.MD5(JSON.stringify(e)),s=e.name||"idx-"+c,p=e.ddoc||"idx-"+c,h="_design/"+p,_=!1,v=!1;return u("creating index",h),r(t,h,n).then(function(){if(_)throw new Error('invalid language for ddoc with id "'+h+'" (should be "query")')}).then(function(){var e=p+"/"+s;return a.query.call(t,e,{limit:0,reduce:!1}).then(function(){return{id:h,name:s,result:v?"exists":"created"}})})}var i=n(47),u=i.log,c=n(214),a=n(147),s=n(72),f=s.validateIndex,l=s.massageIndexDef,d=n(212);t.exports=o},function(t,e,n){"use strict";function r(t,e){function n(t){return 1===Object.keys(t.views).length&&t.views[u]?{_id:r,_deleted:!0}:(delete t.views[u],t)}if(!e.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!e.name)throw new Error("you must supply an index.name when deleting");var r=e.ddoc,u=e.name;return i(t,r,n).then(function(){return o.viewCleanup.apply(t)}).then(function(){return{ok:!0}})}var o=n(147),i=n(210);t.exports=r},function(t,e,n){"use strict";function r(t){function e(e){return t.map(function(t){return E(e,T(k(t)))})}return function(t,n){var r=e(t.doc),o=e(n.doc),i=m(r,o);return 0!==i?i:S.compare(t.doc._id,n.doc._id)}}function o(t,e,n){if(t=t.filter(function(t){return i(t.doc,e.selector,n)}),e.sort){var o=r(e.sort);t=t.sort(o),"string"!=typeof e.sort[0]&&"desc"===x(e.sort[0])&&(t=t.reverse())}if("limit"in e||"skip"in e){var u=e.skip||0,c=("limit"in e?e.limit:t.length)+u;t=t.slice(u,c)}return t}function i(t,e,n){return n.every(function(n){if(u(t))return!1;var r=e[n],o=T(n),i=E(t,o);return w(n)?a(n,r,t):c(r,t,o,i)})}function u(t){return/^_design\//.test(t._id)}function c(t,e,n,r){return!t||Object.keys(t).every(function(o){return s(o,e,t[o],n,r)})}function a(t,e,n){return"$or"===t?e.some(function(t){return i(n,t,Object.keys(t))}):"$not"===t?!i(n,e,Object.keys(e)):!e.find(function(t){return i(n,t,Object.keys(t))})}function s(t,e,n,r,o){if(!A[t])throw new Error('unknown operator "'+t+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type or $all');return A[t](e,n,r,o)}function f(t){return void 0!==t&&null!==t}function l(t){return void 0!==t}function d(t,e){var n=e[0],r=e[1];if(0===n)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(n,10)!==n)throw new Error("Divisor is not an integer");if(parseInt(r,10)!==r)throw new Error("Modulus is not an integer");return parseInt(t,10)===t&&t%n===r}function p(t,e){return e.some(function(e){return t instanceof Array?t.indexOf(e)>-1:t===e})}function h(t,e){return e.every(function(e){return t.indexOf(e)>-1})}function _(t,e){return t.length===e}function v(t,e){return new RegExp(e).test(t)}function g(t,e){switch(e){case"null":return null===t;case"boolean":return"boolean"==typeof t;case"number":return"number"==typeof t;case"string":return"string"==typeof t;case"array":return t instanceof Array;case"object":return"[object Object]"==={}.toString.call(t)}throw new Error(e+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}var y=n(474),m=n(101).collate,b=n(72),w=b.isCombinationalField,k=b.getKey,x=b.getValue,T=b.parseField,S=n(47),E=S.getFieldFromDoc,A={$elemMatch:function(t,e,n,r){return!!y(r)&&0!==r.length&&("object"==typeof r[0]?r.some(function(t){return i(t,e,Object.keys(e))}):r.some(function(r){return c(e,t,n,r)}))},$eq:function(t,e,n,r){return l(r)&&0===m(r,e)},$gte:function(t,e,n,r){return l(r)&&m(r,e)>=0},$gt:function(t,e,n,r){return l(r)&&m(r,e)>0},$lte:function(t,e,n,r){return l(r)&&m(r,e)<=0},$lt:function(t,e,n,r){return l(r)&&m(r,e)<0},$exists:function(t,e,n,r){return e?l(r):!l(r)},$mod:function(t,e,n,r){return f(r)&&d(r,e)},$ne:function(t,e,n,r){return e.every(function(t){return 0!==m(r,t)})},$in:function(t,e,n,r){return f(r)&&p(r,e)},$nin:function(t,e,n,r){return f(r)&&!p(r,e)},$size:function(t,e,n,r){return f(r)&&_(r,e)},$all:function(t,e,n,r){return y(r)&&h(r,e)},$regex:function(t,e,n,r){return f(r)&&v(r,e)},$type:function(t,e,n,r){return g(r,e)}};t.exports=o},function(t,e,n){"use strict";function r(t){return t.ddoc.substring(8)+"/"+t.name}function o(t,e){var n=c(e);return n.descending?("endkey"in n&&"string"!=typeof n.endkey&&(n.endkey=""),"startkey"in n&&"string"!=typeof n.startkey&&(n.limit=0)):("startkey"in n&&"string"!=typeof n.startkey&&(n.startkey=""),"endkey"in n&&"string"!=typeof n.endkey&&(n.limit=0)),"key"in n&&"string"!=typeof n.key&&(n.limit=0),t.allDocs(n)}function i(t,e){return e.selector&&(e.selector=h(e.selector)),e.sort&&(e.sort=_(e.sort)),g(e),a(t).then(function(n){var i=l(e,n.indexes),c=i.index;y(e,c);var a=u.extend(!0,{include_docs:!0,reduce:!1},i.queryOpts);return"startkey"in a&&"endkey"in a&&s(a.startkey,a.endkey)>0?{docs:[]}:(e.sort&&"string"!=typeof e.sort[0]&&"desc"===v(e.sort[0])&&(a.descending=!0,a=m(a)),i.inMemoryFields.length||("limit"in e&&(a.limit=e.limit),"skip"in e&&(a.skip=e.skip)),w.resolve().then(function(){if("_all_docs"===c.name)return o(t,a);var e=r(c);return f.query.call(t,e,a)}).then(function(t){a.inclusive_start===!1&&(t.rows=b(t.rows,a.startkey,c)),i.inMemoryFields.length&&(t.rows=p(t.rows,e,i.inMemoryFields));var n={docs:t.rows.map(function(t){var n=t.doc;return e.fields?u.pick(n,e.fields):n})};return c.defaultUsed&&(n.warning="no matching index found, create an index to optimize query time"),n}))})}var u=n(47),c=u.clone,a=n(211),s=n(101).collate,f=n(147),l=n(500),d=n(72),p=n(498),h=d.massageSelector,_=d.massageSort,v=d.getValue,g=d.validateFindRequest,y=d.validateSort,m=d.reverseOptions,b=d.filterInclusiveStart,w=u.Promise;t.exports=i},function(t,e,n){"use strict";function r(t,e){for(var n=t.def.fields.map(S),r=0,o=n.length;r<o;r++)if(e===n[r])return!0;return!1}function o(t,e){return"$eq"!==S(t[e])}function i(t,e){var n=e.def.fields.map(S);return t.slice().sort(function(t,e){var r=n.indexOf(t),o=n.indexOf(e);return r===-1&&(r=Number.MAX_VALUE),o===-1&&(o=Number.MAX_VALUE),k.compare(r,o)})}function u(t,e,n){n=i(n,t);for(var u=!1,c=0,a=n.length;c<a;c++){var s=n[c];if(u||!r(t,s))return n.slice(c);c<a-1&&o(e,s)&&(u=!0)}return[]}function c(t){var e=[];return Object.keys(t).forEach(function(n){var r=t[n];Object.keys(r).forEach(function(t){"$ne"===t&&e.push(n)})}),e}function a(t,e,n,r){var o=k.flatten(t,u(e,n,r),c(n));return i(k.uniq(o),e)}function s(t,e,n){if(e){var r=k.oneArrayIsStrictSubArrayOfOther(e,t),o=k.oneArrayIsSubArrayOfOther(n,t);return r&&o}return k.oneSetIsSubArrayOfOther(n,t)}function f(t){return O.indexOf(t)===-1}function l(t,e){var n=t[0],r=e[n];return void 0===r||!!Object.keys(r).some(function(t){return!f(t)})&&!(1===Object.keys(r).length&&"$ne"===S(r))}function d(t,e,n,r){var o=t.def.fields.map(S);return!!s(o,e,n)&&l(o,r)}function p(t,e,n,r){return r.reduce(function(r,o){return d(o,n,e,t)&&r.push(o),r},[])}function h(t,e,n,r){function o(t){for(var e=t.def.fields.map(S),n=0,r=0,o=e.length;r<o;r++)c[e[r]]&&n++;return n}var i=p(t,e,n,r);if(0===i.length){var u=r[0];return u.defaultUsed=!0,u}if(1===i.length)return i[0];var c=k.arrayToObject(e);return k.max(i,o)}function _(t,e){switch(t){case"$eq":return{key:e};case"$lte":return{endkey:e};case"$gte":return{startkey:e};case"$lt":return{endkey:e,inclusive_end:!1};case"$gt":return{startkey:e,inclusive_start:!1}}}function v(t,e){var n,r=S(e.def.fields[0]),o=t[r]||{},i=[];return Object.keys(o).forEach(function(t){if(f(t))return void i.push(r);var e=o[t],u=_(t,e);n=n?k.mergeObjects([n,u]):u}),{queryOpts:n,inMemoryFields:i}}function g(t,e){switch(t){case"$eq":return{startkey:e,endkey:e};case"$lte":return{endkey:e};case"$gte":return{startkey:e};case"$lt":return{endkey:e,inclusive_end:!1};case"$gt":return{startkey:e,inclusive_start:!1}}}function y(t,e){function n(t){r!==!1&&c.push(A),o!==!1&&a.push(C),u=i.slice(t)}for(var r,o,i=e.def.fields.map(S),u=[],c=[],a=[],s=0,l=i.length;s<l;s++){var d=i[s],p=t[d];if(!p){n(s);break}if(s>0){if(Object.keys(p).some(f)){n(s);break}var h="$gt"in p||"$gte"in p||"$lt"in p||"$lte"in p,_=Object.keys(t[i[s-1]]),v=k.arrayEquals(_,["$eq"]),y=k.arrayEquals(_,Object.keys(p));if(h&&!v&&!y){n(s);break}}for(var m=Object.keys(p),b=null,w=0;w<m.length;w++){var x=m[w],T=p[x],E=g(x,T);b=b?k.mergeObjects([b,E]):E}c.push("startkey"in b?b.startkey:A),a.push("endkey"in b?b.endkey:C),"inclusive_start"in b&&(r=b.inclusive_start),"inclusive_end"in b&&(o=b.inclusive_end)}var O={startkey:c,endkey:a};return void 0!==r&&(O.inclusive_start=r),void 0!==o&&(O.inclusive_end=o),{queryOpts:O,inMemoryFields:u}}function m(t){return{queryOpts:{startkey:null},inMemoryFields:[Object.keys(t)]}}function b(t,e){return e.defaultUsed?m(t,e):1===e.def.fields.length?v(t,e):y(t,e)}function w(t,e){x("planning query",t);var n=t.selector,r=t.sort,o=E(n,r),i=o.fields,u=o.sortOrder,c=h(n,i,u,e),s=b(n,c),f=s.queryOpts,l=s.inMemoryFields,d=a(l,c,n,i),p={queryOpts:f,index:c,inMemoryFields:d};return x("query plan",p),p}var k=n(47),x=k.log,T=n(72),S=T.getKey,E=T.getUserFields,A=null,C={"￿":{}},O=["$eq","$gt","$gte","$lt","$lte"];t.exports=w},function(t,e,n){"use strict";var r=n(47),o=r.callbackify;e.createIndex=o(n(496)),e.find=o(n(499)),e.getIndexes=o(n(211)),e.deleteIndex=o(n(497))},function(t,e,n){"use strict";var r=n(47),o=n(495),i=n(501),u={};u.createIndex=r.toPromise(function(t,e){if("object"!=typeof t)return e(new Error("you must provide an index to create"));("http"===this.type()?o:i).createIndex(this,t,e)}),u.find=r.toPromise(function(t,e){if(void 0===e&&(e=t,t=void 0),"object"!=typeof t)return e(new Error("you must provide search parameters to find()"));("http"===this.type()?o:i).find(this,t,e)}),u.getIndexes=r.toPromise(function(t){("http"===this.type()?o:i).getIndexes(this,t)}),u.deleteIndex=r.toPromise(function(t,e){if("object"!=typeof t)return e(new Error("you must provide an index to delete"));("http"===this.type()?o:i).deleteIndex(this,t,e)}),t.exports=u,"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(u)},function(t,e,n){(function(r){function o(){return!("undefined"==typeof window||!window||void 0===window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document&&"WebkitAppearance"in document.documentElement.style||"undefined"!=typeof window&&window&&window.console&&(console.firebug||console.exception&&console.table)||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),n){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var o=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))}),t.splice(i,0,r)}}function u(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function c(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}}function a(){try{return e.storage.debug}catch(t){}if(void 0!==r&&"env"in r)return r.env.DEBUG}e=t.exports=n(504),e.log=u,e.formatArgs=i,e.save=c,e.load=a,e.useColors=o,e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(a())}).call(e,n(11))},function(t,e,n){function r(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}function o(t){function n(){if(n.enabled){var t=n,r=+new Date,o=r-(s||r);t.diff=o,t.prev=s,t.curr=r,s=r;for(var i=new Array(arguments.length),u=0;u<i.length;u++)i[u]=arguments[u];i[0]=e.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var c=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;c++;var o=e.formatters[r];if("function"==typeof o){var u=i[c];n=o.call(t,u),i.splice(c,1),c--}return n}),e.formatArgs.call(t,i),(n.log||e.log||console.log.bind(console)).apply(t,i)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=r(t),"function"==typeof e.init&&e.init(n),n}function i(t){e.save(t),e.names=[],e.skips=[];for(var n=(t||"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&(t=n[o].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function u(){e.enable("")}function c(t){var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1}function a(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=o.debug=o.default=o,e.coerce=a,e.disable=u,e.enable=i,e.enabled=c,e.humanize=n(202),e.names=[],e.skips=[],e.formatters={};var s},function(t,e,n){"use strict";var r=function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(n(200)),o="function"==typeof Promise?Promise:r;t.exports=o},function(t,e,n){"use strict";function r(){}function o(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,t!==r&&a(this,t)}function i(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function u(t,e,n){h(function(){var r;try{r=e(n)}catch(e){return _.reject(t,e)}r===t?_.reject(t,new TypeError("Cannot resolve promise with itself")):_.resolve(t,r)})}function c(t){var e=t&&t.then;if(t&&"object"==typeof t&&"function"==typeof e)return function(){e.apply(t,arguments)}}function a(t,e){function n(e){i||(i=!0,_.reject(t,e))}function r(e){i||(i=!0,_.resolve(t,e))}function o(){e(r,n)}var i=!1,u=s(o);"error"===u.status&&n(u.value)}function s(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}function f(t){return t instanceof this?t:_.resolve(new this(r),t)}function l(t){var e=new this(r);return _.reject(e,t)}function d(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,o=!1;if(!n)return this.resolve([]);for(var i=new Array(n),u=0,c=-1,a=new this(r);++c<n;)!function(t,r){function c(t){i[r]=t,++u!==n||o||(o=!0,_.resolve(a,i))}e.resolve(t).then(c,function(t){o||(o=!0,_.reject(a,t))})}(t[c],c);return a}function p(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,o=!1;if(!n)return this.resolve([]);for(var i=-1,u=new this(r);++i<n;)!function(t){e.resolve(t).then(function(t){o||(o=!0,_.resolve(u,t))},function(t){o||(o=!0,_.reject(u,t))})}(t[i]);return u}var h=n(99),_={},v=["REJECTED"],g=["FULFILLED"],y=["PENDING"];t.exports=o,o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){if("function"!=typeof t&&this.state===g||"function"!=typeof e&&this.state===v)return this;var n=new this.constructor(r);return this.state!==y?u(n,this.state===g?t:e,this.outcome):this.queue.push(new i(n,t,e)),n},i.prototype.callFulfilled=function(t){_.resolve(this.promise,t)},i.prototype.otherCallFulfilled=function(t){u(this.promise,this.onFulfilled,t)},i.prototype.callRejected=function(t){_.reject(this.promise,t)},i.prototype.otherCallRejected=function(t){u(this.promise,this.onRejected,t)},_.resolve=function(t,e){var n=s(c,e);if("error"===n.status)return _.reject(t,n.value);var r=n.value;if(r)a(t,r);else{t.state=g,t.outcome=e;for(var o=-1,i=t.queue.length;++o<i;)t.queue[o].callFulfilled(e)}return t},_.reject=function(t,e){t.state=v,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},o.resolve=f,o.reject=l,o.all=d,o.race=p},function(t,e,n){"use strict";var r=n(215),o=n(509),i=n(203),u=n(117).obj,c=n(476),a=n(508),s=["batch_size","batches_limit","filter","doc_ids","query_params","since","view"];e.adapters={},e.adapters.writableStream=n(510),e.plugin=n(483),e.plugin.dump=r.toPromise(function(t,e,n){function r(t){n(t)}var i=this;"function"==typeof e&&(n=e,e={});var u=i.constructor,a=i.name||i._db_name,f=new u(a,{adapter:"writableStream"});f.setupStream(t),i.info().then(function(n){var r={version:o,db_type:i.type(),start_time:(new Date).toJSON(),db_info:n};return t.write(JSON.stringify(r)+"\n"),e=c(e,s),e.batch_size||(e.batch_size=50),i.replicate.to(f,e)}).then(function(){return f.close()}).then(function(){n(null,{ok:!0})}).catch(r)}),e.plugin.load=r.toPromise(function(t,e,n){"function"==typeof e&&(n=e,e={});var r;r="batch_size"in e?e.batch_size:50;var o=null,c=[];t.pipe(a()).pipe(i.parse()).on("error",function(t){o=t}).pipe(u(function(t,e,n){if(!t.docs)return n();t.docs.forEach(function(t){this.push(t)},this),n()})).pipe(u(function(t,e,n){c.push(t),c.length>=r&&(this.push(c),c=[]),n()},function(t){c.length&&this.push(c),t()})).pipe(this.createWriteStream({new_edits:!1})).on("error",n).on("finish",function(){n(o,{ok:!0})})}),"undefined"!=typeof window&&window.PouchDB&&(window.PouchDB.plugin(e.plugin),window.PouchDB.adapter("writableStream",e.adapters.writableStream))},function(t,e,n){"use strict";(function(e){var r=n(117).obj;t.exports=function(){return r(function(t,n,r){t instanceof e||!e.isBuffer(t)||(t=new e(t)),this.push(t),r()})}}).call(e,n(26).Buffer)},function(t,e,n){"use strict";t.exports=n(511).version},function(t,e,n){"use strict";(function(e){function r(t,n){var s=this;s.instanceId=Math.random().toString(),s.ndj=c.serialize(),s.localStore={},s.originalName=t.name,s.setupStream=function(t){s.ndj.pipe(t)},s.type=function(){return"writableStream"},s._id=o.toPromise(function(t){t(null,s.instanceId)}),s._bulkDocs=function(t,e,n){var r=t.docs,o=this;e.new_edits===!1?this.ndj.write({docs:r},function(){n(null,r.map(function(t){return{ok:!0,id:t._id,rev:t._rev}}))}):i.all(r.map(function(t){o.localStore[t._id]=t})).then(function(t){n(null,t)}).catch(function(t){n(t)})},s._getRevisionTree=function(t,n){e.nextTick(function(){n(a)})},s._close=function(t){this.ndj.end(t)},s._getLocal=function(t,n){var r=this;e.nextTick(function(){var e=r.localStore[t];e?n(null,e):n(a)})},s._putLocal=function(t,n,r){var o=this;"function"==typeof n&&(r=n,n={}),delete t._revisions;var i,c=t._rev,a=t._id;i=t._rev=c?"0-"+(parseInt(c.split("-")[1],10)+1):"0-1",e.nextTick(function(){var e=o.localStore[a];if(e&&c!==e._rev)r(u);else{o.localStore[a]=t;var n=function(){r(null,{ok:!0,id:a,rev:i})};"last_seq"in t?o.ndj.write({seq:t.last_seq},n):n()}})},s._removeLocal=function(t,n){var r=this;e.nextTick(function(){var e=r.localStore[t._id];e&&t._rev!==e._rev?n(u):(delete r.localStore[t._id],n(null,{ok:!0,id:t._id,rev:"0-0"}))})},s._destroy=function(t,n){"function"==typeof t&&(n=t,t={}),r.Changes.removeAllListeners(s.originalName),e.nextTick(function(){n(null,{ok:!0})})},e.nextTick(function(){n(null,s)})}var o=n(215),i=n(148),u={status:409,name:"conflict",message:"Document update conflict"},c=n(203),a={status:404,name:"not_found",message:"missing"};r.valid=function(){return!0},t.exports=r}).call(e,n(11))},function(t,e){t.exports={name:"pouchdb-replication-stream",version:"1.2.9",description:"PouchDB/CouchDB replication as a stream",main:"lib/index.js",repository:{type:"git",url:"git://github.com/nolanlawson/pouchdb-replication-stream.git"},keywords:["pouch","pouchdb","plugin","stream","replication","couch","couchdb"],author:"",license:"Apache-2.0",bugs:{url:"https://github.com/nolanlawson/pouchdb-replication-stream/issues"},scripts:{"test-node":"TEST_DB=testdb,http://localhost:5984/testdb istanbul test ./node_modules/mocha/bin/_mocha test/test.js -- -R spec","test-browser":"./bin/test-browser.js",jshint:"jshint -c .jshintrc lib test/test.js",test:"npm run jshint && ./bin/run-test.sh",build:"mkdirp dist && npm run browserify && npm run min",browserify:"browserify -p bundle-collapser/plugin -s PouchReplicationStream . | ./bin/es3ify.js | derequire > dist/pouchdb.replication-stream.js",min:"uglifyjs dist/pouchdb.replication-stream.js -mc > dist/pouchdb.replication-stream.min.js",dev:"browserify test/test.js > test/test-bundle.js && npm run dev-server","dev-server":"./bin/dev-server.js",coverage:"npm test --coverage && istanbul check-coverage --lines 100 --function 100 --statements 100 --branches 100"},dependencies:{argsarray:"0.0.1",inherits:"^2.0.3","lodash.pick":"^4.0.0",ndjson:"^1.4.3","pouch-stream":"^0.4.0","pouchdb-promise":"^6.0.4",through2:"^2.0.0"},devDependencies:{bluebird:"^1.0.7",browserify:"^11.2.0","bundle-collapser":"^1.2.1",chai:"^3.3.0","chai-as-promised":"^5.1.0",derequire:"^2.0.0",es3ify:"^0.1.3","http-server":"~0.8.5",istanbul:"^0.2.7",jshint:"^2.3.0",lie:"^3.1.0",memorystream:"^0.3.0",mkdirp:"^0.5.0",mocha:"~1.18",noms:"0.0.0",phantomjs:"^1.9.7-5","pouchdb-memory":"^6.0.0","random-document-stream":"0.0.0",request:"^2.36.0","sauce-connect-launcher":"^0.4.2","selenium-standalone":"3.0.2","uglify-js":"^2.4.13",watchify:"^3.1.0",wd:"^0.2.21"}}},function(t,e,n){"use strict";function r(t,e,n){return"string"!=typeof e?i.reject(new Error("doc id is required")):t.get(e).catch(function(t){if(404!==t.status)throw t;return{}}).then(function(r){var i=r._rev,u=n(r);return u?(u._id=e,u._rev=i,o(t,u,n)):{updated:!1,rev:i,id:e}})}function o(t,e,n){return t.put(e).then(function(t){return{updated:!0,rev:t.rev,id:e._id}},function(o){if(409!==o.status)throw o;return r(t,e._id,n)})}var i=n(148);e.upsert=function(t,e,n){var o=this,i=r(o,t,e);if("function"!=typeof n)return i;i.then(function(t){n(null,t)},n)},e.putIfNotExists=function(t,e,n){var o=this;"string"!=typeof t&&(n=e,e=t,t=e._id);var i=function(t){return!t._rev&&e},u=r(o,t,i);if("function"!=typeof n)return u;u.then(function(t){n(null,t)},n)},"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(e)},function(t,e,n){var r=n(73);t.exports=r(!1)},function(t,e,n){var r=n(73);t.exports=r(!0)},function(t,e){t.exports={"@@functional/placeholder":!0}},function(t,e,n){var r=n(34),o=n(2),i=n(17);t.exports=o(function(t){return i(t.length,function(){var e=0,n=arguments[0],o=arguments[arguments.length-1],i=Array.prototype.slice.call(arguments,0);return i[0]=function(){var t=n.apply(this,r(arguments,[e,o]));return e+=1,t},t.apply(this,i)})})},function(t,e,n){var r=n(0),o=n(12),i=n(588);t.exports=r(o(["all"],i,function(t,e){for(var n=0;n<e.length;){if(!t(e[n]))return!1;n+=1}return!0}))},function(t,e,n){var r=n(2),o=n(17),i=n(74),u=n(85),c=n(42);t.exports=r(function(t){return o(c(i,0,u("length",t)),function(){for(var e=0,n=t.length;e<n;){if(!t[e].apply(this,arguments))return!1;e+=1}return!0})})},function(t,e,n){var r=n(2),o=n(17),i=n(74),u=n(85),c=n(42);t.exports=r(function(t){return o(c(i,0,u("length",t)),function(){for(var e=0,n=t.length;e<n;){if(t[e].apply(this,arguments))return!0;e+=1}return!1})})},function(t,e,n){var r=n(571),o=n(0),i=n(12),u=n(589);t.exports=o(i([],u,r))},function(t,e,n){var r=n(34),o=n(0);t.exports=o(function(t,e){return r(e,[t])})},function(t,e,n){var r=n(2),o=n(219),i=n(17),u=n(25),c=n(74),a=n(85),s=n(42),f=n(271);t.exports=r(function t(e){return e=u(function(e){return"function"==typeof e?e:t(e)},e),i(s(c,0,a("length",f(e))),function(){var t=arguments;return u(function(e){return o(e,t)},e)})})},function(t,e,n){var r=n(3);t.exports=r(function(t,e,n){var r=t(e),o=t(n);return r<o?-1:r>o?1:0})},function(t,e,n){var r=n(2),o=n(113);t.exports=r(function(t){return o(2,t)})},function(t,e,n){var r=n(0),o=n(107),i=n(217),u=n(112);t.exports=r(function(t,e){return o(t)?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:u(i)(t,e)})},function(t,e,n){var r=n(104);t.exports=r(function(t){return t.apply(this,Array.prototype.slice.call(arguments,1))})},function(t,e,n){var r=n(3);t.exports=r(function(t,e,n){if(t>e)throw new Error("min must not be greater than max in clamp(min, max, value)");return n<t?t:n>e?e:n})},function(t,e,n){var r=n(233),o=n(2);t.exports=o(function(t){return null!=t&&"function"==typeof t.clone?t.clone():r(t,[],[],!0)})},function(t,e,n){var r=n(2);t.exports=r(function(t){return function(e,n){return t(e,n)?-1:t(n,e)?1:0}})},function(t,e,n){var r=n(112),o=n(255);t.exports=r(o)},function(t,e,n){var r=n(261),o=n(116);t.exports=function(){if(0===arguments.length)throw new Error("composeP requires at least one argument");return r.apply(this,o(arguments))}},function(t,e,n){var r=n(40),o=n(2),i=n(25),u=n(74),c=n(42);t.exports=o(function(t){return r(c(u,0,i(function(t){return t[0].length},t)),function(){for(var e=0;e<t.length;){if(t[e][0].apply(this,arguments))return t[e][1].apply(this,arguments);e+=1}})})},function(t,e,n){var r=n(2),o=n(223);t.exports=r(function(t){return o(t.length,t)})},function(t,e,n){var r=n(63),o=n(0);t.exports=o(r)},function(t,e,n){var r=n(114);t.exports=r(function(t,e){return t+1},0)},function(t,e,n){var r=n(102);t.exports=r(-1)},function(t,e,n){var r=n(3);t.exports=r(function(t,e,n){var r=t(e),o=t(n);return r>o?-1:r<o?1:0})},function(t,e,n){var r=n(0),o=n(103),i=n(228);t.exports=r(function t(e,n){switch(e.length){case 0:return n;case 1:return i(e[0],n);default:var r=e[0],u=Array.prototype.slice.call(e,1);return null==n[r]?n:o(r,t(u,n[r]),n)}})},function(t,e,n){var r=n(0);t.exports=r(function(t,e){return t/e})},function(t,e,n){var r=n(0),o=n(12),i=n(573),u=n(592);t.exports=r(o([],u,i))},function(t,e,n){var r=n(0),o=n(12),i=n(574),u=n(593);t.exports=r(o([],u,i))},function(t,e,n){var r=n(2),o=n(12),i=n(245),u=n(230),c=n(39);t.exports=r(o([],i(c),u(c)))},function(t,e,n){var r=n(0),o=n(12),i=n(594);t.exports=r(o(["dropWhile"],i,function(t,e){for(var n=0,r=e.length;n<r&&t(e[n]);)n+=1;return Array.prototype.slice.call(e,n)}))},function(t,e,n){var r=n(0),o=n(107),i=n(112),u=n(257);t.exports=r(function(t,e){return o(t)?function(){return t.apply(this,arguments)||e.apply(this,arguments)}:i(u)(t,e)})},function(t,e,n){var r=n(3),o=n(39);t.exports=r(function(t,e,n){return o(t(e),t(n))})},function(t,e,n){var r=n(3),o=n(39);t.exports=r(function(t,e,n){return o(e[t],n[t])})},function(t,e,n){var r=n(0);t.exports=r(function t(e,n){var r,o,i,u={};for(o in n)r=e[o],i=typeof r,u[o]="function"===i?r(n[o]):r&&"object"===i?t(r,n[o]):n[o];return u})},function(t,e,n){var r=n(0),o=n(12),i=n(596);t.exports=r(o(["find"],i,function(t,e){for(var n=0,r=e.length;n<r;){if(t(e[n]))return e[n];n+=1}}))},function(t,e,n){var r=n(0),o=n(12),i=n(597);t.exports=r(o([],i,function(t,e){for(var n=0,r=e.length;n<r;){if(t(e[n]))return n;n+=1}return-1}))},function(t,e,n){var r=n(0),o=n(12),i=n(598);t.exports=r(o([],i,function(t,e){for(var n=e.length-1;n>=0;){if(t(e[n]))return e[n];n-=1}}))},function(t,e,n){var r=n(0),o=n(12),i=n(599);t.exports=r(o([],i,function(t,e){for(var n=e.length-1;n>=0;){if(t(e[n]))return n;n-=1}return-1}))},function(t,e,n){var r=n(2),o=n(243);t.exports=r(o(!0))},function(t,e,n){var r=n(80),o=n(0);t.exports=o(r("forEach",function(t,e){for(var n=e.length,r=0;r<n;)t(e[r]),r+=1;return e}))},function(t,e,n){var r=n(0),o=n(41);t.exports=r(function(t,e){for(var n=o(e),r=0;r<n.length;){var i=n[r];t(e[i],i,e),r+=1}return e})},function(t,e,n){var r=n(2);t.exports=r(function(t){for(var e={},n=0;n<t.length;)e[t[n][0]]=t[n][1],n+=1;return e})},function(t,e,n){var r=n(80),o=n(0),i=n(114);t.exports=o(r("groupBy",i(function(t,e){return null==t&&(t=[]),t.push(e),t},null)))},function(t,e,n){var r=n(0);t.exports=r(function(t,e){for(var n=[],r=0,o=e.length;r<o;){for(var i=r+1;i<o&&t(e[r],e[i]);)i+=1;n.push(e.slice(r,i)),r=i}return n})},function(t,e,n){var r=n(0);t.exports=r(function(t,e){return t>e})},function(t,e,n){var r=n(0);t.exports=r(function(t,e){return t>=e})
},function(t,e,n){var r=n(0),o=n(19);t.exports=r(o)},function(t,e,n){var r=n(0);t.exports=r(function(t,e){return t in e})},function(t,e,n){var r=n(83);t.exports=r(0)},function(t,e,n){var r=n(3),o=n(17);t.exports=r(function(t,e,n){return o(Math.max(t.length,e.length,n.length),function(){return t.apply(this,arguments)?e.apply(this,arguments):n.apply(this,arguments)})})},function(t,e,n){var r=n(102);t.exports=r(1)},function(t,e,n){var r=n(114);t.exports=r(function(t,e){return e},null)},function(t,e,n){var r=n(0),o=n(238),i=n(51);t.exports=r(function(t,e){return"function"!=typeof e.indexOf||i(e)?o(e,t,0):e.indexOf(t)})},function(t,e,n){var r=n(64);t.exports=r(0,-1)},function(t,e,n){var r=n(3);t.exports=r(function(t,e,n){t=t<n.length&&t>=0?t:n.length;var r=Array.prototype.slice.call(n,0);return r.splice(t,0,e),r})},function(t,e,n){var r=n(3);t.exports=r(function(t,e,n){return t=t<n.length&&t>=0?t:n.length,[].concat(Array.prototype.slice.call(n,0,t),e,Array.prototype.slice.call(n,t))})},function(t,e,n){var r=n(63);t.exports=function(){function t(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}function e(t,e,n){var o,i=typeof t;switch(i){case"string":case"number":return 0===t&&1/t==-1/0?!!n._items["-0"]||(e&&(n._items["-0"]=!0),!1):null!==n._nativeSet?e?(o=n._nativeSet.size,n._nativeSet.add(t),n._nativeSet.size===o):n._nativeSet.has(t):i in n._items?t in n._items[i]||(e&&(n._items[i][t]=!0),!1):(e&&(n._items[i]={},n._items[i][t]=!0),!1);case"boolean":if(i in n._items){var u=t?1:0;return!!n._items[i][u]||(e&&(n._items[i][u]=!0),!1)}return e&&(n._items[i]=t?[!1,!0]:[!0,!1]),!1;case"function":return null!==n._nativeSet?e?(o=n._nativeSet.size,n._nativeSet.add(t),n._nativeSet.size===o):n._nativeSet.has(t):i in n._items?!!r(t,n._items[i])||(e&&n._items[i].push(t),!1):(e&&(n._items[i]=[t]),!1);case"undefined":return!!n._items[i]||(e&&(n._items[i]=!0),!1);case"object":if(null===t)return!!n._items.null||(e&&(n._items.null=!0),!1);default:return i=Object.prototype.toString.call(t),i in n._items?!!r(t,n._items[i])||(e&&n._items[i].push(t),!1):(e&&(n._items[i]=[t]),!1)}}return t.prototype.add=function(t){return!e(t,!0,this)},t.prototype.has=function(t){return e(t,!1,this)},t}()},function(t,e){t.exports=function(t,e){for(var n=0,r=e.length-(t-1),o=new Array(r>=0?r:0);n<r;)o[n]=Array.prototype.slice.call(e,n,n+t),n+=1;return o}},function(t,e){t.exports=function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}},function(t,e,n){var r=n(266);t.exports=function(t,e){return r(t<e.length?e.length-t:0,e)}},function(t,e){t.exports=function(t,e){for(var n=e.length-1;n>=0&&t(e[n]);)n-=1;return Array.prototype.slice.call(e,0,n+1)}},function(t,e,n){var r=n(572),o=n(578),i=n(19),u=n(232),c=n(41),a=n(163);t.exports=function t(e,n,s,f){if(u(e,n))return!0;if(a(e)!==a(n))return!1;if(null==e||null==n)return!1;if("function"==typeof e.equals||"function"==typeof n.equals)return"function"==typeof e.equals&&e.equals(n)&&"function"==typeof n.equals&&n.equals(e);switch(a(e)){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===o(e.constructor))return e===n;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof n||!u(e.valueOf(),n.valueOf()))return!1;break;case"Date":if(!u(e.valueOf(),n.valueOf()))return!1;break;case"Error":return e.name===n.name&&e.message===n.message;case"RegExp":if(e.source!==n.source||e.global!==n.global||e.ignoreCase!==n.ignoreCase||e.multiline!==n.multiline||e.sticky!==n.sticky||e.unicode!==n.unicode)return!1;break;case"Map":case"Set":if(!t(r(e.entries()),r(n.entries()),s,f))return!1;break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var l=c(e);if(l.length!==c(n).length)return!1;for(var d=s.length-1;d>=0;){if(s[d]===e)return f[d]===n;d-=1}for(s.push(e),f.push(n),d=l.length-1;d>=0;){var p=l[d];if(!i(p,n)||!t(n[p],e[p],s,f))return!1;d-=1}return s.pop(),f.pop(),!0}},function(t,e,n){var r=n(577),o=n(29),i=n(13),u=n(82);t.exports=function(){var t=function(t){return{"@@transducer/init":i.init,"@@transducer/result":function(e){return t["@@transducer/result"](e)},"@@transducer/step":function(e,n){var o=t["@@transducer/step"](e,n);return o["@@transducer/reduced"]?r(o):o}}};return function(e){var n=t(e);return{"@@transducer/init":i.init,"@@transducer/result":function(t){return n["@@transducer/result"](t)},"@@transducer/step":function(t,e){return u(e)?o(n,t,e):o(n,t,[e])}}}}()},function(t,e){t.exports=function(t){return{"@@transducer/value":t,"@@transducer/reduced":!0}}},function(t,e){t.exports=function(t){var e=String(t).match(/^function (\w*)/);return null==e?"":e[1]}},function(t,e){t.exports=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)}},function(t,e,n){var r=n(19);t.exports=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1,o=arguments.length;n<o;){var i=arguments[n];if(null!=i)for(var u in i)r(u,i)&&(e[u]=i[u]);n+=1}return e}},function(t,e){t.exports=function(t){return[t]}},function(t,e){t.exports=function(t,e){return function(){return e.call(this,t.apply(this,arguments))}}},function(t,e){t.exports=function(t,e){return function(){var n=this;return t.apply(n,arguments).then(function(t){return e.call(n,t)})}}},function(t,e){t.exports=function(t){return'"'+t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}},function(t,e,n){var r=n(157),o=n(159),i=n(160),u=n(82),c=n(256);t.exports=function(){var t={"@@transducer/init":Array,"@@transducer/step":function(t,e){return t.push(e),t},"@@transducer/result":o},e={"@@transducer/init":String,"@@transducer/step":function(t,e){return t+e},"@@transducer/result":o},n={"@@transducer/init":Object,"@@transducer/step":function(t,e){return r(t,u(e)?c(e[0],e[1]):e)},"@@transducer/result":o};return function(r){if(i(r))return r;if(u(r))return t;if("string"==typeof r)return e;if("object"==typeof r)return n;throw new Error("Cannot create transformer for "+r)}}()},function(t,e){t.exports=function(){var t=function(t){return(t<10?"0":"")+t};return"function"==typeof Date.prototype.toISOString?function(t){return t.toISOString()}:function(e){return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}}()},function(t,e,n){var r=n(63),o=n(110),i=n(584),u=n(586),c=n(41),a=n(115);t.exports=function t(e,n){var s=function(o){var i=n.concat([e]);return r(o,i)?"<Circular>":t(o,i)},f=function(t,e){return o(function(e){return i(e)+": "+s(t[e])},e.slice().sort())};switch(Object.prototype.toString.call(e)){case"[object Arguments]":return"(function() { return arguments; }("+o(s,e).join(", ")+"))";case"[object Array]":return"["+o(s,e).concat(f(e,a(function(t){return/^\d+$/.test(t)},c(e)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof e?"new Boolean("+s(e.valueOf())+")":e.toString();case"[object Date]":return"new Date("+(isNaN(e.valueOf())?s(0/0):i(u(e)))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof e?"new Number("+s(e.valueOf())+")":1/e==-1/0?"-0":e.toString(10);case"[object String]":return"object"==typeof e?"new String("+s(e.valueOf())+")":i(e);case"[object Undefined]":return"undefined";default:if("function"==typeof e.toString){var l=e.toString();if("[object Object]"!==l)return l}return"{"+f(e,c(e)).join(", ")+"}"}}},function(t,e,n){var r=n(0),o=n(52),i=n(13);t.exports=function(){function t(t,e){this.xf=e,this.f=t,this.all=!0}return t.prototype["@@transducer/init"]=i.init,t.prototype["@@transducer/result"]=function(t){return this.all&&(t=this.xf["@@transducer/step"](t,!0)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)||(this.all=!1,t=o(this.xf["@@transducer/step"](t,!1))),t},r(function(e,n){return new t(e,n)})}()},function(t,e,n){var r=n(34),o=n(0),i=n(13);t.exports=function(){function t(t,e){this.xf=e,this.pos=0,this.full=!1,this.acc=new Array(t)}return t.prototype["@@transducer/init"]=i.init,t.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.store(e),this.full?this.xf["@@transducer/step"](t,this.getCopy()):t},t.prototype.store=function(t){this.acc[this.pos]=t,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},t.prototype.getCopy=function(){return r(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))},o(function(e,n){return new t(e,n)})}()},function(t,e,n){var r=n(0),o=n(576),i=n(25);t.exports=r(function(t,e){return i(t,o(e))})},function(t,e,n){var r=n(0),o=n(13);t.exports=function(){function t(t,e){this.xf=e,this.n=t}return t.prototype["@@transducer/init"]=o.init,t.prototype["@@transducer/result"]=o.result,t.prototype["@@transducer/step"]=function(t,e){return this.n>0?(this.n-=1,t):this.xf["@@transducer/step"](t,e)},r(function(e,n){return new t(e,n)})}()},function(t,e,n){var r=n(0),o=n(13);t.exports=function(){function t(t,e){this.xf=e,this.pos=0,this.full=!1,this.acc=new Array(t)}return t.prototype["@@transducer/init"]=o.init,t.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.full&&(t=this.xf["@@transducer/step"](t,this.acc[this.pos])),this.store(e),t},t.prototype.store=function(t){this.acc[this.pos]=t,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},r(function(e,n){return new t(e,n)})}()},function(t,e,n){var r=n(0),o=n(29),i=n(13);t.exports=function(){function t(t,e){this.f=t,this.retained=[],this.xf=e}return t.prototype["@@transducer/init"]=i.init,t.prototype["@@transducer/result"]=function(t){return this.retained=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.retain(t,e):this.flush(t,e)},t.prototype.flush=function(t,e){return t=o(this.xf["@@transducer/step"],t,this.retained),this.retained=[],this.xf["@@transducer/step"](t,e)},t.prototype.retain=function(t,e){return this.retained.push(e),t},r(function(e,n){return new t(e,n)})}()},function(t,e,n){var r=n(0),o=n(13);t.exports=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=o.init,t.prototype["@@transducer/result"]=o.result,t.prototype["@@transducer/step"]=function(t,e){if(this.f){if(this.f(e))return t;this.f=null}return this.xf["@@transducer/step"](t,e)},r(function(e,n){return new t(e,n)})}()},function(t,e,n){var r=n(0),o=n(13);t.exports=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=o.init,t.prototype["@@transducer/result"]=o.result,t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.xf["@@transducer/step"](t,e):t},r(function(e,n){return new t(e,n)})}()},function(t,e,n){var r=n(0),o=n(52),i=n(13);t.exports=function(){function t(t,e){this.xf=e,this.f=t,this.found=!1}return t.prototype["@@transducer/init"]=i.init,t.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,void 0)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)&&(this.found=!0,t=o(this.xf["@@transducer/step"](t,e))),t},r(function(e,n){return new t(e,n)})}()},function(t,e,n){var r=n(0),o=n(52),i=n(13);t.exports=function(){function t(t,e){this.xf=e,this.f=t,this.idx=-1,this.found=!1}return t.prototype["@@transducer/init"]=i.init,t.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,-1)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.idx+=1,this.f(e)&&(this.found=!0,t=o(this.xf["@@transducer/step"](t,this.idx))),t},r(function(e,n){return new t(e,n)})}()},function(t,e,n){var r=n(0),o=n(13);t.exports=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=o.init,t.prototype["@@transducer/result"]=function(t){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](t,this.last))},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)&&(this.last=e),t},r(function(e,n){return new t(e,n)})}()},function(t,e,n){var r=n(0),o=n(13);t.exports=function(){function t(t,e){this.xf=e,this.f=t,this.idx=-1,this.lastIdx=-1}return t.prototype["@@transducer/init"]=o.init,t.prototype["@@transducer/result"]=function(t){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](t,this.lastIdx))},t.prototype["@@transducer/step"]=function(t,e){return this.idx+=1,this.f(e)&&(this.lastIdx=this.idx),t},r(function(e,n){return new t(e,n)})}()},function(t,e,n){var r=n(0),o=n(13);t.exports=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=o.init,t.prototype["@@transducer/result"]=o.result,t.prototype["@@transducer/step"]=function(t,e){return this.xf["@@transducer/step"](t,this.f(e))},r(function(e,n){return new t(e,n)})}()},function(t,e,n){var r=n(106),o=n(19),i=n(13);t.exports=function(){function t(t,e,n,r){this.valueFn=t,this.valueAcc=e,this.keyFn=n,this.xf=r,this.inputs={}}return t.prototype["@@transducer/init"]=i.init,t.prototype["@@transducer/result"]=function(t){var e;for(e in this.inputs)if(o(e,this.inputs)&&(t=this.xf["@@transducer/step"](t,this.inputs[e]),t["@@transducer/reduced"])){t=t["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){var n=this.keyFn(e);return this.inputs[n]=this.inputs[n]||[n,this.valueAcc],this.inputs[n][1]=this.valueFn(this.inputs[n][1],e),t},r(4,[],function(e,n,r,o){return new t(e,n,r,o)})}()},function(t,e,n){var r=n(0),o=n(52),i=n(13);t.exports=function(){function t(t,e){this.xf=e,this.n=t,this.i=0}return t.prototype["@@transducer/init"]=i.init,t.prototype["@@transducer/result"]=i.result,t.prototype["@@transducer/step"]=function(t,e){this.i+=1;var n=0===this.n?t:this.xf["@@transducer/step"](t,e);return this.i>=this.n?o(n):n},r(function(e,n){return new t(e,n)})}()},function(t,e,n){var r=n(0),o=n(52),i=n(13);t.exports=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=i.init,t.prototype["@@transducer/result"]=i.result,t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.xf["@@transducer/step"](t,e):o(t)},r(function(e,n){return new t(e,n)})}()},function(t,e,n){var r=n(63),o=n(0),i=n(237),u=n(105),c=n(164);t.exports=o(function(t,e){var n,o;return t.length>e.length?(n=t,o=e):(n=e,o=t),c(i(u(r)(n),o))})},function(t,e,n){var r=n(158),o=n(3),i=n(165);t.exports=o(function(t,e,n){var o,u;e.length>n.length?(o=e,u=n):(o=n,u=e);for(var c=[],a=0;a<u.length;)r(t,u[a],o)&&(c[c.length]=u[a]),a+=1;return i(t,c)})},function(t,e,n){var r=n(80),o=n(0);t.exports=o(r("intersperse",function(t,e){for(var n=[],r=0,o=e.length;r<o;)r===o-1?n.push(e[r]):n.push(e[r],t),r+=1;return n}))},function(t,e,n){var r=n(233),o=n(3),i=n(160),u=n(29),c=n(585);t.exports=o(function(t,e,n){return i(t)?u(e(t),t["@@transducer/init"](),n):u(e(c(t)),r(t,[],[],!1),n)})},function(t,e,n){var r=n(2),o=n(19),i=n(41);t.exports=r(function(t){for(var e=i(t),n=e.length,r=0,u={};r<n;){var c=e[r],a=t[c],s=o(a,u)?u[a]:u[a]=[];s[s.length]=c,r+=1}return u})},function(t,e,n){var r=n(2),o=n(41);t.exports=r(function(t){for(var e=o(t),n=e.length,r=0,i={};r<n;){var u=e[r];i[t[u]]=u,r+=1}return i})},function(t,e,n){var r=n(2),o=n(231),i=n(39);t.exports=r(function(t){return null!=t&&i(t,o(t))})},function(t,e,n){var r=n(2);t.exports=r(function(t){return null==t})},function(t,e,n){var r=n(81);t.exports=r(1,"join")},function(t,e,n){var r=n(2);t.exports=r(function(t){var e,n=[];for(e in t)n[n.length]=e;return n})},function(t,e,n){var r=n(0),o=n(51),i=n(39);t.exports=r(function(t,e){if("function"!=typeof e.lastIndexOf||o(e)){for(var n=e.length-1;n>=0;){if(i(e[n],t))return n;n-=1}return-1}return e.lastIndexOf(t)})},function(t,e,n){var r=n(2),o=n(111),i=n(83),u=n(269);t.exports=r(function(t){return o(i(t),u(t))})},function(t,e,n){var r=n(2),o=n(220),i=n(111),u=n(84);t.exports=r(function(t){return i(u(t),o(t))})},function(t,e,n){var r=n(2),o=n(103),i=n(111),u=n(161);t.exports=r(function(t){return i(u(t),o(t))})},function(t,e,n){var r=n(0);t.exports=r(function(t,e){return t<e})},function(t,e,n){var r=n(0);t.exports=r(function(t,e){return t<=e})},function(t,e,n){var r=n(3);t.exports=r(function(t,e,n){for(var r=0,o=n.length,i=[],u=[e];r<o;)u=t(u[0],n[r]),i[r]=u[1],r+=1;return[u[0],i]})},function(t,e,n){var r=n(3);t.exports=r(function(t,e,n){for(var r=n.length-1,o=[],i=[e];r>=0;)i=t(n[r],i[0]),o[r]=i[1],r-=1;return[o,i[0]]})},function(t,e,n){var r=n(0),o=n(29),i=n(41);t.exports=r(function(t,e){return o(function(n,r){return n[r]=t(e[r],r,e),n},{},i(e))})},function(t,e,n){var r=n(0);t.exports=r(function(t,e){return e.match(t)||[]})},function(t,e,n){var r=n(0),o=n(240);t.exports=r(function(t,e){return o(t)?!o(e)||e<1?0/0:(t%e+e)%e:0/0})},function(t,e,n){var r=n(3);t.exports=r(function(t,e,n){return t(n)>t(e)?n:e})},function(t,e,n){var r=n(2),o=n(252);t.exports=r(function(t){var e=t.length;if(0===e)return 0/0;var n=2-e%2,r=(e-n)/2;return o(Array.prototype.slice.call(t,0).sort(function(t,e){return t<e?-1:t>e?1:0}).slice(r,r+n))})},function(t,e,n){var r=n(40),o=n(2),i=n(19),u=n(86);t.exports=o(function(t){var e={};return r(t.length,function(){var n=u(arguments);return i(n,e)||(e[n]=t.apply(this,arguments)),e[n]})})},function(t,e,n){var r=n(157),o=n(0);t.exports=o(function(t,e){return r({},t,e)})},function(t,e,n){var r=n(157),o=n(2);t.exports=o(function(t){return r.apply(null,[{}].concat(t))})},function(t,e,n){var r=n(3),o=n(253);t.exports=r(function(t,e,n){return o(function(e,n,r){return t(n,r)},e,n)})},function(t,e,n){var r=n(0);t.exports=r(function(t,e){return e<t?e:t})},function(t,e,n){var r=n(3);t.exports=r(function(t,e,n){return t(n)<t(e)?n:e})},function(t,e,n){var r=n(0);t.exports=r(function(t,e){return t%e})},function(t,e,n){var r=n(2);t.exports=r(function(t){return-t})},function(t,e,n){var r=n(235),o=n(0),i=n(12),u=n(244),c=n(218);t.exports=o(r(i(["any"],u,c)))},function(t,e,n){var r=n(2),o=n(17),i=n(83);t.exports=r(function(t){return o(t<0?1:t+1,function(){return i(t,arguments)})})},function(t,e,n){var r=n(2),o=n(581);t.exports=r(o)},function(t,e,n){var r=n(63),o=n(0);t.exports=o(function(t,e){var n={};for(var o in e)r(o,t)||(n[o]=e[o]);return n})},function(t,e,n){var r=n(40),o=n(2);t.exports=o(function(t){var e,n=!1;return r(t.length,function(){return n?e:(n=!0,e=t.apply(this,arguments))})})},function(t,e,n){var r=n(0);t.exports=r(function(t,e){return[t,e]})},function(t,e,n){var r=n(34),o=n(236);t.exports=o(r)},function(t,e,n){var r=n(34),o=n(236),i=n(105);t.exports=o(i(r))},function(t,e,n){var r=n(155),o=n(248),i=n(115);t.exports=o([r,i])},function(t,e,n){var r=n(3),o=n(39),i=n(84);t.exports=r(function(t,e,n){return o(i(t,n),e)})},function(t,e,n){var r=n(3),o=n(225),i=n(84);t.exports=r(function(t,e,n){return o(t,i(e,n))})},function(t,e,n){var r=n(3),o=n(84);t.exports=r(function(t,e,n){return e.length>0&&t(o(e,n))})},function(t,e,n){var r=n(0);t.exports=r(function(t,e){for(var n={},r=0;r<t.length;)t[r]in e&&(n[t[r]]=e[t[r]]),r+=1;return n})},function(t,e,n){var r=n(0);t.exports=r(function(t,e){var n={};for(var r in e)t(e[r],r,e)&&(n[r]=e[r]);return n})},function(t,e,n){var r=n(222),o=n(116);t.exports=function(){if(0===arguments.length)throw new Error("pipeK requires at least one argument");return r.apply(this,o(arguments))}},function(t,e,n){var r=n(254),o=n(42);t.exports=o(r,1)},function(t,e,n){var r=n(110),o=n(156),i=n(259),u=n(270);t.exports=u(r,[i,o])},function(t,e,n){var r=n(3),o=n(39);t.exports=r(function(t,e,n){return o(e,n[t])})},function(t,e,n){var r=n(3),o=n(247);t.exports=r(function(t,e,n){return o(t,n[e])})},function(t,e,n){var r=n(3),o=n(19);t.exports=r(function(t,e,n){return null!=n&&o(e,n)?n[e]:t})},function(t,e,n){var r=n(3);t.exports=r(function(t,e,n){return t(n[e])})},function(t,e,n){var r=n(0);t.exports=r(function(t,e){for(var n=t.length,r=[],o=0;o<n;)r[o]=e[t[o]],o+=1;return r})},function(t,e,n){var r=n(0),o=n(241);t.exports=r(function(t,e){if(!o(t)||!o(e))throw new TypeError("Both arguments to range must be numbers");for(var n=[],r=t;r<e;)n.push(r),r+=1;return n})},function(t,e,n){var r=n(106),o=n(29),i=n(52);t.exports=r(4,[],function(t,e,n,r){return o(function(n,r){return t(n,r)?e(n,r):i(n)},n,r)})},function(t,e,n){var r=n(2),o=n(52);t.exports=r(o)},function(t,e,n){var r=n(3);t.exports=r(function(t,e,n){var r=Array.prototype.slice.call(n,0);return r.splice(t,e),r})},function(t,e,n){var r=n(0),o=n(73),i=n(267);t.exports=r(function(t,e){return i(o(t),e)})},function(t,e,n){var r=n(3);t.exports=r(function(t,e,n){return n.replace(t,e)})},function(t,e,n){var r=n(3);t.exports=r(function(t,e,n){for(var r=0,o=n.length,i=[e];r<o;)e=t(e,n[r]),i[r+1]=e,r+=1;return i})},function(t,e,n){var r=n(3),o=n(73),i=n(258);t.exports=r(function(t,e,n){return i(t,o(e),n)})},function(t,e,n){var r=n(0);t.exports=r(function(t,e){return Array.prototype.slice.call(e,0).sort(t)})},function(t,e,n){var r=n(0);t.exports=r(function(t,e){return Array.prototype.slice.call(e,0).sort(function(e,n){var r=t(e),o=t(n);return r<o?-1:r>o?1:0})})},function(t,e,n){var r=n(0);t.exports=r(function(t,e){return Array.prototype.slice.call(e,0).sort(function(e,n){for(var r=0,o=0;0===r&&o<t.length;)r=t[o](e,n),o+=1;return r})})},function(t,e,n){var r=n(81);t.exports=r(1,"split")},function(t,e,n){var r=n(0),o=n(250),i=n(64);t.exports=r(function(t,e){return[i(0,t,e),i(t,o(e),e)]})},function(t,e,n){var r=n(0),o=n(64);t.exports=r(function(t,e){if(t<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var n=[],r=0;r<e.length;)n.push(o(r,r+=t,e));return n})},function(t,e,n){var r=n(0);t.exports=r(function(t,e){for(var n=0,r=e.length,o=[];n<r&&!t(e[n]);)o.push(e[n]),n+=1;return[o,Array.prototype.slice.call(e,n)]})},function(t,e,n){var r=n(0);t.exports=r(function(t,e){return Number(t)-Number(e)})},function(t,e,n){var r=n(0),o=n(154),i=n(226);t.exports=r(function(t,e){return o(i(t,e),i(e,t))})},function(t,e,n){var r=n(3),o=n(154),i=n(227);t.exports=r(function(t,e,n){return o(i(t,e,n),i(t,n,e))})},function(t,e,n){var r=n(0),o=n(229);t.exports=r(function(t,e){return o(t>=0?e.length-t:0,e)})},function(t,e,n){var r=n(0);t.exports=r(function(t,e){for(var n=e.length-1;n>=0&&t(e[n]);)n-=1;return Array.prototype.slice.call(e,n+1)})},function(t,e,n){var r=n(0),o=n(12),i=n(603);t.exports=r(o(["takeWhile"],i,function(t,e){for(var n=0,r=e.length;n<r&&t(e[n]);)n+=1;return Array.prototype.slice.call(e,0,n)}))},function(t,e,n){var r=n(0);t.exports=r(function(t,e){return t(e),e})},function(t,e,n){var r=n(234),o=n(0),i=n(579),u=n(86);t.exports=o(function(t,e){if(!i(t))throw new TypeError("‘test’ requires a value of type RegExp as its first argument; received "+u(t));return r(t).test(e)})},function(t,e,n){var r=n(81);t.exports=r(0,"toLowerCase")},function(t,e,n){var r=n(2),o=n(19);t.exports=r(function(t){var e=[];for(var n in t)o(n,t)&&(e[e.length]=[n,t[n]]);return e})},function(t,e,n){var r=n(2);t.exports=r(function(t){var e=[];for(var n in t)e[e.length]=[n,t[n]];return e})},function(t,e,n){var r=n(81);t.exports=r(0,"toUpperCase")},function(t,e,n){var r=n(29),o=n(246),i=n(17);t.exports=i(4,function(t,e,n,i){return r(t("function"==typeof e?o(e):e),n,i)})},function(t,e,n){var r=n(2);t.exports=r(function(t){for(var e=0,n=[];e<t.length;){for(var r=t[e],o=0;o<r.length;)void 0===n[o]&&(n[o]=[]),n[o].push(r[o]),o+=1;e+=1}return n})},function(t,e,n){var r=n(3),o=n(25),i=n(264);t.exports=r(function(t,e,n){return i(t,o(e,n))})},function(t,e,n){var r=n(2);t.exports=function(){var t="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff";return r("function"==typeof String.prototype.trim&&!t.trim()&&"​".trim()?function(t){return t.trim()}:function(e){var n=new RegExp("^["+t+"]["+t+"]*"),r=new RegExp("["+t+"]["+t+"]*$");return e.replace(n,"").replace(r,"")})}()},function(t,e,n){var r=n(40),o=n(34),i=n(0);t.exports=i(function(t,e){return r(t.length,function(){try{return t.apply(this,arguments)}catch(t){return e.apply(this,o([t],arguments))}})})},function(t,e,n){var r=n(2);t.exports=r(function(t){return function(){return t(Array.prototype.slice.call(arguments,0))}})},function(t,e,n){var r=n(2),o=n(113);t.exports=r(function(t){return o(1,t)})},function(t,e,n){var r=n(0),o=n(17);t.exports=r(function(t,e){return o(t,function(){for(var n,r=1,o=e,i=0;r<=t&&"function"==typeof o;)n=r===t?arguments.length:i+o.length,o=o.apply(this,Array.prototype.slice.call(arguments,i,n)),r+=1,i=n;return o})})},function(t,e,n){var r=n(0);t.exports=r(function(t,e){for(var n=t(e),r=[];n&&n.length;)r[r.length]=n[0],n=t(n[1]);return r})},function(t,e,n){var r=n(34),o=n(0),i=n(153),u=n(164);t.exports=o(i(u,r))},function(t,e,n){var r=n(34),o=n(3),i=n(165);t.exports=o(function(t,e,n){return i(t,r(e,n))})},function(t,e,n){var r=n(3);t.exports=r(function(t,e,n){return t(n)?n:e(n)})},function(t,e,n){var r=n(159),o=n(152);t.exports=o(r)},function(t,e,n){var r=n(3);t.exports=r(function(t,e,n){for(var r=n;!t(r);)r=e(r);return r})},function(t,e,n){var r=n(2);t.exports=r(function(t){var e,n=[];for(e in t)n[n.length]=t[e];return n})},function(t,e,n){var r=n(0);t.exports=function(){var t=function(t){return{value:t,map:function(){return this}}};return r(function(e,n){return e(t)(n).value})}()},function(t,e,n){var r=n(3);t.exports=r(function(t,e,n){return t(n)?e(n):n})},function(t,e,n){var r=n(0),o=n(39),i=n(25),u=n(272);t.exports=r(function(t,e){return u(i(o,t),e)})},function(t,e,n){var r=n(63),o=n(0),i=n(105),u=n(115);t.exports=o(function(t,e){return u(i(r)(t),e)})},function(t,e,n){var r=n(0);t.exports=r(function(t,e){for(var n,r=0,o=t.length,i=e.length,u=[];r<o;){for(n=0;n<i;)u[u.length]=[t[r],e[n]],n+=1;r+=1}return u})},function(t,e,n){var r=n(0);t.exports=r(function(t,e){for(var n=[],r=0,o=Math.min(t.length,e.length);r<o;)n[r]=[t[r],e[r]],r+=1;return n})},function(t,e,n){var r=n(0);t.exports=r(function(t,e){for(var n=0,r=Math.min(t.length,e.length),o={};n<r;)o[t[n]]=e[n],n+=1;return o})},function(t,e,n){var r=n(3);t.exports=r(function(t,e,n){for(var r=[],o=0,i=Math.min(e.length,n.length);o<i;)r[o]=t(e[o],n[o]),o+=1;return r})},function(t,e,n){t.exports=n(65)},function(t,e,n){"use strict";function r(){this.head=null,this.tail=null,this.length=0}var o=(n(26).Buffer,n(118));t.exports=r,r.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},r.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},r.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},r.prototype.clear=function(){this.head=this.tail=null,this.length=0},r.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},r.prototype.concat=function(t){if(0===this.length)return o.alloc(0);if(1===this.length)return this.head.data;for(var e=o.allocUnsafe(t>>>0),n=this.head,r=0;n;)n.data.copy(e,r),r+=n.data.length,n=n.next;return e}},function(t,e,n){t.exports=n(273)},function(t,e,n){(function(r){var o=function(){try{return n(53)}catch(t){}}();e=t.exports=n(274),e.Stream=o||e,e.Readable=e,e.Writable=n(167),e.Duplex=n(65),e.Transform=n(166),e.PassThrough=n(273),!r.browser&&"disable"===r.env.READABLE_STREAM&&o&&(t.exports=o)}).call(e,n(11))},function(t,e,n){t.exports=n(167)},,function(t,e,n){function r(t,e){if(!(this instanceof r))return new r(t);this._dc=t,o.debug=e,this._outgoing={},this._incoming={},this._received={},this._window=1e3,this._mtu=500,this._interval=0,this._count=0,this._queue=[],this._setupDC()}var o=n(714);r.prototype.send=function(t){var e=o.pack(t);if(e.size<this._mtu)return void this._handleSend(["no",e]);this._outgoing[this._count]={ack:0,chunks:this._chunk(e)},o.debug&&(this._outgoing[this._count].timer=new Date),this._sendWindowedChunks(this._count),this._count+=1},r.prototype._setupInterval=function(){var t=this;this._timeout=setInterval(function(){var e=t._queue.shift();if(e._multiple)for(var n=0,r=e.length;n<r;n+=1)t._intervalSend(e[n]);else t._intervalSend(e)},this._interval)},r.prototype._intervalSend=function(t){var e=this;t=o.pack(t),o.blobToBinaryString(t,function(t){e._dc.send(t)}),0===e._queue.length&&(clearTimeout(e._timeout),e._timeout=null)},r.prototype._processAcks=function(){for(var t in this._outgoing)this._outgoing.hasOwnProperty(t)&&this._sendWindowedChunks(t)},r.prototype._handleSend=function(t){for(var e=!0,n=0,r=this._queue.length;n<r;n+=1){var o=this._queue[n];o===t?e=!1:o._multiple&&o.indexOf(t)!==-1&&(e=!1)}e&&(this._queue.push(t),this._timeout||this._setupInterval())},r.prototype._setupDC=function(){var t=this;this._dc.onmessage=function(e){var n=e.data;if(n.constructor===String){var r=o.binaryStringToArrayBuffer(n);n=o.unpack(r),t._handleMessage(n)}}},r.prototype._handleMessage=function(t){var e,n=t[1],r=this._incoming[n],i=this._outgoing[n];switch(t[0]){case"no":var u=n;u&&this.onmessage(o.unpack(u));break;case"end":if(e=r,this._received[n]=t[2],!e)break;this._ack(n);break;case"ack":if(e=i){var c=t[2];e.ack=Math.max(c,e.ack),e.ack>=e.chunks.length?(o.log("Time: ",new Date-e.timer),delete this._outgoing[n]):this._processAcks()}break;case"chunk":if(!(e=r)){if(this._received[n]===!0)break;e={ack:["ack",n,0],chunks:[]},this._incoming[n]=e}var a=t[2],s=t[3];e.chunks[a]=new Uint8Array(s),a===e.ack[2]&&this._calculateNextAck(n),this._ack(n);break;default:this._handleSend(t)}},r.prototype._chunk=function(t){for(var e=[],n=t.size,r=0;r<n;){var i=Math.min(n,r+this._mtu),u=t.slice(r,i),c={payload:u};e.push(c),r=i}return o.log("Created",e.length,"chunks."),e},r.prototype._ack=function(t){var e=this._incoming[t].ack;this._received[t]===e[2]&&(this._complete(t),this._received[t]=!0),this._handleSend(e)},r.prototype._calculateNextAck=function(t){for(var e=this._incoming[t],n=e.chunks,r=0,o=n.length;r<o;r+=1)if(void 0===n[r])return void(e.ack[2]=r);e.ack[2]=n.length},r.prototype._sendWindowedChunks=function(t){o.log("sendWindowedChunks for: ",t);for(var e=this._outgoing[t],n=e.chunks,r=[],i=Math.min(e.ack+this._window,n.length),u=e.ack;u<i;u+=1)n[u].sent&&u!==e.ack||(n[u].sent=!0,r.push(["chunk",t,u,n[u].payload]));e.ack+this._window>=n.length&&r.push(["end",t,n.length]),r._multiple=!0,this._handleSend(r)},r.prototype._complete=function(t){o.log("Completed called for",t);var e=this,n=this._incoming[t].chunks,r=new Blob(n);o.blobToArrayBuffer(r,function(t){e.onmessage(o.unpack(t))}),delete this._incoming[t]},r.higherBandwidthSDP=function(t){var e=navigator.appVersion.match(/Chrome\/(.*?) /);if(e&&(e=parseInt(e[1].split(".").shift()))<31){var n=t.split("b=AS:30");if(n.length>1)return n[0]+"b=AS:102400"+n[1]}return t},r.prototype.onmessage=function(t){},t.exports.Reliable=r},function(t,e,n){var r=n(198),o={debug:!1,inherits:function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})},extend:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},pack:r.pack,unpack:r.unpack,log:function(){if(o.debug){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.unshift("Reliable: "),console.log.apply(console,t)}},setZeroTimeout:function(t){function e(e){r.push(e),t.postMessage(o,"*")}function n(e){e.source==t&&e.data==o&&(e.stopPropagation&&e.stopPropagation(),r.length&&r.shift()())}var r=[],o="zero-timeout-message";return t.addEventListener?t.addEventListener("message",n,!0):t.attachEvent&&t.attachEvent("onmessage",n),e}(this),
blobToArrayBuffer:function(t,e){var n=new FileReader;n.onload=function(t){e(t.target.result)},n.readAsArrayBuffer(t)},blobToBinaryString:function(t,e){var n=new FileReader;n.onload=function(t){e(t.target.result)},n.readAsBinaryString(t)},binaryStringToArrayBuffer:function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=255&t.charCodeAt(n);return e.buffer},randomToken:function(){return Math.random().toString(36).substr(2)}};t.exports=o},function(t,e){(function(){var e={}.hasOwnProperty,n=[].slice;t.exports=function(t,r){var o,i,u,c;i=[],c=[];for(o in r)e.call(r,o)&&(u=r[o],"this"!==o&&(i.push(o),c.push(u)));return Function.apply(null,n.call(i).concat([t])).apply(r.this,c)}}).call(this)},function(t,e,n){(function(t,e){!function(t,n){"use strict";function r(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return s[a]=r,c(a),a++}function o(t){delete s[t]}function i(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}function u(t){if(f)setTimeout(u,0,t);else{var e=s[t];if(e){f=!0;try{i(e)}finally{o(t),f=!1}}}}if(!t.setImmediate){var c,a=1,s={},f=!1,l=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?function(){c=function(t){e.nextTick(function(){u(t)})}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&u(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),c=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){u(t.data)},c=function(e){t.port2.postMessage(e)}}():l&&"onreadystatechange"in l.createElement("script")?function(){var t=l.documentElement;c=function(e){var n=l.createElement("script");n.onreadystatechange=function(){u(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():function(){c=function(t){setTimeout(u,0,t)}}(),d.setImmediate=r,d.clearImmediate=o}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,n(30),n(11))},function(t,e,n){"use strict";function r(t,e,n){if(this._last+=this._decoder.write(t),this._last.length>this.maxLength)return n(new Error("maximum buffer reached"));var r=this._last.split(this.matcher);this._last=r.pop();for(var o=0;o<r.length;o++)i(this,this.mapper(r[o]));n()}function o(t){this._last+=this._decoder.end(),this._last&&i(this,this.mapper(this._last)),t()}function i(t,e){void 0!==e&&t.push(e)}function u(t){return t}function c(t,e,n){switch(t=t||/\r?\n/,e=e||u,n=n||{},arguments.length){case 1:"function"==typeof t?(e=t,t=/\r?\n/):"object"!=typeof t||t instanceof RegExp||(n=t,t=/\r?\n/);break;case 2:"function"==typeof t?(n=e,e=t,t=/\r?\n/):"object"==typeof e&&(n=e,e=u)}var i=a(n,r,o);return i._readableState.objectMode=!0,i._last="",i._decoder=new s("utf8"),i.matcher=t,i.mapper=e,i.maxLength=n.maxLength,i}var a=n(117),s=n(75).StringDecoder;t.exports=c},,,function(t,e,n){function r(t,e){this._id=t,this._clearFn=e}var o=Function.prototype.apply;e.setTimeout=function(){return new r(o.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new r(o.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(716),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e,n){(function(e){function n(t,e){function n(){if(!o){if(r("throwDeprecation"))throw new Error(e);r("traceDeprecation")?console.trace(e):console.warn(e),o=!0}return t.apply(this,arguments)}if(r("noDeprecation"))return t;var o=!1;return n}function r(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=n}).call(e,n(30))},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e,n){"use strict";function r(t,e,n){var r=n[n.length-1];t===r.element&&(n.pop(),r=n[n.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(t);else if(i===e.length-2){var u=e.pop();o[u]=t}else e.push(t)}e.stringify=function(t){var e=[];e.push({obj:t});for(var n,r,o,i,u,c,a,s,f,l,d,p="";n=e.pop();)if(r=n.obj,o=n.prefix||"",i=n.val||"",p+=o,i)p+=i;else if("object"!=typeof r)p+=void 0===r?null:JSON.stringify(r);else if(null===r)p+="null";else if(Array.isArray(r)){for(e.push({val:"]"}),u=r.length-1;u>=0;u--)c=0===u?"":",",e.push({obj:r[u],prefix:c});e.push({val:"["})}else{a=[];for(s in r)r.hasOwnProperty(s)&&a.push(s);for(e.push({val:"}"}),u=a.length-1;u>=0;u--)f=a[u],l=r[f],d=u>0?",":"",d+=JSON.stringify(f)+":",e.push({obj:l,prefix:d});e.push({val:"{"})}return p},e.parse=function(t){for(var e,n,o,i,u,c,a,s,f,l=[],d=[],p=0;;)if("}"!==(e=t[p++])&&"]"!==e&&void 0!==e)switch(e){case" ":case"\t":case"\n":case":":case",":break;case"n":p+=3,r(null,l,d);break;case"t":p+=3,r(!0,l,d);break;case"f":p+=4,r(!1,l,d);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",p--;;){if(o=t[p++],!/[\d\.\-e\+]/.test(o)){p--;break}n+=o}r(parseFloat(n),l,d);break;case'"':for(i="",u=void 0,c=0;'"'!==(a=t[p++])||"\\"===u&&c%2==1;)i+=a,u=a,"\\"===u?c++:c=0;r(JSON.parse('"'+i+'"'),l,d);break;case"[":s={element:[],index:l.length},l.push(s.element),d.push(s);break;case"{":f={element:{},index:l.length},l.push(f.element),d.push(f);break;default:throw new Error("unexpectedly reached end of input: "+e)}else{if(1===l.length)return l.pop();r(l.pop(),l,d)}}},function(t,e){function n(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var o in n)r.call(n,o)&&(t[o]=n[o])}return t}t.exports=n;var r=Object.prototype.hasOwnProperty},function(t,e){},function(t,e){},function(t,e){},,,function(t,e,n){t.exports=n(279)}],[731]);