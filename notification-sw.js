var serviceWorkerOption = {"assets":["/assets/fonts/Roboto-Bold.woff","/assets/fonts/Roboto-Bold.woff2","/assets/fonts/Roboto-Light.woff","/assets/fonts/Roboto-Light.woff2","/assets/fonts/Roboto-Medium.woff","/assets/fonts/Roboto-Medium.woff2","/assets/fonts/Roboto-Regular.woff","/assets/fonts/Roboto-Regular.woff2","/assets/fonts/Roboto-Thin.woff","/assets/fonts/Roboto-Thin.woff2","/vendor.js","/app.js","/common.js"]};
        
        const isDevEnv = false;
    
    
        !function(t){function n(o){if(i[o])return i[o].exports;var e=i[o]={i:o,l:!1,exports:{}};return t[o].call(e.exports,e,e.exports,n),e.l=!0,e.exports}var i={};n.m=t,n.c=i,n.i=function(t){return t},n.d=function(t,i,o){n.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:o})},n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,"a",i),i},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=0)}([function(t,n,i){"use strict";function o(t,n){console.log("posting notification-clicked from event",n),t.postMessage({type:"notification-clicked",action:n.action,data:n.notification.data})}function e(t){try{var n=t.data.json().data;console.log("[notification-sw] displaying notification ",n);var i=n.todoId;n.id=i;return new PouchDB("todo-db").get(i).then(function(t){console.log("pdb found todo",t);var i={requiresInteraction:!0,sticky:!0,renotify:!0,tag:n.id,vibrate:[500,110,500,110,450,110,200,110,170,40,450,110,200,110,170,40,500],sound:"/alarm.ogg",icon:"/logo.png",actions:[{title:"Mark Done",action:"mark-done"},{title:"Snooze",action:"snooze"}],body:t.text,data:n,timestamp:n.timestamp};return self.registration.showNotification("",i)})}catch(t){console.warn(t);var o={body:"Yay it works.",sound:"/alarm.ogg",timestamp:0};return self.registration.showNotification("Push Codelab",o)}}self.addEventListener("install",function(t){isDevEnv&&t.waitUntil(self.skipWaiting())}),self.addEventListener("notificationclick",function(t){var n=t.notification.data&&t.notification.data.skipFocusActionList?t.notification.data.skipFocusActionList:[],i=n.findIndex(function(n){return n===t.action})>=0;t.waitUntil(clients.matchAll({type:"window"}).then(function(n){var e=n[0];if(e){if(o(e,t),!i&&e.focus)return e.focus()}else if(clients.openWindow)return clients.openWindow("/").then(function(n){setTimeout(function(){o(n,t)},2e3)})}))},!1),importScripts("https://www.gstatic.com/firebasejs/3.9.0/firebase-app.js","https://www.gstatic.com/firebasejs/3.9.0/firebase-messaging.js","bower_components/pouchdb/dist/pouchdb.js"),firebase.initializeApp({messagingSenderId:"476064436883"}),self.addEventListener("push",function(t){return console.log("[notification-sw] Push received. event.data.text(): ",t.data.text()),t.waitUntil(e(t))})}]);