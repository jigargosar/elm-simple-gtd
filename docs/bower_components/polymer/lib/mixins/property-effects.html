<!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><link rel="import" href="../utils/boot.html">
<link rel="import" href="../utils/mixin.html">
<link rel="import" href="../utils/path.html">
<!-- for notify, reflect -->
<link rel="import" href="../utils/case-map.html">
<link rel="import" href="property-accessors.html">
<!-- for annotated effects -->
<link rel="import" href="template-stamp.html">


<script>(function(){'use strict';function t(pe,_e){let le=pe[_e];if(!le)le=pe[_e]={};else if(!pe.hasOwnProperty(_e))for(let he in le=pe[_e]=Object.create(pe[_e]),le){let fe=le[he],ue=le[he]=Array(fe.length);for(let ge=0;ge<fe.length;ge++)ue[ge]=fe[ge]}return le}function r(pe,_e,le,he,fe,ue){if(_e){let ge=!1,Pe=q++;for(let ce in le)o(pe,_e,Pe,ce,le,he,fe,ue)&&(ge=!0);return ge}return!1}function o(pe,_e,le,he,fe,ue,ge,Pe){let ce=!1,me=ge?Polymer.Path.root(he):he,ye=_e[me];if(ye)for(let Te,Ee=0,Ce=ye.length;Ee<Ce&&(Te=ye[Ee]);Ee++)Te.info&&Te.info.lastRun===le||ge&&!d(he,Te.trigger)||(Te.info&&(Te.info.lastRun=le),Te.fn(pe,he,fe,ue,Te.info,ge,Pe),ce=!0);return ce}function d(pe,_e){if(_e){let le=_e.name;return le==pe||_e.structured&&Polymer.Path.isAncestor(le,pe)||_e.wildcard&&Polymer.Path.isDescendant(le,pe)}return!0}function _(pe,_e,le,he,fe){let ue=pe[fe.methodName],ge=fe.property;ue?ue.call(pe,pe.__data[ge],he[ge]):!fe.dynamicFn&&console.warn('observer method `'+fe.methodName+'` not defined')}function h(pe,_e,le,he,fe){let ue=pe.__notifyEffects,ge,Pe=q++;for(let me in _e)_e[me]&&(ue&&o(pe,ue,Pe,me,le,he,fe)?ge=!0:fe&&f(pe,me,le)&&(ge=!0));let ce;ge&&(ce=pe.__dataHost)&&ce._invalidateProperties&&ce._invalidateProperties()}function f(pe,_e,le){let he=Polymer.Path.root(_e);if(he!==_e){let fe=Polymer.CaseMap.camelToDashCase(he)+'-changed';return u(pe,fe,le[_e],_e),!0}}function u(pe,_e,le,he){let fe={value:le,queueProperty:!0};he&&(fe.path=he),pe.dispatchEvent(new CustomEvent(_e,{detail:fe}))}function g(pe,_e,le,he,fe,ue){let ge=ue?Polymer.Path.root(_e):_e,Pe=ge==_e?null:_e,ce=Pe?Polymer.Path.get(pe,Pe):pe.__data[_e];Pe&&ce===void 0&&(ce=le[_e]),u(pe,fe.eventName,ce,Pe)}function P(pe,_e,le,he,fe){let ue,ge=pe.detail,Pe=ge&&ge.path;Pe?(he=Polymer.Path.translate(le,he,Pe),ue=ge&&ge.value):ue=pe.target[le],ue=fe?!ue:ue,_e.__readOnly&&_e.__readOnly[he]||!_e._setPendingPropertyOrPath(he,ue,!0,!!Pe)||ge&&ge.queueProperty||_e._invalidateProperties()}function c(pe,_e,le,he,fe){let ue=pe.__data[_e];Polymer.sanitizeDOMValue&&(ue=Polymer.sanitizeDOMValue(ue,fe.attrName,'attribute',pe)),pe._propertyToAttribute(_e,fe.attrName,ue)}function y(pe,_e,le,he){let fe=pe.__computeEffects;if(fe)for(let ue=_e;r(pe,fe,ue,le,he);)Object.assign(le,pe.__dataOld),Object.assign(_e,pe.__dataPending),ue=pe.__dataPending,pe.__dataPending=null}function E(pe,_e,le,he,fe){let ue=R(pe,_e,le,he,fe),ge=fe.methodInfo;pe.__dataHasAccessor&&pe.__dataHasAccessor[ge]?pe._setPendingProperty(ge,ue,!0):pe[ge]=ue}function C(pe,_e,le){let he=pe.__dataLinkedPaths;if(he){let fe;for(let ue in he){let ge=he[ue];Polymer.Path.isDescendant(ue,_e)?(fe=Polymer.Path.translate(ue,ge,_e),pe._setPendingPropertyOrPath(fe,le,!0,!0)):Polymer.Path.isDescendant(ge,_e)&&(fe=Polymer.Path.translate(ge,ue,_e),pe._setPendingPropertyOrPath(fe,le,!0,!0))}}}function T(pe,_e,le,he,fe,ue,ge){le.bindings=le.bindings||[];let Pe={kind:he,target:fe,parts:ue,literal:ge,isCompound:1!==ue.length};if(le.bindings.push(Pe),A(Pe)){let{event:me,negate:ye}=Pe.parts[0];Pe.listenerEvent=me||U.camelToDashCase(fe)+'-changed',Pe.listenerNegate=ye}let ce=_e.nodeInfoList.length;for(let ye,me=0;me<Pe.parts.length;me++)ye=Pe.parts[me],ye.compoundIndex=me,O(pe,_e,Pe,ye,ce)}function O(pe,_e,le,he,fe){if(!he.literal)if('attribute'===le.kind&&'-'===le.target[0])console.warn('Cannot set attribute '+le.target+' because "-" is not a valid attribute starting character');else{let ue=he.dependencies,ge={index:fe,binding:le,part:he,evaluator:pe};for(let ce,Pe=0;Pe<ue.length;Pe++)ce=ue[Pe],'string'==typeof ce&&(ce=S(ce),ce.wildcard=!0),pe._addTemplatePropertyEffect(_e,ce.rootProperty,{fn:N,info:ge,trigger:ce})}}function N(pe,_e,le,he,fe,ue,ge){let Pe=ge[fe.index],ce=fe.binding,me=fe.part;if(ue&&me.source&&_e.length>me.source.length&&'property'==ce.kind&&!ce.isCompound&&Pe.__dataHasAccessor&&Pe.__dataHasAccessor[ce.target]){let ye=le[_e];_e=Polymer.Path.translate(me.source,ce.target,_e),Pe._setPendingPropertyOrPath(_e,ye,!1,!0)&&pe._enqueueClient(Pe)}else{let ye=fe.evaluator._evaluateBinding(pe,me,_e,le,he,ue);I(pe,Pe,ce,me,ye)}}function I(pe,_e,le,he,fe){if(fe=x(_e,fe,le,he),Polymer.sanitizeDOMValue&&(fe=Polymer.sanitizeDOMValue(fe,le.target,le.kind,_e)),'attribute'==le.kind)pe._valueToNodeAttribute(_e,fe,le.target);else{let ue=le.target;_e.__dataHasAccessor&&_e.__dataHasAccessor[ue]?(!_e.__readOnly||!_e.__readOnly[ue])&&_e._setPendingProperty(ue,fe)&&pe._enqueueClient(_e):pe._setUnmanagedPropertyToNode(_e,ue,fe)}}function x(pe,_e,le,he){if(le.isCompound){let fe=pe.__dataCompoundStorage[le.target];fe[he.compoundIndex]=_e,_e=fe.join('')}return'attribute'!==le.kind&&('textContent'===le.target||'input'==pe.localName&&'value'==le.target)&&(_e=void 0==_e?'':_e),_e}function A(pe){return pe.target&&'attribute'!=pe.kind&&'text'!=pe.kind&&!pe.isCompound&&'{'===pe.parts[0].mode}function L(pe,_e){let{nodeList:le,nodeInfoList:he}=_e;if(he.length)for(let fe=0;fe<he.length;fe++){let ue=he[fe],ge=le[fe],Pe=ue.bindings;if(Pe)for(let me,ce=0;ce<Pe.length;ce++)me=Pe[ce],k(ge,me),H(ge,pe,me);ge.__dataHost=pe}}function k(pe,_e){if(_e.isCompound){let le=pe.__dataCompoundStorage||(pe.__dataCompoundStorage={}),he=_e.parts,fe=Array(he.length);for(let ge=0;ge<he.length;ge++)fe[ge]=he[ge].literal;let ue=_e.target;le[ue]=fe,_e.literal&&'property'==_e.kind&&(pe[ue]=_e.literal)}}function H(pe,_e,le){if(le.listenerEvent){let he=le.parts[0];pe.addEventListener(le.listenerEvent,function(fe){P(fe,_e,le.target,he.source,he.negate)})}}function z(pe,_e,le,he,fe,ue){ue=_e.static||ue&&('object'!==typeof ue||ue[_e.methodName]);let ge={methodName:_e.methodName,args:_e.args,methodInfo:fe,dynamicFn:ue};for(let ce,Pe=0;Pe<_e.args.length&&(ce=_e.args[Pe]);Pe++)ce.literal||pe._addPropertyEffect(ce.rootProperty,le,{fn:he,info:ge,trigger:ce});ue&&pe._addPropertyEffect(_e.methodName,le,{fn:he,info:ge})}function R(pe,_e,le,he,fe){let ue=pe._methodHost||pe,ge=ue[fe.methodName];if(ge){let Pe=F(pe.__data,fe.args,_e,le);return ge.apply(ue,Pe)}fe.dynamicFn||console.warn('method `'+fe.methodName+'` not defined')}function D(pe){let _e='';for(let he,le=0;le<pe.length;le++)he=pe[le].literal,_e+=he||'';return _e}function w(pe){let _e=pe.match(/([^\s]+?)\(([\s\S]*)\)/);if(_e){let le=_e[1],he={methodName:le,static:!0};if(_e[2].trim()){let fe=_e[2].replace(/\\,/g,'&comma;').split(',');return M(fe,he)}return he.args=Z,he}return null}function M(pe,_e){return _e.args=pe.map(function(le){let he=S(le);return he.literal||(_e.static=!1),he},this),_e}function S(pe){let _e=pe.trim().replace(/&comma;/g,',').replace(/\\(.)/g,'$1'),le={name:_e},he=_e[0];return'-'===he&&(he=_e[1]),'0'<=he&&'9'>=he&&(he='#'),'\''===he||'"'===he?(le.value=_e.slice(1,-1),le.literal=!0):'#'===he?(le.value=+_e,le.literal=!0):void 0,(le.literal||(le.rootProperty=Polymer.Path.root(_e),le.structured=Polymer.Path.isPath(_e),le.structured&&(le.wildcard='.*'==_e.slice(-2),le.wildcard&&(le.name=_e.slice(0,-2)))),le)}function F(pe,_e,le,he){let fe=[];for(let ue=0,ge=_e.length;ue<ge;ue++){let me,Pe=_e[ue],ce=Pe.name;if(Pe.literal?me=Pe.value:Pe.structured?(me=Polymer.Path.get(pe,ce),void 0===me&&(me=he[ce])):me=pe[ce],Pe.wildcard){let ye=0===ce.indexOf(le+'.'),Ee=0===le.indexOf(ce)&&!ye;fe[ue]={path:Ee?le:ce,value:Ee?he[le]:me,base:me}}else fe[ue]=me}return fe}function B(pe,_e,le,he){let fe=le+'.splices';pe.notifyPath(fe,{indexSplices:he}),pe.notifyPath(le+'.length',_e.length),pe.__data[fe]={indexSplices:null}}function V(pe,_e,le,he,fe,ue){B(pe,_e,le,[{index:he,addedCount:fe,removed:ue,object:_e,type:'splice'}])}function Y(pe){return pe[0].toUpperCase()+pe.substring(1)}const U=Polymer.CaseMap;let q=0;const $={COMPUTE:'__computeEffects',REFLECT:'__reflectEffects',NOTIFY:'__notifyEffects',PROPAGATE:'__propagateEffects',OBSERVE:'__observeEffects',READ_ONLY:'__readOnly'},Z=[],G='(?:[a-zA-Z_$][\\w.:$\\-*]*)',K='(?:'+G+'|'+'(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)'+'|'+('(?:'+'(?:\'(?:[^\'\\\\]|\\\\.)*\')'+'|'+'(?:"(?:[^"\\\\]|\\\\.)*")'+')')+'\\s*)',ie=/(\[\[|{{)\s*(?:(!)\s*)?((?:[a-zA-Z_$][\w.:$\-*]*)\s*(?:\(\s*(?:(?:(?:(?:[a-zA-Z_$][\w.:$\-*]*)|(?:[-+]?[0-9]*\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\]|\\.)*')|(?:"(?:[^"\\]|\\.)*"))\s*)(?:,\s*(?:(?:[a-zA-Z_$][\w.:$\-*]*)|(?:[-+]?[0-9]*\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\]|\\.)*')|(?:"(?:[^"\\]|\\.)*"))\s*))*)?)\)\s*)?)(?:]]|}})/g;Polymer.PropertyEffects=Polymer.dedupingMixin(pe=>{const _e=Polymer.TemplateStamp(Polymer.PropertyAccessors(pe));class le extends _e{get PROPERTY_EFFECT_TYPES(){return $}_initializeProperties(){super._initializeProperties(),se.registerHost(this),this.__dataClientsInitialized=!1,this.__dataPendingClients=null,this.__dataToNotify=null,this.__dataLinkedPaths=null,this.__dataHasPaths=!1,this.__dataCompoundStorage=this.__dataCompoundStorage||null,this.__dataHost=this.__dataHost||null,this.__dataTemp={}}_initializeProtoProperties(he){this.__data=Object.create(he),this.__dataPending=Object.create(he),this.__dataOld={}}_initializeInstanceProperties(he){let fe=this.__readOnly;for(let ue in he)fe&&fe[ue]||(this.__dataPending=this.__dataPending||{},this.__dataOld=this.__dataOld||{},this.__data[ue]=this.__dataPending[ue]=he[ue])}_addPropertyEffect(he,fe,ue){this._createPropertyAccessor(he,fe==$.READ_ONLY);let ge=t(this,fe)[he];ge||(ge=this[fe][he]=[]),ge.push(ue)}_removePropertyEffect(he,fe,ue){let ge=t(this,fe)[he],Pe=ge.indexOf(ue);0<=Pe&&ge.splice(Pe,1)}_hasPropertyEffect(he,fe){let ue=this[fe];return!!(ue&&ue[he])}_hasReadOnlyEffect(he){return this._hasPropertyEffect(he,$.READ_ONLY)}_hasNotifyEffect(he){return this._hasPropertyEffect(he,$.NOTIFY)}_hasReflectEffect(he){return this._hasPropertyEffect(he,$.REFLECT)}_hasComputedEffect(he){return this._hasPropertyEffect(he,$.COMPUTE)}_setPendingPropertyOrPath(he,fe,ue,ge){if(ge||Polymer.Path.root(Array.isArray(he)?he[0]:he)!==he){if(!ge){let Pe=Polymer.Path.get(this,he);if(he=Polymer.Path.set(this,he,fe),!he||!super._shouldPropertyChange(he,fe,Pe))return!1}if(this.__dataHasPaths=!0,this._setPendingProperty(he,fe,ue))return C(this,he,fe),!0}else{if(this.__dataHasAccessor&&this.__dataHasAccessor[he])return this._setPendingProperty(he,fe,ue);this[he]=fe}return!1}_setUnmanagedPropertyToNode(he,fe,ue){(ue!==he[fe]||'object'==typeof ue)&&(he[fe]=ue)}_setPendingProperty(he,fe,ue){let ge=this.__dataHasPaths&&Polymer.Path.isPath(he),Pe=ge?this.__dataTemp:this.__data;if(this._shouldPropertyChange(he,fe,Pe[he]))return this.__dataPending||(this.__dataPending={},this.__dataOld={}),he in this.__dataOld||(this.__dataOld[he]=this.__data[he]),ge?this.__dataTemp[he]=fe:this.__data[he]=fe,this.__dataPending[he]=fe,(ge||this.__notifyEffects&&this.__notifyEffects[he])&&(this.__dataToNotify=this.__dataToNotify||{},this.__dataToNotify[he]=ue),!0}_setProperty(he,fe){this._setPendingProperty(he,fe,!0)&&this._invalidateProperties()}_invalidateProperties(){this.__dataInitialized&&this._flushProperties()}_enqueueClient(he){this.__dataPendingClients=this.__dataPendingClients||[],he!==this&&this.__dataPendingClients.push(he)}_flushClients(){if(!this.__dataClientsInitialized)this.__dataClientsInitialized=!0,this._readyClients(),this.__dataInitialized=!0;else{let he=this.__dataPendingClients;if(he){this.__dataPendingClients=null;for(let ue,fe=0;fe<he.length;fe++)ue=he[fe],ue.__dataPending&&ue._flushProperties()}}}_readyClients(){let he=this.__dataPendingClients;if(he){this.__dataPendingClients=null;for(let ue,fe=0;fe<he.length;fe++)ue=he[fe],ue.__dataEnabled||ue._enableProperties()}}setProperties(he,fe){for(let ue in he)!fe&&this.__readOnly&&this.__readOnly[ue]||this._setPendingPropertyOrPath(ue,he[ue],!0);this._invalidateProperties()}ready(){this._flushProperties(),this.__dataClientsInitialized||this._flushClients(),this.__dataPending&&this._flushProperties()}_propertiesChanged(he,fe,ue){let ge=this.__dataHasPaths;this.__dataHasPaths=!1,y(this,fe,ue,ge);let Pe=this.__dataToNotify;this.__dataToNotify=null,this._propagatePropertyChanges(fe,ue,ge),this._flushClients(),r(this,this.__reflectEffects,fe,ue,ge),r(this,this.__observeEffects,fe,ue,ge),Pe&&h(this,Pe,fe,ue,ge),1==this.__dataCounter&&(this.__dataTemp={})}_propagatePropertyChanges(he,fe,ue){this.__propagateEffects&&r(this,this.__propagateEffects,he,fe,ue);for(let ge=this.__templateInfo;ge;)r(this,ge.propertyEffects,he,fe,ue,ge.nodeList),ge=ge.nextTemplateInfo}linkPaths(he,fe){he=Polymer.Path.normalize(he),fe=Polymer.Path.normalize(fe),this.__dataLinkedPaths=this.__dataLinkedPaths||{},this.__dataLinkedPaths[he]=fe}unlinkPaths(he){he=Polymer.Path.normalize(he),this.__dataLinkedPaths&&delete this.__dataLinkedPaths[he]}notifySplices(he,fe){let ue={},ge=Polymer.Path.get(this,he,ue);B(this,ge,ue.path,fe)}get(he,fe){return Polymer.Path.get(fe||this,he)}set(he,fe,ue){ue?Polymer.Path.set(ue,he,fe):(!this.__readOnly||!this.__readOnly[he])&&this._setPendingPropertyOrPath(he,fe,!0)&&this._invalidateProperties()}push(he,...fe){let ue={},ge=Polymer.Path.get(this,he,ue),Pe=ge.length,ce=ge.push(...fe);return fe.length&&V(this,ge,ue.path,Pe,fe.length,[]),ce}pop(he){let fe={},ue=Polymer.Path.get(this,he,fe),ge=!!ue.length,Pe=ue.pop();return ge&&V(this,ue,fe.path,ue.length,0,[Pe]),Pe}splice(he,fe,ue,...ge){let Pe={},ce=Polymer.Path.get(this,he,Pe);fe=0>fe?ce.length-Math.floor(-fe):Math.floor(fe),fe||(fe=0);let me=ce.splice(fe,ue,...ge);return(ge.length||me.length)&&V(this,ce,Pe.path,fe,ge.length,me),me}shift(he){let fe={},ue=Polymer.Path.get(this,he,fe),ge=!!ue.length,Pe=ue.shift();return ge&&V(this,ue,fe.path,0,0,[Pe]),Pe}unshift(he,...fe){let ue={},ge=Polymer.Path.get(this,he,ue),Pe=ge.unshift(...fe);return fe.length&&V(this,ge,ue.path,0,fe.length,[]),Pe}notifyPath(he,fe){let ue;if(1==arguments.length){let ge={};fe=Polymer.Path.get(this,he,ge),ue=ge.path}else ue=Array.isArray(he)?Polymer.Path.normalize(he):he;this._setPendingPropertyOrPath(ue,fe,!0,!0)&&this._invalidateProperties()}_createReadOnlyProperty(he,fe){this._addPropertyEffect(he,$.READ_ONLY),fe&&(this['_set'+Y(he)]=function(ue){this._setProperty(he,ue)})}_createPropertyObserver(he,fe,ue){let ge={property:he,methodName:fe,dynamicFn:ue};this._addPropertyEffect(he,$.OBSERVE,{fn:_,info:ge,trigger:{name:he}}),ue&&this._addPropertyEffect(fe,$.OBSERVE,{fn:_,info:ge,trigger:{name:fe}})}_createMethodObserver(he,fe){let ue=w(he);if(!ue)throw new Error('Malformed observer expression \''+he+'\'');z(this,ue,$.OBSERVE,R,null,fe)}_createNotifyingProperty(he){this._addPropertyEffect(he,$.NOTIFY,{fn:g,info:{eventName:U.camelToDashCase(he)+'-changed',property:he}})}_createReflectedProperty(he){let fe=U.camelToDashCase(he);'-'===fe[0]?console.warn('Property '+he+' cannot be reflected to attribute '+fe+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property thisead.'):this._addPropertyEffect(he,$.REFLECT,{fn:c,info:{attrName:fe}})}_createComputedProperty(he,fe,ue){let ge=w(fe);if(!ge)throw new Error('Malformed computed expression \''+fe+'\'');z(this,ge,$.COMPUTE,E,he,ue)}static addPropertyEffect(he,fe,ue){this.prototype._addPropertyEffect(he,fe,ue)}static createPropertyObserver(he,fe,ue){this.prototype._createPropertyObserver(he,fe,ue)}static createMethodObserver(he,fe){this.prototype._createMethodObserver(he,fe)}static createNotifyingProperty(he){this.prototype._createNotifyingProperty(he)}static createReadOnlyProperty(he,fe){this.prototype._createReadOnlyProperty(he,fe)}static createReflectedProperty(he){this.prototype._createReflectedProperty(he)}static createComputedProperty(he,fe,ue){this.prototype._createComputedProperty(he,fe,ue)}static bindTemplate(he){return this.prototype._bindTemplate(he)}_bindTemplate(he,fe){let ue=this.constructor._parseTemplate(he),ge=this.__templateInfo==ue;if(!ge)for(let Pe in ue.propertyEffects)this._createPropertyAccessor(Pe);if(fe&&(ue=Object.create(ue),ue.wasPreBound=ge,!ge&&this.__templateInfo)){let Pe=this.__templateInfoLast||this.__templateInfo;return this.__templateInfoLast=Pe.nextTemplateInfo=ue,ue.previousTemplateInfo=Pe,ue}return this.__templateInfo=ue}static _addTemplatePropertyEffect(he,fe,ue){let ge=he.hostProps=he.hostProps||{};ge[fe]=!0;let Pe=he.propertyEffects=he.propertyEffects||{},ce=Pe[fe]=Pe[fe]||[];ce.push(ue)}_stampTemplate(he){se.beginHosting(this);let fe=super._stampTemplate(he);se.endHosting(this);let ue=this._bindTemplate(he,!0);if(ue.nodeList=fe.nodeList,!ue.wasPreBound){let ge=ue.childNodes=[];for(let Pe=fe.firstChild;Pe;Pe=Pe.nextSibling)ge.push(Pe)}return fe.templateInfo=ue,L(this,ue),this.__dataInitialized&&r(this,ue.propertyEffects,this.__data,null,!1,ue.nodeList),fe}_removeBoundDom(he){let fe=he.templateInfo;fe.previousTemplateInfo&&(fe.previousTemplateInfo.nextTemplateInfo=fe.nextTemplateInfo),fe.nextTemplateInfo&&(fe.nextTemplateInfo.previousTemplateInfo=fe.previousTemplateInfo),this.__templateInfoLast==fe&&(this.__templateInfoLast=fe.previousTemplateInfo),fe.previousTemplateInfo=fe.nextTemplateInfo=null;let ue=fe.childNodes;for(let Pe,ge=0;ge<ue.length;ge++)Pe=ue[ge],Pe.parentNode.removeChild(Pe)}static _parseTemplateNode(he,fe,ue){let ge=super._parseTemplateNode(he,fe,ue);if(he.nodeType===Node.TEXT_NODE){let Pe=this._parseBindings(he.textContent,fe);Pe&&(he.textContent=D(Pe)||' ',T(this,fe,ue,'text','textContent',Pe),ge=!0)}return ge}static _parseTemplateNodeAttribute(he,fe,ue,ge,Pe){let ce=this._parseBindings(Pe,fe);if(ce){let me=ge,ye='property';'$'==ge[ge.length-1]&&(ge=ge.slice(0,-1),ye='attribute');let Ee=D(ce);return Ee&&'attribute'==ye&&he.setAttribute(ge,Ee),'input'===he.localName&&'value'===me&&he.setAttribute(me,''),he.removeAttribute(me),'property'===ye&&(ge=Polymer.CaseMap.dashToCamelCase(ge)),T(this,fe,ue,ye,ge,ce,Ee),!0}return super._parseTemplateNodeAttribute(he,fe,ue,ge,Pe)}static _parseTemplateNestedTemplate(he,fe,ue){let ge=super._parseTemplateNestedTemplate(he,fe,ue),Pe=ue.templateInfo.hostProps;for(let me in Pe){T(this,fe,ue,'property','_host_'+me,[{mode:'{',source:me,dependencies:[me]}])}return ge}static _parseBindings(he,fe){let ue=[],ge=0,Pe;for(;null!==(Pe=ie.exec(he));){Pe.index>ge&&ue.push({literal:he.slice(ge,Pe.index)});let ce=Pe[1][0],me=!!Pe[2],ye=Pe[3].trim(),Ee,Ce,Te;'{'==ce&&0<(Te=ye.indexOf('::'))&&(Ce=ye.substring(Te+2),ye=ye.substring(0,Te),Ee=!0);let Oe=w(ye),ve=[];if(Oe){let{args:be,methodName:Ne}=Oe;for(let Ae,xe=0;xe<be.length;xe++)Ae=be[xe],Ae.literal||ve.push(Ae);let Ie=fe.dynamicFns;(Ie&&Ie[Ne]||Oe.static)&&(ve.push(Ne),Oe.dynamicFn=!0)}else ve.push(ye);ue.push({source:ye,mode:ce,negate:me,customEvent:Ee,signature:Oe,dependencies:ve,event:Ce}),ge=ie.lastIndex}if(ge&&ge<he.length){let ce=he.substring(ge);ce&&ue.push({literal:ce})}return ue.length?ue:void 0}static _evaluateBinding(he,fe,ue,ge,Pe,ce){let me;return me=fe.signature?R(he,ue,ge,Pe,fe.signature):ue==fe.source?ce&&Polymer.Path.isPath(ue)?Polymer.Path.get(he,ue):he.__data[ue]:Polymer.Path.get(he,fe.source),fe.negate&&(me=!me),me}}return le});let se={stack:[],registerHost(pe){if(this.stack.length){let _e=this.stack[this.stack.length-1];_e._enqueueClient(pe)}},beginHosting(pe){this.stack.push(pe)},endHosting(pe){let _e=this.stack.length;_e&&this.stack[_e-1]==pe&&this.stack.pop()}}})();</script>
