{"version":3,"sources":["src/storage/implementation/error.ts"],"names":["prependCode","unknown","objectNotFound","bucketNotFound","projectNotFound","quotaExceeded","unauthenticated","unauthorized","retryLimitExceeded","invalidChecksum","canceled","invalidEventName","invalidUrl","invalidDefaultBucket","noDefaultBucket","cannotSliceBlob","serverFileWrongSize","noDownloadURL","invalidArgument","invalidArgumentCount","appDeleted","invalidRootOperation","invalidFormat","internalError","FirebaseStorageError","code","message","code_","message_","serverResponse_","name_","codeProp","serverResponse","errors","Code","UNKNOWN","OBJECT_NOT_FOUND","BUCKET_NOT_FOUND","PROJECT_NOT_FOUND","QUOTA_EXCEEDED","UNAUTHENTICATED","UNAUTHORIZED","RETRY_LIMIT_EXCEEDED","INVALID_CHECKSUM","CANCELED","INVALID_EVENT_NAME","INVALID_URL","INVALID_DEFAULT_BUCKET","NO_DEFAULT_BUCKET","CANNOT_SLICE_BLOB","SERVER_FILE_WRONG_SIZE","NO_DOWNLOAD_URL","INVALID_ARGUMENT","INVALID_ARGUMENT_COUNT","APP_DELETED","INVALID_ROOT_OPERATION","INVALID_FORMAT","INTERNAL_ERROR","path","bucket","project","checksum","calculated","name","url","index","fnName","argMin","argMax","real","countPart","plural","format"],"mappings":"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","file":"error.js","sourcesContent":["/**\n* Copyright 2017 Google Inc.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\nimport {configOption} from './constants';\n\nexport class FirebaseStorageError implements Error {\n  private code_: string;\n  private message_: string;\n  private serverResponse_: string|null;\n  private name_: string;\n\n  constructor(code: Code, message: string) {\n    this.code_ = prependCode(code);\n    this.message_ = 'Firebase Storage: ' + message;\n    this.serverResponse_ = null;\n    this.name_ = 'FirebaseError';\n  }\n\n  codeProp(): string {\n    return this.code;\n  }\n\n  codeEquals(code: Code): boolean {\n    return prependCode(code) === this.codeProp();\n  }\n\n  serverResponseProp(): string|null {\n    return this.serverResponse_;\n  }\n\n  setServerResponseProp(serverResponse: string|null) {\n    this.serverResponse_ = serverResponse;\n  }\n\n  get name(): string {\n    return this.name_;\n  }\n\n  get code(): string {\n    return this.code_;\n  }\n\n  get message(): string {\n    return this.message_;\n  }\n\n  get serverResponse(): null|string {\n    return this.serverResponse_;\n  }\n}\n\nexport const errors = {};\n\n/**\n * @enum {string}\n */\nexport type Code = string;\nexport const Code = {\n  // Shared between all platforms\n  UNKNOWN: 'unknown',\n  OBJECT_NOT_FOUND: 'object-not-found',\n  BUCKET_NOT_FOUND: 'bucket-not-found',\n  PROJECT_NOT_FOUND: 'project-not-found',\n  QUOTA_EXCEEDED: 'quota-exceeded',\n  UNAUTHENTICATED: 'unauthenticated',\n  UNAUTHORIZED: 'unauthorized',\n  RETRY_LIMIT_EXCEEDED: 'retry-limit-exceeded',\n  INVALID_CHECKSUM: 'invalid-checksum',\n  CANCELED: 'canceled',\n  // JS specific\n  INVALID_EVENT_NAME: 'invalid-event-name',\n  INVALID_URL: 'invalid-url',\n  INVALID_DEFAULT_BUCKET: 'invalid-default-bucket',\n  NO_DEFAULT_BUCKET: 'no-default-bucket',\n  CANNOT_SLICE_BLOB: 'cannot-slice-blob',\n  SERVER_FILE_WRONG_SIZE: 'server-file-wrong-size',\n  NO_DOWNLOAD_URL: 'no-download-url',\n  INVALID_ARGUMENT: 'invalid-argument',\n  INVALID_ARGUMENT_COUNT: 'invalid-argument-count',\n  APP_DELETED: 'app-deleted',\n  INVALID_ROOT_OPERATION: 'invalid-root-operation',\n  INVALID_FORMAT: 'invalid-format',\n  INTERNAL_ERROR: 'internal-error'\n};\n\nexport function prependCode(code: Code): string {\n  return 'storage/' + code;\n}\n\nexport function unknown(): FirebaseStorageError {\n  let message =\n      'An unknown error occurred, please check the error payload for ' +\n      'server response.';\n  return new FirebaseStorageError(Code.UNKNOWN, message);\n}\n\nexport function objectNotFound(path: string): FirebaseStorageError {\n  return new FirebaseStorageError(\n      Code.OBJECT_NOT_FOUND, 'Object \\'' + path + '\\' does not exist.');\n}\n\nexport function bucketNotFound(bucket: string): FirebaseStorageError {\n  return new FirebaseStorageError(\n      Code.BUCKET_NOT_FOUND, 'Bucket \\'' + bucket + '\\' does not exist.');\n}\n\nexport function projectNotFound(project: string): FirebaseStorageError {\n  return new FirebaseStorageError(\n      Code.PROJECT_NOT_FOUND, 'Project \\'' + project + '\\' does not exist.');\n}\n\nexport function quotaExceeded(bucket: string): FirebaseStorageError {\n  return new FirebaseStorageError(\n      Code.QUOTA_EXCEEDED,\n      'Quota for bucket \\'' + bucket + '\\' exceeded, please view quota on ' +\n          'https://firebase.google.com/pricing/.');\n}\n\nexport function unauthenticated(): FirebaseStorageError {\n  let message =\n      'User is not authenticated, please authenticate using Firebase ' +\n      'Authentication and try again.';\n  return new FirebaseStorageError(Code.UNAUTHENTICATED, message);\n}\n\nexport function unauthorized(path: string): FirebaseStorageError {\n  return new FirebaseStorageError(\n      Code.UNAUTHORIZED,\n      'User does not have permission to access \\'' + path + '\\'.');\n}\n\nexport function retryLimitExceeded(): FirebaseStorageError {\n  return new FirebaseStorageError(\n      Code.RETRY_LIMIT_EXCEEDED,\n      'Max retry time for operation exceeded, please try again.');\n}\n\nexport function invalidChecksum(\n    path: string, checksum: string, calculated: string): FirebaseStorageError {\n  return new FirebaseStorageError(\n      Code.INVALID_CHECKSUM,\n      'Uploaded/downloaded object \\'' + path + '\\' has checksum \\'' + checksum +\n          '\\' which does not match \\'' + calculated +\n          '\\'. Please retry the upload/download.');\n}\n\nexport function canceled(): FirebaseStorageError {\n  return new FirebaseStorageError(Code.CANCELED, 'User canceled the upload/download.');\n}\n\nexport function invalidEventName(name: string): FirebaseStorageError {\n  return new FirebaseStorageError(\n      Code.INVALID_EVENT_NAME, 'Invalid event name \\'' + name + '\\'.');\n}\n\nexport function invalidUrl(url: string): FirebaseStorageError {\n  return new FirebaseStorageError(Code.INVALID_URL, 'Invalid URL \\'' + url + '\\'.');\n}\n\nexport function invalidDefaultBucket(bucket: string): FirebaseStorageError {\n  return new FirebaseStorageError(\n      Code.INVALID_DEFAULT_BUCKET,\n      'Invalid default bucket \\'' + bucket + '\\'.');\n}\n\nexport function noDefaultBucket(): FirebaseStorageError {\n  return new FirebaseStorageError(\n      Code.NO_DEFAULT_BUCKET,\n      'No default bucket ' +\n          'found. Did you set the \\'' + configOption +\n          '\\' property when initializing the app?');\n}\n\nexport function cannotSliceBlob(): FirebaseStorageError {\n  return new FirebaseStorageError(\n      Code.CANNOT_SLICE_BLOB,\n      'Cannot slice blob for upload. Please retry the upload.');\n}\n\nexport function serverFileWrongSize(): FirebaseStorageError {\n  return new FirebaseStorageError(\n      Code.SERVER_FILE_WRONG_SIZE,\n      'Server recorded incorrect upload file size, please retry the upload.');\n}\n\nexport function noDownloadURL(): FirebaseStorageError {\n  return new FirebaseStorageError(\n      Code.NO_DOWNLOAD_URL, 'The given file does not have any download URLs.');\n}\n\nexport function invalidArgument(\n    index: number, fnName: string, message: string): FirebaseStorageError {\n  return new FirebaseStorageError(\n      Code.INVALID_ARGUMENT,\n      'Invalid argument in `' + fnName + '` at index ' + index + ': ' +\n          message);\n}\n\nexport function invalidArgumentCount(\n    argMin: number, argMax: number, fnName: string, real: number): FirebaseStorageError {\n  let countPart;\n  let plural;\n  if (argMin === argMax) {\n    countPart = argMin;\n    plural = argMin === 1 ? 'argument' : 'arguments';\n  } else {\n    countPart = 'between ' + argMin + ' and ' + argMax;\n    plural = 'arguments';\n  }\n  return new FirebaseStorageError(\n      Code.INVALID_ARGUMENT_COUNT,\n      'Invalid argument count in `' + fnName + '`: Expected ' + countPart +\n          ' ' + plural + ', received ' + real + '.');\n}\n\nexport function appDeleted(): FirebaseStorageError {\n  return new FirebaseStorageError(Code.APP_DELETED, 'The Firebase app was deleted.');\n}\n\n/**\n * @param name The name of the operation that was invalid.\n */\nexport function invalidRootOperation(name: string): FirebaseStorageError {\n  return new FirebaseStorageError(\n      Code.INVALID_ROOT_OPERATION,\n      'The operation \\'' + name +\n          '\\' cannot be performed on a root reference, create a non-root ' +\n          'reference using child, such as .child(\\'file.png\\').');\n}\n\n/**\n * @param format The format that was not valid.\n * @param message A message describing the format violation.\n */\nexport function invalidFormat(format: string, message: string): FirebaseStorageError {\n  return new FirebaseStorageError(\n      Code.INVALID_FORMAT,\n      'String does not match format \\'' + format + '\\': ' + message);\n}\n\n/**\n * @param message A message describing the internal error.\n */\nexport function internalError(message: string): FirebaseStorageError {\n  throw new FirebaseStorageError(Code.INTERNAL_ERROR, 'Internal error: ' + message);\n}\n"]}