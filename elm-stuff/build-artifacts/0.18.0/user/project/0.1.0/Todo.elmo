var _user$project$Todo$toAnyPassPredicate = function (predicateList) {
	return function (_p0) {
		return A2(
			_elm_lang$core$List$any,
			_elm_lang$core$Basics$identity,
			A2(_danielnarey$elm_toolkit$Toolkit_Helpers$applyList, predicateList, _p0));
	};
};
var _user$project$Todo$toAllPassPredicate = function (predicateList) {
	return function (_p1) {
		return A2(
			_elm_lang$core$List$all,
			_elm_lang$core$Basics$identity,
			A2(_danielnarey$elm_toolkit$Toolkit_Helpers$applyList, predicateList, _p1));
	};
};
var _user$project$Todo$getContextId = function (_) {
	return _.contextId;
};
var _user$project$Todo$contextFilter = function (context) {
	return function (_p2) {
		return A2(
			_user$project$Ext_Function$equals,
			_user$project$Document$getId(context),
			_user$project$Todo$getContextId(_p2));
	};
};
var _user$project$Todo$isDone = function (_) {
	return _.done;
};
var _user$project$Todo$isNotDone = function (_p3) {
	return !_user$project$Todo$isDone(_p3);
};
var _user$project$Todo$getText = function (_) {
	return _.text;
};
var _user$project$Todo$encodeReminder = function (maybeReminderTime) {
	return A2(
		_danielnarey$elm_toolkit$Toolkit_Operators_ops['?='],
		A2(
			_danielnarey$elm_toolkit$Toolkit_Operators_ops['?|>'],
			maybeReminderTime,
			function (reminderTime) {
				return _elm_lang$core$Json_Encode$object(
					{
						ctor: '::',
						_0: A2(
							_user$project$Ext_Function_Infix_ops['=>'],
							'at',
							_elm_lang$core$Json_Encode$float(reminderTime)),
						_1: {ctor: '[]'}
					});
			}),
		_elm_lang$core$Json_Encode$null);
};
var _user$project$Todo$encodeOtherFields = function (todo) {
	return {
		ctor: '::',
		_0: A2(
			_user$project$Ext_Function_Infix_ops['=>'],
			'done',
			_elm_lang$core$Json_Encode$bool(
				_user$project$Todo$isDone(todo))),
		_1: {
			ctor: '::',
			_0: A2(
				_user$project$Ext_Function_Infix_ops['=>'],
				'text',
				_elm_lang$core$Json_Encode$string(
					_user$project$Todo$getText(todo))),
			_1: {
				ctor: '::',
				_0: A2(
					_user$project$Ext_Function_Infix_ops['=>'],
					'projectId',
					_elm_lang$core$Json_Encode$string(todo.projectId)),
				_1: {
					ctor: '::',
					_0: A2(
						_user$project$Ext_Function_Infix_ops['=>'],
						'contextId',
						_elm_lang$core$Json_Encode$string(todo.contextId)),
					_1: {
						ctor: '::',
						_0: A2(
							_user$project$Ext_Function_Infix_ops['=>'],
							'schedule',
							_user$project$Todo_Schedule$encode(todo.schedule)),
						_1: {ctor: '[]'}
					}
				}
			}
		}
	};
};
var _user$project$Todo$todoConstructor = function (id) {
	return function (rev) {
		return function (createdAt) {
			return function (modifiedAt) {
				return function (deleted) {
					return function (deviceId) {
						return function (done) {
							return function (text) {
								return function (schedule) {
									return function (projectId) {
										return function (contextId) {
											return {id: id, rev: rev, createdAt: createdAt, modifiedAt: modifiedAt, deviceId: deviceId, deleted: deleted, done: done, text: text, schedule: schedule, projectId: projectId, contextId: contextId};
										};
									};
								};
							};
						};
					};
				};
			};
		};
	};
};
var _user$project$Todo$defaultContextId = '';
var _user$project$Todo$defaultProjectId = '';
var _user$project$Todo$defaultDone = false;
var _user$project$Todo$todoRecordDecoder = function (_p4) {
	return A4(
		_NoRedInk$elm_decode_pipeline$Json_Decode_Pipeline$optional,
		'contextId',
		_elm_lang$core$Json_Decode$string,
		_user$project$Todo$defaultContextId,
		A4(
			_NoRedInk$elm_decode_pipeline$Json_Decode_Pipeline$optional,
			'projectId',
			_elm_lang$core$Json_Decode$string,
			_user$project$Todo$defaultProjectId,
			A2(
				_NoRedInk$elm_decode_pipeline$Json_Decode_Pipeline$custom,
				_user$project$Todo_Schedule$decode,
				A3(
					_NoRedInk$elm_decode_pipeline$Json_Decode_Pipeline$required,
					'text',
					_elm_lang$core$Json_Decode$string,
					A4(_NoRedInk$elm_decode_pipeline$Json_Decode_Pipeline$optional, 'done', _elm_lang$core$Json_Decode$bool, _user$project$Todo$defaultDone, _p4)))));
};
var _user$project$Todo$decoder = _user$project$Todo$todoRecordDecoder(
	_user$project$Document$documentFieldsDecoder(
		_NoRedInk$elm_decode_pipeline$Json_Decode_Pipeline$decode(_user$project$Todo$todoConstructor)));
var _user$project$Todo$defaultDeleted = false;
var _user$project$Todo$init = F4(
	function (createdAt, text, deviceId, id) {
		return _user$project$Todo$todoConstructor(id)(_user$project$Document$defaultRevision)(createdAt)(createdAt)(_user$project$Todo$defaultDeleted)(deviceId)(_user$project$Todo$defaultDone)(text)(_user$project$Todo_Schedule$unscheduled)(_user$project$Todo$defaultProjectId)(_user$project$Todo$defaultContextId);
	});
var _user$project$Todo$defaultDueAt = _elm_lang$core$Maybe$Nothing;
var _user$project$Todo$hasReminderChanged = function (_p5) {
	var _p6 = _p5;
	return A2(_user$project$Todo_Schedule$hasReminderChanged, _p6._0.schedule, _p6._1.schedule);
};
var _user$project$Todo$deleted = A2(
	_user$project$Ext_Record$field,
	function (_) {
		return _.deleted;
	},
	F2(
		function (s, b) {
			return _elm_lang$core$Native_Utils.update(
				b,
				{deleted: s});
		}));
var _user$project$Todo$contextId = A2(
	_user$project$Ext_Record$field,
	function (_) {
		return _.contextId;
	},
	F2(
		function (s, b) {
			return _elm_lang$core$Native_Utils.update(
				b,
				{contextId: s});
		}));
var _user$project$Todo$projectId = A2(
	_user$project$Ext_Record$field,
	function (_) {
		return _.projectId;
	},
	F2(
		function (s, b) {
			return _elm_lang$core$Native_Utils.update(
				b,
				{projectId: s});
		}));
var _user$project$Todo$schedule = A2(
	_user$project$Ext_Record$field,
	function (_) {
		return _.schedule;
	},
	F2(
		function (s, b) {
			return _elm_lang$core$Native_Utils.update(
				b,
				{schedule: s});
		}));
var _user$project$Todo$updateSchedule = F2(
	function (fn, model) {
		return A3(_user$project$Ext_Record$over, _user$project$Todo$schedule, fn, model);
	});
var _user$project$Todo$text = A2(
	_user$project$Ext_Record$field,
	function (_) {
		return _.text;
	},
	F2(
		function (s, b) {
			return _elm_lang$core$Native_Utils.update(
				b,
				{text: s});
		}));
var _user$project$Todo$done = A2(
	_user$project$Ext_Record$field,
	function (_) {
		return _.done;
	},
	F2(
		function (s, b) {
			return _elm_lang$core$Native_Utils.update(
				b,
				{done: s});
		}));
var _user$project$Todo$getModifiedAt = function (_) {
	return _.modifiedAt;
};
var _user$project$Todo$modifiedAtInWords = function (now) {
	return function (_p7) {
		return A3(
			_alpacaaa$elm_date_distance$Date_Distance$inWordsWithConfig,
			_elm_lang$core$Native_Utils.update(
				_alpacaaa$elm_date_distance$Date_Distance$defaultConfig,
				{includeSeconds: true}),
			_elm_lang$core$Date$fromTime(now),
			_elm_lang$core$Date$fromTime(
				_user$project$Todo$getModifiedAt(_p7)));
	};
};
var _user$project$Todo$getCreatedAt = function (_) {
	return _.createdAt;
};
var _user$project$Todo$createdAtInWords = function (now) {
	return function (_p8) {
		return A3(
			_alpacaaa$elm_date_distance$Date_Distance$inWordsWithConfig,
			_elm_lang$core$Native_Utils.update(
				_alpacaaa$elm_date_distance$Date_Distance$defaultConfig,
				{includeSeconds: true}),
			_elm_lang$core$Date$fromTime(now),
			_elm_lang$core$Date$fromTime(
				_user$project$Todo$getCreatedAt(_p8)));
	};
};
var _user$project$Todo$getProjectId = function (_) {
	return _.projectId;
};
var _user$project$Todo$hasProject = function (project) {
	return function (_p9) {
		return A2(
			_user$project$Ext_Function$equals,
			_user$project$Document$getId(project),
			_user$project$Todo$getProjectId(_p9));
	};
};
var _user$project$Todo$hasProjectId = function (projectId) {
	return function (_p10) {
		return A2(
			_user$project$Ext_Function$equals,
			projectId,
			_user$project$Todo$getProjectId(_p10));
	};
};
var _user$project$Todo$getDeleted = function (_) {
	return _.deleted;
};
var _user$project$Todo$isDeleted = _user$project$Todo$getDeleted;
var _user$project$Todo$isInActive = _user$project$Ext_Function$anyPass(
	{
		ctor: '::',
		_0: _user$project$Todo$isDeleted,
		_1: {
			ctor: '::',
			_0: _user$project$Todo$isDone,
			_1: {ctor: '[]'}
		}
	});
var _user$project$Todo$isActive = function (_p11) {
	return !_user$project$Todo$isInActive(_p11);
};
var _user$project$Todo$isNotDeleted = function (_p12) {
	return !_user$project$Todo$getDeleted(_p12);
};
var _user$project$Todo$doneFilter = _user$project$Todo$toAllPassPredicate(
	{
		ctor: '::',
		_0: _user$project$Todo$isNotDeleted,
		_1: {
			ctor: '::',
			_0: _user$project$Todo$isDone,
			_1: {ctor: '[]'}
		}
	});
var _user$project$Todo$projectIdFilter = function (projectId) {
	return _user$project$Todo$toAllPassPredicate(
		{
			ctor: '::',
			_0: _user$project$Todo$hasProjectId(projectId),
			_1: {
				ctor: '::',
				_0: _user$project$Todo$isNotDeleted,
				_1: {
					ctor: '::',
					_0: function (_p13) {
						return !_user$project$Todo$isDone(_p13);
					},
					_1: {ctor: '[]'}
				}
			}
		});
};
var _user$project$Todo$binFilter = _user$project$Todo$toAllPassPredicate(
	{
		ctor: '::',
		_0: _user$project$Todo$getDeleted,
		_1: {ctor: '[]'}
	});
var _user$project$Todo$getMaybeReminderTime = function (_p14) {
	return _user$project$Todo_Schedule$getMaybeReminderTime(
		function (_) {
			return _.schedule;
		}(_p14));
};
var _user$project$Todo$isReminderOverdue = F2(
	function (now, model) {
		var isOverDue = function (_p15) {
			return A3(
				_elm_community$maybe_extra$Maybe_Extra$unwrap,
				false,
				function (time) {
					return _elm_lang$core$Native_Utils.cmp(time, now) < 1;
				},
				_user$project$Todo$getMaybeReminderTime(_p15));
		};
		return _user$project$Todo$isActive(model) ? isOverDue(model) : false;
	});
var _user$project$Todo$getMaybeDueAt = function (_p16) {
	return _user$project$Todo_Schedule$getMaybeDueAt(
		function (_) {
			return _.schedule;
		}(_p16));
};
var _user$project$Todo$getMaybeTime = function (model) {
	return A2(
		_elm_community$maybe_extra$Maybe_Extra$orElse,
		_user$project$Todo$getMaybeDueAt(model),
		_user$project$Todo$getMaybeReminderTime(model));
};
var _user$project$Todo$isSnoozed = function (todo) {
	return A2(
		_danielnarey$elm_toolkit$Toolkit_Operators_ops['?='],
		A2(
			_danielnarey$elm_toolkit$Toolkit_Operators_ops['?|>'],
			_danielnarey$elm_toolkit$Toolkit_Helpers$maybe2Tuple(
				{
					ctor: '_Tuple2',
					_0: _user$project$Todo$getMaybeReminderTime(todo),
					_1: _user$project$Todo$getMaybeDueAt(todo)
				}),
			_elm_lang$core$Basics$uncurry(_user$project$Ext_Function$notEquals)),
		false);
};
var _user$project$Todo$Record = F5(
	function (a, b, c, d, e) {
		return {done: a, text: b, schedule: c, projectId: d, contextId: e};
	});
var _user$project$Todo$AutoSnooze = function (a) {
	return {ctor: 'AutoSnooze', _0: a};
};
var _user$project$Todo$SnoozeTill = function (a) {
	return {ctor: 'SnoozeTill', _0: a};
};
var _user$project$Todo$SetSchedule = function (a) {
	return {ctor: 'SetSchedule', _0: a};
};
var _user$project$Todo$TurnReminderOff = {ctor: 'TurnReminderOff'};
var _user$project$Todo$ToggleDeleted = {ctor: 'ToggleDeleted'};
var _user$project$Todo$ToggleDone = {ctor: 'ToggleDone'};
var _user$project$Todo$SetProject = function (a) {
	return {ctor: 'SetProject', _0: a};
};
var _user$project$Todo$CopyProjectAndContextId = function (a) {
	return {ctor: 'CopyProjectAndContextId', _0: a};
};
var _user$project$Todo$SetProjectId = function (a) {
	return {ctor: 'SetProjectId', _0: a};
};
var _user$project$Todo$SetContext = function (a) {
	return {ctor: 'SetContext', _0: a};
};
var _user$project$Todo$SetScheduleFromMaybeTime = function (a) {
	return {ctor: 'SetScheduleFromMaybeTime', _0: a};
};
var _user$project$Todo$SetContextId = function (a) {
	return {ctor: 'SetContextId', _0: a};
};
var _user$project$Todo$update = function (action) {
	var _p17 = action;
	switch (_p17.ctor) {
		case 'SetText':
			return A2(_user$project$Ext_Record$set, _user$project$Todo$text, _p17._0);
		case 'SetContextId':
			return A2(_user$project$Ext_Record$set, _user$project$Todo$contextId, _p17._0);
		case 'SetProjectId':
			return A2(_user$project$Ext_Record$set, _user$project$Todo$projectId, _p17._0);
		case 'SetSchedule':
			return A2(_user$project$Ext_Record$set, _user$project$Todo$schedule, _p17._0);
		case 'CopyProjectAndContextId':
			var _p19 = _p17._0;
			return function (_p18) {
				return A2(
					_user$project$Todo$update,
					_user$project$Todo$SetProjectId(_p19.projectId),
					A2(
						_user$project$Todo$update,
						_user$project$Todo$SetContextId(_p19.contextId),
						_p18));
			};
		case 'SetProject':
			return A2(
				_user$project$Ext_Record$set,
				_user$project$Todo$projectId,
				_user$project$Document$getId(_p17._0));
		case 'SetContext':
			return A2(
				_user$project$Ext_Record$set,
				_user$project$Todo$contextId,
				_user$project$Document$getId(_p17._0));
		case 'ToggleDone':
			return A2(_user$project$Ext_Record$over, _user$project$Todo$done, _elm_lang$core$Basics$not);
		case 'MarkDone':
			return A2(_user$project$Ext_Record$set, _user$project$Todo$done, true);
		case 'ToggleDeleted':
			return A2(_user$project$Ext_Record$over, _user$project$Todo$deleted, _elm_lang$core$Basics$not);
		case 'SetScheduleFromMaybeTime':
			return A2(
				_user$project$Ext_Record$set,
				_user$project$Todo$schedule,
				_user$project$Todo_Schedule$fromMaybeTime(_p17._0));
		case 'TurnReminderOff':
			return _user$project$Todo$updateSchedule(_user$project$Todo_Schedule$turnReminderOff);
		case 'SnoozeTill':
			return _user$project$Todo$updateSchedule(
				_user$project$Todo_Schedule$snoozeTill(_p17._0));
		default:
			return _user$project$Todo$updateSchedule(
				_user$project$Todo_Schedule$autoSnooze(_p17._0));
	}
};
var _user$project$Todo$SetText = function (a) {
	return {ctor: 'SetText', _0: a};
};
var _user$project$Todo$MarkDone = {ctor: 'MarkDone'};
