var serviceWorkerOption = {"assets":["/eed9aab5449cc9c8430d7d258108f602.woff","/c0f1e4a4fdfb8048c72e86aadb2a247d.woff2","/ea36cd9a0e9eee97012a67b8a4570d7b.woff","/3c37aa69cd77e6a53a067170fa8fe2e9.woff2","/cf4d60bc0b1d4b2314085919a00e1724.woff","/1561b424aaef2f704bbd89155b3ce514.woff2","/3cf6adf61054c328b1b0ddcd8f9ce24d.woff","/5136cbe62a63604402f2fedb97f246f8.woff2","/44b78f142603eb69f593ed4002ed7a4a.woff","/1f35e6a11d27d2e10d28946d42332dc5.woff2","/main.js","/common.js"]};
        
        const isDevEnv = false;
    
    
        !function(t){function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var e={};n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=0)}([function(t,n,e){"use strict";function o(t,n){console.log("posting notification-clicked from event",n),t.postMessage({type:"notification-clicked",action:n.action,data:n.notification.data})}function i(){return self.navigator.userAgent.match(/.*Mobi.*/i)}function r(t){try{var n=t.data.json().data;console.log("[Service Worker] Push had this json: ",n);var e=n.todoId;n.id=e;return new PouchDB("todo-db").get(e).then(function(t){console.log("pdb found todo",t);var e={requiresInteraction:!0,sticky:!0,renotify:!0,tag:n.id,vibrate:[500,110,500,110,450,110,200,110,170,40,450,110,200,110,170,40,500],sound:"/alarm.ogg",icon:"/logo.png",actions:[{title:"Mark Done",action:"mark-done"},{title:"Snooze",action:"snooze"}],body:t.text,data:n,timestamp:n.timestamp};return self.registration.showNotification("",e)})}catch(t){console.warn(t);var o={body:"Yay it works.",sound:"/alarm.ogg",timestamp:0};return self.registration.showNotification("Push Codelab",o)}}self.addEventListener("install",function(t){isDevEnv&&t.waitUntil(self.skipWaiting())}),self.addEventListener("notificationclick",function(t){t.waitUntil(clients.matchAll({type:"window"}).then(function(n){for(var e=0;e<n.length;e++){var i=n[e];if(o(i,t),i.focus)return i.focus()}if(clients.openWindow)return clients.openWindow("/").then(function(n){setTimeout(function(){o(n,t)},2e3)})}))},!1),importScripts("https://www.gstatic.com/firebasejs/3.9.0/firebase-app.js","https://www.gstatic.com/firebasejs/3.9.0/firebase-messaging.js","bower_components/pouchdb/dist/pouchdb.js"),firebase.initializeApp({messagingSenderId:"476064436883"}),self.addEventListener("push",function(t){console.log("[Service Worker] Push Received."),console.log('[Service Worker] Push had this data: "'+t.data.text()+'"'),t.waitUntil(clients.matchAll({type:"window"}).then(function(n){if(0===n.length||i())return r(t);console.warn("not displaying notification since we detected an controlled browser window and non-mobile browser")}))})}]);